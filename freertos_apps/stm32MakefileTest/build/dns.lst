ARM GAS  /tmp/ccJEVG7R.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"dns.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.bss.dns_pcbs,"aw",%nobits
  18              		.align	2
  21              	dns_pcbs:
  22 0000 00000000 		.space	16
  22      00000000 
  22      00000000 
  22      00000000 
  23              		.section	.bss.dns_last_pcb_idx,"aw",%nobits
  26              	dns_last_pcb_idx:
  27 0000 00       		.space	1
  28              		.section	.bss.dns_seqno,"aw",%nobits
  31              	dns_seqno:
  32 0000 00       		.space	1
  33              		.section	.bss.dns_table,"aw",%nobits
  34              		.align	2
  37              	dns_table:
  38 0000 00000000 		.space	1088
  38      00000000 
  38      00000000 
  38      00000000 
  38      00000000 
  39              		.section	.bss.dns_requests,"aw",%nobits
  40              		.align	2
  43              	dns_requests:
  44 0000 00000000 		.space	48
  44      00000000 
  44      00000000 
  44      00000000 
  44      00000000 
  45              		.section	.bss.dns_servers,"aw",%nobits
  46              		.align	2
  49              	dns_servers:
  50 0000 00000000 		.space	8
  50      00000000 
  51              		.global	dns_mquery_v4group
  52              		.section	.rodata.dns_mquery_v4group,"a"
  53              		.align	2
  56              	dns_mquery_v4group:
  57 0000 E00000FB 		.word	-83885856
  58              		.section	.text.dns_init,"ax",%progbits
  59              		.align	1
ARM GAS  /tmp/ccJEVG7R.s 			page 2


  60              		.global	dns_init
  61              		.arch armv7e-m
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  65              		.fpu fpv4-sp-d16
  67              	dns_init:
  68              	.LFB133:
  69              		.file 1 "Middlewares/Third_Party/LwIP/src/core/dns.c"
   1:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * DNS - host name to IP address resolver.
   4:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @defgroup dns DNS
   6:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup callbackstyle_api
   7:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
   8:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Implements a DNS host name to IP address resolver.
   9:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * The lwIP DNS resolver functions are used to lookup a host name and
  11:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * map it to a numerical IP address. It maintains a list of resolved
  12:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * hostnames that can be queried with the dns_lookup() function.
  13:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * New hostnames can be resolved using the dns_query() function.
  14:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * The lwIP version of the resolver also adds a non-blocking version of
  16:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * gethostbyname() that will work with a raw API application. This function
  17:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * checks for an IP address string first and converts it if it is valid.
  18:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * gethostbyname() then does a dns_lookup() to see if the name is
  19:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * already in the table. If so, the IP is returned. If not, a query is
  20:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * issued and the function returns with a ERR_INPROGRESS status. The app
  21:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * using the dns client must then go into a waiting state.
  22:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  23:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Once a hostname has been resolved (or found to be non-existent),
  24:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * the resolver code calls a specified callback function (which
  25:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * must be implemented by the module that uses the resolver).
  26:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  27:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Multicast DNS queries are supported for names ending on ".local".
  28:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * However, only "One-Shot Multicast DNS Queries" are supported (RFC 6762
  29:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * chapter 5.1), this is not a fully compliant implementation of continuous
  30:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * mDNS querying!
  31:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  32:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * All functions must be called from TCPIP thread.
  33:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  34:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @see DNS_MAX_SERVERS
  35:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @see LWIP_DHCP_MAX_DNS_SERVERS
  36:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @see @ref netconn_common for thread-safe access.
  37:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
  38:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  39:Middlewares/Third_Party/LwIP/src/core/dns.c **** /*
  40:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Port to lwIP from uIP
  41:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * by Jim Pettinato April 2007
  42:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  43:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * security fixes and more by Simon Goldschmidt
  44:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  45:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * uIP version Copyright (c) 2002-2003, Adam Dunkels.
  46:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * All rights reserved.
  47:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  48:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Redistribution and use in source and binary forms, with or without
ARM GAS  /tmp/ccJEVG7R.s 			page 3


  49:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * modification, are permitted provided that the following conditions
  50:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * are met:
  51:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * 1. Redistributions of source code must retain the above copyright
  52:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *    notice, this list of conditions and the following disclaimer.
  53:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * 2. Redistributions in binary form must reproduce the above copyright
  54:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *    notice, this list of conditions and the following disclaimer in the
  55:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *    documentation and/or other materials provided with the distribution.
  56:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * 3. The name of the author may not be used to endorse or promote
  57:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *    products derived from this software without specific prior
  58:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *    written permission.
  59:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
  60:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS
  61:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  62:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  63:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
  64:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  65:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
  66:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  67:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  68:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  69:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  70:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  71:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
  72:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  73:Middlewares/Third_Party/LwIP/src/core/dns.c **** /*-----------------------------------------------------------------------------
  74:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * RFC 1035 - Domain names - implementation and specification
  75:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * RFC 2181 - Clarifications to the DNS Specification
  76:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *----------------------------------------------------------------------------*/
  77:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  78:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** @todo: define good default values (rfc compliance) */
  79:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** @todo: improve answer parsing, more checkings... */
  80:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** @todo: check RFC1035 - 7.3. Processing responses */
  81:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** @todo: one-shot mDNS: dual-stack fallback to another IP version */
  82:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  83:Middlewares/Third_Party/LwIP/src/core/dns.c **** /*-----------------------------------------------------------------------------
  84:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Includes
  85:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *----------------------------------------------------------------------------*/
  86:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  87:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include "lwip/opt.h"
  88:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  89:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS /* don't build if not configured for use in lwipopts.h */
  90:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  91:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include "lwip/def.h"
  92:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include "lwip/udp.h"
  93:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include "lwip/mem.h"
  94:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include "lwip/memp.h"
  95:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include "lwip/dns.h"
  96:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include "lwip/prot/dns.h"
  97:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
  98:Middlewares/Third_Party/LwIP/src/core/dns.c **** #include <string.h>
  99:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 100:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** Random generator function to create random TXIDs and source ports for queries */
 101:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifndef DNS_RAND_TXID
 102:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_XID) != 0)
 103:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_RAND_TXID LWIP_RAND
 104:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 105:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u16_t dns_txid;
ARM GAS  /tmp/ccJEVG7R.s 			page 4


 106:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_RAND_TXID() (++dns_txid)
 107:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 108:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 109:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 110:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** Limits the source port to be >= 1024 by default */
 111:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifndef DNS_PORT_ALLOWED
 112:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_PORT_ALLOWED(port) ((port) >= 1024)
 113:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 114:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 115:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** DNS resource record max. TTL (one week as default) */
 116:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifndef DNS_MAX_TTL
 117:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_MAX_TTL               604800
 118:Middlewares/Third_Party/LwIP/src/core/dns.c **** #elif DNS_MAX_TTL > 0x7FFFFFFF
 119:Middlewares/Third_Party/LwIP/src/core/dns.c **** #error DNS_MAX_TTL must be a positive 32-bit value
 120:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 121:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 122:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_TABLE_SIZE > 255
 123:Middlewares/Third_Party/LwIP/src/core/dns.c **** #error DNS_TABLE_SIZE must fit into an u8_t
 124:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 125:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_MAX_SERVERS > 255
 126:Middlewares/Third_Party/LwIP/src/core/dns.c **** #error DNS_MAX_SERVERS must fit into an u8_t
 127:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 128:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 129:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* The number of parallel requests (i.e. calls to dns_gethostbyname
 130:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * that cannot be answered from the DNS table.
 131:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * This is set to the table size by default.
 132:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 133:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_NO_MULTIPLE_OUTSTANDING) != 0)
 134:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifndef DNS_MAX_REQUESTS
 135:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_MAX_REQUESTS          DNS_TABLE_SIZE
 136:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 137:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_MAX_REQUESTS > 255
 138:Middlewares/Third_Party/LwIP/src/core/dns.c **** #error DNS_MAX_REQUESTS must fit into an u8_t
 139:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 140:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 141:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 142:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* In this configuration, both arrays have to have the same size and are used
 143:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * like one entry (used/free) */
 144:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_MAX_REQUESTS          DNS_TABLE_SIZE
 145:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 146:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 147:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* The number of UDP source ports used in parallel */
 148:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0)
 149:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifndef DNS_MAX_SOURCE_PORTS
 150:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_MAX_SOURCE_PORTS      DNS_MAX_REQUESTS
 151:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 152:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_MAX_SOURCE_PORTS > 255
 153:Middlewares/Third_Party/LwIP/src/core/dns.c **** #error DNS_MAX_SOURCE_PORTS must fit into an u8_t
 154:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 155:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 156:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 157:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifdef DNS_MAX_SOURCE_PORTS
 158:Middlewares/Third_Party/LwIP/src/core/dns.c **** #undef DNS_MAX_SOURCE_PORTS
 159:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 160:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_MAX_SOURCE_PORTS      1
 161:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 162:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
ARM GAS  /tmp/ccJEVG7R.s 			page 5


 163:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
 164:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_IS_IPV6(t) (((t) == LWIP_DNS_ADDRTYPE_IPV6_IPV4) || ((t) == LWIP_DNS_ADDR
 165:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_MATCH_IP(t, ip) (IP_IS_V6_VAL(ip) ? LWIP_DNS_ADDRTYPE_IS_IPV6(t) : (!LWIP
 166:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_ARG(x) , x
 167:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_ARG_OR_ZERO(x) x
 168:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_SET_ADDRTYPE(x, y) do { x = y; } while(0)
 169:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 170:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV6
 171:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_IS_IPV6(t) 1
 172:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 173:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_IS_IPV6(t) 0
 174:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 175:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_MATCH_IP(t, ip) 1
 176:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_ARG(x)
 177:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ADDRTYPE_ARG_OR_ZERO(x) 0
 178:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_SET_ADDRTYPE(x, y)
 179:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 180:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 181:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
 182:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ISMDNS_ARG(x) , x
 183:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 184:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define LWIP_DNS_ISMDNS_ARG(x)
 185:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 186:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 187:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** DNS query message structure.
 188:Middlewares/Third_Party/LwIP/src/core/dns.c ****     No packing needed: only used locally on the stack. */
 189:Middlewares/Third_Party/LwIP/src/core/dns.c **** struct dns_query {
 190:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* DNS query record starts with either a domain name or a pointer
 191:Middlewares/Third_Party/LwIP/src/core/dns.c ****      to a name already present somewhere in the packet. */
 192:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t type;
 193:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t cls;
 194:Middlewares/Third_Party/LwIP/src/core/dns.c **** };
 195:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define SIZEOF_DNS_QUERY 4
 196:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 197:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** DNS answer message structure.
 198:Middlewares/Third_Party/LwIP/src/core/dns.c ****     No packing needed: only used locally on the stack. */
 199:Middlewares/Third_Party/LwIP/src/core/dns.c **** struct dns_answer {
 200:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* DNS answer record starts with either a domain name or a pointer
 201:Middlewares/Third_Party/LwIP/src/core/dns.c ****      to a name already present somewhere in the packet. */
 202:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t type;
 203:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t cls;
 204:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u32_t ttl;
 205:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t len;
 206:Middlewares/Third_Party/LwIP/src/core/dns.c **** };
 207:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define SIZEOF_DNS_ANSWER 10
 208:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* maximum allowed size for the struct due to non-packed */
 209:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define SIZEOF_DNS_ANSWER_ASSERT 12
 210:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 211:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* DNS table entry states */
 212:Middlewares/Third_Party/LwIP/src/core/dns.c **** typedef enum {
 213:Middlewares/Third_Party/LwIP/src/core/dns.c ****   DNS_STATE_UNUSED           = 0,
 214:Middlewares/Third_Party/LwIP/src/core/dns.c ****   DNS_STATE_NEW              = 1,
 215:Middlewares/Third_Party/LwIP/src/core/dns.c ****   DNS_STATE_ASKING           = 2,
 216:Middlewares/Third_Party/LwIP/src/core/dns.c ****   DNS_STATE_DONE             = 3
 217:Middlewares/Third_Party/LwIP/src/core/dns.c **** } dns_state_enum_t;
 218:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 219:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** DNS table entry */
ARM GAS  /tmp/ccJEVG7R.s 			page 6


 220:Middlewares/Third_Party/LwIP/src/core/dns.c **** struct dns_table_entry {
 221:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u32_t ttl;
 222:Middlewares/Third_Party/LwIP/src/core/dns.c ****   ip_addr_t ipaddr;
 223:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t txid;
 224:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t  state;
 225:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t  server_idx;
 226:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t  tmr;
 227:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t  retries;
 228:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t  seqno;
 229:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0)
 230:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t pcb_idx;
 231:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 232:Middlewares/Third_Party/LwIP/src/core/dns.c ****   char name[DNS_MAX_NAME_LENGTH];
 233:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
 234:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t reqaddrtype;
 235:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 236:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
 237:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t is_mdns;
 238:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 239:Middlewares/Third_Party/LwIP/src/core/dns.c **** };
 240:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 241:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** DNS request table entry: used when dns_gehostbyname cannot answer the
 242:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * request from the DNS table */
 243:Middlewares/Third_Party/LwIP/src/core/dns.c **** struct dns_req_entry {
 244:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* pointer to callback on DNS query done */
 245:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_found_callback found;
 246:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* argument passed to the callback function */
 247:Middlewares/Third_Party/LwIP/src/core/dns.c ****   void *arg;
 248:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_NO_MULTIPLE_OUTSTANDING) != 0)
 249:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t dns_table_idx;
 250:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 251:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
 252:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t reqaddrtype;
 253:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 254:Middlewares/Third_Party/LwIP/src/core/dns.c **** };
 255:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 256:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST
 257:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 258:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST_IS_DYNAMIC
 259:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** Local host-list. For hostnames in this list, no
 260:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *  external name resolution is performed */
 261:Middlewares/Third_Party/LwIP/src/core/dns.c **** static struct local_hostlist_entry *local_hostlist_dynamic;
 262:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC */
 263:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 264:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** Defining this allows the local_hostlist_static to be placed in a different
 265:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * linker section (e.g. FLASH) */
 266:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifndef DNS_LOCAL_HOSTLIST_STORAGE_PRE
 267:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_LOCAL_HOSTLIST_STORAGE_PRE static
 268:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST_STORAGE_PRE */
 269:Middlewares/Third_Party/LwIP/src/core/dns.c **** /** Defining this allows the local_hostlist_static to be placed in a different
 270:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * linker section (e.g. FLASH) */
 271:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifndef DNS_LOCAL_HOSTLIST_STORAGE_POST
 272:Middlewares/Third_Party/LwIP/src/core/dns.c **** #define DNS_LOCAL_HOSTLIST_STORAGE_POST
 273:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST_STORAGE_POST */
 274:Middlewares/Third_Party/LwIP/src/core/dns.c **** DNS_LOCAL_HOSTLIST_STORAGE_PRE struct local_hostlist_entry local_hostlist_static[]
 275:Middlewares/Third_Party/LwIP/src/core/dns.c ****   DNS_LOCAL_HOSTLIST_STORAGE_POST = DNS_LOCAL_HOSTLIST_INIT;
 276:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
ARM GAS  /tmp/ccJEVG7R.s 			page 7


 277:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC */
 278:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 279:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void dns_init_local(void);
 280:Middlewares/Third_Party/LwIP/src/core/dns.c **** static err_t dns_lookup_local(const char *hostname, ip_addr_t *addr LWIP_DNS_ADDRTYPE_ARG(u8_t dns_
 281:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST */
 282:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 283:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 284:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* forward declarations */
 285:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void dns_recv(void *s, struct udp_pcb *pcb, struct pbuf *p, const ip_addr_t *addr, u16_t por
 286:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void dns_check_entries(void);
 287:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void dns_call_found(u8_t idx, ip_addr_t *addr);
 288:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 289:Middlewares/Third_Party/LwIP/src/core/dns.c **** /*-----------------------------------------------------------------------------
 290:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Globals
 291:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *----------------------------------------------------------------------------*/
 292:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 293:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* DNS variables */
 294:Middlewares/Third_Party/LwIP/src/core/dns.c **** static struct udp_pcb        *dns_pcbs[DNS_MAX_SOURCE_PORTS];
 295:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0)
 296:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u8_t                   dns_last_pcb_idx;
 297:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 298:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u8_t                   dns_seqno;
 299:Middlewares/Third_Party/LwIP/src/core/dns.c **** static struct dns_table_entry dns_table[DNS_TABLE_SIZE];
 300:Middlewares/Third_Party/LwIP/src/core/dns.c **** static struct dns_req_entry   dns_requests[DNS_MAX_REQUESTS];
 301:Middlewares/Third_Party/LwIP/src/core/dns.c **** static ip_addr_t              dns_servers[DNS_MAX_SERVERS];
 302:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 303:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4
 304:Middlewares/Third_Party/LwIP/src/core/dns.c **** const ip_addr_t dns_mquery_v4group = DNS_MQUERY_IPV4_GROUP_INIT;
 305:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 */
 306:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV6
 307:Middlewares/Third_Party/LwIP/src/core/dns.c **** const ip_addr_t dns_mquery_v6group = DNS_MQUERY_IPV6_GROUP_INIT;
 308:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV6 */
 309:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 310:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 311:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Initialize the resolver: set up the UDP pcb and configure the default server
 312:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * (if DNS_SERVER_ADDRESS is set).
 313:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 314:Middlewares/Third_Party/LwIP/src/core/dns.c **** void
 315:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_init(void)
 316:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
  70              		.loc 1 316 1
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 0
  73              		@ frame_needed = 1, uses_anonymous_args = 0
  74              		@ link register save eliminated.
  75 0000 80B4     		push	{r7}
  76              	.LCFI0:
  77              		.cfi_def_cfa_offset 4
  78              		.cfi_offset 7, -4
  79 0002 00AF     		add	r7, sp, #0
  80              	.LCFI1:
  81              		.cfi_def_cfa_register 7
 317:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifdef DNS_SERVER_ADDRESS
 318:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* initialize default DNS server address */
 319:Middlewares/Third_Party/LwIP/src/core/dns.c ****   ip_addr_t dnsserver;
 320:Middlewares/Third_Party/LwIP/src/core/dns.c ****   DNS_SERVER_ADDRESS(&dnsserver);
 321:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_setserver(0, &dnsserver);
ARM GAS  /tmp/ccJEVG7R.s 			page 8


 322:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_SERVER_ADDRESS */
 323:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 324:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_ASSERT("sanity check SIZEOF_DNS_QUERY",
 325:Middlewares/Third_Party/LwIP/src/core/dns.c ****               sizeof(struct dns_query) == SIZEOF_DNS_QUERY);
 326:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_ASSERT("sanity check SIZEOF_DNS_ANSWER",
 327:Middlewares/Third_Party/LwIP/src/core/dns.c ****               sizeof(struct dns_answer) <= SIZEOF_DNS_ANSWER_ASSERT);
 328:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 329:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DEBUGF(DNS_DEBUG, ("dns_init: initializing\n"));
 330:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 331:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* if dns client not yet initialized... */
 332:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) == 0)
 333:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (dns_pcbs[0] == NULL) {
 334:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_pcbs[0] = udp_new_ip_type(IPADDR_TYPE_ANY);
 335:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_ASSERT("dns_pcbs[0] != NULL", dns_pcbs[0] != NULL);
 336:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 337:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* initialize DNS table not needed (initialized to zero since it is a
 338:Middlewares/Third_Party/LwIP/src/core/dns.c ****      * global variable) */
 339:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_ASSERT("For implicit initialization to work, DNS_STATE_UNUSED needs to be 0",
 340:Middlewares/Third_Party/LwIP/src/core/dns.c ****                 DNS_STATE_UNUSED == 0);
 341:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 342:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* initialize DNS client */
 343:Middlewares/Third_Party/LwIP/src/core/dns.c ****     udp_bind(dns_pcbs[0], IP_ANY_TYPE, 0);
 344:Middlewares/Third_Party/LwIP/src/core/dns.c ****     udp_recv(dns_pcbs[0], dns_recv, NULL);
 345:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 346:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 347:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 348:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST
 349:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_init_local();
 350:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 351:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
  82              		.loc 1 351 1
  83 0004 00BF     		nop
  84 0006 BD46     		mov	sp, r7
  85              	.LCFI2:
  86              		.cfi_def_cfa_register 13
  87              		@ sp needed
  88 0008 5DF8047B 		ldr	r7, [sp], #4
  89              	.LCFI3:
  90              		.cfi_restore 7
  91              		.cfi_def_cfa_offset 0
  92 000c 7047     		bx	lr
  93              		.cfi_endproc
  94              	.LFE133:
  96              		.section	.text.dns_setserver,"ax",%progbits
  97              		.align	1
  98              		.global	dns_setserver
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 102              		.fpu fpv4-sp-d16
 104              	dns_setserver:
 105              	.LFB134:
 352:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 353:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 354:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
 355:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Initialize one of the DNS servers.
 356:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
ARM GAS  /tmp/ccJEVG7R.s 			page 9


 357:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param numdns the index of the DNS server to set must be < DNS_MAX_SERVERS
 358:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param dnsserver IP address of the DNS server to set
 359:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 360:Middlewares/Third_Party/LwIP/src/core/dns.c **** void
 361:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_setserver(u8_t numdns, const ip_addr_t *dnsserver)
 362:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 106              		.loc 1 362 1
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 8
 109              		@ frame_needed = 1, uses_anonymous_args = 0
 110              		@ link register save eliminated.
 111 0000 80B4     		push	{r7}
 112              	.LCFI4:
 113              		.cfi_def_cfa_offset 4
 114              		.cfi_offset 7, -4
 115 0002 83B0     		sub	sp, sp, #12
 116              	.LCFI5:
 117              		.cfi_def_cfa_offset 16
 118 0004 00AF     		add	r7, sp, #0
 119              	.LCFI6:
 120              		.cfi_def_cfa_register 7
 121 0006 0346     		mov	r3, r0
 122 0008 3960     		str	r1, [r7]
 123 000a FB71     		strb	r3, [r7, #7]
 363:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (numdns < DNS_MAX_SERVERS) {
 124              		.loc 1 363 6
 125 000c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 126 000e 012B     		cmp	r3, #1
 127 0010 0FD8     		bhi	.L5
 364:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dnsserver != NULL) {
 128              		.loc 1 364 8
 129 0012 3B68     		ldr	r3, [r7]
 130 0014 002B     		cmp	r3, #0
 131 0016 06D0     		beq	.L4
 365:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dns_servers[numdns] = (*dnsserver);
 132              		.loc 1 365 18
 133 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 134              		.loc 1 365 27
 135 001a 0949     		ldr	r1, .L6
 136 001c 3A68     		ldr	r2, [r7]
 137 001e 1268     		ldr	r2, [r2]
 138 0020 41F82320 		str	r2, [r1, r3, lsl #2]
 366:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 367:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dns_servers[numdns] = *IP_ADDR_ANY;
 368:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 369:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 370:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 139              		.loc 1 370 1
 140 0024 05E0     		b	.L5
 141              	.L4:
 367:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 142              		.loc 1 367 18
 143 0026 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 367:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 144              		.loc 1 367 27
 145 0028 0549     		ldr	r1, .L6
 146 002a 064A     		ldr	r2, .L6+4
ARM GAS  /tmp/ccJEVG7R.s 			page 10


 147 002c 1268     		ldr	r2, [r2]
 148 002e 41F82320 		str	r2, [r1, r3, lsl #2]
 149              	.L5:
 150              		.loc 1 370 1
 151 0032 00BF     		nop
 152 0034 0C37     		adds	r7, r7, #12
 153              	.LCFI7:
 154              		.cfi_def_cfa_offset 4
 155 0036 BD46     		mov	sp, r7
 156              	.LCFI8:
 157              		.cfi_def_cfa_register 13
 158              		@ sp needed
 159 0038 5DF8047B 		ldr	r7, [sp], #4
 160              	.LCFI9:
 161              		.cfi_restore 7
 162              		.cfi_def_cfa_offset 0
 163 003c 7047     		bx	lr
 164              	.L7:
 165 003e 00BF     		.align	2
 166              	.L6:
 167 0040 00000000 		.word	dns_servers
 168 0044 00000000 		.word	ip_addr_any
 169              		.cfi_endproc
 170              	.LFE134:
 172              		.section	.text.dns_getserver,"ax",%progbits
 173              		.align	1
 174              		.global	dns_getserver
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv4-sp-d16
 180              	dns_getserver:
 181              	.LFB135:
 371:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 372:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 373:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
 374:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Obtain one of the currently configured DNS server.
 375:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 376:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param numdns the index of the DNS server
 377:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return IP address of the indexed DNS server or "ip_addr_any" if the DNS
 378:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *         server has not been configured.
 379:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 380:Middlewares/Third_Party/LwIP/src/core/dns.c **** const ip_addr_t *
 381:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_getserver(u8_t numdns)
 382:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 182              		.loc 1 382 1
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 8
 185              		@ frame_needed = 1, uses_anonymous_args = 0
 186              		@ link register save eliminated.
 187 0000 80B4     		push	{r7}
 188              	.LCFI10:
 189              		.cfi_def_cfa_offset 4
 190              		.cfi_offset 7, -4
 191 0002 83B0     		sub	sp, sp, #12
 192              	.LCFI11:
 193              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccJEVG7R.s 			page 11


 194 0004 00AF     		add	r7, sp, #0
 195              	.LCFI12:
 196              		.cfi_def_cfa_register 7
 197 0006 0346     		mov	r3, r0
 198 0008 FB71     		strb	r3, [r7, #7]
 383:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (numdns < DNS_MAX_SERVERS) {
 199              		.loc 1 383 6
 200 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 201 000c 012B     		cmp	r3, #1
 202 000e 04D8     		bhi	.L9
 384:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return &dns_servers[numdns];
 203              		.loc 1 384 24
 204 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 205              		.loc 1 384 12
 206 0012 9B00     		lsls	r3, r3, #2
 207 0014 044A     		ldr	r2, .L11
 208 0016 1344     		add	r3, r3, r2
 209 0018 00E0     		b	.L10
 210              	.L9:
 385:Middlewares/Third_Party/LwIP/src/core/dns.c ****   } else {
 386:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return IP_ADDR_ANY;
 211              		.loc 1 386 12
 212 001a 044B     		ldr	r3, .L11+4
 213              	.L10:
 387:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 388:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 214              		.loc 1 388 1
 215 001c 1846     		mov	r0, r3
 216 001e 0C37     		adds	r7, r7, #12
 217              	.LCFI13:
 218              		.cfi_def_cfa_offset 4
 219 0020 BD46     		mov	sp, r7
 220              	.LCFI14:
 221              		.cfi_def_cfa_register 13
 222              		@ sp needed
 223 0022 5DF8047B 		ldr	r7, [sp], #4
 224              	.LCFI15:
 225              		.cfi_restore 7
 226              		.cfi_def_cfa_offset 0
 227 0026 7047     		bx	lr
 228              	.L12:
 229              		.align	2
 230              	.L11:
 231 0028 00000000 		.word	dns_servers
 232 002c 00000000 		.word	ip_addr_any
 233              		.cfi_endproc
 234              	.LFE135:
 236              		.section	.text.dns_tmr,"ax",%progbits
 237              		.align	1
 238              		.global	dns_tmr
 239              		.syntax unified
 240              		.thumb
 241              		.thumb_func
 242              		.fpu fpv4-sp-d16
 244              	dns_tmr:
 245              	.LFB136:
 389:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
ARM GAS  /tmp/ccJEVG7R.s 			page 12


 390:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 391:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * The DNS resolver client timer - handle retries and timeouts and should
 392:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * be called every DNS_TMR_INTERVAL milliseconds (every second by default).
 393:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 394:Middlewares/Third_Party/LwIP/src/core/dns.c **** void
 395:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_tmr(void)
 396:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 246              		.loc 1 396 1
 247              		.cfi_startproc
 248              		@ args = 0, pretend = 0, frame = 0
 249              		@ frame_needed = 1, uses_anonymous_args = 0
 250 0000 80B5     		push	{r7, lr}
 251              	.LCFI16:
 252              		.cfi_def_cfa_offset 8
 253              		.cfi_offset 7, -8
 254              		.cfi_offset 14, -4
 255 0002 00AF     		add	r7, sp, #0
 256              	.LCFI17:
 257              		.cfi_def_cfa_register 7
 397:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DEBUGF(DNS_DEBUG, ("dns_tmr: dns_check_entries\n"));
 398:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_check_entries();
 258              		.loc 1 398 3
 259 0004 FFF7FEFF 		bl	dns_check_entries
 399:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 260              		.loc 1 399 1
 261 0008 00BF     		nop
 262 000a 80BD     		pop	{r7, pc}
 263              		.cfi_endproc
 264              	.LFE136:
 266              		.section	.text.dns_lookup,"ax",%progbits
 267              		.align	1
 268              		.syntax unified
 269              		.thumb
 270              		.thumb_func
 271              		.fpu fpv4-sp-d16
 273              	dns_lookup:
 274              	.LFB137:
 400:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 401:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST
 402:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void
 403:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_init_local(void)
 404:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 405:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST_IS_DYNAMIC && defined(DNS_LOCAL_HOSTLIST_INIT)
 406:Middlewares/Third_Party/LwIP/src/core/dns.c ****   size_t i;
 407:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct local_hostlist_entry *entry;
 408:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* Dynamic: copy entries from DNS_LOCAL_HOSTLIST_INIT to list */
 409:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct local_hostlist_entry local_hostlist_init[] = DNS_LOCAL_HOSTLIST_INIT;
 410:Middlewares/Third_Party/LwIP/src/core/dns.c ****   size_t namelen;
 411:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < LWIP_ARRAYSIZE(local_hostlist_init); i++) {
 412:Middlewares/Third_Party/LwIP/src/core/dns.c ****     struct local_hostlist_entry *init_entry = &local_hostlist_init[i];
 413:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_ASSERT("invalid host name (NULL)", init_entry->name != NULL);
 414:Middlewares/Third_Party/LwIP/src/core/dns.c ****     namelen = strlen(init_entry->name);
 415:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_ASSERT("namelen <= DNS_LOCAL_HOSTLIST_MAX_NAMELEN", namelen <= DNS_LOCAL_HOSTLIST_MAX_NAME
 416:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry = (struct local_hostlist_entry *)memp_malloc(MEMP_LOCALHOSTLIST);
 417:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_ASSERT("mem-error in dns_init_local", entry != NULL);
 418:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (entry != NULL) {
 419:Middlewares/Third_Party/LwIP/src/core/dns.c ****       char *entry_name = (char *)entry + sizeof(struct local_hostlist_entry);
ARM GAS  /tmp/ccJEVG7R.s 			page 13


 420:Middlewares/Third_Party/LwIP/src/core/dns.c ****       MEMCPY(entry_name, init_entry->name, namelen);
 421:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry_name[namelen] = 0;
 422:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->name = entry_name;
 423:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->addr = init_entry->addr;
 424:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->next = local_hostlist_dynamic;
 425:Middlewares/Third_Party/LwIP/src/core/dns.c ****       local_hostlist_dynamic = entry;
 426:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 427:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 428:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC && defined(DNS_LOCAL_HOSTLIST_INIT) */
 429:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 430:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 431:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 432:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
 433:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Iterate the local host-list for a hostname.
 434:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 435:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param iterator_fn a function that is called for every entry in the local host-list
 436:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param iterator_arg 3rd argument passed to iterator_fn
 437:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return the number of entries in the local host-list
 438:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 439:Middlewares/Third_Party/LwIP/src/core/dns.c **** size_t
 440:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_local_iterate(dns_found_callback iterator_fn, void *iterator_arg)
 441:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 442:Middlewares/Third_Party/LwIP/src/core/dns.c ****   size_t i;
 443:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST_IS_DYNAMIC
 444:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct local_hostlist_entry *entry = local_hostlist_dynamic;
 445:Middlewares/Third_Party/LwIP/src/core/dns.c ****   i = 0;
 446:Middlewares/Third_Party/LwIP/src/core/dns.c ****   while (entry != NULL) {
 447:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (iterator_fn != NULL) {
 448:Middlewares/Third_Party/LwIP/src/core/dns.c ****       iterator_fn(entry->name, &entry->addr, iterator_arg);
 449:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 450:Middlewares/Third_Party/LwIP/src/core/dns.c ****     i++;
 451:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry = entry->next;
 452:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 453:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC */
 454:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < LWIP_ARRAYSIZE(local_hostlist_static); i++) {
 455:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (iterator_fn != NULL) {
 456:Middlewares/Third_Party/LwIP/src/core/dns.c ****       iterator_fn(local_hostlist_static[i].name, &local_hostlist_static[i].addr, iterator_arg);
 457:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 458:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 459:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC */
 460:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return i;
 461:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 462:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 463:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 464:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
 465:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Scans the local host-list for a hostname.
 466:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 467:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param hostname Hostname to look for in the local host-list
 468:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param addr the first IP address for the hostname in the local host-list or
 469:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *         IPADDR_NONE if not found.
 470:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param dns_addrtype - LWIP_DNS_ADDRTYPE_IPV4_IPV6: try to resolve IPv4 (ATTENTION: no fallback h
 471:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *                     - LWIP_DNS_ADDRTYPE_IPV6_IPV4: try to resolve IPv6 (ATTENTION: no fallback h
 472:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *                     - LWIP_DNS_ADDRTYPE_IPV4: try to resolve IPv4 only
 473:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *                     - LWIP_DNS_ADDRTYPE_IPV6: try to resolve IPv6 only
 474:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return ERR_OK if found, ERR_ARG if not found
 475:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 476:Middlewares/Third_Party/LwIP/src/core/dns.c **** err_t
ARM GAS  /tmp/ccJEVG7R.s 			page 14


 477:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_local_lookup(const char *hostname, ip_addr_t *addr, u8_t dns_addrtype)
 478:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 479:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_UNUSED_ARG(dns_addrtype);
 480:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return dns_lookup_local(hostname, addr LWIP_DNS_ADDRTYPE_ARG(dns_addrtype));
 481:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 482:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 483:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* Internal implementation for dns_local_lookup and dns_lookup */
 484:Middlewares/Third_Party/LwIP/src/core/dns.c **** static err_t
 485:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_lookup_local(const char *hostname, ip_addr_t *addr LWIP_DNS_ADDRTYPE_ARG(u8_t dns_addrtype))
 486:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 487:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST_IS_DYNAMIC
 488:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct local_hostlist_entry *entry = local_hostlist_dynamic;
 489:Middlewares/Third_Party/LwIP/src/core/dns.c ****   while (entry != NULL) {
 490:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((lwip_stricmp(entry->name, hostname) == 0) &&
 491:Middlewares/Third_Party/LwIP/src/core/dns.c ****         LWIP_DNS_ADDRTYPE_MATCH_IP(dns_addrtype, entry->addr)) {
 492:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (addr) {
 493:Middlewares/Third_Party/LwIP/src/core/dns.c ****         ip_addr_copy(*addr, entry->addr);
 494:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 495:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return ERR_OK;
 496:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 497:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry = entry->next;
 498:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 499:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC */
 500:Middlewares/Third_Party/LwIP/src/core/dns.c ****   size_t i;
 501:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < LWIP_ARRAYSIZE(local_hostlist_static); i++) {
 502:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((lwip_stricmp(local_hostlist_static[i].name, hostname) == 0) &&
 503:Middlewares/Third_Party/LwIP/src/core/dns.c ****         LWIP_DNS_ADDRTYPE_MATCH_IP(dns_addrtype, local_hostlist_static[i].addr)) {
 504:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (addr) {
 505:Middlewares/Third_Party/LwIP/src/core/dns.c ****         ip_addr_copy(*addr, local_hostlist_static[i].addr);
 506:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 507:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return ERR_OK;
 508:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 509:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 510:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC */
 511:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return ERR_ARG;
 512:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 513:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 514:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST_IS_DYNAMIC
 515:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 516:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
 517:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Remove all entries from the local host-list for a specific hostname
 518:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * and/or IP address
 519:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 520:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param hostname hostname for which entries shall be removed from the local
 521:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *                 host-list
 522:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param addr address for which entries shall be removed from the local host-list
 523:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return the number of removed entries
 524:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 525:Middlewares/Third_Party/LwIP/src/core/dns.c **** int
 526:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_local_removehost(const char *hostname, const ip_addr_t *addr)
 527:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 528:Middlewares/Third_Party/LwIP/src/core/dns.c ****   int removed = 0;
 529:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct local_hostlist_entry *entry = local_hostlist_dynamic;
 530:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct local_hostlist_entry *last_entry = NULL;
 531:Middlewares/Third_Party/LwIP/src/core/dns.c ****   while (entry != NULL) {
 532:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (((hostname == NULL) || !lwip_stricmp(entry->name, hostname)) &&
 533:Middlewares/Third_Party/LwIP/src/core/dns.c ****         ((addr == NULL) || ip_addr_cmp(&entry->addr, addr))) {
ARM GAS  /tmp/ccJEVG7R.s 			page 15


 534:Middlewares/Third_Party/LwIP/src/core/dns.c ****       struct local_hostlist_entry *free_entry;
 535:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (last_entry != NULL) {
 536:Middlewares/Third_Party/LwIP/src/core/dns.c ****         last_entry->next = entry->next;
 537:Middlewares/Third_Party/LwIP/src/core/dns.c ****       } else {
 538:Middlewares/Third_Party/LwIP/src/core/dns.c ****         local_hostlist_dynamic = entry->next;
 539:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 540:Middlewares/Third_Party/LwIP/src/core/dns.c ****       free_entry = entry;
 541:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry = entry->next;
 542:Middlewares/Third_Party/LwIP/src/core/dns.c ****       memp_free(MEMP_LOCALHOSTLIST, free_entry);
 543:Middlewares/Third_Party/LwIP/src/core/dns.c ****       removed++;
 544:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 545:Middlewares/Third_Party/LwIP/src/core/dns.c ****       last_entry = entry;
 546:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry = entry->next;
 547:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 548:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 549:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return removed;
 550:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 551:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 552:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 553:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
 554:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Add a hostname/IP address pair to the local host-list.
 555:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Duplicates are not checked.
 556:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 557:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param hostname hostname of the new entry
 558:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param addr IP address of the new entry
 559:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return ERR_OK if succeeded or ERR_MEM on memory error
 560:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 561:Middlewares/Third_Party/LwIP/src/core/dns.c **** err_t
 562:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_local_addhost(const char *hostname, const ip_addr_t *addr)
 563:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 564:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct local_hostlist_entry *entry;
 565:Middlewares/Third_Party/LwIP/src/core/dns.c ****   size_t namelen;
 566:Middlewares/Third_Party/LwIP/src/core/dns.c ****   char *entry_name;
 567:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_ASSERT("invalid host name (NULL)", hostname != NULL);
 568:Middlewares/Third_Party/LwIP/src/core/dns.c ****   namelen = strlen(hostname);
 569:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_ASSERT("namelen <= DNS_LOCAL_HOSTLIST_MAX_NAMELEN", namelen <= DNS_LOCAL_HOSTLIST_MAX_NAMELE
 570:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry = (struct local_hostlist_entry *)memp_malloc(MEMP_LOCALHOSTLIST);
 571:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (entry == NULL) {
 572:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_MEM;
 573:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 574:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry_name = (char *)entry + sizeof(struct local_hostlist_entry);
 575:Middlewares/Third_Party/LwIP/src/core/dns.c ****   MEMCPY(entry_name, hostname, namelen);
 576:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry_name[namelen] = 0;
 577:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->name = entry_name;
 578:Middlewares/Third_Party/LwIP/src/core/dns.c ****   ip_addr_copy(entry->addr, *addr);
 579:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->next = local_hostlist_dynamic;
 580:Middlewares/Third_Party/LwIP/src/core/dns.c ****   local_hostlist_dynamic = entry;
 581:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return ERR_OK;
 582:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 583:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST_IS_DYNAMIC*/
 584:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST */
 585:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 586:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 587:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
 588:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Look up a hostname in the array of known hostnames.
 589:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 590:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @note This function only looks in the internal array of known
ARM GAS  /tmp/ccJEVG7R.s 			page 16


 591:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * hostnames, it does not send out a query for the hostname if none
 592:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * was found. The function dns_enqueue() can be used to send a query
 593:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * for a hostname.
 594:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 595:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param name the hostname to look up
 596:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param addr the hostname's IP address, as u32_t (instead of ip_addr_t to
 597:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *         better check for failure: != IPADDR_NONE) or IPADDR_NONE if the hostname
 598:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *         was not found in the cached dns_table.
 599:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return ERR_OK if found, ERR_ARG if not found
 600:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 601:Middlewares/Third_Party/LwIP/src/core/dns.c **** static err_t
 602:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_lookup(const char *name, ip_addr_t *addr LWIP_DNS_ADDRTYPE_ARG(u8_t dns_addrtype))
 603:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 275              		.loc 1 603 1
 276              		.cfi_startproc
 277              		@ args = 0, pretend = 0, frame = 16
 278              		@ frame_needed = 1, uses_anonymous_args = 0
 279 0000 80B5     		push	{r7, lr}
 280              	.LCFI18:
 281              		.cfi_def_cfa_offset 8
 282              		.cfi_offset 7, -8
 283              		.cfi_offset 14, -4
 284 0002 84B0     		sub	sp, sp, #16
 285              	.LCFI19:
 286              		.cfi_def_cfa_offset 24
 287 0004 00AF     		add	r7, sp, #0
 288              	.LCFI20:
 289              		.cfi_def_cfa_register 7
 290 0006 7860     		str	r0, [r7, #4]
 291 0008 3960     		str	r1, [r7]
 604:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t i;
 605:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if DNS_LOCAL_HOSTLIST
 606:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (dns_lookup_local(name, addr LWIP_DNS_ADDRTYPE_ARG(dns_addrtype)) == ERR_OK) {
 607:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_OK;
 608:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 609:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOCAL_HOSTLIST */
 610:Middlewares/Third_Party/LwIP/src/core/dns.c **** #ifdef DNS_LOOKUP_LOCAL_EXTERN
 611:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (DNS_LOOKUP_LOCAL_EXTERN(name, addr, LWIP_DNS_ADDRTYPE_ARG_OR_ZERO(dns_addrtype)) == ERR_OK) {
 612:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_OK;
 613:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 614:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* DNS_LOOKUP_LOCAL_EXTERN */
 615:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 616:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* Walk through name list, return entry if found. If not, return NULL. */
 617:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_TABLE_SIZE; ++i) {
 292              		.loc 1 617 10
 293 000a 0023     		movs	r3, #0
 294 000c FB73     		strb	r3, [r7, #15]
 295              		.loc 1 617 3
 296 000e 2EE0     		b	.L15
 297              	.L19:
 618:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_DONE) &&
 298              		.loc 1 618 22
 299 0010 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 300 0012 1B49     		ldr	r1, .L20
 301 0014 1346     		mov	r3, r2
 302 0016 1B01     		lsls	r3, r3, #4
 303 0018 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccJEVG7R.s 			page 17


 304 001a 1B01     		lsls	r3, r3, #4
 305 001c 0B44     		add	r3, r3, r1
 306 001e 0A33     		adds	r3, r3, #10
 307 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 308              		.loc 1 618 8
 309 0022 032B     		cmp	r3, #3
 310 0024 20D1     		bne	.L16
 619:Middlewares/Third_Party/LwIP/src/core/dns.c ****         (lwip_strnicmp(name, dns_table[i].name, sizeof(dns_table[i].name)) == 0) &&
 311              		.loc 1 619 42 discriminator 1
 312 0026 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 313 0028 1346     		mov	r3, r2
 314 002a 1B01     		lsls	r3, r3, #4
 315 002c 1344     		add	r3, r3, r2
 316 002e 1B01     		lsls	r3, r3, #4
 317 0030 1033     		adds	r3, r3, #16
 318 0032 134A     		ldr	r2, .L20
 319 0034 1344     		add	r3, r3, r2
 320              		.loc 1 619 10 discriminator 1
 321 0036 4FF48072 		mov	r2, #256
 322 003a 1946     		mov	r1, r3
 323 003c 7868     		ldr	r0, [r7, #4]
 324 003e FFF7FEFF 		bl	lwip_strnicmp
 325 0042 0346     		mov	r3, r0
 618:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_DONE) &&
 326              		.loc 1 618 48 discriminator 1
 327 0044 002B     		cmp	r3, #0
 328 0046 0FD1     		bne	.L16
 620:Middlewares/Third_Party/LwIP/src/core/dns.c ****         LWIP_DNS_ADDRTYPE_MATCH_IP(dns_addrtype, dns_table[i].ipaddr)) {
 621:Middlewares/Third_Party/LwIP/src/core/dns.c ****       LWIP_DEBUGF(DNS_DEBUG, ("dns_lookup: \"%s\": found = ", name));
 622:Middlewares/Third_Party/LwIP/src/core/dns.c ****       ip_addr_debug_print_val(DNS_DEBUG, dns_table[i].ipaddr);
 623:Middlewares/Third_Party/LwIP/src/core/dns.c ****       LWIP_DEBUGF(DNS_DEBUG, ("\n"));
 624:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (addr) {
 329              		.loc 1 624 10
 330 0048 3B68     		ldr	r3, [r7]
 331 004a 002B     		cmp	r3, #0
 332 004c 0AD0     		beq	.L17
 625:Middlewares/Third_Party/LwIP/src/core/dns.c ****         ip_addr_copy(*addr, dns_table[i].ipaddr);
 333              		.loc 1 625 9
 334 004e FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 335 0050 0B49     		ldr	r1, .L20
 336 0052 1346     		mov	r3, r2
 337 0054 1B01     		lsls	r3, r3, #4
 338 0056 1344     		add	r3, r3, r2
 339 0058 1B01     		lsls	r3, r3, #4
 340 005a 0B44     		add	r3, r3, r1
 341 005c 0433     		adds	r3, r3, #4
 342 005e 1A68     		ldr	r2, [r3]
 343 0060 3B68     		ldr	r3, [r7]
 344 0062 1A60     		str	r2, [r3]
 345              	.L17:
 626:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 627:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return ERR_OK;
 346              		.loc 1 627 14
 347 0064 0023     		movs	r3, #0
 348 0066 07E0     		b	.L18
 349              	.L16:
 617:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_DONE) &&
ARM GAS  /tmp/ccJEVG7R.s 			page 18


 350              		.loc 1 617 35 discriminator 2
 351 0068 FB7B     		ldrb	r3, [r7, #15]
 352 006a 0133     		adds	r3, r3, #1
 353 006c FB73     		strb	r3, [r7, #15]
 354              	.L15:
 617:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_DONE) &&
 355              		.loc 1 617 3 discriminator 1
 356 006e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 357 0070 032B     		cmp	r3, #3
 358 0072 CDD9     		bls	.L19
 628:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 629:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 630:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 631:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return ERR_ARG;
 359              		.loc 1 631 10
 360 0074 6FF00F03 		mvn	r3, #15
 361              	.L18:
 632:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 362              		.loc 1 632 1
 363 0078 1846     		mov	r0, r3
 364 007a 1037     		adds	r7, r7, #16
 365              	.LCFI21:
 366              		.cfi_def_cfa_offset 8
 367 007c BD46     		mov	sp, r7
 368              	.LCFI22:
 369              		.cfi_def_cfa_register 13
 370              		@ sp needed
 371 007e 80BD     		pop	{r7, pc}
 372              	.L21:
 373              		.align	2
 374              	.L20:
 375 0080 00000000 		.word	dns_table
 376              		.cfi_endproc
 377              	.LFE137:
 379              		.section	.text.dns_compare_name,"ax",%progbits
 380              		.align	1
 381              		.syntax unified
 382              		.thumb
 383              		.thumb_func
 384              		.fpu fpv4-sp-d16
 386              	dns_compare_name:
 387              	.LFB138:
 633:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 634:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 635:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Compare the "dotted" name "query" with the encoded name "response"
 636:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * to make sure an answer from the DNS server matches the current dns_table
 637:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * entry (otherwise, answers might arrive late for hostname not on the list
 638:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * any more).
 639:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 640:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * For now, this function compares case-insensitive to cope with all kinds of
 641:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * servers. This also means that "dns 0x20 bit encoding" must be checked
 642:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * externally, if we want to implement it.
 643:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Currently, the request is sent exactly as passed in by he user request.
 644:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 645:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param query hostname (not encoded) from the dns_table
 646:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param p pbuf containing the encoded hostname in the DNS response
 647:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param start_offset offset into p where the name starts
ARM GAS  /tmp/ccJEVG7R.s 			page 19


 648:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return 0xFFFF: names differ, other: names equal -> offset behind name
 649:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 650:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u16_t
 651:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_compare_name(const char *query, struct pbuf *p, u16_t start_offset)
 652:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 388              		.loc 1 652 1
 389              		.cfi_startproc
 390              		@ args = 0, pretend = 0, frame = 32
 391              		@ frame_needed = 1, uses_anonymous_args = 0
 392 0000 80B5     		push	{r7, lr}
 393              	.LCFI23:
 394              		.cfi_def_cfa_offset 8
 395              		.cfi_offset 7, -8
 396              		.cfi_offset 14, -4
 397 0002 88B0     		sub	sp, sp, #32
 398              	.LCFI24:
 399              		.cfi_def_cfa_offset 40
 400 0004 00AF     		add	r7, sp, #0
 401              	.LCFI25:
 402              		.cfi_def_cfa_register 7
 403 0006 F860     		str	r0, [r7, #12]
 404 0008 B960     		str	r1, [r7, #8]
 405 000a 1346     		mov	r3, r2
 406 000c FB80     		strh	r3, [r7, #6]	@ movhi
 653:Middlewares/Third_Party/LwIP/src/core/dns.c ****   int n;
 654:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t response_offset = start_offset;
 407              		.loc 1 654 9
 408 000e FB88     		ldrh	r3, [r7, #6]	@ movhi
 409 0010 7B83     		strh	r3, [r7, #26]	@ movhi
 410              	.L37:
 655:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 656:Middlewares/Third_Party/LwIP/src/core/dns.c ****   do {
 657:Middlewares/Third_Party/LwIP/src/core/dns.c ****     n = pbuf_try_get_at(p, response_offset);
 411              		.loc 1 657 9
 412 0012 7B8B     		ldrh	r3, [r7, #26]
 413 0014 1946     		mov	r1, r3
 414 0016 B868     		ldr	r0, [r7, #8]
 415 0018 FFF7FEFF 		bl	pbuf_try_get_at
 416 001c F861     		str	r0, [r7, #28]
 658:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((n < 0) || (response_offset == 0xFFFF)) {
 417              		.loc 1 658 8
 418 001e FB69     		ldr	r3, [r7, #28]
 419 0020 002B     		cmp	r3, #0
 420 0022 04DB     		blt	.L23
 421              		.loc 1 658 17 discriminator 1
 422 0024 7B8B     		ldrh	r3, [r7, #26]
 423 0026 4FF6FF72 		movw	r2, #65535
 424 002a 9342     		cmp	r3, r2
 425 002c 02D1     		bne	.L24
 426              	.L23:
 659:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* error or overflow */
 660:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return 0xFFFF;
 427              		.loc 1 660 14
 428 002e 4FF6FF73 		movw	r3, #65535
 429 0032 6CE0     		b	.L25
 430              	.L24:
 661:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
ARM GAS  /tmp/ccJEVG7R.s 			page 20


 662:Middlewares/Third_Party/LwIP/src/core/dns.c ****     response_offset++;
 431              		.loc 1 662 20
 432 0034 7B8B     		ldrh	r3, [r7, #26]
 433 0036 0133     		adds	r3, r3, #1
 434 0038 7B83     		strh	r3, [r7, #26]	@ movhi
 663:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /** @see RFC 1035 - 4.1.4. Message compression */
 664:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((n & 0xc0) == 0xc0) {
 435              		.loc 1 664 12
 436 003a FB69     		ldr	r3, [r7, #28]
 437 003c 03F0C003 		and	r3, r3, #192
 438              		.loc 1 664 8
 439 0040 C02B     		cmp	r3, #192
 440 0042 44D1     		bne	.L27
 665:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* Compressed name: cannot be equal since we don't send them */
 666:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return 0xFFFF;
 441              		.loc 1 666 14
 442 0044 4FF6FF73 		movw	r3, #65535
 443 0048 61E0     		b	.L25
 444              	.L35:
 445              	.LBB2:
 667:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 668:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* Not compressed name */
 669:Middlewares/Third_Party/LwIP/src/core/dns.c ****       while (n > 0) {
 670:Middlewares/Third_Party/LwIP/src/core/dns.c ****         int c = pbuf_try_get_at(p, response_offset);
 446              		.loc 1 670 17
 447 004a 7B8B     		ldrh	r3, [r7, #26]
 448 004c 1946     		mov	r1, r3
 449 004e B868     		ldr	r0, [r7, #8]
 450 0050 FFF7FEFF 		bl	pbuf_try_get_at
 451 0054 7861     		str	r0, [r7, #20]
 671:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (c < 0) {
 452              		.loc 1 671 12
 453 0056 7B69     		ldr	r3, [r7, #20]
 454 0058 002B     		cmp	r3, #0
 455 005a 02DA     		bge	.L28
 672:Middlewares/Third_Party/LwIP/src/core/dns.c ****           return 0xFFFF;
 456              		.loc 1 672 18
 457 005c 4FF6FF73 		movw	r3, #65535
 458 0060 55E0     		b	.L25
 459              	.L28:
 460              	.LBB3:
 673:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 674:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (lwip_tolower((*query)) != lwip_tolower((u8_t)c)) {
 461              		.loc 1 674 13
 462 0062 FB68     		ldr	r3, [r7, #12]
 463 0064 1B78     		ldrb	r3, [r3]
 464 0066 FB74     		strb	r3, [r7, #19]
 465 0068 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 466 006a 0133     		adds	r3, r3, #1
 467 006c 2A4A     		ldr	r2, .L39
 468 006e 1344     		add	r3, r3, r2
 469 0070 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 470 0072 03F00303 		and	r3, r3, #3
 471 0076 012B     		cmp	r3, #1
 472 0078 03D1     		bne	.L29
 473              		.loc 1 674 13 is_stmt 0 discriminator 1
 474 007a FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
ARM GAS  /tmp/ccJEVG7R.s 			page 21


 475 007c 03F12002 		add	r2, r3, #32
 476 0080 00E0     		b	.L30
 477              	.L29:
 478              		.loc 1 674 13 discriminator 2
 479 0082 FA7C     		ldrb	r2, [r7, #19]	@ zero_extendqisi2
 480              	.L30:
 481              	.LBE3:
 482              	.LBB4:
 483              		.loc 1 674 39 is_stmt 1 discriminator 4
 484 0084 7B69     		ldr	r3, [r7, #20]
 485 0086 BB74     		strb	r3, [r7, #18]
 486 0088 BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 487 008a 0133     		adds	r3, r3, #1
 488 008c 2249     		ldr	r1, .L39
 489 008e 0B44     		add	r3, r3, r1
 490 0090 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 491 0092 03F00303 		and	r3, r3, #3
 492 0096 012B     		cmp	r3, #1
 493 0098 02D1     		bne	.L31
 494              		.loc 1 674 39 is_stmt 0 discriminator 5
 495 009a BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 496 009c 2033     		adds	r3, r3, #32
 497 009e 00E0     		b	.L32
 498              	.L31:
 499              		.loc 1 674 39 discriminator 6
 500 00a0 BB7C     		ldrb	r3, [r7, #18]	@ zero_extendqisi2
 501              	.L32:
 502              	.LBE4:
 503              		.loc 1 674 12 is_stmt 1 discriminator 8
 504 00a2 9A42     		cmp	r2, r3
 505 00a4 02D0     		beq	.L33
 675:Middlewares/Third_Party/LwIP/src/core/dns.c ****           return 0xFFFF;
 506              		.loc 1 675 18
 507 00a6 4FF6FF73 		movw	r3, #65535
 508 00aa 30E0     		b	.L25
 509              	.L33:
 676:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 677:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (response_offset == 0xFFFF) {
 510              		.loc 1 677 12
 511 00ac 7B8B     		ldrh	r3, [r7, #26]
 512 00ae 4FF6FF72 		movw	r2, #65535
 513 00b2 9342     		cmp	r3, r2
 514 00b4 02D1     		bne	.L34
 678:Middlewares/Third_Party/LwIP/src/core/dns.c ****           /* would overflow */
 679:Middlewares/Third_Party/LwIP/src/core/dns.c ****           return 0xFFFF;
 515              		.loc 1 679 18
 516 00b6 4FF6FF73 		movw	r3, #65535
 517 00ba 28E0     		b	.L25
 518              	.L34:
 680:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 681:Middlewares/Third_Party/LwIP/src/core/dns.c ****         response_offset++;
 519              		.loc 1 681 24
 520 00bc 7B8B     		ldrh	r3, [r7, #26]
 521 00be 0133     		adds	r3, r3, #1
 522 00c0 7B83     		strh	r3, [r7, #26]	@ movhi
 682:Middlewares/Third_Party/LwIP/src/core/dns.c ****         ++query;
 523              		.loc 1 682 9
ARM GAS  /tmp/ccJEVG7R.s 			page 22


 524 00c2 FB68     		ldr	r3, [r7, #12]
 525 00c4 0133     		adds	r3, r3, #1
 526 00c6 FB60     		str	r3, [r7, #12]
 683:Middlewares/Third_Party/LwIP/src/core/dns.c ****         --n;
 527              		.loc 1 683 9
 528 00c8 FB69     		ldr	r3, [r7, #28]
 529 00ca 013B     		subs	r3, r3, #1
 530 00cc FB61     		str	r3, [r7, #28]
 531              	.L27:
 532              	.LBE2:
 669:Middlewares/Third_Party/LwIP/src/core/dns.c ****         int c = pbuf_try_get_at(p, response_offset);
 533              		.loc 1 669 13
 534 00ce FB69     		ldr	r3, [r7, #28]
 535 00d0 002B     		cmp	r3, #0
 536 00d2 BADC     		bgt	.L35
 684:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 685:Middlewares/Third_Party/LwIP/src/core/dns.c ****       ++query;
 537              		.loc 1 685 7
 538 00d4 FB68     		ldr	r3, [r7, #12]
 539 00d6 0133     		adds	r3, r3, #1
 540 00d8 FB60     		str	r3, [r7, #12]
 686:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 687:Middlewares/Third_Party/LwIP/src/core/dns.c ****     n = pbuf_try_get_at(p, response_offset);
 541              		.loc 1 687 9
 542 00da 7B8B     		ldrh	r3, [r7, #26]
 543 00dc 1946     		mov	r1, r3
 544 00de B868     		ldr	r0, [r7, #8]
 545 00e0 FFF7FEFF 		bl	pbuf_try_get_at
 546 00e4 F861     		str	r0, [r7, #28]
 688:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (n < 0) {
 547              		.loc 1 688 8
 548 00e6 FB69     		ldr	r3, [r7, #28]
 549 00e8 002B     		cmp	r3, #0
 550 00ea 02DA     		bge	.L36
 689:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return 0xFFFF;
 551              		.loc 1 689 14
 552 00ec 4FF6FF73 		movw	r3, #65535
 553 00f0 0DE0     		b	.L25
 554              	.L36:
 690:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 691:Middlewares/Third_Party/LwIP/src/core/dns.c ****   } while (n != 0);
 555              		.loc 1 691 3
 556 00f2 FB69     		ldr	r3, [r7, #28]
 557 00f4 002B     		cmp	r3, #0
 558 00f6 8CD1     		bne	.L37
 692:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 693:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (response_offset == 0xFFFF) {
 559              		.loc 1 693 6
 560 00f8 7B8B     		ldrh	r3, [r7, #26]
 561 00fa 4FF6FF72 		movw	r2, #65535
 562 00fe 9342     		cmp	r3, r2
 563 0100 02D1     		bne	.L38
 694:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* would overflow */
 695:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return 0xFFFF;
 564              		.loc 1 695 12
 565 0102 4FF6FF73 		movw	r3, #65535
 566 0106 02E0     		b	.L25
ARM GAS  /tmp/ccJEVG7R.s 			page 23


 567              	.L38:
 696:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 697:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return (u16_t)(response_offset + 1);
 568              		.loc 1 697 10
 569 0108 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 570 010a 0133     		adds	r3, r3, #1
 571 010c 9BB2     		uxth	r3, r3
 572              	.L25:
 698:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 573              		.loc 1 698 1
 574 010e 1846     		mov	r0, r3
 575 0110 2037     		adds	r7, r7, #32
 576              	.LCFI26:
 577              		.cfi_def_cfa_offset 8
 578 0112 BD46     		mov	sp, r7
 579              	.LCFI27:
 580              		.cfi_def_cfa_register 13
 581              		@ sp needed
 582 0114 80BD     		pop	{r7, pc}
 583              	.L40:
 584 0116 00BF     		.align	2
 585              	.L39:
 586 0118 00000000 		.word	_ctype_
 587              		.cfi_endproc
 588              	.LFE138:
 590              		.section	.text.dns_skip_name,"ax",%progbits
 591              		.align	1
 592              		.syntax unified
 593              		.thumb
 594              		.thumb_func
 595              		.fpu fpv4-sp-d16
 597              	dns_skip_name:
 598              	.LFB139:
 699:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 700:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 701:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Walk through a compact encoded DNS name and return the end of the name.
 702:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 703:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param p pbuf containing the name
 704:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param query_idx start index into p pointing to encoded DNS name in the DNS server response
 705:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return index to end of the name
 706:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 707:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u16_t
 708:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_skip_name(struct pbuf *p, u16_t query_idx)
 709:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 599              		.loc 1 709 1
 600              		.cfi_startproc
 601              		@ args = 0, pretend = 0, frame = 16
 602              		@ frame_needed = 1, uses_anonymous_args = 0
 603 0000 80B5     		push	{r7, lr}
 604              	.LCFI28:
 605              		.cfi_def_cfa_offset 8
 606              		.cfi_offset 7, -8
 607              		.cfi_offset 14, -4
 608 0002 84B0     		sub	sp, sp, #16
 609              	.LCFI29:
 610              		.cfi_def_cfa_offset 24
 611 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccJEVG7R.s 			page 24


 612              	.LCFI30:
 613              		.cfi_def_cfa_register 7
 614 0006 7860     		str	r0, [r7, #4]
 615 0008 0B46     		mov	r3, r1
 616 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 710:Middlewares/Third_Party/LwIP/src/core/dns.c ****   int n;
 711:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t offset = query_idx;
 617              		.loc 1 711 9
 618 000c 7B88     		ldrh	r3, [r7, #2]	@ movhi
 619 000e FB81     		strh	r3, [r7, #14]	@ movhi
 620              	.L49:
 712:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 713:Middlewares/Third_Party/LwIP/src/core/dns.c ****   do {
 714:Middlewares/Third_Party/LwIP/src/core/dns.c ****     n = pbuf_try_get_at(p, offset++);
 621              		.loc 1 714 9
 622 0010 FB89     		ldrh	r3, [r7, #14]
 623 0012 5A1C     		adds	r2, r3, #1
 624 0014 FA81     		strh	r2, [r7, #14]	@ movhi
 625 0016 1946     		mov	r1, r3
 626 0018 7868     		ldr	r0, [r7, #4]
 627 001a FFF7FEFF 		bl	pbuf_try_get_at
 628 001e B860     		str	r0, [r7, #8]
 715:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((n < 0) || (offset == 0)) {
 629              		.loc 1 715 8
 630 0020 BB68     		ldr	r3, [r7, #8]
 631 0022 002B     		cmp	r3, #0
 632 0024 02DB     		blt	.L42
 633              		.loc 1 715 17 discriminator 1
 634 0026 FB89     		ldrh	r3, [r7, #14]
 635 0028 002B     		cmp	r3, #0
 636 002a 02D1     		bne	.L43
 637              	.L42:
 716:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return 0xFFFF;
 638              		.loc 1 716 14
 639 002c 4FF6FF73 		movw	r3, #65535
 640 0030 2FE0     		b	.L44
 641              	.L43:
 717:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 718:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /** @see RFC 1035 - 4.1.4. Message compression */
 719:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((n & 0xc0) == 0xc0) {
 642              		.loc 1 719 12
 643 0032 BB68     		ldr	r3, [r7, #8]
 644 0034 03F0C003 		and	r3, r3, #192
 645              		.loc 1 719 8
 646 0038 C02B     		cmp	r3, #192
 647 003a 1ED0     		beq	.L51
 720:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* Compressed name: since we only want to skip it (not check it), stop here */
 721:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
 722:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 723:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* Not compressed name */
 724:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (offset + n >= p->tot_len) {
 648              		.loc 1 724 18
 649 003c FA89     		ldrh	r2, [r7, #14]
 650 003e BB68     		ldr	r3, [r7, #8]
 651 0040 1344     		add	r3, r3, r2
 652              		.loc 1 724 26
 653 0042 7A68     		ldr	r2, [r7, #4]
ARM GAS  /tmp/ccJEVG7R.s 			page 25


 654 0044 1289     		ldrh	r2, [r2, #8]
 655              		.loc 1 724 10
 656 0046 9342     		cmp	r3, r2
 657 0048 02DB     		blt	.L47
 725:Middlewares/Third_Party/LwIP/src/core/dns.c ****         return 0xFFFF;
 658              		.loc 1 725 16
 659 004a 4FF6FF73 		movw	r3, #65535
 660 004e 20E0     		b	.L44
 661              	.L47:
 726:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 727:Middlewares/Third_Party/LwIP/src/core/dns.c ****       offset = (u16_t)(offset + n);
 662              		.loc 1 727 16
 663 0050 BB68     		ldr	r3, [r7, #8]
 664 0052 9AB2     		uxth	r2, r3
 665              		.loc 1 727 14
 666 0054 FB89     		ldrh	r3, [r7, #14]	@ movhi
 667 0056 1344     		add	r3, r3, r2
 668 0058 FB81     		strh	r3, [r7, #14]	@ movhi
 728:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 729:Middlewares/Third_Party/LwIP/src/core/dns.c ****     n = pbuf_try_get_at(p, offset);
 669              		.loc 1 729 9
 670 005a FB89     		ldrh	r3, [r7, #14]
 671 005c 1946     		mov	r1, r3
 672 005e 7868     		ldr	r0, [r7, #4]
 673 0060 FFF7FEFF 		bl	pbuf_try_get_at
 674 0064 B860     		str	r0, [r7, #8]
 730:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (n < 0) {
 675              		.loc 1 730 8
 676 0066 BB68     		ldr	r3, [r7, #8]
 677 0068 002B     		cmp	r3, #0
 678 006a 02DA     		bge	.L48
 731:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return 0xFFFF;
 679              		.loc 1 731 14
 680 006c 4FF6FF73 		movw	r3, #65535
 681 0070 0FE0     		b	.L44
 682              	.L48:
 732:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 733:Middlewares/Third_Party/LwIP/src/core/dns.c ****   } while (n != 0);
 683              		.loc 1 733 3
 684 0072 BB68     		ldr	r3, [r7, #8]
 685 0074 002B     		cmp	r3, #0
 686 0076 CBD1     		bne	.L49
 687 0078 00E0     		b	.L46
 688              	.L51:
 721:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 689              		.loc 1 721 7
 690 007a 00BF     		nop
 691              	.L46:
 734:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 735:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (offset == 0xFFFF) {
 692              		.loc 1 735 6
 693 007c FB89     		ldrh	r3, [r7, #14]
 694 007e 4FF6FF72 		movw	r2, #65535
 695 0082 9342     		cmp	r3, r2
 696 0084 02D1     		bne	.L50
 736:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return 0xFFFF;
 697              		.loc 1 736 12
ARM GAS  /tmp/ccJEVG7R.s 			page 26


 698 0086 4FF6FF73 		movw	r3, #65535
 699 008a 02E0     		b	.L44
 700              	.L50:
 737:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 738:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return (u16_t)(offset + 1);
 701              		.loc 1 738 10
 702 008c FB89     		ldrh	r3, [r7, #14]	@ movhi
 703 008e 0133     		adds	r3, r3, #1
 704 0090 9BB2     		uxth	r3, r3
 705              	.L44:
 739:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 706              		.loc 1 739 1
 707 0092 1846     		mov	r0, r3
 708 0094 1037     		adds	r7, r7, #16
 709              	.LCFI31:
 710              		.cfi_def_cfa_offset 8
 711 0096 BD46     		mov	sp, r7
 712              	.LCFI32:
 713              		.cfi_def_cfa_register 13
 714              		@ sp needed
 715 0098 80BD     		pop	{r7, pc}
 716              		.cfi_endproc
 717              	.LFE139:
 719              		.section	.rodata
 720              		.align	2
 721              	.LC0:
 722 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/dns.c\000"
 722      6C657761 
 722      7265732F 
 722      54686972 
 722      645F5061 
 723              		.align	2
 724              	.LC1:
 725 002c 646E7320 		.ascii	"dns server out of array\000"
 725      73657276 
 725      6572206F 
 725      7574206F 
 725      66206172 
 726              		.align	2
 727              	.LC2:
 728 0044 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 728      7274696F 
 728      6E202225 
 728      73222066 
 728      61696C65 
 729              		.section	.text.dns_send,"ax",%progbits
 730              		.align	1
 731              		.syntax unified
 732              		.thumb
 733              		.thumb_func
 734              		.fpu fpv4-sp-d16
 736              	dns_send:
 737              	.LFB140:
 740:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 741:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 742:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Send a DNS query packet.
 743:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
ARM GAS  /tmp/ccJEVG7R.s 			page 27


 744:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param idx the DNS table entry index for which to send a request
 745:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return ERR_OK if packet is sent; an err_t indicating the problem otherwise
 746:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 747:Middlewares/Third_Party/LwIP/src/core/dns.c **** static err_t
 748:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_send(u8_t idx)
 749:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 738              		.loc 1 749 1
 739              		.cfi_startproc
 740              		@ args = 0, pretend = 0, frame = 64
 741              		@ frame_needed = 1, uses_anonymous_args = 0
 742 0000 80B5     		push	{r7, lr}
 743              	.LCFI33:
 744              		.cfi_def_cfa_offset 8
 745              		.cfi_offset 7, -8
 746              		.cfi_offset 14, -4
 747 0002 90B0     		sub	sp, sp, #64
 748              	.LCFI34:
 749              		.cfi_def_cfa_offset 72
 750 0004 00AF     		add	r7, sp, #0
 751              	.LCFI35:
 752              		.cfi_def_cfa_register 7
 753 0006 0346     		mov	r3, r0
 754 0008 FB71     		strb	r3, [r7, #7]
 750:Middlewares/Third_Party/LwIP/src/core/dns.c ****   err_t err;
 751:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_hdr hdr;
 752:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_query qry;
 753:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct pbuf *p;
 754:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t query_idx, copy_len;
 755:Middlewares/Third_Party/LwIP/src/core/dns.c ****   const char *hostname, *hostname_part;
 756:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t n;
 757:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t pcb_idx;
 758:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_table_entry *entry = &dns_table[idx];
 755              		.loc 1 758 45
 756 000a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 757              		.loc 1 758 27
 758 000c 1346     		mov	r3, r2
 759 000e 1B01     		lsls	r3, r3, #4
 760 0010 1344     		add	r3, r3, r2
 761 0012 1B01     		lsls	r3, r3, #4
 762 0014 6C4A     		ldr	r2, .L67
 763 0016 1344     		add	r3, r3, r2
 764 0018 3B63     		str	r3, [r7, #48]
 759:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 760:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DEBUGF(DNS_DEBUG, ("dns_send: dns_servers[%"U16_F"] \"%s\": request\n",
 761:Middlewares/Third_Party/LwIP/src/core/dns.c ****                           (u16_t)(entry->server_idx), entry->name));
 762:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_ASSERT("dns server out of array", entry->server_idx < DNS_MAX_SERVERS);
 765              		.loc 1 762 3
 766 001a 3B6B     		ldr	r3, [r7, #48]
 767 001c DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 768 001e 012B     		cmp	r3, #1
 769 0020 06D9     		bls	.L53
 770              		.loc 1 762 3 is_stmt 0 discriminator 1
 771 0022 6A4B     		ldr	r3, .L67+4
 772 0024 40F2FA22 		movw	r2, #762
 773 0028 6949     		ldr	r1, .L67+8
 774 002a 6A48     		ldr	r0, .L67+12
 775 002c FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccJEVG7R.s 			page 28


 776              	.L53:
 763:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (ip_addr_isany_val(dns_servers[entry->server_idx])
 777              		.loc 1 763 7 is_stmt 1
 778 0030 3B6B     		ldr	r3, [r7, #48]
 779 0032 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 780 0034 1A46     		mov	r2, r3
 781 0036 684B     		ldr	r3, .L67+16
 782 0038 53F82230 		ldr	r3, [r3, r2, lsl #2]
 783              		.loc 1 763 6
 784 003c 002B     		cmp	r3, #0
 785 003e 09D1     		bne	.L54
 764:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
 765:Middlewares/Third_Party/LwIP/src/core/dns.c ****       && !entry->is_mdns
 766:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 767:Middlewares/Third_Party/LwIP/src/core/dns.c ****      ) {
 768:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* DNS server not valid anymore, e.g. PPP netif has been shut down */
 769:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* call specified callback function if provided */
 770:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_call_found(idx, NULL);
 786              		.loc 1 770 5
 787 0040 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 788 0042 0021     		movs	r1, #0
 789 0044 1846     		mov	r0, r3
 790 0046 FFF7FEFF 		bl	dns_call_found
 771:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* flush this entry */
 772:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry->state = DNS_STATE_UNUSED;
 791              		.loc 1 772 18
 792 004a 3B6B     		ldr	r3, [r7, #48]
 793 004c 0022     		movs	r2, #0
 794 004e 9A72     		strb	r2, [r3, #10]
 773:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_OK;
 795              		.loc 1 773 12
 796 0050 0023     		movs	r3, #0
 797 0052 B4E0     		b	.L64
 798              	.L54:
 774:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 775:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 776:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* if here, we have either a new query or a retry on a previous query to process */
 777:Middlewares/Third_Party/LwIP/src/core/dns.c ****   p = pbuf_alloc(PBUF_TRANSPORT, (u16_t)(SIZEOF_DNS_HDR + strlen(entry->name) + 2 +
 799              		.loc 1 777 71
 800 0054 3B6B     		ldr	r3, [r7, #48]
 801 0056 1033     		adds	r3, r3, #16
 802              		.loc 1 777 59
 803 0058 1846     		mov	r0, r3
 804 005a FFF7FEFF 		bl	strlen
 805 005e 0346     		mov	r3, r0
 806              		.loc 1 777 7
 807 0060 9BB2     		uxth	r3, r3
 808 0062 1233     		adds	r3, r3, #18
 809 0064 9BB2     		uxth	r3, r3
 810 0066 4FF42072 		mov	r2, #640
 811 006a 1946     		mov	r1, r3
 812 006c 3620     		movs	r0, #54
 813 006e FFF7FEFF 		bl	pbuf_alloc
 814 0072 F862     		str	r0, [r7, #44]
 778:Middlewares/Third_Party/LwIP/src/core/dns.c ****                                          SIZEOF_DNS_QUERY), PBUF_RAM);
 779:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (p != NULL) {
 815              		.loc 1 779 6
ARM GAS  /tmp/ccJEVG7R.s 			page 29


 816 0074 FB6A     		ldr	r3, [r7, #44]
 817 0076 002B     		cmp	r3, #0
 818 0078 00F09580 		beq	.L56
 819              	.LBB5:
 780:Middlewares/Third_Party/LwIP/src/core/dns.c ****     const ip_addr_t *dst;
 781:Middlewares/Third_Party/LwIP/src/core/dns.c ****     u16_t dst_port;
 782:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* fill dns header */
 783:Middlewares/Third_Party/LwIP/src/core/dns.c ****     memset(&hdr, 0, SIZEOF_DNS_HDR);
 820              		.loc 1 783 5
 821 007c 07F11003 		add	r3, r7, #16
 822 0080 0C22     		movs	r2, #12
 823 0082 0021     		movs	r1, #0
 824 0084 1846     		mov	r0, r3
 825 0086 FFF7FEFF 		bl	memset
 784:Middlewares/Third_Party/LwIP/src/core/dns.c ****     hdr.id = lwip_htons(entry->txid);
 826              		.loc 1 784 14
 827 008a 3B6B     		ldr	r3, [r7, #48]
 828 008c 1B89     		ldrh	r3, [r3, #8]
 829 008e 1846     		mov	r0, r3
 830 0090 FFF7FEFF 		bl	lwip_htons
 831 0094 0346     		mov	r3, r0
 832              		.loc 1 784 12
 833 0096 3B82     		strh	r3, [r7, #16]	@ movhi
 785:Middlewares/Third_Party/LwIP/src/core/dns.c ****     hdr.flags1 = DNS_FLAG1_RD;
 834              		.loc 1 785 16
 835 0098 0123     		movs	r3, #1
 836 009a BB74     		strb	r3, [r7, #18]
 786:Middlewares/Third_Party/LwIP/src/core/dns.c ****     hdr.numquestions = PP_HTONS(1);
 837              		.loc 1 786 22
 838 009c 4FF48073 		mov	r3, #256
 839 00a0 BB82     		strh	r3, [r7, #20]	@ movhi
 787:Middlewares/Third_Party/LwIP/src/core/dns.c ****     pbuf_take(p, &hdr, SIZEOF_DNS_HDR);
 840              		.loc 1 787 5
 841 00a2 07F11003 		add	r3, r7, #16
 842 00a6 0C22     		movs	r2, #12
 843 00a8 1946     		mov	r1, r3
 844 00aa F86A     		ldr	r0, [r7, #44]
 845 00ac FFF7FEFF 		bl	pbuf_take
 788:Middlewares/Third_Party/LwIP/src/core/dns.c ****     hostname = entry->name;
 846              		.loc 1 788 14
 847 00b0 3B6B     		ldr	r3, [r7, #48]
 848 00b2 1033     		adds	r3, r3, #16
 849 00b4 BB63     		str	r3, [r7, #56]
 789:Middlewares/Third_Party/LwIP/src/core/dns.c ****     --hostname;
 850              		.loc 1 789 5
 851 00b6 BB6B     		ldr	r3, [r7, #56]
 852 00b8 013B     		subs	r3, r3, #1
 853 00ba BB63     		str	r3, [r7, #56]
 790:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 791:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* convert hostname into suitable query format. */
 792:Middlewares/Third_Party/LwIP/src/core/dns.c ****     query_idx = SIZEOF_DNS_HDR;
 854              		.loc 1 792 15
 855 00bc 0C23     		movs	r3, #12
 856 00be BB87     		strh	r3, [r7, #60]	@ movhi
 857              	.L62:
 793:Middlewares/Third_Party/LwIP/src/core/dns.c ****     do {
 794:Middlewares/Third_Party/LwIP/src/core/dns.c ****       ++hostname;
ARM GAS  /tmp/ccJEVG7R.s 			page 30


 858              		.loc 1 794 7
 859 00c0 BB6B     		ldr	r3, [r7, #56]
 860 00c2 0133     		adds	r3, r3, #1
 861 00c4 BB63     		str	r3, [r7, #56]
 795:Middlewares/Third_Party/LwIP/src/core/dns.c ****       hostname_part = hostname;
 862              		.loc 1 795 21
 863 00c6 BB6B     		ldr	r3, [r7, #56]
 864 00c8 BB62     		str	r3, [r7, #40]
 796:Middlewares/Third_Party/LwIP/src/core/dns.c ****       for (n = 0; *hostname != '.' && *hostname != 0; ++hostname) {
 865              		.loc 1 796 14
 866 00ca 0023     		movs	r3, #0
 867 00cc 87F83730 		strb	r3, [r7, #55]
 868              		.loc 1 796 7
 869 00d0 07E0     		b	.L57
 870              	.L59:
 797:Middlewares/Third_Party/LwIP/src/core/dns.c ****         ++n;
 871              		.loc 1 797 9 discriminator 4
 872 00d2 97F83730 		ldrb	r3, [r7, #55]
 873 00d6 0133     		adds	r3, r3, #1
 874 00d8 87F83730 		strb	r3, [r7, #55]
 796:Middlewares/Third_Party/LwIP/src/core/dns.c ****       for (n = 0; *hostname != '.' && *hostname != 0; ++hostname) {
 875              		.loc 1 796 55 discriminator 4
 876 00dc BB6B     		ldr	r3, [r7, #56]
 877 00de 0133     		adds	r3, r3, #1
 878 00e0 BB63     		str	r3, [r7, #56]
 879              	.L57:
 796:Middlewares/Third_Party/LwIP/src/core/dns.c ****       for (n = 0; *hostname != '.' && *hostname != 0; ++hostname) {
 880              		.loc 1 796 19 discriminator 1
 881 00e2 BB6B     		ldr	r3, [r7, #56]
 882 00e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 796:Middlewares/Third_Party/LwIP/src/core/dns.c ****       for (n = 0; *hostname != '.' && *hostname != 0; ++hostname) {
 883              		.loc 1 796 7 discriminator 1
 884 00e6 2E2B     		cmp	r3, #46
 885 00e8 03D0     		beq	.L58
 796:Middlewares/Third_Party/LwIP/src/core/dns.c ****       for (n = 0; *hostname != '.' && *hostname != 0; ++hostname) {
 886              		.loc 1 796 39 discriminator 3
 887 00ea BB6B     		ldr	r3, [r7, #56]
 888 00ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 796:Middlewares/Third_Party/LwIP/src/core/dns.c ****       for (n = 0; *hostname != '.' && *hostname != 0; ++hostname) {
 889              		.loc 1 796 36 discriminator 3
 890 00ee 002B     		cmp	r3, #0
 891 00f0 EFD1     		bne	.L59
 892              	.L58:
 798:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 799:Middlewares/Third_Party/LwIP/src/core/dns.c ****       copy_len = (u16_t)(hostname - hostname_part);
 893              		.loc 1 799 35
 894 00f2 BA6B     		ldr	r2, [r7, #56]
 895 00f4 BB6A     		ldr	r3, [r7, #40]
 896 00f6 D31A     		subs	r3, r2, r3
 897              		.loc 1 799 16
 898 00f8 FB84     		strh	r3, [r7, #38]	@ movhi
 800:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (query_idx + n + 1 > 0xFFFF) {
 899              		.loc 1 800 21
 900 00fa BA8F     		ldrh	r2, [r7, #60]
 901 00fc 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 902 0100 1344     		add	r3, r3, r2
 903              		.loc 1 800 10
ARM GAS  /tmp/ccJEVG7R.s 			page 31


 904 0102 4FF6FE72 		movw	r2, #65534
 905 0106 9342     		cmp	r3, r2
 906 0108 53DC     		bgt	.L66
 801:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* u16_t overflow */
 802:Middlewares/Third_Party/LwIP/src/core/dns.c ****         goto overflow_return;
 803:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 804:Middlewares/Third_Party/LwIP/src/core/dns.c ****       pbuf_put_at(p, query_idx, n);
 907              		.loc 1 804 7
 908 010a 97F83720 		ldrb	r2, [r7, #55]	@ zero_extendqisi2
 909 010e BB8F     		ldrh	r3, [r7, #60]
 910 0110 1946     		mov	r1, r3
 911 0112 F86A     		ldr	r0, [r7, #44]
 912 0114 FFF7FEFF 		bl	pbuf_put_at
 805:Middlewares/Third_Party/LwIP/src/core/dns.c ****       pbuf_take_at(p, hostname_part, copy_len, (u16_t)(query_idx + 1));
 913              		.loc 1 805 7
 914 0118 BB8F     		ldrh	r3, [r7, #60]	@ movhi
 915 011a 0133     		adds	r3, r3, #1
 916 011c 9BB2     		uxth	r3, r3
 917 011e FA8C     		ldrh	r2, [r7, #38]
 918 0120 B96A     		ldr	r1, [r7, #40]
 919 0122 F86A     		ldr	r0, [r7, #44]
 920 0124 FFF7FEFF 		bl	pbuf_take_at
 806:Middlewares/Third_Party/LwIP/src/core/dns.c ****       query_idx = (u16_t)(query_idx + n + 1);
 921              		.loc 1 806 37
 922 0128 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 923 012c 9AB2     		uxth	r2, r3
 924 012e BB8F     		ldrh	r3, [r7, #60]	@ movhi
 925 0130 1344     		add	r3, r3, r2
 926 0132 9BB2     		uxth	r3, r3
 927              		.loc 1 806 17
 928 0134 0133     		adds	r3, r3, #1
 929 0136 BB87     		strh	r3, [r7, #60]	@ movhi
 807:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } while (*hostname != 0);
 930              		.loc 1 807 14
 931 0138 BB6B     		ldr	r3, [r7, #56]
 932 013a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 933              		.loc 1 807 5
 934 013c 002B     		cmp	r3, #0
 935 013e BFD1     		bne	.L62
 808:Middlewares/Third_Party/LwIP/src/core/dns.c ****     pbuf_put_at(p, query_idx, 0);
 936              		.loc 1 808 5
 937 0140 BB8F     		ldrh	r3, [r7, #60]
 938 0142 0022     		movs	r2, #0
 939 0144 1946     		mov	r1, r3
 940 0146 F86A     		ldr	r0, [r7, #44]
 941 0148 FFF7FEFF 		bl	pbuf_put_at
 809:Middlewares/Third_Party/LwIP/src/core/dns.c ****     query_idx++;
 942              		.loc 1 809 14
 943 014c BB8F     		ldrh	r3, [r7, #60]
 944 014e 0133     		adds	r3, r3, #1
 945 0150 BB87     		strh	r3, [r7, #60]	@ movhi
 810:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 811:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* fill dns query */
 812:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (LWIP_DNS_ADDRTYPE_IS_IPV6(entry->reqaddrtype)) {
 813:Middlewares/Third_Party/LwIP/src/core/dns.c ****       qry.type = PP_HTONS(DNS_RRTYPE_AAAA);
 814:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 815:Middlewares/Third_Party/LwIP/src/core/dns.c ****       qry.type = PP_HTONS(DNS_RRTYPE_A);
ARM GAS  /tmp/ccJEVG7R.s 			page 32


 946              		.loc 1 815 16
 947 0152 4FF48073 		mov	r3, #256
 948 0156 BB81     		strh	r3, [r7, #12]	@ movhi
 816:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 817:Middlewares/Third_Party/LwIP/src/core/dns.c ****     qry.cls = PP_HTONS(DNS_RRCLASS_IN);
 949              		.loc 1 817 13
 950 0158 4FF48073 		mov	r3, #256
 951 015c FB81     		strh	r3, [r7, #14]	@ movhi
 818:Middlewares/Third_Party/LwIP/src/core/dns.c ****     pbuf_take_at(p, &qry, SIZEOF_DNS_QUERY, query_idx);
 952              		.loc 1 818 5
 953 015e BB8F     		ldrh	r3, [r7, #60]
 954 0160 07F10C01 		add	r1, r7, #12
 955 0164 0422     		movs	r2, #4
 956 0166 F86A     		ldr	r0, [r7, #44]
 957 0168 FFF7FEFF 		bl	pbuf_take_at
 819:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 820:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0)
 821:Middlewares/Third_Party/LwIP/src/core/dns.c ****     pcb_idx = entry->pcb_idx;
 958              		.loc 1 821 13
 959 016c 3B6B     		ldr	r3, [r7, #48]
 960 016e DB7B     		ldrb	r3, [r3, #15]
 961 0170 87F82530 		strb	r3, [r7, #37]
 822:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 823:Middlewares/Third_Party/LwIP/src/core/dns.c ****     pcb_idx = 0;
 824:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 825:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* send dns packet */
 826:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_DEBUGF(DNS_DEBUG, ("sending DNS request ID %d for name \"%s\" to server %d\r\n",
 827:Middlewares/Third_Party/LwIP/src/core/dns.c ****                             entry->txid, entry->name, entry->server_idx));
 828:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
 829:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (entry->is_mdns) {
 830:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dst_port = DNS_MQUERY_PORT;
 831:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV6
 832:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (LWIP_DNS_ADDRTYPE_IS_IPV6(entry->reqaddrtype)) {
 833:Middlewares/Third_Party/LwIP/src/core/dns.c ****         dst = &dns_mquery_v6group;
 834:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 835:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 836:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
 837:Middlewares/Third_Party/LwIP/src/core/dns.c ****       else
 838:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 839:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4
 840:Middlewares/Third_Party/LwIP/src/core/dns.c ****       {
 841:Middlewares/Third_Party/LwIP/src/core/dns.c ****         dst = &dns_mquery_v4group;
 842:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 843:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 844:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else
 845:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_DNS_SUPPORT_MDNS_QUERIES */
 846:Middlewares/Third_Party/LwIP/src/core/dns.c ****     {
 847:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dst_port = DNS_SERVER_PORT;
 962              		.loc 1 847 16
 963 0174 3523     		movs	r3, #53
 964 0176 7B84     		strh	r3, [r7, #34]	@ movhi
 848:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dst = &dns_servers[entry->server_idx];
 965              		.loc 1 848 31
 966 0178 3B6B     		ldr	r3, [r7, #48]
 967 017a DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 968              		.loc 1 848 11
 969 017c 9B00     		lsls	r3, r3, #2
ARM GAS  /tmp/ccJEVG7R.s 			page 33


 970 017e 164A     		ldr	r2, .L67+16
 971 0180 1344     		add	r3, r3, r2
 972 0182 FB61     		str	r3, [r7, #28]
 849:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 850:Middlewares/Third_Party/LwIP/src/core/dns.c ****     err = udp_sendto(dns_pcbs[pcb_idx], p, dst, dst_port);
 973              		.loc 1 850 11
 974 0184 97F82530 		ldrb	r3, [r7, #37]	@ zero_extendqisi2
 975 0188 144A     		ldr	r2, .L67+20
 976 018a 52F82300 		ldr	r0, [r2, r3, lsl #2]
 977 018e 7B8C     		ldrh	r3, [r7, #34]
 978 0190 FA69     		ldr	r2, [r7, #28]
 979 0192 F96A     		ldr	r1, [r7, #44]
 980 0194 FFF7FEFF 		bl	udp_sendto
 981 0198 0346     		mov	r3, r0
 982 019a 87F83F30 		strb	r3, [r7, #63]
 851:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 852:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* free pbuf */
 853:Middlewares/Third_Party/LwIP/src/core/dns.c ****     pbuf_free(p);
 983              		.loc 1 853 5
 984 019e F86A     		ldr	r0, [r7, #44]
 985 01a0 FFF7FEFF 		bl	pbuf_free
 986              	.LBE5:
 987 01a4 02E0     		b	.L63
 988              	.L56:
 854:Middlewares/Third_Party/LwIP/src/core/dns.c ****   } else {
 855:Middlewares/Third_Party/LwIP/src/core/dns.c ****     err = ERR_MEM;
 989              		.loc 1 855 9
 990 01a6 FF23     		movs	r3, #255
 991 01a8 87F83F30 		strb	r3, [r7, #63]
 992              	.L63:
 856:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 857:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 858:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return err;
 993              		.loc 1 858 10
 994 01ac 97F93F30 		ldrsb	r3, [r7, #63]
 995 01b0 05E0     		b	.L64
 996              	.L66:
 997              	.LBB6:
 802:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 998              		.loc 1 802 9
 999 01b2 00BF     		nop
 1000              	.L61:
 1001              	.LBE6:
 859:Middlewares/Third_Party/LwIP/src/core/dns.c **** overflow_return:
 860:Middlewares/Third_Party/LwIP/src/core/dns.c ****   pbuf_free(p);
 1002              		.loc 1 860 3
 1003 01b4 F86A     		ldr	r0, [r7, #44]
 1004 01b6 FFF7FEFF 		bl	pbuf_free
 861:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return ERR_VAL;
 1005              		.loc 1 861 10
 1006 01ba 6FF00503 		mvn	r3, #5
 1007              	.L64:
 862:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 1008              		.loc 1 862 1 discriminator 1
 1009 01be 1846     		mov	r0, r3
 1010 01c0 4037     		adds	r7, r7, #64
 1011              	.LCFI36:
ARM GAS  /tmp/ccJEVG7R.s 			page 34


 1012              		.cfi_def_cfa_offset 8
 1013 01c2 BD46     		mov	sp, r7
 1014              	.LCFI37:
 1015              		.cfi_def_cfa_register 13
 1016              		@ sp needed
 1017 01c4 80BD     		pop	{r7, pc}
 1018              	.L68:
 1019 01c6 00BF     		.align	2
 1020              	.L67:
 1021 01c8 00000000 		.word	dns_table
 1022 01cc 00000000 		.word	.LC0
 1023 01d0 2C000000 		.word	.LC1
 1024 01d4 44000000 		.word	.LC2
 1025 01d8 00000000 		.word	dns_servers
 1026 01dc 00000000 		.word	dns_pcbs
 1027              		.cfi_endproc
 1028              	.LFE140:
 1030              		.section	.text.dns_alloc_random_port,"ax",%progbits
 1031              		.align	1
 1032              		.syntax unified
 1033              		.thumb
 1034              		.thumb_func
 1035              		.fpu fpv4-sp-d16
 1037              	dns_alloc_random_port:
 1038              	.LFB141:
 863:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 864:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0)
 865:Middlewares/Third_Party/LwIP/src/core/dns.c **** static struct udp_pcb *
 866:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_alloc_random_port(void)
 867:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 1039              		.loc 1 867 1
 1040              		.cfi_startproc
 1041              		@ args = 0, pretend = 0, frame = 16
 1042              		@ frame_needed = 1, uses_anonymous_args = 0
 1043 0000 80B5     		push	{r7, lr}
 1044              	.LCFI38:
 1045              		.cfi_def_cfa_offset 8
 1046              		.cfi_offset 7, -8
 1047              		.cfi_offset 14, -4
 1048 0002 84B0     		sub	sp, sp, #16
 1049              	.LCFI39:
 1050              		.cfi_def_cfa_offset 24
 1051 0004 00AF     		add	r7, sp, #0
 1052              	.LCFI40:
 1053              		.cfi_def_cfa_register 7
 868:Middlewares/Third_Party/LwIP/src/core/dns.c ****   err_t err;
 869:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct udp_pcb *pcb;
 870:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 871:Middlewares/Third_Party/LwIP/src/core/dns.c ****   pcb = udp_new_ip_type(IPADDR_TYPE_ANY);
 1054              		.loc 1 871 9
 1055 0006 2E20     		movs	r0, #46
 1056 0008 FFF7FEFF 		bl	udp_new_ip_type
 1057 000c B860     		str	r0, [r7, #8]
 872:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (pcb == NULL) {
 1058              		.loc 1 872 6
 1059 000e BB68     		ldr	r3, [r7, #8]
 1060 0010 002B     		cmp	r3, #0
ARM GAS  /tmp/ccJEVG7R.s 			page 35


 1061 0012 01D1     		bne	.L70
 873:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* out of memory, have to reuse an existing pcb */
 874:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return NULL;
 1062              		.loc 1 874 12
 1063 0014 0023     		movs	r3, #0
 1064 0016 26E0     		b	.L71
 1065              	.L70:
 1066              	.LBB7:
 875:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 876:Middlewares/Third_Party/LwIP/src/core/dns.c ****   do {
 877:Middlewares/Third_Party/LwIP/src/core/dns.c ****     u16_t port = (u16_t)DNS_RAND_TXID();
 1067              		.loc 1 877 25
 1068 0018 FFF7FEFF 		bl	rand
 1069 001c 0346     		mov	r3, r0
 1070              		.loc 1 877 11
 1071 001e FB80     		strh	r3, [r7, #6]	@ movhi
 878:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (DNS_PORT_ALLOWED(port)) {
 1072              		.loc 1 878 8
 1073 0020 FB88     		ldrh	r3, [r7, #6]
 1074 0022 B3F5806F 		cmp	r3, #1024
 1075 0026 08D3     		bcc	.L72
 879:Middlewares/Third_Party/LwIP/src/core/dns.c ****       err = udp_bind(pcb, IP_ANY_TYPE, port);
 1076              		.loc 1 879 13
 1077 0028 FB88     		ldrh	r3, [r7, #6]
 1078 002a 1A46     		mov	r2, r3
 1079 002c 1049     		ldr	r1, .L75
 1080 002e B868     		ldr	r0, [r7, #8]
 1081 0030 FFF7FEFF 		bl	udp_bind
 1082 0034 0346     		mov	r3, r0
 1083 0036 FB73     		strb	r3, [r7, #15]
 1084 0038 01E0     		b	.L73
 1085              	.L72:
 880:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 881:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* this port is not allowed, try again */
 882:Middlewares/Third_Party/LwIP/src/core/dns.c ****       err = ERR_USE;
 1086              		.loc 1 882 11
 1087 003a F823     		movs	r3, #248
 1088 003c FB73     		strb	r3, [r7, #15]
 1089              	.L73:
 1090              	.LBE7:
 883:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 884:Middlewares/Third_Party/LwIP/src/core/dns.c ****   } while (err == ERR_USE);
 1091              		.loc 1 884 3
 1092 003e 97F90F30 		ldrsb	r3, [r7, #15]
 1093 0042 13F1080F 		cmn	r3, #8
 1094 0046 E7D0     		beq	.L70
 885:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (err != ERR_OK) {
 1095              		.loc 1 885 6
 1096 0048 97F90F30 		ldrsb	r3, [r7, #15]
 1097 004c 002B     		cmp	r3, #0
 1098 004e 04D0     		beq	.L74
 886:Middlewares/Third_Party/LwIP/src/core/dns.c ****     udp_remove(pcb);
 1099              		.loc 1 886 5
 1100 0050 B868     		ldr	r0, [r7, #8]
 1101 0052 FFF7FEFF 		bl	udp_remove
 887:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return NULL;
 1102              		.loc 1 887 12
ARM GAS  /tmp/ccJEVG7R.s 			page 36


 1103 0056 0023     		movs	r3, #0
 1104 0058 05E0     		b	.L71
 1105              	.L74:
 888:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 889:Middlewares/Third_Party/LwIP/src/core/dns.c ****   udp_recv(pcb, dns_recv, NULL);
 1106              		.loc 1 889 3
 1107 005a 0022     		movs	r2, #0
 1108 005c 0549     		ldr	r1, .L75+4
 1109 005e B868     		ldr	r0, [r7, #8]
 1110 0060 FFF7FEFF 		bl	udp_recv
 890:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return pcb;
 1111              		.loc 1 890 10
 1112 0064 BB68     		ldr	r3, [r7, #8]
 1113              	.L71:
 891:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 1114              		.loc 1 891 1
 1115 0066 1846     		mov	r0, r3
 1116 0068 1037     		adds	r7, r7, #16
 1117              	.LCFI41:
 1118              		.cfi_def_cfa_offset 8
 1119 006a BD46     		mov	sp, r7
 1120              	.LCFI42:
 1121              		.cfi_def_cfa_register 13
 1122              		@ sp needed
 1123 006c 80BD     		pop	{r7, pc}
 1124              	.L76:
 1125 006e 00BF     		.align	2
 1126              	.L75:
 1127 0070 00000000 		.word	ip_addr_any
 1128 0074 00000000 		.word	dns_recv
 1129              		.cfi_endproc
 1130              	.LFE141:
 1132              		.section	.text.dns_alloc_pcb,"ax",%progbits
 1133              		.align	1
 1134              		.syntax unified
 1135              		.thumb
 1136              		.thumb_func
 1137              		.fpu fpv4-sp-d16
 1139              	dns_alloc_pcb:
 1140              	.LFB142:
 892:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 893:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 894:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * dns_alloc_pcb() - allocates a new pcb (or reuses an existing one) to be used
 895:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * for sending a request
 896:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 897:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return an index into dns_pcbs
 898:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 899:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u8_t
 900:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_alloc_pcb(void)
 901:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 1141              		.loc 1 901 1
 1142              		.cfi_startproc
 1143              		@ args = 0, pretend = 0, frame = 8
 1144              		@ frame_needed = 1, uses_anonymous_args = 0
 1145 0000 90B5     		push	{r4, r7, lr}
 1146              	.LCFI43:
 1147              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/ccJEVG7R.s 			page 37


 1148              		.cfi_offset 4, -12
 1149              		.cfi_offset 7, -8
 1150              		.cfi_offset 14, -4
 1151 0002 83B0     		sub	sp, sp, #12
 1152              	.LCFI44:
 1153              		.cfi_def_cfa_offset 24
 1154 0004 00AF     		add	r7, sp, #0
 1155              	.LCFI45:
 1156              		.cfi_def_cfa_register 7
 902:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t i;
 903:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t idx;
 904:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 905:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_MAX_SOURCE_PORTS; i++) {
 1157              		.loc 1 905 10
 1158 0006 0023     		movs	r3, #0
 1159 0008 FB71     		strb	r3, [r7, #7]
 1160              		.loc 1 905 3
 1161 000a 08E0     		b	.L78
 1162              	.L81:
 906:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_pcbs[i] == NULL) {
 1163              		.loc 1 906 17
 1164 000c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1165 000e 234A     		ldr	r2, .L89
 1166 0010 52F82330 		ldr	r3, [r2, r3, lsl #2]
 1167              		.loc 1 906 8
 1168 0014 002B     		cmp	r3, #0
 1169 0016 06D0     		beq	.L88
 905:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_pcbs[i] == NULL) {
 1170              		.loc 1 905 42 discriminator 2
 1171 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1172 001a 0133     		adds	r3, r3, #1
 1173 001c FB71     		strb	r3, [r7, #7]
 1174              	.L78:
 905:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_pcbs[i] == NULL) {
 1175              		.loc 1 905 3 discriminator 1
 1176 001e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1177 0020 032B     		cmp	r3, #3
 1178 0022 F3D9     		bls	.L81
 1179 0024 00E0     		b	.L80
 1180              	.L88:
 907:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
 1181              		.loc 1 907 7
 1182 0026 00BF     		nop
 1183              	.L80:
 908:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 909:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 910:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (i < DNS_MAX_SOURCE_PORTS) {
 1184              		.loc 1 910 6
 1185 0028 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1186 002a 032B     		cmp	r3, #3
 1187 002c 11D8     		bhi	.L82
 911:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_pcbs[i] = dns_alloc_random_port();
 1188              		.loc 1 911 13
 1189 002e FC79     		ldrb	r4, [r7, #7]	@ zero_extendqisi2
 1190              		.loc 1 911 19
 1191 0030 FFF7FEFF 		bl	dns_alloc_random_port
 1192 0034 0246     		mov	r2, r0
ARM GAS  /tmp/ccJEVG7R.s 			page 38


 1193              		.loc 1 911 17
 1194 0036 194B     		ldr	r3, .L89
 1195 0038 43F82420 		str	r2, [r3, r4, lsl #2]
 912:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_pcbs[i] != NULL) {
 1196              		.loc 1 912 17
 1197 003c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1198 003e 174A     		ldr	r2, .L89
 1199 0040 52F82330 		ldr	r3, [r2, r3, lsl #2]
 1200              		.loc 1 912 8
 1201 0044 002B     		cmp	r3, #0
 1202 0046 04D0     		beq	.L82
 913:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* succeeded */
 914:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dns_last_pcb_idx = i;
 1203              		.loc 1 914 24
 1204 0048 154A     		ldr	r2, .L89+4
 1205 004a FB79     		ldrb	r3, [r7, #7]
 1206 004c 1370     		strb	r3, [r2]
 915:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return i;
 1207              		.loc 1 915 14
 1208 004e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1209 0050 20E0     		b	.L83
 1210              	.L82:
 916:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 917:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 918:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* if we come here, creating a new UDP pcb failed, so we have to use
 919:Middlewares/Third_Party/LwIP/src/core/dns.c ****      an already existing one (so overflow is no issue) */
 920:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0, idx = (u8_t)(dns_last_pcb_idx + 1); i < DNS_MAX_SOURCE_PORTS; i++, idx++) {
 1211              		.loc 1 920 10
 1212 0052 0023     		movs	r3, #0
 1213 0054 FB71     		strb	r3, [r7, #7]
 1214              		.loc 1 920 21
 1215 0056 124B     		ldr	r3, .L89+4
 1216 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1217              		.loc 1 920 19
 1218 005a 0133     		adds	r3, r3, #1
 1219 005c BB71     		strb	r3, [r7, #6]
 1220              		.loc 1 920 3
 1221 005e 15E0     		b	.L84
 1222              	.L87:
 921:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (idx >= DNS_MAX_SOURCE_PORTS) {
 1223              		.loc 1 921 8
 1224 0060 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 1225 0062 032B     		cmp	r3, #3
 1226 0064 01D9     		bls	.L85
 922:Middlewares/Third_Party/LwIP/src/core/dns.c ****       idx = 0;
 1227              		.loc 1 922 11
 1228 0066 0023     		movs	r3, #0
 1229 0068 BB71     		strb	r3, [r7, #6]
 1230              	.L85:
 923:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 924:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_pcbs[idx] != NULL) {
 1231              		.loc 1 924 17
 1232 006a BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 1233 006c 0B4A     		ldr	r2, .L89
 1234 006e 52F82330 		ldr	r3, [r2, r3, lsl #2]
 1235              		.loc 1 924 8
 1236 0072 002B     		cmp	r3, #0
ARM GAS  /tmp/ccJEVG7R.s 			page 39


 1237 0074 04D0     		beq	.L86
 925:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dns_last_pcb_idx = idx;
 1238              		.loc 1 925 24
 1239 0076 0A4A     		ldr	r2, .L89+4
 1240 0078 BB79     		ldrb	r3, [r7, #6]
 1241 007a 1370     		strb	r3, [r2]
 926:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return idx;
 1242              		.loc 1 926 14
 1243 007c BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 1244 007e 09E0     		b	.L83
 1245              	.L86:
 920:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (idx >= DNS_MAX_SOURCE_PORTS) {
 1246              		.loc 1 920 78 discriminator 2
 1247 0080 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1248 0082 0133     		adds	r3, r3, #1
 1249 0084 FB71     		strb	r3, [r7, #7]
 920:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (idx >= DNS_MAX_SOURCE_PORTS) {
 1250              		.loc 1 920 85 discriminator 2
 1251 0086 BB79     		ldrb	r3, [r7, #6]	@ zero_extendqisi2
 1252 0088 0133     		adds	r3, r3, #1
 1253 008a BB71     		strb	r3, [r7, #6]
 1254              	.L84:
 920:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (idx >= DNS_MAX_SOURCE_PORTS) {
 1255              		.loc 1 920 3 discriminator 1
 1256 008c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1257 008e 032B     		cmp	r3, #3
 1258 0090 E6D9     		bls	.L87
 927:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 928:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 929:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return DNS_MAX_SOURCE_PORTS;
 1259              		.loc 1 929 10
 1260 0092 0423     		movs	r3, #4
 1261              	.L83:
 930:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 1262              		.loc 1 930 1
 1263 0094 1846     		mov	r0, r3
 1264 0096 0C37     		adds	r7, r7, #12
 1265              	.LCFI46:
 1266              		.cfi_def_cfa_offset 12
 1267 0098 BD46     		mov	sp, r7
 1268              	.LCFI47:
 1269              		.cfi_def_cfa_register 13
 1270              		@ sp needed
 1271 009a 90BD     		pop	{r4, r7, pc}
 1272              	.L90:
 1273              		.align	2
 1274              	.L89:
 1275 009c 00000000 		.word	dns_pcbs
 1276 00a0 00000000 		.word	dns_last_pcb_idx
 1277              		.cfi_endproc
 1278              	.LFE142:
 1280              		.section	.text.dns_call_found,"ax",%progbits
 1281              		.align	1
 1282              		.syntax unified
 1283              		.thumb
 1284              		.thumb_func
 1285              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccJEVG7R.s 			page 40


 1287              	dns_call_found:
 1288              	.LFB143:
 931:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0) */
 932:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 933:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
 934:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * dns_call_found() - call the found callback and check if there are duplicate
 935:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * entries for the given hostname. If there are any, their found callback will
 936:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * be called and they will be removed.
 937:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
 938:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param idx dns table index of the entry that is resolved or removed
 939:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param addr IP address for the hostname (or NULL on error or memory shortage)
 940:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
 941:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void
 942:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_call_found(u8_t idx, ip_addr_t *addr)
 943:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 1289              		.loc 1 943 1
 1290              		.cfi_startproc
 1291              		@ args = 0, pretend = 0, frame = 16
 1292              		@ frame_needed = 1, uses_anonymous_args = 0
 1293 0000 90B5     		push	{r4, r7, lr}
 1294              	.LCFI48:
 1295              		.cfi_def_cfa_offset 12
 1296              		.cfi_offset 4, -12
 1297              		.cfi_offset 7, -8
 1298              		.cfi_offset 14, -4
 1299 0002 85B0     		sub	sp, sp, #20
 1300              	.LCFI49:
 1301              		.cfi_def_cfa_offset 32
 1302 0004 00AF     		add	r7, sp, #0
 1303              	.LCFI50:
 1304              		.cfi_def_cfa_register 7
 1305 0006 0346     		mov	r3, r0
 1306 0008 3960     		str	r1, [r7]
 1307 000a FB71     		strb	r3, [r7, #7]
 944:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & (LWIP_DNS_SECURE_NO_MULTIPLE_OUTSTANDING | LWIP_DNS_SECURE_RAND_SRC_PORT)) 
 945:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t i;
 946:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 947:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 948:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
 949:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (addr != NULL) {
 950:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* check that address type matches the request and adapt the table entry */
 951:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (IP_IS_V6_VAL(*addr)) {
 952:Middlewares/Third_Party/LwIP/src/core/dns.c ****       LWIP_ASSERT("invalid response", LWIP_DNS_ADDRTYPE_IS_IPV6(dns_table[idx].reqaddrtype));
 953:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dns_table[idx].reqaddrtype = LWIP_DNS_ADDRTYPE_IPV6;
 954:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
 955:Middlewares/Third_Party/LwIP/src/core/dns.c ****       LWIP_ASSERT("invalid response", !LWIP_DNS_ADDRTYPE_IS_IPV6(dns_table[idx].reqaddrtype));
 956:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dns_table[idx].reqaddrtype = LWIP_DNS_ADDRTYPE_IPV4;
 957:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 958:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 959:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 960:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 961:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_NO_MULTIPLE_OUTSTANDING) != 0)
 962:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_MAX_REQUESTS; i++) {
 1308              		.loc 1 962 10
 1309 000c 0023     		movs	r3, #0
 1310 000e FB73     		strb	r3, [r7, #15]
 1311              		.loc 1 962 3
ARM GAS  /tmp/ccJEVG7R.s 			page 41


 1312 0010 3DE0     		b	.L92
 1313              	.L94:
 963:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_requests[i].found && (dns_requests[i].dns_table_idx == idx)) {
 1314              		.loc 1 963 24
 1315 0012 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1316 0014 5749     		ldr	r1, .L103
 1317 0016 1346     		mov	r3, r2
 1318 0018 5B00     		lsls	r3, r3, #1
 1319 001a 1344     		add	r3, r3, r2
 1320 001c 9B00     		lsls	r3, r3, #2
 1321 001e 0B44     		add	r3, r3, r1
 1322 0020 1B68     		ldr	r3, [r3]
 1323              		.loc 1 963 8
 1324 0022 002B     		cmp	r3, #0
 1325 0024 30D0     		beq	.L93
 1326              		.loc 1 963 50 discriminator 1
 1327 0026 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1328 0028 5249     		ldr	r1, .L103
 1329 002a 1346     		mov	r3, r2
 1330 002c 5B00     		lsls	r3, r3, #1
 1331 002e 1344     		add	r3, r3, r2
 1332 0030 9B00     		lsls	r3, r3, #2
 1333 0032 0B44     		add	r3, r3, r1
 1334 0034 0833     		adds	r3, r3, #8
 1335 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1336              		.loc 1 963 31 discriminator 1
 1337 0038 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1338 003a 9A42     		cmp	r2, r3
 1339 003c 24D1     		bne	.L93
 964:Middlewares/Third_Party/LwIP/src/core/dns.c ****       (*dns_requests[i].found)(dns_table[idx].name, addr, dns_requests[i].arg);
 1340              		.loc 1 964 8
 1341 003e FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1342 0040 4C49     		ldr	r1, .L103
 1343 0042 1346     		mov	r3, r2
 1344 0044 5B00     		lsls	r3, r3, #1
 1345 0046 1344     		add	r3, r3, r2
 1346 0048 9B00     		lsls	r3, r3, #2
 1347 004a 0B44     		add	r3, r3, r1
 1348 004c 1C68     		ldr	r4, [r3]
 1349              		.loc 1 964 46
 1350 004e FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1351 0050 1346     		mov	r3, r2
 1352 0052 1B01     		lsls	r3, r3, #4
 1353 0054 1344     		add	r3, r3, r2
 1354 0056 1B01     		lsls	r3, r3, #4
 1355 0058 1033     		adds	r3, r3, #16
 1356 005a 474A     		ldr	r2, .L103+4
 1357 005c 9818     		adds	r0, r3, r2
 1358              		.loc 1 964 8
 1359 005e FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1360 0060 4449     		ldr	r1, .L103
 1361 0062 1346     		mov	r3, r2
 1362 0064 5B00     		lsls	r3, r3, #1
 1363 0066 1344     		add	r3, r3, r2
 1364 0068 9B00     		lsls	r3, r3, #2
 1365 006a 0B44     		add	r3, r3, r1
 1366 006c 0433     		adds	r3, r3, #4
ARM GAS  /tmp/ccJEVG7R.s 			page 42


 1367 006e 1B68     		ldr	r3, [r3]
 1368 0070 1A46     		mov	r2, r3
 1369 0072 3968     		ldr	r1, [r7]
 1370 0074 A047     		blx	r4
 1371              	.LVL0:
 965:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* flush this entry */
 966:Middlewares/Third_Party/LwIP/src/core/dns.c ****       dns_requests[i].found = NULL;
 1372              		.loc 1 966 22
 1373 0076 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1374              		.loc 1 966 29
 1375 0078 3E49     		ldr	r1, .L103
 1376 007a 1346     		mov	r3, r2
 1377 007c 5B00     		lsls	r3, r3, #1
 1378 007e 1344     		add	r3, r3, r2
 1379 0080 9B00     		lsls	r3, r3, #2
 1380 0082 0B44     		add	r3, r3, r1
 1381 0084 0022     		movs	r2, #0
 1382 0086 1A60     		str	r2, [r3]
 1383              	.L93:
 962:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_requests[i].found && (dns_requests[i].dns_table_idx == idx)) {
 1384              		.loc 1 962 38 discriminator 2
 1385 0088 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1386 008a 0133     		adds	r3, r3, #1
 1387 008c FB73     		strb	r3, [r7, #15]
 1388              	.L92:
 962:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_requests[i].found && (dns_requests[i].dns_table_idx == idx)) {
 1389              		.loc 1 962 3 discriminator 1
 1390 008e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1391 0090 032B     		cmp	r3, #3
 1392 0092 BED9     		bls	.L94
 967:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 968:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 969:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
 970:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (dns_requests[idx].found) {
 971:Middlewares/Third_Party/LwIP/src/core/dns.c ****     (*dns_requests[idx].found)(dns_table[idx].name, addr, dns_requests[idx].arg);
 972:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 973:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_requests[idx].found = NULL;
 974:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 975:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0)
 976:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* close the pcb used unless other request are using it */
 977:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_MAX_REQUESTS; i++) {
 1393              		.loc 1 977 10
 1394 0094 0023     		movs	r3, #0
 1395 0096 FB73     		strb	r3, [r7, #15]
 1396              		.loc 1 977 3
 1397 0098 31E0     		b	.L95
 1398              	.L99:
 978:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (i == idx) {
 1399              		.loc 1 978 8
 1400 009a FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1401 009c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1402 009e 9A42     		cmp	r2, r3
 1403 00a0 29D0     		beq	.L101
 979:Middlewares/Third_Party/LwIP/src/core/dns.c ****       continue; /* only check other requests */
 980:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 981:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_table[i].state == DNS_STATE_ASKING) {
 1404              		.loc 1 981 21
ARM GAS  /tmp/ccJEVG7R.s 			page 43


 1405 00a2 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1406 00a4 3449     		ldr	r1, .L103+4
 1407 00a6 1346     		mov	r3, r2
 1408 00a8 1B01     		lsls	r3, r3, #4
 1409 00aa 1344     		add	r3, r3, r2
 1410 00ac 1B01     		lsls	r3, r3, #4
 1411 00ae 0B44     		add	r3, r3, r1
 1412 00b0 0A33     		adds	r3, r3, #10
 1413 00b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1414              		.loc 1 981 8
 1415 00b4 022B     		cmp	r3, #2
 1416 00b6 1FD1     		bne	.L97
 982:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (dns_table[i].pcb_idx == dns_table[idx].pcb_idx) {
 1417              		.loc 1 982 23
 1418 00b8 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1419 00ba 2F49     		ldr	r1, .L103+4
 1420 00bc 1346     		mov	r3, r2
 1421 00be 1B01     		lsls	r3, r3, #4
 1422 00c0 1344     		add	r3, r3, r2
 1423 00c2 1B01     		lsls	r3, r3, #4
 1424 00c4 0B44     		add	r3, r3, r1
 1425 00c6 0F33     		adds	r3, r3, #15
 1426 00c8 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1427              		.loc 1 982 49
 1428 00ca FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1429 00cc 2A48     		ldr	r0, .L103+4
 1430 00ce 1346     		mov	r3, r2
 1431 00d0 1B01     		lsls	r3, r3, #4
 1432 00d2 1344     		add	r3, r3, r2
 1433 00d4 1B01     		lsls	r3, r3, #4
 1434 00d6 0344     		add	r3, r3, r0
 1435 00d8 0F33     		adds	r3, r3, #15
 1436 00da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1437              		.loc 1 982 10
 1438 00dc 9942     		cmp	r1, r3
 1439 00de 0BD1     		bne	.L97
 983:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* another request is still using the same pcb */
 984:Middlewares/Third_Party/LwIP/src/core/dns.c ****         dns_table[idx].pcb_idx = DNS_MAX_SOURCE_PORTS;
 1440              		.loc 1 984 23
 1441 00e0 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1442              		.loc 1 984 32
 1443 00e2 2549     		ldr	r1, .L103+4
 1444 00e4 1346     		mov	r3, r2
 1445 00e6 1B01     		lsls	r3, r3, #4
 1446 00e8 1344     		add	r3, r3, r2
 1447 00ea 1B01     		lsls	r3, r3, #4
 1448 00ec 0B44     		add	r3, r3, r1
 1449 00ee 0F33     		adds	r3, r3, #15
 1450 00f0 0422     		movs	r2, #4
 1451 00f2 1A70     		strb	r2, [r3]
 985:Middlewares/Third_Party/LwIP/src/core/dns.c ****         break;
 1452              		.loc 1 985 9
 1453 00f4 06E0     		b	.L98
 1454              	.L101:
 979:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 1455              		.loc 1 979 7
 1456 00f6 00BF     		nop
ARM GAS  /tmp/ccJEVG7R.s 			page 44


 1457              	.L97:
 977:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (i == idx) {
 1458              		.loc 1 977 38 discriminator 2
 1459 00f8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1460 00fa 0133     		adds	r3, r3, #1
 1461 00fc FB73     		strb	r3, [r7, #15]
 1462              	.L95:
 977:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (i == idx) {
 1463              		.loc 1 977 3 discriminator 1
 1464 00fe FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1465 0100 032B     		cmp	r3, #3
 1466 0102 CAD9     		bls	.L99
 1467              	.L98:
 986:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
 987:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 988:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 989:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (dns_table[idx].pcb_idx < DNS_MAX_SOURCE_PORTS) {
 1468              		.loc 1 989 21
 1469 0104 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1470 0106 1C49     		ldr	r1, .L103+4
 1471 0108 1346     		mov	r3, r2
 1472 010a 1B01     		lsls	r3, r3, #4
 1473 010c 1344     		add	r3, r3, r2
 1474 010e 1B01     		lsls	r3, r3, #4
 1475 0110 0B44     		add	r3, r3, r1
 1476 0112 0F33     		adds	r3, r3, #15
 1477 0114 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1478              		.loc 1 989 6
 1479 0116 032B     		cmp	r3, #3
 1480 0118 27D8     		bhi	.L102
 990:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* if we come here, the pcb is not used any more and can be removed */
 991:Middlewares/Third_Party/LwIP/src/core/dns.c ****     udp_remove(dns_pcbs[dns_table[idx].pcb_idx]);
 1481              		.loc 1 991 39
 1482 011a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1483 011c 1649     		ldr	r1, .L103+4
 1484 011e 1346     		mov	r3, r2
 1485 0120 1B01     		lsls	r3, r3, #4
 1486 0122 1344     		add	r3, r3, r2
 1487 0124 1B01     		lsls	r3, r3, #4
 1488 0126 0B44     		add	r3, r3, r1
 1489 0128 0F33     		adds	r3, r3, #15
 1490 012a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1491 012c 1A46     		mov	r2, r3
 1492              		.loc 1 991 5
 1493 012e 134B     		ldr	r3, .L103+8
 1494 0130 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1495 0134 1846     		mov	r0, r3
 1496 0136 FFF7FEFF 		bl	udp_remove
 992:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_pcbs[dns_table[idx].pcb_idx] = NULL;
 1497              		.loc 1 992 28
 1498 013a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1499 013c 0E49     		ldr	r1, .L103+4
 1500 013e 1346     		mov	r3, r2
 1501 0140 1B01     		lsls	r3, r3, #4
 1502 0142 1344     		add	r3, r3, r2
 1503 0144 1B01     		lsls	r3, r3, #4
 1504 0146 0B44     		add	r3, r3, r1
ARM GAS  /tmp/ccJEVG7R.s 			page 45


 1505 0148 0F33     		adds	r3, r3, #15
 1506 014a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1507 014c 1946     		mov	r1, r3
 1508              		.loc 1 992 38
 1509 014e 0B4B     		ldr	r3, .L103+8
 1510 0150 0022     		movs	r2, #0
 1511 0152 43F82120 		str	r2, [r3, r1, lsl #2]
 993:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_table[idx].pcb_idx = DNS_MAX_SOURCE_PORTS;
 1512              		.loc 1 993 19
 1513 0156 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1514              		.loc 1 993 28
 1515 0158 0749     		ldr	r1, .L103+4
 1516 015a 1346     		mov	r3, r2
 1517 015c 1B01     		lsls	r3, r3, #4
 1518 015e 1344     		add	r3, r3, r2
 1519 0160 1B01     		lsls	r3, r3, #4
 1520 0162 0B44     		add	r3, r3, r1
 1521 0164 0F33     		adds	r3, r3, #15
 1522 0166 0422     		movs	r2, #4
 1523 0168 1A70     		strb	r2, [r3]
 1524              	.L102:
 994:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 995:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
 996:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 1525              		.loc 1 996 1
 1526 016a 00BF     		nop
 1527 016c 1437     		adds	r7, r7, #20
 1528              	.LCFI51:
 1529              		.cfi_def_cfa_offset 12
 1530 016e BD46     		mov	sp, r7
 1531              	.LCFI52:
 1532              		.cfi_def_cfa_register 13
 1533              		@ sp needed
 1534 0170 90BD     		pop	{r4, r7, pc}
 1535              	.L104:
 1536 0172 00BF     		.align	2
 1537              	.L103:
 1538 0174 00000000 		.word	dns_requests
 1539 0178 00000000 		.word	dns_table
 1540 017c 00000000 		.word	dns_pcbs
 1541              		.cfi_endproc
 1542              	.LFE143:
 1544              		.section	.text.dns_create_txid,"ax",%progbits
 1545              		.align	1
 1546              		.syntax unified
 1547              		.thumb
 1548              		.thumb_func
 1549              		.fpu fpv4-sp-d16
 1551              	dns_create_txid:
 1552              	.LFB144:
 997:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
 998:Middlewares/Third_Party/LwIP/src/core/dns.c **** /* Create a query transmission ID that is unique for all outstanding queries */
 999:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u16_t
1000:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_create_txid(void)
1001:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 1553              		.loc 1 1001 1
 1554              		.cfi_startproc
ARM GAS  /tmp/ccJEVG7R.s 			page 46


 1555              		@ args = 0, pretend = 0, frame = 8
 1556              		@ frame_needed = 1, uses_anonymous_args = 0
 1557 0000 80B5     		push	{r7, lr}
 1558              	.LCFI53:
 1559              		.cfi_def_cfa_offset 8
 1560              		.cfi_offset 7, -8
 1561              		.cfi_offset 14, -4
 1562 0002 82B0     		sub	sp, sp, #8
 1563              	.LCFI54:
 1564              		.cfi_def_cfa_offset 16
 1565 0004 00AF     		add	r7, sp, #0
 1566              	.LCFI55:
 1567              		.cfi_def_cfa_register 7
 1568              	.L106:
1002:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t txid;
1003:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t i;
1004:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1005:Middlewares/Third_Party/LwIP/src/core/dns.c **** again:
1006:Middlewares/Third_Party/LwIP/src/core/dns.c ****   txid = (u16_t)DNS_RAND_TXID();
 1569              		.loc 1 1006 17
 1570 0006 FFF7FEFF 		bl	rand
 1571 000a 0346     		mov	r3, r0
 1572              		.loc 1 1006 8
 1573 000c BB80     		strh	r3, [r7, #4]	@ movhi
1007:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1008:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* check whether the ID is unique */
1009:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_TABLE_SIZE; i++) {
 1574              		.loc 1 1009 10
 1575 000e 0023     		movs	r3, #0
 1576 0010 FB71     		strb	r3, [r7, #7]
 1577              		.loc 1 1009 3
 1578 0012 1AE0     		b	.L107
 1579              	.L109:
1010:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 1580              		.loc 1 1010 22
 1581 0014 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1582 0016 1149     		ldr	r1, .L111
 1583 0018 1346     		mov	r3, r2
 1584 001a 1B01     		lsls	r3, r3, #4
 1585 001c 1344     		add	r3, r3, r2
 1586 001e 1B01     		lsls	r3, r3, #4
 1587 0020 0B44     		add	r3, r3, r1
 1588 0022 0A33     		adds	r3, r3, #10
 1589 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1590              		.loc 1 1010 8
 1591 0026 022B     		cmp	r3, #2
 1592 0028 0CD1     		bne	.L108
1011:Middlewares/Third_Party/LwIP/src/core/dns.c ****         (dns_table[i].txid == txid)) {
 1593              		.loc 1 1011 22 discriminator 1
 1594 002a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1595 002c 0B49     		ldr	r1, .L111
 1596 002e 1346     		mov	r3, r2
 1597 0030 1B01     		lsls	r3, r3, #4
 1598 0032 1344     		add	r3, r3, r2
 1599 0034 1B01     		lsls	r3, r3, #4
 1600 0036 0B44     		add	r3, r3, r1
 1601 0038 0833     		adds	r3, r3, #8
ARM GAS  /tmp/ccJEVG7R.s 			page 47


 1602 003a 1B88     		ldrh	r3, [r3]
1010:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 1603              		.loc 1 1010 50 discriminator 1
 1604 003c BA88     		ldrh	r2, [r7, #4]
 1605 003e 9A42     		cmp	r2, r3
 1606 0040 00D1     		bne	.L108
1012:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* ID already used by another pending query */
1013:Middlewares/Third_Party/LwIP/src/core/dns.c ****       goto again;
 1607              		.loc 1 1013 7
 1608 0042 E0E7     		b	.L106
 1609              	.L108:
1009:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 1610              		.loc 1 1009 36 discriminator 2
 1611 0044 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1612 0046 0133     		adds	r3, r3, #1
 1613 0048 FB71     		strb	r3, [r7, #7]
 1614              	.L107:
1009:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 1615              		.loc 1 1009 3 discriminator 1
 1616 004a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1617 004c 032B     		cmp	r3, #3
 1618 004e E1D9     		bls	.L109
1014:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1015:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1016:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1017:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return txid;
 1619              		.loc 1 1017 10
 1620 0050 BB88     		ldrh	r3, [r7, #4]
1018:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 1621              		.loc 1 1018 1
 1622 0052 1846     		mov	r0, r3
 1623 0054 0837     		adds	r7, r7, #8
 1624              	.LCFI56:
 1625              		.cfi_def_cfa_offset 8
 1626 0056 BD46     		mov	sp, r7
 1627              	.LCFI57:
 1628              		.cfi_def_cfa_register 13
 1629              		@ sp needed
 1630 0058 80BD     		pop	{r7, pc}
 1631              	.L112:
 1632 005a 00BF     		.align	2
 1633              	.L111:
 1634 005c 00000000 		.word	dns_table
 1635              		.cfi_endproc
 1636              	.LFE144:
 1638              		.section	.text.dns_backupserver_available,"ax",%progbits
 1639              		.align	1
 1640              		.syntax unified
 1641              		.thumb
 1642              		.thumb_func
 1643              		.fpu fpv4-sp-d16
 1645              	dns_backupserver_available:
 1646              	.LFB145:
1019:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1020:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1021:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Check whether there are other backup DNS servers available to try
1022:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
ARM GAS  /tmp/ccJEVG7R.s 			page 48


1023:Middlewares/Third_Party/LwIP/src/core/dns.c **** static u8_t
1024:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_backupserver_available(struct dns_table_entry *pentry)
1025:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 1647              		.loc 1 1025 1
 1648              		.cfi_startproc
 1649              		@ args = 0, pretend = 0, frame = 16
 1650              		@ frame_needed = 1, uses_anonymous_args = 0
 1651              		@ link register save eliminated.
 1652 0000 80B4     		push	{r7}
 1653              	.LCFI58:
 1654              		.cfi_def_cfa_offset 4
 1655              		.cfi_offset 7, -4
 1656 0002 85B0     		sub	sp, sp, #20
 1657              	.LCFI59:
 1658              		.cfi_def_cfa_offset 24
 1659 0004 00AF     		add	r7, sp, #0
 1660              	.LCFI60:
 1661              		.cfi_def_cfa_register 7
 1662 0006 7860     		str	r0, [r7, #4]
1026:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t ret = 0;
 1663              		.loc 1 1026 8
 1664 0008 0023     		movs	r3, #0
 1665 000a FB73     		strb	r3, [r7, #15]
1027:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1028:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (pentry) {
 1666              		.loc 1 1028 6
 1667 000c 7B68     		ldr	r3, [r7, #4]
 1668 000e 002B     		cmp	r3, #0
 1669 0010 0DD0     		beq	.L114
1029:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((pentry->server_idx + 1 < DNS_MAX_SERVERS) && !ip_addr_isany_val(dns_servers[pentry->server
 1670              		.loc 1 1029 16
 1671 0012 7B68     		ldr	r3, [r7, #4]
 1672 0014 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1673              		.loc 1 1029 8
 1674 0016 002B     		cmp	r3, #0
 1675 0018 09D1     		bne	.L114
 1676              		.loc 1 1029 56 discriminator 1
 1677 001a 7B68     		ldr	r3, [r7, #4]
 1678 001c DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1679 001e 0133     		adds	r3, r3, #1
 1680 0020 064A     		ldr	r2, .L116
 1681 0022 52F82330 		ldr	r3, [r2, r3, lsl #2]
 1682              		.loc 1 1029 52 discriminator 1
 1683 0026 002B     		cmp	r3, #0
 1684 0028 01D0     		beq	.L114
1030:Middlewares/Third_Party/LwIP/src/core/dns.c ****       ret = 1;
 1685              		.loc 1 1030 11
 1686 002a 0123     		movs	r3, #1
 1687 002c FB73     		strb	r3, [r7, #15]
 1688              	.L114:
1031:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1032:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1033:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1034:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return ret;
 1689              		.loc 1 1034 10
 1690 002e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1035:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
ARM GAS  /tmp/ccJEVG7R.s 			page 49


 1691              		.loc 1 1035 1
 1692 0030 1846     		mov	r0, r3
 1693 0032 1437     		adds	r7, r7, #20
 1694              	.LCFI61:
 1695              		.cfi_def_cfa_offset 4
 1696 0034 BD46     		mov	sp, r7
 1697              	.LCFI62:
 1698              		.cfi_def_cfa_register 13
 1699              		@ sp needed
 1700 0036 5DF8047B 		ldr	r7, [sp], #4
 1701              	.LCFI63:
 1702              		.cfi_restore 7
 1703              		.cfi_def_cfa_offset 0
 1704 003a 7047     		bx	lr
 1705              	.L117:
 1706              		.align	2
 1707              	.L116:
 1708 003c 00000000 		.word	dns_servers
 1709              		.cfi_endproc
 1710              	.LFE145:
 1712              		.section	.rodata
 1713              		.align	2
 1714              	.LC3:
 1715 006c 61727261 		.ascii	"array index out of bounds\000"
 1715      7920696E 
 1715      64657820 
 1715      6F757420 
 1715      6F662062 
 1716 0086 0000     		.align	2
 1717              	.LC4:
 1718 0088 756E6B6E 		.ascii	"unknown dns_table entry state:\000"
 1718      6F776E20 
 1718      646E735F 
 1718      7461626C 
 1718      6520656E 
 1719              		.section	.text.dns_check_entry,"ax",%progbits
 1720              		.align	1
 1721              		.syntax unified
 1722              		.thumb
 1723              		.thumb_func
 1724              		.fpu fpv4-sp-d16
 1726              	dns_check_entry:
 1727              	.LFB146:
1036:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1038:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * dns_check_entry() - see if entry has not yet been queried and, if so, sends out a query.
1039:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Check an entry in the dns_table:
1040:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * - send out query for new entries
1041:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * - retry old pending entries on timeout (also with different servers)
1042:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * - remove completed entries from the table if their TTL has expired
1043:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
1044:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param i index of the dns_table entry to check
1045:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
1046:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void
1047:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_check_entry(u8_t i)
1048:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 1728              		.loc 1 1048 1
ARM GAS  /tmp/ccJEVG7R.s 			page 50


 1729              		.cfi_startproc
 1730              		@ args = 0, pretend = 0, frame = 16
 1731              		@ frame_needed = 1, uses_anonymous_args = 0
 1732 0000 80B5     		push	{r7, lr}
 1733              	.LCFI64:
 1734              		.cfi_def_cfa_offset 8
 1735              		.cfi_offset 7, -8
 1736              		.cfi_offset 14, -4
 1737 0002 84B0     		sub	sp, sp, #16
 1738              	.LCFI65:
 1739              		.cfi_def_cfa_offset 24
 1740 0004 00AF     		add	r7, sp, #0
 1741              	.LCFI66:
 1742              		.cfi_def_cfa_register 7
 1743 0006 0346     		mov	r3, r0
 1744 0008 FB71     		strb	r3, [r7, #7]
1049:Middlewares/Third_Party/LwIP/src/core/dns.c ****   err_t err;
1050:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_table_entry *entry = &dns_table[i];
 1745              		.loc 1 1050 45
 1746 000a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 1747              		.loc 1 1050 27
 1748 000c 1346     		mov	r3, r2
 1749 000e 1B01     		lsls	r3, r3, #4
 1750 0010 1344     		add	r3, r3, r2
 1751 0012 1B01     		lsls	r3, r3, #4
 1752 0014 484A     		ldr	r2, .L137
 1753 0016 1344     		add	r3, r3, r2
 1754 0018 FB60     		str	r3, [r7, #12]
1051:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1052:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_ASSERT("array index out of bounds", i < DNS_TABLE_SIZE);
 1755              		.loc 1 1052 3
 1756 001a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1757 001c 032B     		cmp	r3, #3
 1758 001e 06D9     		bls	.L119
 1759              		.loc 1 1052 3 is_stmt 0 discriminator 1
 1760 0020 464B     		ldr	r3, .L137+4
 1761 0022 40F21C42 		movw	r2, #1052
 1762 0026 4649     		ldr	r1, .L137+8
 1763 0028 4648     		ldr	r0, .L137+12
 1764 002a FFF7FEFF 		bl	printf
 1765              	.L119:
1053:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1054:Middlewares/Third_Party/LwIP/src/core/dns.c ****   switch (entry->state) {
 1766              		.loc 1 1054 16 is_stmt 1
 1767 002e FB68     		ldr	r3, [r7, #12]
 1768 0030 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1769              		.loc 1 1054 3
 1770 0032 032B     		cmp	r3, #3
 1771 0034 6FD8     		bhi	.L133
 1772 0036 01A2     		adr	r2, .L122
 1773 0038 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1774              		.p2align 2
 1775              	.L122:
 1776 003c 27010000 		.word	.L134+1
 1777 0040 4D000000 		.word	.L124+1
 1778 0044 7F000000 		.word	.L123+1
 1779 0048 F5000000 		.word	.L121+1
ARM GAS  /tmp/ccJEVG7R.s 			page 51


 1780              		.p2align 1
 1781              	.L124:
1055:Middlewares/Third_Party/LwIP/src/core/dns.c ****     case DNS_STATE_NEW:
1056:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* initialize new entry */
1057:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->txid = dns_create_txid();
 1782              		.loc 1 1057 21
 1783 004c FFF7FEFF 		bl	dns_create_txid
 1784 0050 0346     		mov	r3, r0
 1785 0052 1A46     		mov	r2, r3
 1786              		.loc 1 1057 19
 1787 0054 FB68     		ldr	r3, [r7, #12]
 1788 0056 1A81     		strh	r2, [r3, #8]	@ movhi
1058:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->state = DNS_STATE_ASKING;
 1789              		.loc 1 1058 20
 1790 0058 FB68     		ldr	r3, [r7, #12]
 1791 005a 0222     		movs	r2, #2
 1792 005c 9A72     		strb	r2, [r3, #10]
1059:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->server_idx = 0;
 1793              		.loc 1 1059 25
 1794 005e FB68     		ldr	r3, [r7, #12]
 1795 0060 0022     		movs	r2, #0
 1796 0062 DA72     		strb	r2, [r3, #11]
1060:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->tmr = 1;
 1797              		.loc 1 1060 18
 1798 0064 FB68     		ldr	r3, [r7, #12]
 1799 0066 0122     		movs	r2, #1
 1800 0068 1A73     		strb	r2, [r3, #12]
1061:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->retries = 0;
 1801              		.loc 1 1061 22
 1802 006a FB68     		ldr	r3, [r7, #12]
 1803 006c 0022     		movs	r2, #0
 1804 006e 5A73     		strb	r2, [r3, #13]
1062:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1063:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* send DNS packet for this entry */
1064:Middlewares/Third_Party/LwIP/src/core/dns.c ****       err = dns_send(i);
 1805              		.loc 1 1064 13
 1806 0070 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1807 0072 1846     		mov	r0, r3
 1808 0074 FFF7FEFF 		bl	dns_send
 1809 0078 0346     		mov	r3, r0
 1810 007a FB72     		strb	r3, [r7, #11]
1065:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (err != ERR_OK) {
1066:Middlewares/Third_Party/LwIP/src/core/dns.c ****         LWIP_DEBUGF(DNS_DEBUG | LWIP_DBG_LEVEL_WARNING,
1067:Middlewares/Third_Party/LwIP/src/core/dns.c ****                     ("dns_send returned error: %s\n", lwip_strerr(err)));
1068:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
1069:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
 1811              		.loc 1 1069 7
 1812 007c 58E0     		b	.L126
 1813              	.L123:
1070:Middlewares/Third_Party/LwIP/src/core/dns.c ****     case DNS_STATE_ASKING:
1071:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (--entry->tmr == 0) {
 1814              		.loc 1 1071 18
 1815 007e FB68     		ldr	r3, [r7, #12]
 1816 0080 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1817              		.loc 1 1071 11
 1818 0082 013B     		subs	r3, r3, #1
 1819 0084 DAB2     		uxtb	r2, r3
ARM GAS  /tmp/ccJEVG7R.s 			page 52


 1820              		.loc 1 1071 10
 1821 0086 FB68     		ldr	r3, [r7, #12]
 1822 0088 1A73     		strb	r2, [r3, #12]
 1823              		.loc 1 1071 18
 1824 008a FB68     		ldr	r3, [r7, #12]
 1825 008c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1826              		.loc 1 1071 10
 1827 008e 002B     		cmp	r3, #0
 1828 0090 4BD1     		bne	.L135
1072:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (++entry->retries == DNS_MAX_RETRIES) {
 1829              		.loc 1 1072 20
 1830 0092 FB68     		ldr	r3, [r7, #12]
 1831 0094 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 1832              		.loc 1 1072 13
 1833 0096 0133     		adds	r3, r3, #1
 1834 0098 DAB2     		uxtb	r2, r3
 1835              		.loc 1 1072 12
 1836 009a FB68     		ldr	r3, [r7, #12]
 1837 009c 5A73     		strb	r2, [r3, #13]
 1838              		.loc 1 1072 20
 1839 009e FB68     		ldr	r3, [r7, #12]
 1840 00a0 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 1841              		.loc 1 1072 12
 1842 00a2 042B     		cmp	r3, #4
 1843 00a4 1BD1     		bne	.L128
1073:Middlewares/Third_Party/LwIP/src/core/dns.c ****           if (dns_backupserver_available(entry)
 1844              		.loc 1 1073 15
 1845 00a6 F868     		ldr	r0, [r7, #12]
 1846 00a8 FFF7FEFF 		bl	dns_backupserver_available
 1847 00ac 0346     		mov	r3, r0
 1848              		.loc 1 1073 14
 1849 00ae 002B     		cmp	r3, #0
 1850 00b0 0CD0     		beq	.L129
1074:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
1075:Middlewares/Third_Party/LwIP/src/core/dns.c ****               && !entry->is_mdns
1076:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_DNS_SUPPORT_MDNS_QUERIES */
1077:Middlewares/Third_Party/LwIP/src/core/dns.c ****              ) {
1078:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* change of server */
1079:Middlewares/Third_Party/LwIP/src/core/dns.c ****             entry->server_idx++;
 1851              		.loc 1 1079 18
 1852 00b2 FB68     		ldr	r3, [r7, #12]
 1853 00b4 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1854              		.loc 1 1079 30
 1855 00b6 0133     		adds	r3, r3, #1
 1856 00b8 DAB2     		uxtb	r2, r3
 1857 00ba FB68     		ldr	r3, [r7, #12]
 1858 00bc DA72     		strb	r2, [r3, #11]
1080:Middlewares/Third_Party/LwIP/src/core/dns.c ****             entry->tmr = 1;
 1859              		.loc 1 1080 24
 1860 00be FB68     		ldr	r3, [r7, #12]
 1861 00c0 0122     		movs	r2, #1
 1862 00c2 1A73     		strb	r2, [r3, #12]
1081:Middlewares/Third_Party/LwIP/src/core/dns.c ****             entry->retries = 0;
 1863              		.loc 1 1081 28
 1864 00c4 FB68     		ldr	r3, [r7, #12]
 1865 00c6 0022     		movs	r2, #0
 1866 00c8 5A73     		strb	r2, [r3, #13]
ARM GAS  /tmp/ccJEVG7R.s 			page 53


 1867 00ca 0CE0     		b	.L130
 1868              	.L129:
1082:Middlewares/Third_Party/LwIP/src/core/dns.c ****           } else {
1083:Middlewares/Third_Party/LwIP/src/core/dns.c ****             LWIP_DEBUGF(DNS_DEBUG, ("dns_check_entry: \"%s\": timeout\n", entry->name));
1084:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* call specified callback function if provided */
1085:Middlewares/Third_Party/LwIP/src/core/dns.c ****             dns_call_found(i, NULL);
 1869              		.loc 1 1085 13
 1870 00cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1871 00ce 0021     		movs	r1, #0
 1872 00d0 1846     		mov	r0, r3
 1873 00d2 FFF7FEFF 		bl	dns_call_found
1086:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* flush this entry */
1087:Middlewares/Third_Party/LwIP/src/core/dns.c ****             entry->state = DNS_STATE_UNUSED;
 1874              		.loc 1 1087 26
 1875 00d6 FB68     		ldr	r3, [r7, #12]
 1876 00d8 0022     		movs	r2, #0
 1877 00da 9A72     		strb	r2, [r3, #10]
1088:Middlewares/Third_Party/LwIP/src/core/dns.c ****             break;
 1878              		.loc 1 1088 13
 1879 00dc 28E0     		b	.L126
 1880              	.L128:
1089:Middlewares/Third_Party/LwIP/src/core/dns.c ****           }
1090:Middlewares/Third_Party/LwIP/src/core/dns.c ****         } else {
1091:Middlewares/Third_Party/LwIP/src/core/dns.c ****           /* wait longer for the next retry */
1092:Middlewares/Third_Party/LwIP/src/core/dns.c ****           entry->tmr = entry->retries;
 1881              		.loc 1 1092 29
 1882 00de FB68     		ldr	r3, [r7, #12]
 1883 00e0 5A7B     		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 1884              		.loc 1 1092 22
 1885 00e2 FB68     		ldr	r3, [r7, #12]
 1886 00e4 1A73     		strb	r2, [r3, #12]
 1887              	.L130:
1093:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1094:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1095:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* send DNS packet for this entry */
1096:Middlewares/Third_Party/LwIP/src/core/dns.c ****         err = dns_send(i);
 1888              		.loc 1 1096 15
 1889 00e6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1890 00e8 1846     		mov	r0, r3
 1891 00ea FFF7FEFF 		bl	dns_send
 1892 00ee 0346     		mov	r3, r0
 1893 00f0 FB72     		strb	r3, [r7, #11]
1097:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (err != ERR_OK) {
1098:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG | LWIP_DBG_LEVEL_WARNING,
1099:Middlewares/Third_Party/LwIP/src/core/dns.c ****                       ("dns_send returned error: %s\n", lwip_strerr(err)));
1100:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1101:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
1102:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
 1894              		.loc 1 1102 7
 1895 00f2 1AE0     		b	.L135
 1896              	.L121:
1103:Middlewares/Third_Party/LwIP/src/core/dns.c ****     case DNS_STATE_DONE:
1104:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* if the time to live is nul */
1105:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if ((entry->ttl == 0) || (--entry->ttl == 0)) {
 1897              		.loc 1 1105 17
 1898 00f4 FB68     		ldr	r3, [r7, #12]
 1899 00f6 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccJEVG7R.s 			page 54


 1900              		.loc 1 1105 10
 1901 00f8 002B     		cmp	r3, #0
 1902 00fa 08D0     		beq	.L131
 1903              		.loc 1 1105 40 discriminator 1
 1904 00fc FB68     		ldr	r3, [r7, #12]
 1905 00fe 1B68     		ldr	r3, [r3]
 1906              		.loc 1 1105 33 discriminator 1
 1907 0100 5A1E     		subs	r2, r3, #1
 1908              		.loc 1 1105 29 discriminator 1
 1909 0102 FB68     		ldr	r3, [r7, #12]
 1910 0104 1A60     		str	r2, [r3]
 1911              		.loc 1 1105 40 discriminator 1
 1912 0106 FB68     		ldr	r3, [r7, #12]
 1913 0108 1B68     		ldr	r3, [r3]
 1914              		.loc 1 1105 29 discriminator 1
 1915 010a 002B     		cmp	r3, #0
 1916 010c 0FD1     		bne	.L136
 1917              	.L131:
1106:Middlewares/Third_Party/LwIP/src/core/dns.c ****         LWIP_DEBUGF(DNS_DEBUG, ("dns_check_entry: \"%s\": flush\n", entry->name));
1107:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* flush this entry, there cannot be any related pending entries in this state */
1108:Middlewares/Third_Party/LwIP/src/core/dns.c ****         entry->state = DNS_STATE_UNUSED;
 1918              		.loc 1 1108 22
 1919 010e FB68     		ldr	r3, [r7, #12]
 1920 0110 0022     		movs	r2, #0
 1921 0112 9A72     		strb	r2, [r3, #10]
1109:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
1110:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
 1922              		.loc 1 1110 7
 1923 0114 0BE0     		b	.L136
 1924              	.L133:
1111:Middlewares/Third_Party/LwIP/src/core/dns.c ****     case DNS_STATE_UNUSED:
1112:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* nothing to do */
1113:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
1114:Middlewares/Third_Party/LwIP/src/core/dns.c ****     default:
1115:Middlewares/Third_Party/LwIP/src/core/dns.c ****       LWIP_ASSERT("unknown dns_table entry state:", 0);
 1925              		.loc 1 1115 7 discriminator 1
 1926 0116 094B     		ldr	r3, .L137+4
 1927 0118 40F25B42 		movw	r2, #1115
 1928 011c 0A49     		ldr	r1, .L137+16
 1929 011e 0948     		ldr	r0, .L137+12
 1930 0120 FFF7FEFF 		bl	printf
1116:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
 1931              		.loc 1 1116 7 discriminator 1
 1932 0124 04E0     		b	.L126
 1933              	.L134:
1113:Middlewares/Third_Party/LwIP/src/core/dns.c ****     default:
 1934              		.loc 1 1113 7
 1935 0126 00BF     		nop
 1936 0128 02E0     		b	.L126
 1937              	.L135:
1102:Middlewares/Third_Party/LwIP/src/core/dns.c ****     case DNS_STATE_DONE:
 1938              		.loc 1 1102 7
 1939 012a 00BF     		nop
 1940 012c 00E0     		b	.L126
 1941              	.L136:
1110:Middlewares/Third_Party/LwIP/src/core/dns.c ****     case DNS_STATE_UNUSED:
 1942              		.loc 1 1110 7
ARM GAS  /tmp/ccJEVG7R.s 			page 55


 1943 012e 00BF     		nop
 1944              	.L126:
1117:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1118:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 1945              		.loc 1 1118 1
 1946 0130 00BF     		nop
 1947 0132 1037     		adds	r7, r7, #16
 1948              	.LCFI67:
 1949              		.cfi_def_cfa_offset 8
 1950 0134 BD46     		mov	sp, r7
 1951              	.LCFI68:
 1952              		.cfi_def_cfa_register 13
 1953              		@ sp needed
 1954 0136 80BD     		pop	{r7, pc}
 1955              	.L138:
 1956              		.align	2
 1957              	.L137:
 1958 0138 00000000 		.word	dns_table
 1959 013c 00000000 		.word	.LC0
 1960 0140 6C000000 		.word	.LC3
 1961 0144 44000000 		.word	.LC2
 1962 0148 88000000 		.word	.LC4
 1963              		.cfi_endproc
 1964              	.LFE146:
 1966              		.section	.text.dns_check_entries,"ax",%progbits
 1967              		.align	1
 1968              		.syntax unified
 1969              		.thumb
 1970              		.thumb_func
 1971              		.fpu fpv4-sp-d16
 1973              	dns_check_entries:
 1974              	.LFB147:
1119:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1120:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1121:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Call dns_check_entry for each entry in dns_table - check all entries.
1122:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
1123:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void
1124:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_check_entries(void)
1125:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 1975              		.loc 1 1125 1
 1976              		.cfi_startproc
 1977              		@ args = 0, pretend = 0, frame = 8
 1978              		@ frame_needed = 1, uses_anonymous_args = 0
 1979 0000 80B5     		push	{r7, lr}
 1980              	.LCFI69:
 1981              		.cfi_def_cfa_offset 8
 1982              		.cfi_offset 7, -8
 1983              		.cfi_offset 14, -4
 1984 0002 82B0     		sub	sp, sp, #8
 1985              	.LCFI70:
 1986              		.cfi_def_cfa_offset 16
 1987 0004 00AF     		add	r7, sp, #0
 1988              	.LCFI71:
 1989              		.cfi_def_cfa_register 7
1126:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t i;
1127:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1128:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_TABLE_SIZE; ++i) {
ARM GAS  /tmp/ccJEVG7R.s 			page 56


 1990              		.loc 1 1128 10
 1991 0006 0023     		movs	r3, #0
 1992 0008 FB71     		strb	r3, [r7, #7]
 1993              		.loc 1 1128 3
 1994 000a 06E0     		b	.L140
 1995              	.L141:
1129:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_check_entry(i);
 1996              		.loc 1 1129 5 discriminator 3
 1997 000c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1998 000e 1846     		mov	r0, r3
 1999 0010 FFF7FEFF 		bl	dns_check_entry
1128:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_check_entry(i);
 2000              		.loc 1 1128 35 discriminator 3
 2001 0014 FB79     		ldrb	r3, [r7, #7]
 2002 0016 0133     		adds	r3, r3, #1
 2003 0018 FB71     		strb	r3, [r7, #7]
 2004              	.L140:
1128:Middlewares/Third_Party/LwIP/src/core/dns.c ****     dns_check_entry(i);
 2005              		.loc 1 1128 3 discriminator 1
 2006 001a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2007 001c 032B     		cmp	r3, #3
 2008 001e F5D9     		bls	.L141
1130:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1131:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 2009              		.loc 1 1131 1
 2010 0020 00BF     		nop
 2011 0022 0837     		adds	r7, r7, #8
 2012              	.LCFI72:
 2013              		.cfi_def_cfa_offset 8
 2014 0024 BD46     		mov	sp, r7
 2015              	.LCFI73:
 2016              		.cfi_def_cfa_register 13
 2017              		@ sp needed
 2018 0026 80BD     		pop	{r7, pc}
 2019              		.cfi_endproc
 2020              	.LFE147:
 2022              		.section	.text.dns_correct_response,"ax",%progbits
 2023              		.align	1
 2024              		.syntax unified
 2025              		.thumb
 2026              		.thumb_func
 2027              		.fpu fpv4-sp-d16
 2029              	dns_correct_response:
 2030              	.LFB148:
1132:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1133:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1134:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Save TTL and call dns_call_found for correct response.
1135:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
1136:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void
1137:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_correct_response(u8_t idx, u32_t ttl)
1138:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 2031              		.loc 1 1138 1
 2032              		.cfi_startproc
 2033              		@ args = 0, pretend = 0, frame = 16
 2034              		@ frame_needed = 1, uses_anonymous_args = 0
 2035 0000 80B5     		push	{r7, lr}
 2036              	.LCFI74:
ARM GAS  /tmp/ccJEVG7R.s 			page 57


 2037              		.cfi_def_cfa_offset 8
 2038              		.cfi_offset 7, -8
 2039              		.cfi_offset 14, -4
 2040 0002 84B0     		sub	sp, sp, #16
 2041              	.LCFI75:
 2042              		.cfi_def_cfa_offset 24
 2043 0004 00AF     		add	r7, sp, #0
 2044              	.LCFI76:
 2045              		.cfi_def_cfa_register 7
 2046 0006 0346     		mov	r3, r0
 2047 0008 3960     		str	r1, [r7]
 2048 000a FB71     		strb	r3, [r7, #7]
1139:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_table_entry *entry = &dns_table[idx];
 2049              		.loc 1 1139 45
 2050 000c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 2051              		.loc 1 1139 27
 2052 000e 1346     		mov	r3, r2
 2053 0010 1B01     		lsls	r3, r3, #4
 2054 0012 1344     		add	r3, r3, r2
 2055 0014 1B01     		lsls	r3, r3, #4
 2056 0016 134A     		ldr	r2, .L146
 2057 0018 1344     		add	r3, r3, r2
 2058 001a FB60     		str	r3, [r7, #12]
1140:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1141:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->state = DNS_STATE_DONE;
 2059              		.loc 1 1141 16
 2060 001c FB68     		ldr	r3, [r7, #12]
 2061 001e 0322     		movs	r2, #3
 2062 0020 9A72     		strb	r2, [r3, #10]
1142:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1143:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: \"%s\": response = ", entry->name));
1144:Middlewares/Third_Party/LwIP/src/core/dns.c ****   ip_addr_debug_print_val(DNS_DEBUG, entry->ipaddr);
1145:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DEBUGF(DNS_DEBUG, ("\n"));
1146:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1147:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* read the answer resource record's TTL, and maximize it if needed */
1148:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->ttl = ttl;
 2063              		.loc 1 1148 14
 2064 0022 FB68     		ldr	r3, [r7, #12]
 2065 0024 3A68     		ldr	r2, [r7]
 2066 0026 1A60     		str	r2, [r3]
1149:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (entry->ttl > DNS_MAX_TTL) {
 2067              		.loc 1 1149 12
 2068 0028 FB68     		ldr	r3, [r7, #12]
 2069 002a 1B68     		ldr	r3, [r3]
 2070              		.loc 1 1149 6
 2071 002c 0E4A     		ldr	r2, .L146+4
 2072 002e 9342     		cmp	r3, r2
 2073 0030 02D9     		bls	.L143
1150:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry->ttl = DNS_MAX_TTL;
 2074              		.loc 1 1150 16
 2075 0032 FB68     		ldr	r3, [r7, #12]
 2076 0034 0C4A     		ldr	r2, .L146+4
 2077 0036 1A60     		str	r2, [r3]
 2078              	.L143:
1151:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1152:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_call_found(idx, &entry->ipaddr);
 2079              		.loc 1 1152 3
ARM GAS  /tmp/ccJEVG7R.s 			page 58


 2080 0038 FB68     		ldr	r3, [r7, #12]
 2081 003a 1A1D     		adds	r2, r3, #4
 2082 003c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2083 003e 1146     		mov	r1, r2
 2084 0040 1846     		mov	r0, r3
 2085 0042 FFF7FEFF 		bl	dns_call_found
1153:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1154:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (entry->ttl == 0) {
 2086              		.loc 1 1154 12
 2087 0046 FB68     		ldr	r3, [r7, #12]
 2088 0048 1B68     		ldr	r3, [r3]
 2089              		.loc 1 1154 6
 2090 004a 002B     		cmp	r3, #0
 2091 004c 06D1     		bne	.L145
1155:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* RFC 883, page 29: "Zero values are
1156:Middlewares/Third_Party/LwIP/src/core/dns.c ****        interpreted to mean that the RR can only be used for the
1157:Middlewares/Third_Party/LwIP/src/core/dns.c ****        transaction in progress, and should not be cached."
1158:Middlewares/Third_Party/LwIP/src/core/dns.c ****        -> flush this entry now */
1159:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* entry reused during callback? */
1160:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (entry->state == DNS_STATE_DONE) {
 2092              		.loc 1 1160 14
 2093 004e FB68     		ldr	r3, [r7, #12]
 2094 0050 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 2095              		.loc 1 1160 8
 2096 0052 032B     		cmp	r3, #3
 2097 0054 02D1     		bne	.L145
1161:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry->state = DNS_STATE_UNUSED;
 2098              		.loc 1 1161 20
 2099 0056 FB68     		ldr	r3, [r7, #12]
 2100 0058 0022     		movs	r2, #0
 2101 005a 9A72     		strb	r2, [r3, #10]
 2102              	.L145:
1162:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1163:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1164:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 2103              		.loc 1 1164 1
 2104 005c 00BF     		nop
 2105 005e 1037     		adds	r7, r7, #16
 2106              	.LCFI77:
 2107              		.cfi_def_cfa_offset 8
 2108 0060 BD46     		mov	sp, r7
 2109              	.LCFI78:
 2110              		.cfi_def_cfa_register 13
 2111              		@ sp needed
 2112 0062 80BD     		pop	{r7, pc}
 2113              	.L147:
 2114              		.align	2
 2115              	.L146:
 2116 0064 00000000 		.word	dns_table
 2117 0068 803A0900 		.word	604800
 2118              		.cfi_endproc
 2119              	.LFE148:
 2121              		.section	.text.dns_recv,"ax",%progbits
 2122              		.align	1
 2123              		.syntax unified
 2124              		.thumb
 2125              		.thumb_func
ARM GAS  /tmp/ccJEVG7R.s 			page 59


 2126              		.fpu fpv4-sp-d16
 2128              	dns_recv:
 2129              	.LFB149:
1165:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1166:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1167:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Receive input function for DNS response packets arriving for the dns UDP pcb.
1168:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
1169:Middlewares/Third_Party/LwIP/src/core/dns.c **** static void
1170:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_recv(void *arg, struct udp_pcb *pcb, struct pbuf *p, const ip_addr_t *addr, u16_t port)
1171:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 2130              		.loc 1 1171 1
 2131              		.cfi_startproc
 2132              		@ args = 4, pretend = 0, frame = 64
 2133              		@ frame_needed = 1, uses_anonymous_args = 0
 2134 0000 90B5     		push	{r4, r7, lr}
 2135              	.LCFI79:
 2136              		.cfi_def_cfa_offset 12
 2137              		.cfi_offset 4, -12
 2138              		.cfi_offset 7, -8
 2139              		.cfi_offset 14, -4
 2140 0002 91B0     		sub	sp, sp, #68
 2141              	.LCFI80:
 2142              		.cfi_def_cfa_offset 80
 2143 0004 00AF     		add	r7, sp, #0
 2144              	.LCFI81:
 2145              		.cfi_def_cfa_register 7
 2146 0006 F860     		str	r0, [r7, #12]
 2147 0008 B960     		str	r1, [r7, #8]
 2148 000a 7A60     		str	r2, [r7, #4]
 2149 000c 3B60     		str	r3, [r7]
1172:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t i;
1173:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t txid;
1174:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t res_idx;
1175:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_hdr hdr;
1176:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_answer ans;
1177:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_query qry;
1178:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u16_t nquestions, nanswers;
1179:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1180:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_UNUSED_ARG(arg);
1181:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_UNUSED_ARG(pcb);
1182:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_UNUSED_ARG(port);
1183:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1184:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* is the dns message big enough ? */
1185:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (p->tot_len < (SIZEOF_DNS_HDR + SIZEOF_DNS_QUERY)) {
 2150              		.loc 1 1185 8
 2151 000e 7B68     		ldr	r3, [r7, #4]
 2152 0010 1B89     		ldrh	r3, [r3, #8]
 2153              		.loc 1 1185 6
 2154 0012 0F2B     		cmp	r3, #15
 2155 0014 40F21E81 		bls	.L174
1186:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: pbuf too small\n"));
1187:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* free pbuf and return */
1188:Middlewares/Third_Party/LwIP/src/core/dns.c ****     goto ignore_packet;
1189:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1190:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1191:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* copy dns payload inside static buffer for processing */
1192:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (pbuf_copy_partial(p, &hdr, SIZEOF_DNS_HDR, 0) == SIZEOF_DNS_HDR) {
ARM GAS  /tmp/ccJEVG7R.s 			page 60


 2156              		.loc 1 1192 7
 2157 0018 07F12401 		add	r1, r7, #36
 2158 001c 0023     		movs	r3, #0
 2159 001e 0C22     		movs	r2, #12
 2160 0020 7868     		ldr	r0, [r7, #4]
 2161 0022 FFF7FEFF 		bl	pbuf_copy_partial
 2162 0026 0346     		mov	r3, r0
 2163              		.loc 1 1192 6
 2164 0028 0C2B     		cmp	r3, #12
 2165 002a 40F01581 		bne	.L175
1193:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* Match the ID in the DNS header with the name table. */
1194:Middlewares/Third_Party/LwIP/src/core/dns.c ****     txid = lwip_htons(hdr.id);
 2166              		.loc 1 1194 12
 2167 002e BB8C     		ldrh	r3, [r7, #36]
 2168 0030 1846     		mov	r0, r3
 2169 0032 FFF7FEFF 		bl	lwip_htons
 2170 0036 0346     		mov	r3, r0
 2171 0038 3B87     		strh	r3, [r7, #56]	@ movhi
1195:Middlewares/Third_Party/LwIP/src/core/dns.c ****     for (i = 0; i < DNS_TABLE_SIZE; i++) {
 2172              		.loc 1 1195 12
 2173 003a 0023     		movs	r3, #0
 2174 003c 87F83F30 		strb	r3, [r7, #63]
 2175              		.loc 1 1195 5
 2176 0040 02E1     		b	.L151
 2177              	.L172:
 2178              	.LBB8:
1196:Middlewares/Third_Party/LwIP/src/core/dns.c ****       struct dns_table_entry *entry = &dns_table[i];
 2179              		.loc 1 1196 49
 2180 0042 97F83F20 		ldrb	r2, [r7, #63]	@ zero_extendqisi2
 2181              		.loc 1 1196 31
 2182 0046 1346     		mov	r3, r2
 2183 0048 1B01     		lsls	r3, r3, #4
 2184 004a 1344     		add	r3, r3, r2
 2185 004c 1B01     		lsls	r3, r3, #4
 2186 004e 924A     		ldr	r2, .L188
 2187 0050 1344     		add	r3, r3, r2
 2188 0052 7B63     		str	r3, [r7, #52]
1197:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if ((entry->state == DNS_STATE_ASKING) &&
 2189              		.loc 1 1197 17
 2190 0054 7B6B     		ldr	r3, [r7, #52]
 2191 0056 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 2192              		.loc 1 1197 10
 2193 0058 022B     		cmp	r3, #2
 2194 005a 40F0F080 		bne	.L152
1198:Middlewares/Third_Party/LwIP/src/core/dns.c ****           (entry->txid == txid)) {
 2195              		.loc 1 1198 17 discriminator 1
 2196 005e 7B6B     		ldr	r3, [r7, #52]
 2197 0060 1B89     		ldrh	r3, [r3, #8]
1197:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if ((entry->state == DNS_STATE_ASKING) &&
 2198              		.loc 1 1197 46 discriminator 1
 2199 0062 3A8F     		ldrh	r2, [r7, #56]
 2200 0064 9A42     		cmp	r2, r3
 2201 0066 40F0EA80 		bne	.L152
1199:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1200:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* We only care about the question(s) and the answers. The authrr
1201:Middlewares/Third_Party/LwIP/src/core/dns.c ****            and the extrarr are simply discarded. */
1202:Middlewares/Third_Party/LwIP/src/core/dns.c ****         nquestions = lwip_htons(hdr.numquestions);
ARM GAS  /tmp/ccJEVG7R.s 			page 61


 2202              		.loc 1 1202 22
 2203 006a 3B8D     		ldrh	r3, [r7, #40]
 2204 006c 1846     		mov	r0, r3
 2205 006e FFF7FEFF 		bl	lwip_htons
 2206 0072 0346     		mov	r3, r0
 2207 0074 7B86     		strh	r3, [r7, #50]	@ movhi
1203:Middlewares/Third_Party/LwIP/src/core/dns.c ****         nanswers   = lwip_htons(hdr.numanswers);
 2208              		.loc 1 1203 22
 2209 0076 7B8D     		ldrh	r3, [r7, #42]
 2210 0078 1846     		mov	r0, r3
 2211 007a FFF7FEFF 		bl	lwip_htons
 2212 007e 0346     		mov	r3, r0
 2213 0080 7B87     		strh	r3, [r7, #58]	@ movhi
1204:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1205:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* Check for correct response. */
1206:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if ((hdr.flags1 & DNS_FLAG1_RESPONSE) == 0) {
 2214              		.loc 1 1206 17
 2215 0082 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 2216              		.loc 1 1206 47
 2217 0086 5BB2     		sxtb	r3, r3
 2218              		.loc 1 1206 12
 2219 0088 002B     		cmp	r3, #0
 2220 008a 80F2E780 		bge	.L176
1207:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: \"%s\": not a response\n", entry->name));
1208:Middlewares/Third_Party/LwIP/src/core/dns.c ****           goto ignore_packet; /* ignore this packet */
1209:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1210:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (nquestions != 1) {
 2221              		.loc 1 1210 12
 2222 008e 7B8E     		ldrh	r3, [r7, #50]
 2223 0090 012B     		cmp	r3, #1
 2224 0092 40F0E580 		bne	.L177
1211:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: \"%s\": response not match to query\n", entry->name));
1212:Middlewares/Third_Party/LwIP/src/core/dns.c ****           goto ignore_packet; /* ignore this packet */
1213:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1214:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1215:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
1216:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (!entry->is_mdns)
1217:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_DNS_SUPPORT_MDNS_QUERIES */
1218:Middlewares/Third_Party/LwIP/src/core/dns.c ****         {
1219:Middlewares/Third_Party/LwIP/src/core/dns.c ****           /* Check whether response comes from the same network address to which the
1220:Middlewares/Third_Party/LwIP/src/core/dns.c ****              question was sent. (RFC 5452) */
1221:Middlewares/Third_Party/LwIP/src/core/dns.c ****           if (!ip_addr_cmp(addr, &dns_servers[entry->server_idx])) {
 2225              		.loc 1 1221 16
 2226 0096 3B68     		ldr	r3, [r7]
 2227 0098 1A68     		ldr	r2, [r3]
 2228 009a 7B6B     		ldr	r3, [r7, #52]
 2229 009c DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 2230 009e 1946     		mov	r1, r3
 2231 00a0 7E4B     		ldr	r3, .L188+4
 2232 00a2 53F82130 		ldr	r3, [r3, r1, lsl #2]
 2233              		.loc 1 1221 14
 2234 00a6 9A42     		cmp	r2, r3
 2235 00a8 40F0DC80 		bne	.L178
1222:Middlewares/Third_Party/LwIP/src/core/dns.c ****             goto ignore_packet; /* ignore this packet */
1223:Middlewares/Third_Party/LwIP/src/core/dns.c ****           }
1224:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1225:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
ARM GAS  /tmp/ccJEVG7R.s 			page 62


1226:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* Check if the name in the "question" part match with the name in the entry and
1227:Middlewares/Third_Party/LwIP/src/core/dns.c ****            skip it if equal. */
1228:Middlewares/Third_Party/LwIP/src/core/dns.c ****         res_idx = dns_compare_name(entry->name, p, SIZEOF_DNS_HDR);
 2236              		.loc 1 1228 41
 2237 00ac 7B6B     		ldr	r3, [r7, #52]
 2238 00ae 1033     		adds	r3, r3, #16
 2239              		.loc 1 1228 19
 2240 00b0 0C22     		movs	r2, #12
 2241 00b2 7968     		ldr	r1, [r7, #4]
 2242 00b4 1846     		mov	r0, r3
 2243 00b6 FFF7FEFF 		bl	dns_compare_name
 2244 00ba 0346     		mov	r3, r0
 2245 00bc BB87     		strh	r3, [r7, #60]	@ movhi
1229:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (res_idx == 0xFFFF) {
 2246              		.loc 1 1229 12
 2247 00be BB8F     		ldrh	r3, [r7, #60]
 2248 00c0 4FF6FF72 		movw	r2, #65535
 2249 00c4 9342     		cmp	r3, r2
 2250 00c6 00F0CF80 		beq	.L179
1230:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: \"%s\": response not match to query\n", entry->name));
1231:Middlewares/Third_Party/LwIP/src/core/dns.c ****           goto ignore_packet; /* ignore this packet */
1232:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1233:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1234:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* check if "question" part matches the request */
1235:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (pbuf_copy_partial(p, &qry, SIZEOF_DNS_QUERY, res_idx) != SIZEOF_DNS_QUERY) {
 2251              		.loc 1 1235 13
 2252 00ca BB8F     		ldrh	r3, [r7, #60]
 2253 00cc 07F11401 		add	r1, r7, #20
 2254 00d0 0422     		movs	r2, #4
 2255 00d2 7868     		ldr	r0, [r7, #4]
 2256 00d4 FFF7FEFF 		bl	pbuf_copy_partial
 2257 00d8 0346     		mov	r3, r0
 2258              		.loc 1 1235 12
 2259 00da 042B     		cmp	r3, #4
 2260 00dc 40F0C680 		bne	.L180
1236:Middlewares/Third_Party/LwIP/src/core/dns.c ****           goto ignore_packet; /* ignore this packet */
1237:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1238:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if ((qry.cls != PP_HTONS(DNS_RRCLASS_IN)) ||
 2261              		.loc 1 1238 17
 2262 00e0 FB8A     		ldrh	r3, [r7, #22]
 2263              		.loc 1 1238 12
 2264 00e2 B3F5807F 		cmp	r3, #256
 2265 00e6 40F0C380 		bne	.L181
1239:Middlewares/Third_Party/LwIP/src/core/dns.c ****             (LWIP_DNS_ADDRTYPE_IS_IPV6(entry->reqaddrtype) && (qry.type != PP_HTONS(DNS_RRTYPE_AAAA
1240:Middlewares/Third_Party/LwIP/src/core/dns.c ****             (!LWIP_DNS_ADDRTYPE_IS_IPV6(entry->reqaddrtype) && (qry.type != PP_HTONS(DNS_RRTYPE_A))
 2266              		.loc 1 1240 68
 2267 00ea BB8A     		ldrh	r3, [r7, #20]
1239:Middlewares/Third_Party/LwIP/src/core/dns.c ****             (LWIP_DNS_ADDRTYPE_IS_IPV6(entry->reqaddrtype) && (qry.type != PP_HTONS(DNS_RRTYPE_AAAA
 2268              		.loc 1 1239 104
 2269 00ec B3F5807F 		cmp	r3, #256
 2270 00f0 40F0BE80 		bne	.L181
1241:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: \"%s\": response not match to query\n", entry->name));
1242:Middlewares/Third_Party/LwIP/src/core/dns.c ****           goto ignore_packet; /* ignore this packet */
1243:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1244:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* skip the rest of the "question" part */
1245:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (res_idx + SIZEOF_DNS_QUERY > 0xFFFF) {
 2271              		.loc 1 1245 12
ARM GAS  /tmp/ccJEVG7R.s 			page 63


 2272 00f4 BB8F     		ldrh	r3, [r7, #60]
 2273 00f6 4FF6FB72 		movw	r2, #65531
 2274 00fa 9342     		cmp	r3, r2
 2275 00fc 00F2BA80 		bhi	.L182
1246:Middlewares/Third_Party/LwIP/src/core/dns.c ****           goto ignore_packet;
1247:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1248:Middlewares/Third_Party/LwIP/src/core/dns.c ****         res_idx = (u16_t)(res_idx + SIZEOF_DNS_QUERY);
 2276              		.loc 1 1248 17
 2277 0100 BB8F     		ldrh	r3, [r7, #60]	@ movhi
 2278 0102 0433     		adds	r3, r3, #4
 2279 0104 BB87     		strh	r3, [r7, #60]	@ movhi
1249:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1250:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* Check for error. If so, call callback to inform. */
1251:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (hdr.flags2 & DNS_FLAG2_ERR_MASK) {
 2280              		.loc 1 1251 16
 2281 0106 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2282              		.loc 1 1251 24
 2283 010a 03F00F03 		and	r3, r3, #15
 2284              		.loc 1 1251 12
 2285 010e 002B     		cmp	r3, #0
 2286 0110 78D0     		beq	.L163
1252:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: \"%s\": error in flags\n", entry->name));
1253:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1254:Middlewares/Third_Party/LwIP/src/core/dns.c ****           /* if there is another backup DNS server to try
1255:Middlewares/Third_Party/LwIP/src/core/dns.c ****            * then don't stop the DNS request
1256:Middlewares/Third_Party/LwIP/src/core/dns.c ****            */
1257:Middlewares/Third_Party/LwIP/src/core/dns.c ****           if (dns_backupserver_available(entry)) {
 2287              		.loc 1 1257 15
 2288 0112 786B     		ldr	r0, [r7, #52]
 2289 0114 FFF7FEFF 		bl	dns_backupserver_available
 2290 0118 0346     		mov	r3, r0
 2291              		.loc 1 1257 14
 2292 011a 002B     		cmp	r3, #0
 2293 011c 7AD0     		beq	.L162
1258:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* avoid retrying the same server */
1259:Middlewares/Third_Party/LwIP/src/core/dns.c ****             entry->retries = DNS_MAX_RETRIES-1;
 2294              		.loc 1 1259 28
 2295 011e 7B6B     		ldr	r3, [r7, #52]
 2296 0120 0322     		movs	r2, #3
 2297 0122 5A73     		strb	r2, [r3, #13]
1260:Middlewares/Third_Party/LwIP/src/core/dns.c ****             entry->tmr     = 1;
 2298              		.loc 1 1260 28
 2299 0124 7B6B     		ldr	r3, [r7, #52]
 2300 0126 0122     		movs	r2, #1
 2301 0128 1A73     		strb	r2, [r3, #12]
1261:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1262:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* contact next available server for this entry */
1263:Middlewares/Third_Party/LwIP/src/core/dns.c ****             dns_check_entry(i);
 2302              		.loc 1 1263 13
 2303 012a 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 2304 012e 1846     		mov	r0, r3
 2305 0130 FFF7FEFF 		bl	dns_check_entry
1264:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1265:Middlewares/Third_Party/LwIP/src/core/dns.c ****             goto ignore_packet;
 2306              		.loc 1 1265 13
 2307 0134 A9E0     		b	.L150
 2308              	.L171:
ARM GAS  /tmp/ccJEVG7R.s 			page 64


1266:Middlewares/Third_Party/LwIP/src/core/dns.c ****           }
1267:Middlewares/Third_Party/LwIP/src/core/dns.c ****         } else {
1268:Middlewares/Third_Party/LwIP/src/core/dns.c ****           while ((nanswers > 0) && (res_idx < p->tot_len)) {
1269:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* skip answer resource record's host name */
1270:Middlewares/Third_Party/LwIP/src/core/dns.c ****             res_idx = dns_skip_name(p, res_idx);
 2309              		.loc 1 1270 23
 2310 0136 BB8F     		ldrh	r3, [r7, #60]
 2311 0138 1946     		mov	r1, r3
 2312 013a 7868     		ldr	r0, [r7, #4]
 2313 013c FFF7FEFF 		bl	dns_skip_name
 2314 0140 0346     		mov	r3, r0
 2315 0142 BB87     		strh	r3, [r7, #60]	@ movhi
1271:Middlewares/Third_Party/LwIP/src/core/dns.c ****             if (res_idx == 0xFFFF) {
 2316              		.loc 1 1271 16
 2317 0144 BB8F     		ldrh	r3, [r7, #60]
 2318 0146 4FF6FF72 		movw	r2, #65535
 2319 014a 9342     		cmp	r3, r2
 2320 014c 00F09480 		beq	.L183
1272:Middlewares/Third_Party/LwIP/src/core/dns.c ****               goto ignore_packet; /* ignore this packet */
1273:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
1274:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1275:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* Check for IP address type and Internet class. Others are discarded. */
1276:Middlewares/Third_Party/LwIP/src/core/dns.c ****             if (pbuf_copy_partial(p, &ans, SIZEOF_DNS_ANSWER, res_idx) != SIZEOF_DNS_ANSWER) {
 2321              		.loc 1 1276 17
 2322 0150 BB8F     		ldrh	r3, [r7, #60]
 2323 0152 07F11801 		add	r1, r7, #24
 2324 0156 0A22     		movs	r2, #10
 2325 0158 7868     		ldr	r0, [r7, #4]
 2326 015a FFF7FEFF 		bl	pbuf_copy_partial
 2327 015e 0346     		mov	r3, r0
 2328              		.loc 1 1276 16
 2329 0160 0A2B     		cmp	r3, #10
 2330 0162 40F08B80 		bne	.L184
1277:Middlewares/Third_Party/LwIP/src/core/dns.c ****               goto ignore_packet; /* ignore this packet */
1278:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
1279:Middlewares/Third_Party/LwIP/src/core/dns.c ****             if (res_idx + SIZEOF_DNS_ANSWER > 0xFFFF) {
 2331              		.loc 1 1279 16
 2332 0166 BB8F     		ldrh	r3, [r7, #60]
 2333 0168 4FF6F572 		movw	r2, #65525
 2334 016c 9342     		cmp	r3, r2
 2335 016e 00F28780 		bhi	.L185
1280:Middlewares/Third_Party/LwIP/src/core/dns.c ****               goto ignore_packet;
1281:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
1282:Middlewares/Third_Party/LwIP/src/core/dns.c ****             res_idx = (u16_t)(res_idx + SIZEOF_DNS_ANSWER);
 2336              		.loc 1 1282 21
 2337 0172 BB8F     		ldrh	r3, [r7, #60]	@ movhi
 2338 0174 0A33     		adds	r3, r3, #10
 2339 0176 BB87     		strh	r3, [r7, #60]	@ movhi
1283:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1284:Middlewares/Third_Party/LwIP/src/core/dns.c ****             if (ans.cls == PP_HTONS(DNS_RRCLASS_IN)) {
 2340              		.loc 1 1284 20
 2341 0178 7B8B     		ldrh	r3, [r7, #26]
 2342              		.loc 1 1284 16
 2343 017a B3F5807F 		cmp	r3, #256
 2344 017e 2BD1     		bne	.L167
1285:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4
1286:Middlewares/Third_Party/LwIP/src/core/dns.c ****               if ((ans.type == PP_HTONS(DNS_RRTYPE_A)) && (ans.len == PP_HTONS(sizeof(ip4_addr_t)))
ARM GAS  /tmp/ccJEVG7R.s 			page 65


 2345              		.loc 1 1286 23
 2346 0180 3B8B     		ldrh	r3, [r7, #24]
 2347              		.loc 1 1286 18
 2348 0182 B3F5807F 		cmp	r3, #256
 2349 0186 27D1     		bne	.L167
 2350              		.loc 1 1286 63 discriminator 1
 2351 0188 3B8C     		ldrh	r3, [r7, #32]
 2352              		.loc 1 1286 56 discriminator 1
 2353 018a B3F5806F 		cmp	r3, #1024
 2354 018e 23D1     		bne	.L167
 2355              	.LBB9:
1287:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
1288:Middlewares/Third_Party/LwIP/src/core/dns.c ****                 if (!LWIP_DNS_ADDRTYPE_IS_IPV6(entry->reqaddrtype))
1289:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1290:Middlewares/Third_Party/LwIP/src/core/dns.c ****                 {
1291:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   ip4_addr_t ip4addr;
1292:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   /* read the IP address after answer resource record's header */
1293:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   if (pbuf_copy_partial(p, &ip4addr, sizeof(ip4_addr_t), res_idx) != sizeof(ip4_add
 2356              		.loc 1 1293 23
 2357 0190 BB8F     		ldrh	r3, [r7, #60]
 2358 0192 07F11001 		add	r1, r7, #16
 2359 0196 0422     		movs	r2, #4
 2360 0198 7868     		ldr	r0, [r7, #4]
 2361 019a FFF7FEFF 		bl	pbuf_copy_partial
 2362 019e 0346     		mov	r3, r0
 2363              		.loc 1 1293 22
 2364 01a0 042B     		cmp	r3, #4
 2365 01a2 6FD1     		bne	.L186
1294:Middlewares/Third_Party/LwIP/src/core/dns.c ****                     goto ignore_packet; /* ignore this packet */
1295:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   }
1296:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   ip_addr_copy_from_ip4(dns_table[i].ipaddr, ip4addr);
 2366              		.loc 1 1296 19
 2367 01a4 97F83F20 		ldrb	r2, [r7, #63]	@ zero_extendqisi2
 2368 01a8 3969     		ldr	r1, [r7, #16]
 2369 01aa 3B48     		ldr	r0, .L188
 2370 01ac 1346     		mov	r3, r2
 2371 01ae 1B01     		lsls	r3, r3, #4
 2372 01b0 1344     		add	r3, r3, r2
 2373 01b2 1B01     		lsls	r3, r3, #4
 2374 01b4 0344     		add	r3, r3, r0
 2375 01b6 0433     		adds	r3, r3, #4
 2376 01b8 1960     		str	r1, [r3]
1297:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   pbuf_free(p);
 2377              		.loc 1 1297 19
 2378 01ba 7868     		ldr	r0, [r7, #4]
 2379 01bc FFF7FEFF 		bl	pbuf_free
1298:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   /* handle correct response */
1299:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   dns_correct_response(i, lwip_ntohl(ans.ttl));
 2380              		.loc 1 1299 19
 2381 01c0 FB69     		ldr	r3, [r7, #28]
 2382 01c2 1846     		mov	r0, r3
 2383 01c4 FFF7FEFF 		bl	lwip_htonl
 2384 01c8 0246     		mov	r2, r0
 2385 01ca 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 2386 01ce 1146     		mov	r1, r2
 2387 01d0 1846     		mov	r0, r3
 2388 01d2 FFF7FEFF 		bl	dns_correct_response
ARM GAS  /tmp/ccJEVG7R.s 			page 66


 2389 01d6 5CE0     		b	.L148
 2390              	.L167:
 2391              	.LBE9:
1300:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   return;
1301:Middlewares/Third_Party/LwIP/src/core/dns.c ****                 }
1302:Middlewares/Third_Party/LwIP/src/core/dns.c ****               }
1303:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 */
1304:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV6
1305:Middlewares/Third_Party/LwIP/src/core/dns.c ****               if ((ans.type == PP_HTONS(DNS_RRTYPE_AAAA)) && (ans.len == PP_HTONS(sizeof(ip6_addr_p
1306:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
1307:Middlewares/Third_Party/LwIP/src/core/dns.c ****                 if (LWIP_DNS_ADDRTYPE_IS_IPV6(entry->reqaddrtype))
1308:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1309:Middlewares/Third_Party/LwIP/src/core/dns.c ****                 {
1310:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   ip6_addr_p_t ip6addr;
1311:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   /* read the IP address after answer resource record's header */
1312:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   if (pbuf_copy_partial(p, &ip6addr, sizeof(ip6_addr_p_t), res_idx) != sizeof(ip6_a
1313:Middlewares/Third_Party/LwIP/src/core/dns.c ****                     goto ignore_packet; /* ignore this packet */
1314:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   }
1315:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   /* @todo: scope ip6addr? Might be required for link-local addresses at least? */
1316:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   ip_addr_copy_from_ip6_packed(dns_table[i].ipaddr, ip6addr);
1317:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   pbuf_free(p);
1318:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   /* handle correct response */
1319:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   dns_correct_response(i, lwip_ntohl(ans.ttl));
1320:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   return;
1321:Middlewares/Third_Party/LwIP/src/core/dns.c ****                 }
1322:Middlewares/Third_Party/LwIP/src/core/dns.c ****               }
1323:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV6 */
1324:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
1325:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* skip this answer */
1326:Middlewares/Third_Party/LwIP/src/core/dns.c ****             if ((int)(res_idx + lwip_htons(ans.len)) > 0xFFFF) {
 2392              		.loc 1 1326 17
 2393 01d8 BC8F     		ldrh	r4, [r7, #60]
 2394              		.loc 1 1326 33
 2395 01da 3B8C     		ldrh	r3, [r7, #32]
 2396 01dc 1846     		mov	r0, r3
 2397 01de FFF7FEFF 		bl	lwip_htons
 2398 01e2 0346     		mov	r3, r0
 2399              		.loc 1 1326 17
 2400 01e4 2344     		add	r3, r3, r4
 2401              		.loc 1 1326 16
 2402 01e6 B3F5803F 		cmp	r3, #65536
 2403 01ea 4DDA     		bge	.L187
1327:Middlewares/Third_Party/LwIP/src/core/dns.c ****               goto ignore_packet; /* ignore this packet */
1328:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
1329:Middlewares/Third_Party/LwIP/src/core/dns.c ****             res_idx = (u16_t)(res_idx + lwip_htons(ans.len));
 2404              		.loc 1 1329 41
 2405 01ec 3B8C     		ldrh	r3, [r7, #32]
 2406 01ee 1846     		mov	r0, r3
 2407 01f0 FFF7FEFF 		bl	lwip_htons
 2408 01f4 0346     		mov	r3, r0
 2409 01f6 1A46     		mov	r2, r3
 2410              		.loc 1 1329 21
 2411 01f8 BB8F     		ldrh	r3, [r7, #60]	@ movhi
 2412 01fa 1344     		add	r3, r3, r2
 2413 01fc BB87     		strh	r3, [r7, #60]	@ movhi
1330:Middlewares/Third_Party/LwIP/src/core/dns.c ****             --nanswers;
 2414              		.loc 1 1330 13
ARM GAS  /tmp/ccJEVG7R.s 			page 67


 2415 01fe 7B8F     		ldrh	r3, [r7, #58]	@ movhi
 2416 0200 013B     		subs	r3, r3, #1
 2417 0202 7B87     		strh	r3, [r7, #58]	@ movhi
 2418              	.L163:
1268:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* skip answer resource record's host name */
 2419              		.loc 1 1268 17
 2420 0204 7B8F     		ldrh	r3, [r7, #58]
 2421 0206 002B     		cmp	r3, #0
 2422 0208 04D0     		beq	.L162
1268:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* skip answer resource record's host name */
 2423              		.loc 1 1268 48 discriminator 1
 2424 020a 7B68     		ldr	r3, [r7, #4]
 2425 020c 1B89     		ldrh	r3, [r3, #8]
1268:Middlewares/Third_Party/LwIP/src/core/dns.c ****             /* skip answer resource record's host name */
 2426              		.loc 1 1268 33 discriminator 1
 2427 020e BA8F     		ldrh	r2, [r7, #60]
 2428 0210 9A42     		cmp	r2, r3
 2429 0212 90D3     		bcc	.L171
 2430              	.L162:
1331:Middlewares/Third_Party/LwIP/src/core/dns.c ****           }
1332:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
1333:Middlewares/Third_Party/LwIP/src/core/dns.c ****           if ((entry->reqaddrtype == LWIP_DNS_ADDRTYPE_IPV4_IPV6) ||
1334:Middlewares/Third_Party/LwIP/src/core/dns.c ****               (entry->reqaddrtype == LWIP_DNS_ADDRTYPE_IPV6_IPV4)) {
1335:Middlewares/Third_Party/LwIP/src/core/dns.c ****             if (entry->reqaddrtype == LWIP_DNS_ADDRTYPE_IPV4_IPV6) {
1336:Middlewares/Third_Party/LwIP/src/core/dns.c ****               /* IPv4 failed, try IPv6 */
1337:Middlewares/Third_Party/LwIP/src/core/dns.c ****               dns_table[i].reqaddrtype = LWIP_DNS_ADDRTYPE_IPV6;
1338:Middlewares/Third_Party/LwIP/src/core/dns.c ****             } else {
1339:Middlewares/Third_Party/LwIP/src/core/dns.c ****               /* IPv6 failed, try IPv4 */
1340:Middlewares/Third_Party/LwIP/src/core/dns.c ****               dns_table[i].reqaddrtype = LWIP_DNS_ADDRTYPE_IPV4;
1341:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
1342:Middlewares/Third_Party/LwIP/src/core/dns.c ****             pbuf_free(p);
1343:Middlewares/Third_Party/LwIP/src/core/dns.c ****             dns_table[i].state = DNS_STATE_NEW;
1344:Middlewares/Third_Party/LwIP/src/core/dns.c ****             dns_check_entry(i);
1345:Middlewares/Third_Party/LwIP/src/core/dns.c ****             return;
1346:Middlewares/Third_Party/LwIP/src/core/dns.c ****           }
1347:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1348:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG, ("dns_recv: \"%s\": error in response\n", entry->name));
1349:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1350:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* call callback to indicate error, clean up memory and return */
1351:Middlewares/Third_Party/LwIP/src/core/dns.c ****         pbuf_free(p);
 2431              		.loc 1 1351 9
 2432 0214 7868     		ldr	r0, [r7, #4]
 2433 0216 FFF7FEFF 		bl	pbuf_free
1352:Middlewares/Third_Party/LwIP/src/core/dns.c ****         dns_call_found(i, NULL);
 2434              		.loc 1 1352 9
 2435 021a 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 2436 021e 0021     		movs	r1, #0
 2437 0220 1846     		mov	r0, r3
 2438 0222 FFF7FEFF 		bl	dns_call_found
1353:Middlewares/Third_Party/LwIP/src/core/dns.c ****         dns_table[i].state = DNS_STATE_UNUSED;
 2439              		.loc 1 1353 21
 2440 0226 97F83F20 		ldrb	r2, [r7, #63]	@ zero_extendqisi2
 2441              		.loc 1 1353 28
 2442 022a 1B49     		ldr	r1, .L188
 2443 022c 1346     		mov	r3, r2
 2444 022e 1B01     		lsls	r3, r3, #4
 2445 0230 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccJEVG7R.s 			page 68


 2446 0232 1B01     		lsls	r3, r3, #4
 2447 0234 0B44     		add	r3, r3, r1
 2448 0236 0A33     		adds	r3, r3, #10
 2449 0238 0022     		movs	r2, #0
 2450 023a 1A70     		strb	r2, [r3]
1354:Middlewares/Third_Party/LwIP/src/core/dns.c ****         return;
 2451              		.loc 1 1354 9
 2452 023c 29E0     		b	.L148
 2453              	.L152:
 2454              	.LBE8:
1195:Middlewares/Third_Party/LwIP/src/core/dns.c ****       struct dns_table_entry *entry = &dns_table[i];
 2455              		.loc 1 1195 38 discriminator 2
 2456 023e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 2457 0242 0133     		adds	r3, r3, #1
 2458 0244 87F83F30 		strb	r3, [r7, #63]
 2459              	.L151:
1195:Middlewares/Third_Party/LwIP/src/core/dns.c ****       struct dns_table_entry *entry = &dns_table[i];
 2460              		.loc 1 1195 5 discriminator 1
 2461 0248 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 2462 024c 032B     		cmp	r3, #3
 2463 024e 7FF6F8AE 		bls	.L172
1355:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
1356:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1357:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1358:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1359:Middlewares/Third_Party/LwIP/src/core/dns.c **** ignore_packet:
 2464              		.loc 1 1359 1
 2465 0252 01E0     		b	.L175
 2466              	.L174:
1188:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
 2467              		.loc 1 1188 5
 2468 0254 00BF     		nop
 2469 0256 18E0     		b	.L150
 2470              	.L175:
 2471              		.loc 1 1359 1
 2472 0258 00BF     		nop
 2473 025a 16E0     		b	.L150
 2474              	.L176:
 2475              	.LBB11:
1208:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 2476              		.loc 1 1208 11
 2477 025c 00BF     		nop
 2478 025e 14E0     		b	.L150
 2479              	.L177:
1212:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 2480              		.loc 1 1212 11
 2481 0260 00BF     		nop
 2482 0262 12E0     		b	.L150
 2483              	.L178:
1222:Middlewares/Third_Party/LwIP/src/core/dns.c ****           }
 2484              		.loc 1 1222 13
 2485 0264 00BF     		nop
 2486 0266 10E0     		b	.L150
 2487              	.L179:
1231:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 2488              		.loc 1 1231 11
 2489 0268 00BF     		nop
ARM GAS  /tmp/ccJEVG7R.s 			page 69


 2490 026a 0EE0     		b	.L150
 2491              	.L180:
1236:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 2492              		.loc 1 1236 11
 2493 026c 00BF     		nop
 2494 026e 0CE0     		b	.L150
 2495              	.L181:
1242:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 2496              		.loc 1 1242 11
 2497 0270 00BF     		nop
 2498 0272 0AE0     		b	.L150
 2499              	.L182:
1246:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
 2500              		.loc 1 1246 11
 2501 0274 00BF     		nop
 2502 0276 08E0     		b	.L150
 2503              	.L183:
1272:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
 2504              		.loc 1 1272 15
 2505 0278 00BF     		nop
 2506 027a 06E0     		b	.L150
 2507              	.L184:
1277:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
 2508              		.loc 1 1277 15
 2509 027c 00BF     		nop
 2510 027e 04E0     		b	.L150
 2511              	.L185:
1280:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
 2512              		.loc 1 1280 15
 2513 0280 00BF     		nop
 2514 0282 02E0     		b	.L150
 2515              	.L186:
 2516              	.LBB10:
1294:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   }
 2517              		.loc 1 1294 21
 2518 0284 00BF     		nop
 2519 0286 00E0     		b	.L150
 2520              	.L187:
 2521              	.LBE10:
1327:Middlewares/Third_Party/LwIP/src/core/dns.c ****             }
 2522              		.loc 1 1327 15
 2523 0288 00BF     		nop
 2524              	.L150:
 2525              	.LBE11:
1360:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* deallocate memory and return */
1361:Middlewares/Third_Party/LwIP/src/core/dns.c ****   pbuf_free(p);
 2526              		.loc 1 1361 3
 2527 028a 7868     		ldr	r0, [r7, #4]
 2528 028c FFF7FEFF 		bl	pbuf_free
1362:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return;
 2529              		.loc 1 1362 3
 2530 0290 00BF     		nop
 2531              	.L148:
1363:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 2532              		.loc 1 1363 1
 2533 0292 4437     		adds	r7, r7, #68
 2534              	.LCFI82:
ARM GAS  /tmp/ccJEVG7R.s 			page 70


 2535              		.cfi_def_cfa_offset 12
 2536 0294 BD46     		mov	sp, r7
 2537              	.LCFI83:
 2538              		.cfi_def_cfa_register 13
 2539              		@ sp needed
 2540 0296 90BD     		pop	{r4, r7, pc}
 2541              	.L189:
 2542              		.align	2
 2543              	.L188:
 2544 0298 00000000 		.word	dns_table
 2545 029c 00000000 		.word	dns_servers
 2546              		.cfi_endproc
 2547              	.LFE149:
 2549              		.section	.text.dns_enqueue,"ax",%progbits
 2550              		.align	1
 2551              		.syntax unified
 2552              		.thumb
 2553              		.thumb_func
 2554              		.fpu fpv4-sp-d16
 2556              	dns_enqueue:
 2557              	.LFB150:
1364:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1365:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1366:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Queues a new hostname to resolve and sends out a DNS query for that hostname
1367:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
1368:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param name the hostname that is to be queried
1369:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param hostnamelen length of the hostname
1370:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param found a callback function to be called on success, failure or timeout
1371:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param callback_arg argument to pass to the callback function
1372:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return err_t return code.
1373:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
1374:Middlewares/Third_Party/LwIP/src/core/dns.c **** static err_t
1375:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_enqueue(const char *name, size_t hostnamelen, dns_found_callback found,
1376:Middlewares/Third_Party/LwIP/src/core/dns.c ****             void *callback_arg LWIP_DNS_ADDRTYPE_ARG(u8_t dns_addrtype) LWIP_DNS_ISMDNS_ARG(u8_t is
1377:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 2558              		.loc 1 1377 1
 2559              		.cfi_startproc
 2560              		@ args = 0, pretend = 0, frame = 40
 2561              		@ frame_needed = 1, uses_anonymous_args = 0
 2562 0000 80B5     		push	{r7, lr}
 2563              	.LCFI84:
 2564              		.cfi_def_cfa_offset 8
 2565              		.cfi_offset 7, -8
 2566              		.cfi_offset 14, -4
 2567 0002 8AB0     		sub	sp, sp, #40
 2568              	.LCFI85:
 2569              		.cfi_def_cfa_offset 48
 2570 0004 00AF     		add	r7, sp, #0
 2571              	.LCFI86:
 2572              		.cfi_def_cfa_register 7
 2573 0006 F860     		str	r0, [r7, #12]
 2574 0008 B960     		str	r1, [r7, #8]
 2575 000a 7A60     		str	r2, [r7, #4]
 2576 000c 3B60     		str	r3, [r7]
1378:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t i;
1379:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t lseq, lseqi;
1380:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_table_entry *entry = NULL;
ARM GAS  /tmp/ccJEVG7R.s 			page 71


 2577              		.loc 1 1380 27
 2578 000e 0023     		movs	r3, #0
 2579 0010 3B62     		str	r3, [r7, #32]
1381:Middlewares/Third_Party/LwIP/src/core/dns.c ****   size_t namelen;
1382:Middlewares/Third_Party/LwIP/src/core/dns.c ****   struct dns_req_entry *req;
1383:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1384:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_NO_MULTIPLE_OUTSTANDING) != 0)
1385:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t r;
1386:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* check for duplicate entries */
1387:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_TABLE_SIZE; i++) {
 2580              		.loc 1 1387 10
 2581 0012 0023     		movs	r3, #0
 2582 0014 87F82730 		strb	r3, [r7, #39]
 2583              		.loc 1 1387 3
 2584 0018 56E0     		b	.L191
 2585              	.L197:
1388:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 2586              		.loc 1 1388 22
 2587 001a 97F82720 		ldrb	r2, [r7, #39]	@ zero_extendqisi2
 2588 001e 9049     		ldr	r1, .L213
 2589 0020 1346     		mov	r3, r2
 2590 0022 1B01     		lsls	r3, r3, #4
 2591 0024 1344     		add	r3, r3, r2
 2592 0026 1B01     		lsls	r3, r3, #4
 2593 0028 0B44     		add	r3, r3, r1
 2594 002a 0A33     		adds	r3, r3, #10
 2595 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2596              		.loc 1 1388 8
 2597 002e 022B     		cmp	r3, #2
 2598 0030 45D1     		bne	.L192
1389:Middlewares/Third_Party/LwIP/src/core/dns.c ****         (lwip_strnicmp(name, dns_table[i].name, sizeof(dns_table[i].name)) == 0)) {
 2599              		.loc 1 1389 42 discriminator 1
 2600 0032 97F82720 		ldrb	r2, [r7, #39]	@ zero_extendqisi2
 2601 0036 1346     		mov	r3, r2
 2602 0038 1B01     		lsls	r3, r3, #4
 2603 003a 1344     		add	r3, r3, r2
 2604 003c 1B01     		lsls	r3, r3, #4
 2605 003e 1033     		adds	r3, r3, #16
 2606 0040 874A     		ldr	r2, .L213
 2607 0042 1344     		add	r3, r3, r2
 2608              		.loc 1 1389 10 discriminator 1
 2609 0044 4FF48072 		mov	r2, #256
 2610 0048 1946     		mov	r1, r3
 2611 004a F868     		ldr	r0, [r7, #12]
 2612 004c FFF7FEFF 		bl	lwip_strnicmp
 2613 0050 0346     		mov	r3, r0
1388:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 2614              		.loc 1 1388 50 discriminator 1
 2615 0052 002B     		cmp	r3, #0
 2616 0054 33D1     		bne	.L192
1390:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
1391:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (dns_table[i].reqaddrtype != dns_addrtype) {
1392:Middlewares/Third_Party/LwIP/src/core/dns.c ****         /* requested address types don't match
1393:Middlewares/Third_Party/LwIP/src/core/dns.c ****            this can lead to 2 concurrent requests, but mixing the address types
1394:Middlewares/Third_Party/LwIP/src/core/dns.c ****            for the same host should not be that common */
1395:Middlewares/Third_Party/LwIP/src/core/dns.c ****         continue;
1396:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
ARM GAS  /tmp/ccJEVG7R.s 			page 72


1397:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1398:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* this is a duplicate entry, find a free request entry */
1399:Middlewares/Third_Party/LwIP/src/core/dns.c ****       for (r = 0; r < DNS_MAX_REQUESTS; r++) {
 2617              		.loc 1 1399 14
 2618 0056 0023     		movs	r3, #0
 2619 0058 FB76     		strb	r3, [r7, #27]
 2620              		.loc 1 1399 7
 2621 005a 2DE0     		b	.L193
 2622              	.L196:
1400:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (dns_requests[r].found == 0) {
 2623              		.loc 1 1400 28
 2624 005c FA7E     		ldrb	r2, [r7, #27]	@ zero_extendqisi2
 2625 005e 8149     		ldr	r1, .L213+4
 2626 0060 1346     		mov	r3, r2
 2627 0062 5B00     		lsls	r3, r3, #1
 2628 0064 1344     		add	r3, r3, r2
 2629 0066 9B00     		lsls	r3, r3, #2
 2630 0068 0B44     		add	r3, r3, r1
 2631 006a 1B68     		ldr	r3, [r3]
 2632              		.loc 1 1400 12
 2633 006c 002B     		cmp	r3, #0
 2634 006e 20D1     		bne	.L194
1401:Middlewares/Third_Party/LwIP/src/core/dns.c ****           dns_requests[r].found = found;
 2635              		.loc 1 1401 26
 2636 0070 FA7E     		ldrb	r2, [r7, #27]	@ zero_extendqisi2
 2637              		.loc 1 1401 33
 2638 0072 7C49     		ldr	r1, .L213+4
 2639 0074 1346     		mov	r3, r2
 2640 0076 5B00     		lsls	r3, r3, #1
 2641 0078 1344     		add	r3, r3, r2
 2642 007a 9B00     		lsls	r3, r3, #2
 2643 007c 0B44     		add	r3, r3, r1
 2644 007e 7A68     		ldr	r2, [r7, #4]
 2645 0080 1A60     		str	r2, [r3]
1402:Middlewares/Third_Party/LwIP/src/core/dns.c ****           dns_requests[r].arg = callback_arg;
 2646              		.loc 1 1402 26
 2647 0082 FA7E     		ldrb	r2, [r7, #27]	@ zero_extendqisi2
 2648              		.loc 1 1402 31
 2649 0084 7749     		ldr	r1, .L213+4
 2650 0086 1346     		mov	r3, r2
 2651 0088 5B00     		lsls	r3, r3, #1
 2652 008a 1344     		add	r3, r3, r2
 2653 008c 9B00     		lsls	r3, r3, #2
 2654 008e 0B44     		add	r3, r3, r1
 2655 0090 0433     		adds	r3, r3, #4
 2656 0092 3A68     		ldr	r2, [r7]
 2657 0094 1A60     		str	r2, [r3]
1403:Middlewares/Third_Party/LwIP/src/core/dns.c ****           dns_requests[r].dns_table_idx = i;
 2658              		.loc 1 1403 26
 2659 0096 FA7E     		ldrb	r2, [r7, #27]	@ zero_extendqisi2
 2660              		.loc 1 1403 41
 2661 0098 7249     		ldr	r1, .L213+4
 2662 009a 1346     		mov	r3, r2
 2663 009c 5B00     		lsls	r3, r3, #1
 2664 009e 1344     		add	r3, r3, r2
 2665 00a0 9B00     		lsls	r3, r3, #2
 2666 00a2 0B44     		add	r3, r3, r1
ARM GAS  /tmp/ccJEVG7R.s 			page 73


 2667 00a4 0833     		adds	r3, r3, #8
 2668 00a6 97F82720 		ldrb	r2, [r7, #39]
 2669 00aa 1A70     		strb	r2, [r3]
1404:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DNS_SET_ADDRTYPE(dns_requests[r].reqaddrtype, dns_addrtype);
1405:Middlewares/Third_Party/LwIP/src/core/dns.c ****           LWIP_DEBUGF(DNS_DEBUG, ("dns_enqueue: \"%s\": duplicate request\n", name));
1406:Middlewares/Third_Party/LwIP/src/core/dns.c ****           return ERR_INPROGRESS;
 2670              		.loc 1 1406 18
 2671 00ac 6FF00403 		mvn	r3, #4
 2672 00b0 D1E0     		b	.L195
 2673              	.L194:
1399:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (dns_requests[r].found == 0) {
 2674              		.loc 1 1399 42 discriminator 2
 2675 00b2 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 2676 00b4 0133     		adds	r3, r3, #1
 2677 00b6 FB76     		strb	r3, [r7, #27]
 2678              	.L193:
1399:Middlewares/Third_Party/LwIP/src/core/dns.c ****         if (dns_requests[r].found == 0) {
 2679              		.loc 1 1399 7 discriminator 1
 2680 00b8 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 2681 00ba 032B     		cmp	r3, #3
 2682 00bc CED9     		bls	.L196
 2683              	.L192:
1387:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 2684              		.loc 1 1387 36 discriminator 2
 2685 00be 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2686 00c2 0133     		adds	r3, r3, #1
 2687 00c4 87F82730 		strb	r3, [r7, #39]
 2688              	.L191:
1387:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((dns_table[i].state == DNS_STATE_ASKING) &&
 2689              		.loc 1 1387 3 discriminator 1
 2690 00c8 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2691 00cc 032B     		cmp	r3, #3
 2692 00ce A4D9     		bls	.L197
1407:Middlewares/Third_Party/LwIP/src/core/dns.c ****         }
1408:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
1409:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1410:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1411:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* no duplicate entries found */
1412:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
1413:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1414:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* search an unused entry, or the oldest one */
1415:Middlewares/Third_Party/LwIP/src/core/dns.c ****   lseq = 0;
 2693              		.loc 1 1415 8
 2694 00d0 0023     		movs	r3, #0
 2695 00d2 87F82630 		strb	r3, [r7, #38]
1416:Middlewares/Third_Party/LwIP/src/core/dns.c ****   lseqi = DNS_TABLE_SIZE;
 2696              		.loc 1 1416 9
 2697 00d6 0423     		movs	r3, #4
 2698 00d8 87F82530 		strb	r3, [r7, #37]
1417:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (i = 0; i < DNS_TABLE_SIZE; ++i) {
 2699              		.loc 1 1417 10
 2700 00dc 0023     		movs	r3, #0
 2701 00de 87F82730 		strb	r3, [r7, #39]
 2702              		.loc 1 1417 3
 2703 00e2 27E0     		b	.L198
 2704              	.L202:
1418:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry = &dns_table[i];
ARM GAS  /tmp/ccJEVG7R.s 			page 74


 2705              		.loc 1 1418 23
 2706 00e4 97F82720 		ldrb	r2, [r7, #39]	@ zero_extendqisi2
 2707              		.loc 1 1418 11
 2708 00e8 1346     		mov	r3, r2
 2709 00ea 1B01     		lsls	r3, r3, #4
 2710 00ec 1344     		add	r3, r3, r2
 2711 00ee 1B01     		lsls	r3, r3, #4
 2712 00f0 5B4A     		ldr	r2, .L213
 2713 00f2 1344     		add	r3, r3, r2
 2714 00f4 3B62     		str	r3, [r7, #32]
1419:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* is it an unused entry ? */
1420:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (entry->state == DNS_STATE_UNUSED) {
 2715              		.loc 1 1420 14
 2716 00f6 3B6A     		ldr	r3, [r7, #32]
 2717 00f8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 2718              		.loc 1 1420 8
 2719 00fa 002B     		cmp	r3, #0
 2720 00fc 1FD0     		beq	.L212
1421:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
1422:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1423:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* check if this is the oldest completed entry */
1424:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (entry->state == DNS_STATE_DONE) {
 2721              		.loc 1 1424 14
 2722 00fe 3B6A     		ldr	r3, [r7, #32]
 2723 0100 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 2724              		.loc 1 1424 8
 2725 0102 032B     		cmp	r3, #3
 2726 0104 11D1     		bne	.L201
 2727              	.LBB12:
1425:Middlewares/Third_Party/LwIP/src/core/dns.c ****       u8_t age = (u8_t)(dns_seqno - entry->seqno);
 2728              		.loc 1 1425 18
 2729 0106 584B     		ldr	r3, .L213+8
 2730 0108 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2731              		.loc 1 1425 42
 2732 010a 3B6A     		ldr	r3, [r7, #32]
 2733 010c 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 2734              		.loc 1 1425 12
 2735 010e D31A     		subs	r3, r2, r3
 2736 0110 BB76     		strb	r3, [r7, #26]
1426:Middlewares/Third_Party/LwIP/src/core/dns.c ****       if (age > lseq) {
 2737              		.loc 1 1426 10
 2738 0112 BA7E     		ldrb	r2, [r7, #26]	@ zero_extendqisi2
 2739 0114 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 2740 0118 9A42     		cmp	r2, r3
 2741 011a 06D9     		bls	.L201
1427:Middlewares/Third_Party/LwIP/src/core/dns.c ****         lseq = age;
 2742              		.loc 1 1427 14
 2743 011c BB7E     		ldrb	r3, [r7, #26]
 2744 011e 87F82630 		strb	r3, [r7, #38]
1428:Middlewares/Third_Party/LwIP/src/core/dns.c ****         lseqi = i;
 2745              		.loc 1 1428 15
 2746 0122 97F82730 		ldrb	r3, [r7, #39]
 2747 0126 87F82530 		strb	r3, [r7, #37]
 2748              	.L201:
 2749              	.LBE12:
1417:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry = &dns_table[i];
 2750              		.loc 1 1417 35 discriminator 2
ARM GAS  /tmp/ccJEVG7R.s 			page 75


 2751 012a 97F82730 		ldrb	r3, [r7, #39]
 2752 012e 0133     		adds	r3, r3, #1
 2753 0130 87F82730 		strb	r3, [r7, #39]
 2754              	.L198:
1417:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry = &dns_table[i];
 2755              		.loc 1 1417 3 discriminator 1
 2756 0134 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2757 0138 032B     		cmp	r3, #3
 2758 013a D3D9     		bls	.L202
 2759 013c 00E0     		b	.L200
 2760              	.L212:
1421:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
 2761              		.loc 1 1421 7
 2762 013e 00BF     		nop
 2763              	.L200:
1429:Middlewares/Third_Party/LwIP/src/core/dns.c ****       }
1430:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1431:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1432:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1433:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* if we don't have found an unused entry, use the oldest completed one */
1434:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (i == DNS_TABLE_SIZE) {
 2764              		.loc 1 1434 6
 2765 0140 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2766 0144 042B     		cmp	r3, #4
 2767 0146 1FD1     		bne	.L203
1435:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((lseqi >= DNS_TABLE_SIZE) || (dns_table[lseqi].state != DNS_STATE_DONE)) {
 2768              		.loc 1 1435 8
 2769 0148 97F82530 		ldrb	r3, [r7, #37]	@ zero_extendqisi2
 2770 014c 032B     		cmp	r3, #3
 2771 014e 0BD8     		bhi	.L204
 2772              		.loc 1 1435 55 discriminator 1
 2773 0150 97F82520 		ldrb	r2, [r7, #37]	@ zero_extendqisi2
 2774 0154 4249     		ldr	r1, .L213
 2775 0156 1346     		mov	r3, r2
 2776 0158 1B01     		lsls	r3, r3, #4
 2777 015a 1344     		add	r3, r3, r2
 2778 015c 1B01     		lsls	r3, r3, #4
 2779 015e 0B44     		add	r3, r3, r1
 2780 0160 0A33     		adds	r3, r3, #10
 2781 0162 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2782              		.loc 1 1435 35 discriminator 1
 2783 0164 032B     		cmp	r3, #3
 2784 0166 02D0     		beq	.L205
 2785              	.L204:
1436:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* no entry can be used now, table is full */
1437:Middlewares/Third_Party/LwIP/src/core/dns.c ****       LWIP_DEBUGF(DNS_DEBUG, ("dns_enqueue: \"%s\": DNS entries table is full\n", name));
1438:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return ERR_MEM;
 2786              		.loc 1 1438 14
 2787 0168 4FF0FF33 		mov	r3, #-1
 2788 016c 73E0     		b	.L195
 2789              	.L205:
1439:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
1440:Middlewares/Third_Party/LwIP/src/core/dns.c ****       /* use the oldest completed one */
1441:Middlewares/Third_Party/LwIP/src/core/dns.c ****       i = lseqi;
 2790              		.loc 1 1441 9
 2791 016e 97F82530 		ldrb	r3, [r7, #37]
 2792 0172 87F82730 		strb	r3, [r7, #39]
ARM GAS  /tmp/ccJEVG7R.s 			page 76


1442:Middlewares/Third_Party/LwIP/src/core/dns.c ****       entry = &dns_table[i];
 2793              		.loc 1 1442 25
 2794 0176 97F82720 		ldrb	r2, [r7, #39]	@ zero_extendqisi2
 2795              		.loc 1 1442 13
 2796 017a 1346     		mov	r3, r2
 2797 017c 1B01     		lsls	r3, r3, #4
 2798 017e 1344     		add	r3, r3, r2
 2799 0180 1B01     		lsls	r3, r3, #4
 2800 0182 374A     		ldr	r2, .L213
 2801 0184 1344     		add	r3, r3, r2
 2802 0186 3B62     		str	r3, [r7, #32]
 2803              	.L203:
1443:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1444:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1445:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1446:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_NO_MULTIPLE_OUTSTANDING) != 0)
1447:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* find a free request entry */
1448:Middlewares/Third_Party/LwIP/src/core/dns.c ****   req = NULL;
 2804              		.loc 1 1448 7
 2805 0188 0023     		movs	r3, #0
 2806 018a FB61     		str	r3, [r7, #28]
1449:Middlewares/Third_Party/LwIP/src/core/dns.c ****   for (r = 0; r < DNS_MAX_REQUESTS; r++) {
 2807              		.loc 1 1449 10
 2808 018c 0023     		movs	r3, #0
 2809 018e FB76     		strb	r3, [r7, #27]
 2810              		.loc 1 1449 3
 2811 0190 15E0     		b	.L206
 2812              	.L209:
1450:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_requests[r].found == NULL) {
 2813              		.loc 1 1450 24
 2814 0192 FA7E     		ldrb	r2, [r7, #27]	@ zero_extendqisi2
 2815 0194 3349     		ldr	r1, .L213+4
 2816 0196 1346     		mov	r3, r2
 2817 0198 5B00     		lsls	r3, r3, #1
 2818 019a 1344     		add	r3, r3, r2
 2819 019c 9B00     		lsls	r3, r3, #2
 2820 019e 0B44     		add	r3, r3, r1
 2821 01a0 1B68     		ldr	r3, [r3]
 2822              		.loc 1 1450 8
 2823 01a2 002B     		cmp	r3, #0
 2824 01a4 08D1     		bne	.L207
1451:Middlewares/Third_Party/LwIP/src/core/dns.c ****       req = &dns_requests[r];
 2825              		.loc 1 1451 26
 2826 01a6 FA7E     		ldrb	r2, [r7, #27]	@ zero_extendqisi2
 2827              		.loc 1 1451 11
 2828 01a8 1346     		mov	r3, r2
 2829 01aa 5B00     		lsls	r3, r3, #1
 2830 01ac 1344     		add	r3, r3, r2
 2831 01ae 9B00     		lsls	r3, r3, #2
 2832 01b0 2C4A     		ldr	r2, .L213+4
 2833 01b2 1344     		add	r3, r3, r2
 2834 01b4 FB61     		str	r3, [r7, #28]
1452:Middlewares/Third_Party/LwIP/src/core/dns.c ****       break;
 2835              		.loc 1 1452 7
 2836 01b6 05E0     		b	.L208
 2837              	.L207:
1449:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_requests[r].found == NULL) {
ARM GAS  /tmp/ccJEVG7R.s 			page 77


 2838              		.loc 1 1449 38 discriminator 2
 2839 01b8 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 2840 01ba 0133     		adds	r3, r3, #1
 2841 01bc FB76     		strb	r3, [r7, #27]
 2842              	.L206:
1449:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_requests[r].found == NULL) {
 2843              		.loc 1 1449 3 discriminator 1
 2844 01be FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 2845 01c0 032B     		cmp	r3, #3
 2846 01c2 E6D9     		bls	.L209
 2847              	.L208:
1453:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1454:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1455:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (req == NULL) {
 2848              		.loc 1 1455 6
 2849 01c4 FB69     		ldr	r3, [r7, #28]
 2850 01c6 002B     		cmp	r3, #0
 2851 01c8 02D1     		bne	.L210
1456:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* no request entry can be used now, table is full */
1457:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_DEBUGF(DNS_DEBUG, ("dns_enqueue: \"%s\": DNS request entries table is full\n", name));
1458:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_MEM;
 2852              		.loc 1 1458 12
 2853 01ca 4FF0FF33 		mov	r3, #-1
 2854 01ce 42E0     		b	.L195
 2855              	.L210:
1459:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1460:Middlewares/Third_Party/LwIP/src/core/dns.c ****   req->dns_table_idx = i;
 2856              		.loc 1 1460 22
 2857 01d0 FB69     		ldr	r3, [r7, #28]
 2858 01d2 97F82720 		ldrb	r2, [r7, #39]
 2859 01d6 1A72     		strb	r2, [r3, #8]
1461:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else
1462:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* in this configuration, the entry index is the same as the request index */
1463:Middlewares/Third_Party/LwIP/src/core/dns.c ****   req = &dns_requests[i];
1464:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
1465:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1466:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* use this entry */
1467:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DEBUGF(DNS_DEBUG, ("dns_enqueue: \"%s\": use DNS entry %"U16_F"\n", name, (u16_t)(i)));
1468:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1469:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* fill the entry */
1470:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->state = DNS_STATE_NEW;
 2860              		.loc 1 1470 16
 2861 01d8 3B6A     		ldr	r3, [r7, #32]
 2862 01da 0122     		movs	r2, #1
 2863 01dc 9A72     		strb	r2, [r3, #10]
1471:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->seqno = dns_seqno;
 2864              		.loc 1 1471 16
 2865 01de 224B     		ldr	r3, .L213+8
 2866 01e0 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2867 01e2 3B6A     		ldr	r3, [r7, #32]
 2868 01e4 9A73     		strb	r2, [r3, #14]
1472:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DNS_SET_ADDRTYPE(entry->reqaddrtype, dns_addrtype);
1473:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DNS_SET_ADDRTYPE(req->reqaddrtype, dns_addrtype);
1474:Middlewares/Third_Party/LwIP/src/core/dns.c ****   req->found = found;
 2869              		.loc 1 1474 14
 2870 01e6 FB69     		ldr	r3, [r7, #28]
 2871 01e8 7A68     		ldr	r2, [r7, #4]
ARM GAS  /tmp/ccJEVG7R.s 			page 78


 2872 01ea 1A60     		str	r2, [r3]
1475:Middlewares/Third_Party/LwIP/src/core/dns.c ****   req->arg   = callback_arg;
 2873              		.loc 1 1475 14
 2874 01ec FB69     		ldr	r3, [r7, #28]
 2875 01ee 3A68     		ldr	r2, [r7]
 2876 01f0 5A60     		str	r2, [r3, #4]
1476:Middlewares/Third_Party/LwIP/src/core/dns.c ****   namelen = LWIP_MIN(hostnamelen, DNS_MAX_NAME_LENGTH - 1);
 2877              		.loc 1 1476 11
 2878 01f2 BB68     		ldr	r3, [r7, #8]
 2879 01f4 FF2B     		cmp	r3, #255
 2880 01f6 28BF     		it	cs
 2881 01f8 FF23     		movcs	r3, #255
 2882 01fa 7B61     		str	r3, [r7, #20]
1477:Middlewares/Third_Party/LwIP/src/core/dns.c ****   MEMCPY(entry->name, name, namelen);
 2883              		.loc 1 1477 3
 2884 01fc 3B6A     		ldr	r3, [r7, #32]
 2885 01fe 1033     		adds	r3, r3, #16
 2886 0200 7A69     		ldr	r2, [r7, #20]
 2887 0202 F968     		ldr	r1, [r7, #12]
 2888 0204 1846     		mov	r0, r3
 2889 0206 FFF7FEFF 		bl	memcpy
1478:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->name[namelen] = 0;
 2890              		.loc 1 1478 24
 2891 020a 3A6A     		ldr	r2, [r7, #32]
 2892 020c 7B69     		ldr	r3, [r7, #20]
 2893 020e 1344     		add	r3, r3, r2
 2894 0210 1033     		adds	r3, r3, #16
 2895 0212 0022     		movs	r2, #0
 2896 0214 1A70     		strb	r2, [r3]
1479:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1480:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) != 0)
1481:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->pcb_idx = dns_alloc_pcb();
 2897              		.loc 1 1481 20
 2898 0216 FFF7FEFF 		bl	dns_alloc_pcb
 2899 021a 0346     		mov	r3, r0
 2900 021c 1A46     		mov	r2, r3
 2901              		.loc 1 1481 18
 2902 021e 3B6A     		ldr	r3, [r7, #32]
 2903 0220 DA73     		strb	r2, [r3, #15]
1482:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (entry->pcb_idx >= DNS_MAX_SOURCE_PORTS) {
 2904              		.loc 1 1482 12
 2905 0222 3B6A     		ldr	r3, [r7, #32]
 2906 0224 DB7B     		ldrb	r3, [r3, #15]	@ zero_extendqisi2
 2907              		.loc 1 1482 6
 2908 0226 032B     		cmp	r3, #3
 2909 0228 08D9     		bls	.L211
1483:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* failed to get a UDP pcb */
1484:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_DEBUGF(DNS_DEBUG, ("dns_enqueue: \"%s\": failed to allocate a pcb\n", name));
1485:Middlewares/Third_Party/LwIP/src/core/dns.c ****     entry->state = DNS_STATE_UNUSED;
 2910              		.loc 1 1485 18
 2911 022a 3B6A     		ldr	r3, [r7, #32]
 2912 022c 0022     		movs	r2, #0
 2913 022e 9A72     		strb	r2, [r3, #10]
1486:Middlewares/Third_Party/LwIP/src/core/dns.c ****     req->found = NULL;
 2914              		.loc 1 1486 16
 2915 0230 FB69     		ldr	r3, [r7, #28]
 2916 0232 0022     		movs	r2, #0
ARM GAS  /tmp/ccJEVG7R.s 			page 79


 2917 0234 1A60     		str	r2, [r3]
1487:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_MEM;
 2918              		.loc 1 1487 12
 2919 0236 4FF0FF33 		mov	r3, #-1
 2920 023a 0CE0     		b	.L195
 2921              	.L211:
1488:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1489:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_DEBUGF(DNS_DEBUG, ("dns_enqueue: \"%s\": use DNS pcb %"U16_F"\n", name, (u16_t)(entry->pcb_i
1490:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
1491:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1492:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
1493:Middlewares/Third_Party/LwIP/src/core/dns.c ****   entry->is_mdns = is_mdns;
1494:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
1495:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1496:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_seqno++;
 2922              		.loc 1 1496 12
 2923 023c 0A4B     		ldr	r3, .L213+8
 2924 023e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2925 0240 0133     		adds	r3, r3, #1
 2926 0242 DAB2     		uxtb	r2, r3
 2927 0244 084B     		ldr	r3, .L213+8
 2928 0246 1A70     		strb	r2, [r3]
1497:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1498:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* force to send query without waiting timer */
1499:Middlewares/Third_Party/LwIP/src/core/dns.c ****   dns_check_entry(i);
 2929              		.loc 1 1499 3
 2930 0248 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 2931 024c 1846     		mov	r0, r3
 2932 024e FFF7FEFF 		bl	dns_check_entry
1500:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1501:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* dns query is enqueued */
1502:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return ERR_INPROGRESS;
 2933              		.loc 1 1502 10
 2934 0252 6FF00403 		mvn	r3, #4
 2935              	.L195:
1503:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 2936              		.loc 1 1503 1
 2937 0256 1846     		mov	r0, r3
 2938 0258 2837     		adds	r7, r7, #40
 2939              	.LCFI87:
 2940              		.cfi_def_cfa_offset 8
 2941 025a BD46     		mov	sp, r7
 2942              	.LCFI88:
 2943              		.cfi_def_cfa_register 13
 2944              		@ sp needed
 2945 025c 80BD     		pop	{r7, pc}
 2946              	.L214:
 2947 025e 00BF     		.align	2
 2948              	.L213:
 2949 0260 00000000 		.word	dns_table
 2950 0264 00000000 		.word	dns_requests
 2951 0268 00000000 		.word	dns_seqno
 2952              		.cfi_endproc
 2953              	.LFE150:
 2955              		.section	.text.dns_gethostbyname,"ax",%progbits
 2956              		.align	1
 2957              		.global	dns_gethostbyname
ARM GAS  /tmp/ccJEVG7R.s 			page 80


 2958              		.syntax unified
 2959              		.thumb
 2960              		.thumb_func
 2961              		.fpu fpv4-sp-d16
 2963              	dns_gethostbyname:
 2964              	.LFB151:
1504:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1505:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1506:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
1507:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Resolve a hostname (string) into an IP address.
1508:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * NON-BLOCKING callback version for use with raw API!!!
1509:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
1510:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Returns immediately with one of err_t return codes:
1511:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * - ERR_OK if hostname is a valid IP address string or the host
1512:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *   name is already in the local names table.
1513:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * - ERR_INPROGRESS enqueue a request to be sent to the DNS server
1514:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *   for resolution if no errors are present.
1515:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * - ERR_ARG: dns client not initialized or invalid hostname
1516:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *
1517:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param hostname the hostname that is to be queried
1518:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param addr pointer to a ip_addr_t where to store the address if it is already
1519:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *             cached in the dns_table (only valid if ERR_OK is returned!)
1520:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param found a callback function to be called on success, failure or timeout (only if
1521:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *              ERR_INPROGRESS is returned!)
1522:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param callback_arg argument to pass to the callback function
1523:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @return a err_t return code.
1524:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
1525:Middlewares/Third_Party/LwIP/src/core/dns.c **** err_t
1526:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_gethostbyname(const char *hostname, ip_addr_t *addr, dns_found_callback found,
1527:Middlewares/Third_Party/LwIP/src/core/dns.c ****                   void *callback_arg)
1528:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 2965              		.loc 1 1528 1
 2966              		.cfi_startproc
 2967              		@ args = 0, pretend = 0, frame = 16
 2968              		@ frame_needed = 1, uses_anonymous_args = 0
 2969 0000 80B5     		push	{r7, lr}
 2970              	.LCFI89:
 2971              		.cfi_def_cfa_offset 8
 2972              		.cfi_offset 7, -8
 2973              		.cfi_offset 14, -4
 2974 0002 86B0     		sub	sp, sp, #24
 2975              	.LCFI90:
 2976              		.cfi_def_cfa_offset 32
 2977 0004 02AF     		add	r7, sp, #8
 2978              	.LCFI91:
 2979              		.cfi_def_cfa 7, 24
 2980 0006 F860     		str	r0, [r7, #12]
 2981 0008 B960     		str	r1, [r7, #8]
 2982 000a 7A60     		str	r2, [r7, #4]
 2983 000c 3B60     		str	r3, [r7]
1529:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return dns_gethostbyname_addrtype(hostname, addr, found, callback_arg, LWIP_DNS_ADDRTYPE_DEFAULT)
 2984              		.loc 1 1529 10
 2985 000e 0023     		movs	r3, #0
 2986 0010 0093     		str	r3, [sp]
 2987 0012 3B68     		ldr	r3, [r7]
 2988 0014 7A68     		ldr	r2, [r7, #4]
 2989 0016 B968     		ldr	r1, [r7, #8]
ARM GAS  /tmp/ccJEVG7R.s 			page 81


 2990 0018 F868     		ldr	r0, [r7, #12]
 2991 001a FFF7FEFF 		bl	dns_gethostbyname_addrtype
 2992 001e 0346     		mov	r3, r0
1530:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 2993              		.loc 1 1530 1
 2994 0020 1846     		mov	r0, r3
 2995 0022 1037     		adds	r7, r7, #16
 2996              	.LCFI92:
 2997              		.cfi_def_cfa_offset 8
 2998 0024 BD46     		mov	sp, r7
 2999              	.LCFI93:
 3000              		.cfi_def_cfa_register 13
 3001              		@ sp needed
 3002 0026 80BD     		pop	{r7, pc}
 3003              		.cfi_endproc
 3004              	.LFE151:
 3006              		.section	.text.dns_gethostbyname_addrtype,"ax",%progbits
 3007              		.align	1
 3008              		.global	dns_gethostbyname_addrtype
 3009              		.syntax unified
 3010              		.thumb
 3011              		.thumb_func
 3012              		.fpu fpv4-sp-d16
 3014              	dns_gethostbyname_addrtype:
 3015              	.LFB152:
1531:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1532:Middlewares/Third_Party/LwIP/src/core/dns.c **** /**
1533:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @ingroup dns
1534:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * Like dns_gethostbyname, but returned address type can be controlled:
1535:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param hostname the hostname that is to be queried
1536:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param addr pointer to a ip_addr_t where to store the address if it is already
1537:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *             cached in the dns_table (only valid if ERR_OK is returned!)
1538:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param found a callback function to be called on success, failure or timeout (only if
1539:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *              ERR_INPROGRESS is returned!)
1540:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param callback_arg argument to pass to the callback function
1541:Middlewares/Third_Party/LwIP/src/core/dns.c ****  * @param dns_addrtype - LWIP_DNS_ADDRTYPE_IPV4_IPV6: try to resolve IPv4 first, try IPv6 if IPv4 f
1542:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *                     - LWIP_DNS_ADDRTYPE_IPV6_IPV4: try to resolve IPv6 first, try IPv4 if IPv6 f
1543:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *                     - LWIP_DNS_ADDRTYPE_IPV4: try to resolve IPv4 only
1544:Middlewares/Third_Party/LwIP/src/core/dns.c ****  *                     - LWIP_DNS_ADDRTYPE_IPV6: try to resolve IPv6 only
1545:Middlewares/Third_Party/LwIP/src/core/dns.c ****  */
1546:Middlewares/Third_Party/LwIP/src/core/dns.c **** err_t
1547:Middlewares/Third_Party/LwIP/src/core/dns.c **** dns_gethostbyname_addrtype(const char *hostname, ip_addr_t *addr, dns_found_callback found,
1548:Middlewares/Third_Party/LwIP/src/core/dns.c ****                            void *callback_arg, u8_t dns_addrtype)
1549:Middlewares/Third_Party/LwIP/src/core/dns.c **** {
 3016              		.loc 1 1549 1
 3017              		.cfi_startproc
 3018              		@ args = 4, pretend = 0, frame = 24
 3019              		@ frame_needed = 1, uses_anonymous_args = 0
 3020 0000 80B5     		push	{r7, lr}
 3021              	.LCFI94:
 3022              		.cfi_def_cfa_offset 8
 3023              		.cfi_offset 7, -8
 3024              		.cfi_offset 14, -4
 3025 0002 86B0     		sub	sp, sp, #24
 3026              	.LCFI95:
 3027              		.cfi_def_cfa_offset 32
 3028 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccJEVG7R.s 			page 82


 3029              	.LCFI96:
 3030              		.cfi_def_cfa_register 7
 3031 0006 F860     		str	r0, [r7, #12]
 3032 0008 B960     		str	r1, [r7, #8]
 3033 000a 7A60     		str	r2, [r7, #4]
 3034 000c 3B60     		str	r3, [r7]
1550:Middlewares/Third_Party/LwIP/src/core/dns.c ****   size_t hostnamelen;
1551:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
1552:Middlewares/Third_Party/LwIP/src/core/dns.c ****   u8_t is_mdns;
1553:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
1554:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* not initialized or no valid server yet, or invalid addr pointer
1555:Middlewares/Third_Party/LwIP/src/core/dns.c ****    * or invalid hostname or invalid hostname length */
1556:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if ((addr == NULL) ||
 3035              		.loc 1 1556 6
 3036 000e BB68     		ldr	r3, [r7, #8]
 3037 0010 002B     		cmp	r3, #0
 3038 0012 06D0     		beq	.L218
 3039              		.loc 1 1556 22 discriminator 1
 3040 0014 FB68     		ldr	r3, [r7, #12]
 3041 0016 002B     		cmp	r3, #0
 3042 0018 03D0     		beq	.L218
1557:Middlewares/Third_Party/LwIP/src/core/dns.c ****       (!hostname) || (!hostname[0])) {
 3043              		.loc 1 1557 32
 3044 001a FB68     		ldr	r3, [r7, #12]
 3045 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3046              		.loc 1 1557 19
 3047 001e 002B     		cmp	r3, #0
 3048 0020 02D1     		bne	.L219
 3049              	.L218:
1558:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_ARG;
 3050              		.loc 1 1558 12
 3051 0022 6FF00F03 		mvn	r3, #15
 3052 0026 29E0     		b	.L220
 3053              	.L219:
1559:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1560:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if ((LWIP_DNS_SECURE & LWIP_DNS_SECURE_RAND_SRC_PORT) == 0)
1561:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (dns_pcbs[0] == NULL) {
1562:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_ARG;
1563:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1564:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif
1565:Middlewares/Third_Party/LwIP/src/core/dns.c ****   hostnamelen = strlen(hostname);
 3054              		.loc 1 1565 17
 3055 0028 F868     		ldr	r0, [r7, #12]
 3056 002a FFF7FEFF 		bl	strlen
 3057 002e 7861     		str	r0, [r7, #20]
1566:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (hostnamelen >= DNS_MAX_NAME_LENGTH) {
 3058              		.loc 1 1566 6
 3059 0030 7B69     		ldr	r3, [r7, #20]
 3060 0032 FF2B     		cmp	r3, #255
 3061 0034 02D9     		bls	.L221
1567:Middlewares/Third_Party/LwIP/src/core/dns.c ****     LWIP_DEBUGF(DNS_DEBUG, ("dns_gethostbyname: name too long to resolve"));
1568:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_ARG;
 3062              		.loc 1 1568 12
 3063 0036 6FF00F03 		mvn	r3, #15
 3064 003a 1FE0     		b	.L220
 3065              	.L221:
1569:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
ARM GAS  /tmp/ccJEVG7R.s 			page 83


1570:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1571:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1572:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_HAVE_LOOPIF
1573:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (strcmp(hostname, "localhost") == 0) {
1574:Middlewares/Third_Party/LwIP/src/core/dns.c ****     ip_addr_set_loopback(LWIP_DNS_ADDRTYPE_IS_IPV6(dns_addrtype), addr);
1575:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_OK;
1576:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1577:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_HAVE_LOOPIF */
1578:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1579:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* host name already in octet notation? set ip addr and return ERR_OK */
1580:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (ipaddr_aton(hostname, addr)) {
 3066              		.loc 1 1580 7
 3067 003c B968     		ldr	r1, [r7, #8]
 3068 003e F868     		ldr	r0, [r7, #12]
 3069 0040 FFF7FEFF 		bl	ip4addr_aton
 3070 0044 0346     		mov	r3, r0
 3071              		.loc 1 1580 6
 3072 0046 002B     		cmp	r3, #0
 3073 0048 01D0     		beq	.L222
1581:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
1582:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if ((IP_IS_V6(addr) && (dns_addrtype != LWIP_DNS_ADDRTYPE_IPV4)) ||
1583:Middlewares/Third_Party/LwIP/src/core/dns.c ****         (IP_IS_V4(addr) && (dns_addrtype != LWIP_DNS_ADDRTYPE_IPV6)))
1584:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1585:Middlewares/Third_Party/LwIP/src/core/dns.c ****     {
1586:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return ERR_OK;
 3074              		.loc 1 1586 14
 3075 004a 0023     		movs	r3, #0
 3076 004c 16E0     		b	.L220
 3077              	.L222:
1587:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1588:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1589:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* already have this address cached? */
1590:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (dns_lookup(hostname, addr LWIP_DNS_ADDRTYPE_ARG(dns_addrtype)) == ERR_OK) {
 3078              		.loc 1 1590 7
 3079 004e B968     		ldr	r1, [r7, #8]
 3080 0050 F868     		ldr	r0, [r7, #12]
 3081 0052 FFF7FEFF 		bl	dns_lookup
 3082 0056 0346     		mov	r3, r0
 3083              		.loc 1 1590 6
 3084 0058 002B     		cmp	r3, #0
 3085 005a 01D1     		bne	.L223
1591:Middlewares/Third_Party/LwIP/src/core/dns.c ****     return ERR_OK;
 3086              		.loc 1 1591 12
 3087 005c 0023     		movs	r3, #0
 3088 005e 0DE0     		b	.L220
 3089              	.L223:
1592:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1593:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_IPV4 && LWIP_IPV6
1594:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if ((dns_addrtype == LWIP_DNS_ADDRTYPE_IPV4_IPV6) || (dns_addrtype == LWIP_DNS_ADDRTYPE_IPV6_IPV4
1595:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* fallback to 2nd IP type and try again to lookup */
1596:Middlewares/Third_Party/LwIP/src/core/dns.c ****     u8_t fallback;
1597:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_addrtype == LWIP_DNS_ADDRTYPE_IPV4_IPV6) {
1598:Middlewares/Third_Party/LwIP/src/core/dns.c ****       fallback = LWIP_DNS_ADDRTYPE_IPV6;
1599:Middlewares/Third_Party/LwIP/src/core/dns.c ****     } else {
1600:Middlewares/Third_Party/LwIP/src/core/dns.c ****       fallback = LWIP_DNS_ADDRTYPE_IPV4;
1601:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1602:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (dns_lookup(hostname, addr LWIP_DNS_ADDRTYPE_ARG(fallback)) == ERR_OK) {
ARM GAS  /tmp/ccJEVG7R.s 			page 84


1603:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return ERR_OK;
1604:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1605:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1606:Middlewares/Third_Party/LwIP/src/core/dns.c **** #else /* LWIP_IPV4 && LWIP_IPV6 */
1607:Middlewares/Third_Party/LwIP/src/core/dns.c ****   LWIP_UNUSED_ARG(dns_addrtype);
1608:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1609:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1610:Middlewares/Third_Party/LwIP/src/core/dns.c **** #if LWIP_DNS_SUPPORT_MDNS_QUERIES
1611:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (strstr(hostname, ".local") == &hostname[hostnamelen] - 6) {
1612:Middlewares/Third_Party/LwIP/src/core/dns.c ****     is_mdns = 1;
1613:Middlewares/Third_Party/LwIP/src/core/dns.c ****   } else {
1614:Middlewares/Third_Party/LwIP/src/core/dns.c ****     is_mdns = 0;
1615:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1616:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1617:Middlewares/Third_Party/LwIP/src/core/dns.c ****   if (!is_mdns)
1618:Middlewares/Third_Party/LwIP/src/core/dns.c **** #endif /* LWIP_DNS_SUPPORT_MDNS_QUERIES */
1619:Middlewares/Third_Party/LwIP/src/core/dns.c ****   {
1620:Middlewares/Third_Party/LwIP/src/core/dns.c ****     /* prevent calling found callback if no server is set, return error instead */
1621:Middlewares/Third_Party/LwIP/src/core/dns.c ****     if (ip_addr_isany_val(dns_servers[0])) {
 3090              		.loc 1 1621 9
 3091 0060 084B     		ldr	r3, .L225
 3092 0062 1B68     		ldr	r3, [r3]
 3093              		.loc 1 1621 8
 3094 0064 002B     		cmp	r3, #0
 3095 0066 02D1     		bne	.L224
1622:Middlewares/Third_Party/LwIP/src/core/dns.c ****       return ERR_VAL;
 3096              		.loc 1 1622 14
 3097 0068 6FF00503 		mvn	r3, #5
 3098 006c 06E0     		b	.L220
 3099              	.L224:
1623:Middlewares/Third_Party/LwIP/src/core/dns.c ****     }
1624:Middlewares/Third_Party/LwIP/src/core/dns.c ****   }
1625:Middlewares/Third_Party/LwIP/src/core/dns.c **** 
1626:Middlewares/Third_Party/LwIP/src/core/dns.c ****   /* queue query with specified callback */
1627:Middlewares/Third_Party/LwIP/src/core/dns.c ****   return dns_enqueue(hostname, hostnamelen, found, callback_arg LWIP_DNS_ADDRTYPE_ARG(dns_addrtype)
 3100              		.loc 1 1627 10
 3101 006e 3B68     		ldr	r3, [r7]
 3102 0070 7A68     		ldr	r2, [r7, #4]
 3103 0072 7969     		ldr	r1, [r7, #20]
 3104 0074 F868     		ldr	r0, [r7, #12]
 3105 0076 FFF7FEFF 		bl	dns_enqueue
 3106 007a 0346     		mov	r3, r0
 3107              	.L220:
1628:Middlewares/Third_Party/LwIP/src/core/dns.c ****                      LWIP_DNS_ISMDNS_ARG(is_mdns));
1629:Middlewares/Third_Party/LwIP/src/core/dns.c **** }
 3108              		.loc 1 1629 1
 3109 007c 1846     		mov	r0, r3
 3110 007e 1837     		adds	r7, r7, #24
 3111              	.LCFI97:
 3112              		.cfi_def_cfa_offset 8
 3113 0080 BD46     		mov	sp, r7
 3114              	.LCFI98:
 3115              		.cfi_def_cfa_register 13
 3116              		@ sp needed
 3117 0082 80BD     		pop	{r7, pc}
 3118              	.L226:
 3119              		.align	2
ARM GAS  /tmp/ccJEVG7R.s 			page 85


 3120              	.L225:
 3121 0084 00000000 		.word	dns_servers
 3122              		.cfi_endproc
 3123              	.LFE152:
 3125              		.text
 3126              	.Letext0:
 3127              		.file 2 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/machine/_default_typ
 3128              		.file 3 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_stdint.h"
 3129              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 3130              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 3131              		.file 6 "/home/mego-ros2/microros_ws/firmware/toolchain/lib/gcc/arm-none-eabi/8.3.1/include/stddef
 3132              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3133              		.file 8 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_types.h"
 3134              		.file 9 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/reent.h"
 3135              		.file 10 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/lock.h"
 3136              		.file 11 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/stdlib.h"
 3137              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 3138              		.file 13 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/ctype.h"
 3139              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 3140              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 3141              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 3142              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 3143              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 3144              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 3145              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 3146              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 3147              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 3148              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 3149              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/dns.h"
 3150              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/dns.h"
ARM GAS  /tmp/ccJEVG7R.s 			page 86


DEFINED SYMBOLS
                            *ABS*:0000000000000000 dns.c
     /tmp/ccJEVG7R.s:18     .bss.dns_pcbs:0000000000000000 $d
     /tmp/ccJEVG7R.s:21     .bss.dns_pcbs:0000000000000000 dns_pcbs
     /tmp/ccJEVG7R.s:26     .bss.dns_last_pcb_idx:0000000000000000 dns_last_pcb_idx
     /tmp/ccJEVG7R.s:27     .bss.dns_last_pcb_idx:0000000000000000 $d
     /tmp/ccJEVG7R.s:31     .bss.dns_seqno:0000000000000000 dns_seqno
     /tmp/ccJEVG7R.s:32     .bss.dns_seqno:0000000000000000 $d
     /tmp/ccJEVG7R.s:34     .bss.dns_table:0000000000000000 $d
     /tmp/ccJEVG7R.s:37     .bss.dns_table:0000000000000000 dns_table
     /tmp/ccJEVG7R.s:40     .bss.dns_requests:0000000000000000 $d
     /tmp/ccJEVG7R.s:43     .bss.dns_requests:0000000000000000 dns_requests
     /tmp/ccJEVG7R.s:46     .bss.dns_servers:0000000000000000 $d
     /tmp/ccJEVG7R.s:49     .bss.dns_servers:0000000000000000 dns_servers
     /tmp/ccJEVG7R.s:56     .rodata.dns_mquery_v4group:0000000000000000 dns_mquery_v4group
     /tmp/ccJEVG7R.s:53     .rodata.dns_mquery_v4group:0000000000000000 $d
     /tmp/ccJEVG7R.s:59     .text.dns_init:0000000000000000 $t
     /tmp/ccJEVG7R.s:67     .text.dns_init:0000000000000000 dns_init
     /tmp/ccJEVG7R.s:97     .text.dns_setserver:0000000000000000 $t
     /tmp/ccJEVG7R.s:104    .text.dns_setserver:0000000000000000 dns_setserver
     /tmp/ccJEVG7R.s:167    .text.dns_setserver:0000000000000040 $d
     /tmp/ccJEVG7R.s:173    .text.dns_getserver:0000000000000000 $t
     /tmp/ccJEVG7R.s:180    .text.dns_getserver:0000000000000000 dns_getserver
     /tmp/ccJEVG7R.s:231    .text.dns_getserver:0000000000000028 $d
     /tmp/ccJEVG7R.s:237    .text.dns_tmr:0000000000000000 $t
     /tmp/ccJEVG7R.s:244    .text.dns_tmr:0000000000000000 dns_tmr
     /tmp/ccJEVG7R.s:1973   .text.dns_check_entries:0000000000000000 dns_check_entries
     /tmp/ccJEVG7R.s:267    .text.dns_lookup:0000000000000000 $t
     /tmp/ccJEVG7R.s:273    .text.dns_lookup:0000000000000000 dns_lookup
     /tmp/ccJEVG7R.s:375    .text.dns_lookup:0000000000000080 $d
     /tmp/ccJEVG7R.s:380    .text.dns_compare_name:0000000000000000 $t
     /tmp/ccJEVG7R.s:386    .text.dns_compare_name:0000000000000000 dns_compare_name
     /tmp/ccJEVG7R.s:586    .text.dns_compare_name:0000000000000118 $d
     /tmp/ccJEVG7R.s:591    .text.dns_skip_name:0000000000000000 $t
     /tmp/ccJEVG7R.s:597    .text.dns_skip_name:0000000000000000 dns_skip_name
     /tmp/ccJEVG7R.s:720    .rodata:0000000000000000 $d
     /tmp/ccJEVG7R.s:730    .text.dns_send:0000000000000000 $t
     /tmp/ccJEVG7R.s:736    .text.dns_send:0000000000000000 dns_send
     /tmp/ccJEVG7R.s:1287   .text.dns_call_found:0000000000000000 dns_call_found
     /tmp/ccJEVG7R.s:1021   .text.dns_send:00000000000001c8 $d
     /tmp/ccJEVG7R.s:1031   .text.dns_alloc_random_port:0000000000000000 $t
     /tmp/ccJEVG7R.s:1037   .text.dns_alloc_random_port:0000000000000000 dns_alloc_random_port
     /tmp/ccJEVG7R.s:1127   .text.dns_alloc_random_port:0000000000000070 $d
     /tmp/ccJEVG7R.s:2128   .text.dns_recv:0000000000000000 dns_recv
     /tmp/ccJEVG7R.s:1133   .text.dns_alloc_pcb:0000000000000000 $t
     /tmp/ccJEVG7R.s:1139   .text.dns_alloc_pcb:0000000000000000 dns_alloc_pcb
     /tmp/ccJEVG7R.s:1275   .text.dns_alloc_pcb:000000000000009c $d
     /tmp/ccJEVG7R.s:1281   .text.dns_call_found:0000000000000000 $t
     /tmp/ccJEVG7R.s:1538   .text.dns_call_found:0000000000000174 $d
     /tmp/ccJEVG7R.s:1545   .text.dns_create_txid:0000000000000000 $t
     /tmp/ccJEVG7R.s:1551   .text.dns_create_txid:0000000000000000 dns_create_txid
     /tmp/ccJEVG7R.s:1634   .text.dns_create_txid:000000000000005c $d
     /tmp/ccJEVG7R.s:1639   .text.dns_backupserver_available:0000000000000000 $t
     /tmp/ccJEVG7R.s:1645   .text.dns_backupserver_available:0000000000000000 dns_backupserver_available
     /tmp/ccJEVG7R.s:1708   .text.dns_backupserver_available:000000000000003c $d
     /tmp/ccJEVG7R.s:1720   .text.dns_check_entry:0000000000000000 $t
     /tmp/ccJEVG7R.s:1726   .text.dns_check_entry:0000000000000000 dns_check_entry
ARM GAS  /tmp/ccJEVG7R.s 			page 87


     /tmp/ccJEVG7R.s:1776   .text.dns_check_entry:000000000000003c $d
     /tmp/ccJEVG7R.s:1780   .text.dns_check_entry:000000000000004c $t
     /tmp/ccJEVG7R.s:1958   .text.dns_check_entry:0000000000000138 $d
     /tmp/ccJEVG7R.s:1967   .text.dns_check_entries:0000000000000000 $t
     /tmp/ccJEVG7R.s:2023   .text.dns_correct_response:0000000000000000 $t
     /tmp/ccJEVG7R.s:2029   .text.dns_correct_response:0000000000000000 dns_correct_response
     /tmp/ccJEVG7R.s:2116   .text.dns_correct_response:0000000000000064 $d
     /tmp/ccJEVG7R.s:2122   .text.dns_recv:0000000000000000 $t
     /tmp/ccJEVG7R.s:2544   .text.dns_recv:0000000000000298 $d
     /tmp/ccJEVG7R.s:2550   .text.dns_enqueue:0000000000000000 $t
     /tmp/ccJEVG7R.s:2556   .text.dns_enqueue:0000000000000000 dns_enqueue
     /tmp/ccJEVG7R.s:2949   .text.dns_enqueue:0000000000000260 $d
     /tmp/ccJEVG7R.s:2956   .text.dns_gethostbyname:0000000000000000 $t
     /tmp/ccJEVG7R.s:2963   .text.dns_gethostbyname:0000000000000000 dns_gethostbyname
     /tmp/ccJEVG7R.s:3014   .text.dns_gethostbyname_addrtype:0000000000000000 dns_gethostbyname_addrtype
     /tmp/ccJEVG7R.s:3007   .text.dns_gethostbyname_addrtype:0000000000000000 $t
     /tmp/ccJEVG7R.s:3121   .text.dns_gethostbyname_addrtype:0000000000000084 $d

UNDEFINED SYMBOLS
ip_addr_any
lwip_strnicmp
pbuf_try_get_at
_ctype_
printf
strlen
pbuf_alloc
memset
lwip_htons
pbuf_take
pbuf_put_at
pbuf_take_at
udp_sendto
pbuf_free
udp_new_ip_type
rand
udp_bind
udp_remove
udp_recv
pbuf_copy_partial
lwip_htonl
memcpy
ip4addr_aton
