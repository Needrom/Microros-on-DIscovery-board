ARM GAS  /tmp/cc3Pa550.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"inet_chksum.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.lwip_standard_chksum,"ax",%progbits
  18              		.align	1
  19              		.global	lwip_standard_chksum
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	lwip_standard_chksum:
  27              	.LFB133:
  28              		.file 1 "Middlewares/Third_Party/LwIP/src/core/inet_chksum.c"
   1:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Internet checksum functions.\n
   4:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * These are some reference implementations of the checksum algorithm, with the
   6:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * aim of being simple, correct and fully portable. Checksumming is the
   7:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * first thing you would want to optimize for your platform. If you create
   8:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * your own version, link it in and in your cc.h put:
   9:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * \#define LWIP_CHKSUM your_checksum_routine
  11:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  12:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Or you can select from the implementations below by defining
  13:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * LWIP_CHKSUM_ALGORITHM to 1, 2 or 3.
  14:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
  15:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
  16:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /*
  17:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  18:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * All rights reserved.
  19:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  20:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Redistribution and use in source and binary forms, with or without modification,
  21:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * are permitted provided that the following conditions are met:
  22:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  23:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  24:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *    this list of conditions and the following disclaimer.
  25:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  26:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *    this list of conditions and the following disclaimer in the documentation
  27:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *    and/or other materials provided with the distribution.
  28:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * 3. The name of the author may not be used to endorse or promote products
  29:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *    derived from this software without specific prior written permission.
  30:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
ARM GAS  /tmp/cc3Pa550.s 			page 2


  31:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  32:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  33:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  34:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  35:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  36:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  37:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  38:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  39:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  40:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * OF SUCH DAMAGE.
  41:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  42:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * This file is part of the lwIP TCP/IP stack.
  43:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  44:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Author: Adam Dunkels <adam@sics.se>
  45:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  46:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
  47:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
  48:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #include "lwip/opt.h"
  49:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
  50:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #include "lwip/inet_chksum.h"
  51:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #include "lwip/def.h"
  52:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #include "lwip/ip_addr.h"
  53:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
  54:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #include <string.h>
  55:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
  56:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #ifndef LWIP_CHKSUM
  57:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** # define LWIP_CHKSUM lwip_standard_chksum
  58:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** # ifndef LWIP_CHKSUM_ALGORITHM
  59:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #  define LWIP_CHKSUM_ALGORITHM 2
  60:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** # endif
  61:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t lwip_standard_chksum(const void *dataptr, int len);
  62:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif
  63:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /* If none set: */
  64:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #ifndef LWIP_CHKSUM_ALGORITHM
  65:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** # define LWIP_CHKSUM_ALGORITHM 0
  66:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif
  67:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
  68:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if (LWIP_CHKSUM_ALGORITHM == 1) /* Version #1 */
  69:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /**
  70:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * lwip checksum
  71:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  72:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dataptr points to start of data to be summed at any boundary
  73:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param len length of data to be summed
  74:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return host order (!) lwip checksum (non-inverted Internet sum)
  75:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
  76:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @note accumulator size limits summable length to 64k
  77:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @note host endianess is irrelevant (p3 RFC1071)
  78:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
  79:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
  80:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** lwip_standard_chksum(const void *dataptr, int len)
  81:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
  82:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t acc;
  83:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u16_t src;
  84:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   const u8_t *octetptr;
  85:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
  86:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = 0;
  87:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* dataptr may be at odd or even addresses */
ARM GAS  /tmp/cc3Pa550.s 			page 3


  88:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   octetptr = (const u8_t *)dataptr;
  89:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   while (len > 1) {
  90:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /* declare first octet as most significant
  91:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****        thus assume network order, ignoring host order */
  92:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     src = (*octetptr) << 8;
  93:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     octetptr++;
  94:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /* declare second octet as least significant */
  95:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     src |= (*octetptr);
  96:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     octetptr++;
  97:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc += src;
  98:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     len -= 2;
  99:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 100:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (len > 0) {
 101:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /* accumulate remaining octet */
 102:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     src = (*octetptr) << 8;
 103:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc += src;
 104:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 105:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* add deferred carry bits */
 106:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (acc >> 16) + (acc & 0x0000ffffUL);
 107:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if ((acc & 0xffff0000UL) != 0) {
 108:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (acc >> 16) + (acc & 0x0000ffffUL);
 109:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 110:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* This maybe a little confusing: reorder sum using lwip_htons()
 111:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****      instead of lwip_ntohs() since it has a little less call overhead.
 112:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****      The caller must invert bits for Internet sum ! */
 113:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return lwip_htons((u16_t)acc);
 114:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 115:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif
 116:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if (LWIP_CHKSUM_ALGORITHM == 2) /* Alternative version #2 */
 118:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /*
 119:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Curt McDowell
 120:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Broadcom Corp.
 121:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * csm@broadcom.com
 122:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 123:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * IP checksum two bytes at a time with support for
 124:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * unaligned buffer.
 125:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Works for len up to and including 0x20000.
 126:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * by Curt McDowell, Broadcom Corp. 12/08/2005
 127:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 128:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dataptr points to start of data to be summed at any boundary
 129:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param len length of data to be summed
 130:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return host order (!) lwip checksum (non-inverted Internet sum)
 131:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 132:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 133:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** lwip_standard_chksum(const void *dataptr, int len)
 134:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
  29              		.loc 1 134 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 32
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34 0000 80B4     		push	{r7}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 7, -4
  38 0002 89B0     		sub	sp, sp, #36
ARM GAS  /tmp/cc3Pa550.s 			page 4


  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 40
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
  44 0006 7860     		str	r0, [r7, #4]
  45 0008 3960     		str	r1, [r7]
 135:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   const u8_t *pb = (const u8_t *)dataptr;
  46              		.loc 1 135 15
  47 000a 7B68     		ldr	r3, [r7, #4]
  48 000c FB61     		str	r3, [r7, #28]
 136:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   const u16_t *ps;
 137:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u16_t t = 0;
  49              		.loc 1 137 9
  50 000e 0023     		movs	r3, #0
  51 0010 FB81     		strh	r3, [r7, #14]	@ movhi
 138:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t sum = 0;
  52              		.loc 1 138 9
  53 0012 0023     		movs	r3, #0
  54 0014 7B61     		str	r3, [r7, #20]
 139:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   int odd = ((mem_ptr_t)pb & 1);
  55              		.loc 1 139 28
  56 0016 FB69     		ldr	r3, [r7, #28]
  57              		.loc 1 139 7
  58 0018 03F00103 		and	r3, r3, #1
  59 001c 3B61     		str	r3, [r7, #16]
 140:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 141:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Get aligned to u16_t */
 142:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (odd && len > 0) {
  60              		.loc 1 142 6
  61 001e 3B69     		ldr	r3, [r7, #16]
  62 0020 002B     		cmp	r3, #0
  63 0022 0DD0     		beq	.L2
  64              		.loc 1 142 11 discriminator 1
  65 0024 3B68     		ldr	r3, [r7]
  66 0026 002B     		cmp	r3, #0
  67 0028 0ADD     		ble	.L2
 143:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     ((u8_t *)&t)[1] = *pb++;
  68              		.loc 1 143 26
  69 002a FA69     		ldr	r2, [r7, #28]
  70 002c 531C     		adds	r3, r2, #1
  71 002e FB61     		str	r3, [r7, #28]
  72              		.loc 1 143 17
  73 0030 07F10E03 		add	r3, r7, #14
  74 0034 0133     		adds	r3, r3, #1
  75              		.loc 1 143 23
  76 0036 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  77              		.loc 1 143 21
  78 0038 1A70     		strb	r2, [r3]
 144:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     len--;
  79              		.loc 1 144 8
  80 003a 3B68     		ldr	r3, [r7]
  81 003c 013B     		subs	r3, r3, #1
  82 003e 3B60     		str	r3, [r7]
  83              	.L2:
 145:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 146:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
ARM GAS  /tmp/cc3Pa550.s 			page 5


 147:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Add the bulk of the data */
 148:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   ps = (const u16_t *)(const void *)pb;
  84              		.loc 1 148 6
  85 0040 FB69     		ldr	r3, [r7, #28]
  86 0042 BB61     		str	r3, [r7, #24]
 149:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   while (len > 1) {
  87              		.loc 1 149 9
  88 0044 0AE0     		b	.L3
  89              	.L4:
 150:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     sum += *ps++;
  90              		.loc 1 150 15
  91 0046 BB69     		ldr	r3, [r7, #24]
  92 0048 9A1C     		adds	r2, r3, #2
  93 004a BA61     		str	r2, [r7, #24]
  94              		.loc 1 150 12
  95 004c 1B88     		ldrh	r3, [r3]
  96 004e 1A46     		mov	r2, r3
  97              		.loc 1 150 9
  98 0050 7B69     		ldr	r3, [r7, #20]
  99 0052 1344     		add	r3, r3, r2
 100 0054 7B61     		str	r3, [r7, #20]
 151:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     len -= 2;
 101              		.loc 1 151 9
 102 0056 3B68     		ldr	r3, [r7]
 103 0058 023B     		subs	r3, r3, #2
 104 005a 3B60     		str	r3, [r7]
 105              	.L3:
 149:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   while (len > 1) {
 106              		.loc 1 149 9
 107 005c 3B68     		ldr	r3, [r7]
 108 005e 012B     		cmp	r3, #1
 109 0060 F1DC     		bgt	.L4
 152:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 153:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Consume left-over byte, if any */
 155:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (len > 0) {
 110              		.loc 1 155 6
 111 0062 3B68     		ldr	r3, [r7]
 112 0064 002B     		cmp	r3, #0
 113 0066 04DD     		ble	.L5
 156:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     ((u8_t *)&t)[0] = *(const u8_t *)ps;
 114              		.loc 1 156 14
 115 0068 07F10E03 		add	r3, r7, #14
 116              		.loc 1 156 23
 117 006c BA69     		ldr	r2, [r7, #24]
 118 006e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 119              		.loc 1 156 21
 120 0070 1A70     		strb	r2, [r3]
 121              	.L5:
 157:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 158:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 159:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Add end bytes */
 160:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   sum += t;
 122              		.loc 1 160 7
 123 0072 FB89     		ldrh	r3, [r7, #14]
 124 0074 1A46     		mov	r2, r3
 125 0076 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cc3Pa550.s 			page 6


 126 0078 1344     		add	r3, r3, r2
 127 007a 7B61     		str	r3, [r7, #20]
 161:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 162:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 163:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 164:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 128              		.loc 1 164 9
 129 007c 7B69     		ldr	r3, [r7, #20]
 130 007e 1A0C     		lsrs	r2, r3, #16
 131 0080 7B69     		ldr	r3, [r7, #20]
 132 0082 9BB2     		uxth	r3, r3
 133              		.loc 1 164 7
 134 0084 1344     		add	r3, r3, r2
 135 0086 7B61     		str	r3, [r7, #20]
 165:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 136              		.loc 1 165 9
 137 0088 7B69     		ldr	r3, [r7, #20]
 138 008a 1A0C     		lsrs	r2, r3, #16
 139 008c 7B69     		ldr	r3, [r7, #20]
 140 008e 9BB2     		uxth	r3, r3
 141              		.loc 1 165 7
 142 0090 1344     		add	r3, r3, r2
 143 0092 7B61     		str	r3, [r7, #20]
 166:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 167:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Swap if alignment was odd */
 168:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (odd) {
 144              		.loc 1 168 6
 145 0094 3B69     		ldr	r3, [r7, #16]
 146 0096 002B     		cmp	r3, #0
 147 0098 07D0     		beq	.L6
 169:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     sum = SWAP_BYTES_IN_WORD(sum);
 148              		.loc 1 169 11
 149 009a 7B69     		ldr	r3, [r7, #20]
 150 009c 1B02     		lsls	r3, r3, #8
 151 009e 9AB2     		uxth	r2, r3
 152 00a0 7B69     		ldr	r3, [r7, #20]
 153 00a2 1B0A     		lsrs	r3, r3, #8
 154 00a4 DBB2     		uxtb	r3, r3
 155              		.loc 1 169 9
 156 00a6 1343     		orrs	r3, r3, r2
 157 00a8 7B61     		str	r3, [r7, #20]
 158              	.L6:
 170:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 171:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 172:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return (u16_t)sum;
 159              		.loc 1 172 10
 160 00aa 7B69     		ldr	r3, [r7, #20]
 161 00ac 9BB2     		uxth	r3, r3
 173:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 162              		.loc 1 173 1
 163 00ae 1846     		mov	r0, r3
 164 00b0 2437     		adds	r7, r7, #36
 165              	.LCFI3:
 166              		.cfi_def_cfa_offset 4
 167 00b2 BD46     		mov	sp, r7
 168              	.LCFI4:
 169              		.cfi_def_cfa_register 13
ARM GAS  /tmp/cc3Pa550.s 			page 7


 170              		@ sp needed
 171 00b4 5DF8047B 		ldr	r7, [sp], #4
 172              	.LCFI5:
 173              		.cfi_restore 7
 174              		.cfi_def_cfa_offset 0
 175 00b8 7047     		bx	lr
 176              		.cfi_endproc
 177              	.LFE133:
 179              		.section	.text.inet_cksum_pseudo_base,"ax",%progbits
 180              		.align	1
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 184              		.fpu fpv4-sp-d16
 186              	inet_cksum_pseudo_base:
 187              	.LFB134:
 174:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif
 175:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 176:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if (LWIP_CHKSUM_ALGORITHM == 3) /* Alternative version #3 */
 177:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /**
 178:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * An optimized checksum routine. Basically, it uses loop-unrolling on
 179:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * the checksum loop, treating the head and tail bytes specially, whereas
 180:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * the inner loop acts on 8 bytes at a time.
 181:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 182:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @arg start of buffer to be checksummed. May be an odd byte address.
 183:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @len number of bytes in the buffer to be checksummed.
 184:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return host order (!) lwip checksum (non-inverted Internet sum)
 185:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 186:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * by Curt McDowell, Broadcom Corp. December 8th, 2005
 187:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 188:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 189:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** lwip_standard_chksum(const void *dataptr, int len)
 190:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 191:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   const u8_t *pb = (const u8_t *)dataptr;
 192:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   const u16_t *ps;
 193:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u16_t t = 0;
 194:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   const u32_t *pl;
 195:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t sum = 0, tmp;
 196:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* starts at odd byte address? */
 197:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   int odd = ((mem_ptr_t)pb & 1);
 198:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 199:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (odd && len > 0) {
 200:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     ((u8_t *)&t)[1] = *pb++;
 201:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     len--;
 202:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 203:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 204:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   ps = (const u16_t *)(const void *)pb;
 205:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 206:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (((mem_ptr_t)ps & 3) && len > 1) {
 207:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     sum += *ps++;
 208:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     len -= 2;
 209:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 210:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 211:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   pl = (const u32_t *)(const void *)ps;
 212:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 213:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   while (len > 7)  {
 214:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     tmp = sum + *pl++;          /* ping */
ARM GAS  /tmp/cc3Pa550.s 			page 8


 215:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     if (tmp < sum) {
 216:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       tmp++;                    /* add back carry */
 217:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     }
 218:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 219:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     sum = tmp + *pl++;          /* pong */
 220:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     if (sum < tmp) {
 221:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       sum++;                    /* add back carry */
 222:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     }
 223:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 224:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     len -= 8;
 225:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 226:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 227:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* make room in upper bits */
 228:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 229:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 230:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   ps = (const u16_t *)pl;
 231:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 232:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* 16-bit aligned word remaining? */
 233:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   while (len > 1) {
 234:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     sum += *ps++;
 235:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     len -= 2;
 236:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 237:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 238:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* dangling tail byte remaining? */
 239:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (len > 0) {                /* include odd byte */
 240:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     ((u8_t *)&t)[0] = *(const u8_t *)ps;
 241:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 242:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 243:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   sum += t;                     /* add end bytes */
 244:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 245:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 246:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 247:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 248:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   sum = FOLD_U32T(sum);
 249:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 250:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (odd) {
 251:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     sum = SWAP_BYTES_IN_WORD(sum);
 252:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 253:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 254:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return (u16_t)sum;
 255:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 256:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif
 257:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 258:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /** Parts of the pseudo checksum which are common to IPv4 and IPv6 */
 259:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** static u16_t
 260:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** inet_cksum_pseudo_base(struct pbuf *p, u8_t proto, u16_t proto_len, u32_t acc)
 261:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 188              		.loc 1 261 1
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 24
 191              		@ frame_needed = 1, uses_anonymous_args = 0
 192 0000 80B5     		push	{r7, lr}
 193              	.LCFI6:
 194              		.cfi_def_cfa_offset 8
 195              		.cfi_offset 7, -8
 196              		.cfi_offset 14, -4
 197 0002 86B0     		sub	sp, sp, #24
ARM GAS  /tmp/cc3Pa550.s 			page 9


 198              	.LCFI7:
 199              		.cfi_def_cfa_offset 32
 200 0004 00AF     		add	r7, sp, #0
 201              	.LCFI8:
 202              		.cfi_def_cfa_register 7
 203 0006 F860     		str	r0, [r7, #12]
 204 0008 7B60     		str	r3, [r7, #4]
 205 000a 0B46     		mov	r3, r1
 206 000c FB72     		strb	r3, [r7, #11]
 207 000e 1346     		mov	r3, r2	@ movhi
 208 0010 3B81     		strh	r3, [r7, #8]	@ movhi
 262:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   struct pbuf *q;
 263:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   int swapped = 0;
 209              		.loc 1 263 7
 210 0012 0023     		movs	r3, #0
 211 0014 3B61     		str	r3, [r7, #16]
 264:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 265:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* iterate through all pbuf in chain */
 266:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   for (q = p; q != NULL; q = q->next) {
 212              		.loc 1 266 10
 213 0016 FB68     		ldr	r3, [r7, #12]
 214 0018 7B61     		str	r3, [r7, #20]
 215              		.loc 1 266 3
 216 001a 2BE0     		b	.L9
 217              	.L11:
 267:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 268:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                              (void *)q, (void *)q->next));
 269:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, q->len);
 218              		.loc 1 269 25
 219 001c 7B69     		ldr	r3, [r7, #20]
 220 001e 5A68     		ldr	r2, [r3, #4]
 221              		.loc 1 269 37
 222 0020 7B69     		ldr	r3, [r7, #20]
 223 0022 5B89     		ldrh	r3, [r3, #10]
 224              		.loc 1 269 12
 225 0024 1946     		mov	r1, r3
 226 0026 1046     		mov	r0, r2
 227 0028 FFF7FEFF 		bl	lwip_standard_chksum
 228 002c 0346     		mov	r3, r0
 229 002e 1A46     		mov	r2, r3
 230              		.loc 1 269 9
 231 0030 7B68     		ldr	r3, [r7, #4]
 232 0032 1344     		add	r3, r3, r2
 233 0034 7B60     		str	r3, [r7, #4]
 270:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): unwrapped lwip_chksum()=%"X32_F" \n", acc));*
 271:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /* just executing this next line is probably faster that the if statement needed
 272:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****        to check whether we really need to execute it, and does no harm */
 273:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = FOLD_U32T(acc);
 234              		.loc 1 273 11
 235 0036 7B68     		ldr	r3, [r7, #4]
 236 0038 1A0C     		lsrs	r2, r3, #16
 237 003a 7B68     		ldr	r3, [r7, #4]
 238 003c 9BB2     		uxth	r3, r3
 239              		.loc 1 273 9
 240 003e 1344     		add	r3, r3, r2
 241 0040 7B60     		str	r3, [r7, #4]
 274:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     if (q->len % 2 != 0) {
ARM GAS  /tmp/cc3Pa550.s 			page 10


 242              		.loc 1 274 10
 243 0042 7B69     		ldr	r3, [r7, #20]
 244 0044 5B89     		ldrh	r3, [r3, #10]
 245              		.loc 1 274 20
 246 0046 03F00103 		and	r3, r3, #1
 247 004a 9BB2     		uxth	r3, r3
 248              		.loc 1 274 8
 249 004c 002B     		cmp	r3, #0
 250 004e 0ED0     		beq	.L10
 275:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       swapped = !swapped;
 251              		.loc 1 275 17
 252 0050 3B69     		ldr	r3, [r7, #16]
 253 0052 002B     		cmp	r3, #0
 254 0054 0CBF     		ite	eq
 255 0056 0123     		moveq	r3, #1
 256 0058 0023     		movne	r3, #0
 257 005a DBB2     		uxtb	r3, r3
 258              		.loc 1 275 15
 259 005c 3B61     		str	r3, [r7, #16]
 276:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       acc = SWAP_BYTES_IN_WORD(acc);
 260              		.loc 1 276 13
 261 005e 7B68     		ldr	r3, [r7, #4]
 262 0060 1B02     		lsls	r3, r3, #8
 263 0062 9AB2     		uxth	r2, r3
 264 0064 7B68     		ldr	r3, [r7, #4]
 265 0066 1B0A     		lsrs	r3, r3, #8
 266 0068 DBB2     		uxtb	r3, r3
 267              		.loc 1 276 11
 268 006a 1343     		orrs	r3, r3, r2
 269 006c 7B60     		str	r3, [r7, #4]
 270              	.L10:
 266:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 271              		.loc 1 266 28 discriminator 2
 272 006e 7B69     		ldr	r3, [r7, #20]
 273 0070 1B68     		ldr	r3, [r3]
 274 0072 7B61     		str	r3, [r7, #20]
 275              	.L9:
 266:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 276              		.loc 1 266 3 discriminator 1
 277 0074 7B69     		ldr	r3, [r7, #20]
 278 0076 002B     		cmp	r3, #0
 279 0078 D0D1     		bne	.L11
 277:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     }
 278:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): wrapped lwip_chksum()=%"X32_F" \n", acc));*/
 279:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 280:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 281:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (swapped) {
 280              		.loc 1 281 6
 281 007a 3B69     		ldr	r3, [r7, #16]
 282 007c 002B     		cmp	r3, #0
 283 007e 07D0     		beq	.L12
 282:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = SWAP_BYTES_IN_WORD(acc);
 284              		.loc 1 282 11
 285 0080 7B68     		ldr	r3, [r7, #4]
 286 0082 1B02     		lsls	r3, r3, #8
 287 0084 9AB2     		uxth	r2, r3
 288 0086 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc3Pa550.s 			page 11


 289 0088 1B0A     		lsrs	r3, r3, #8
 290 008a DBB2     		uxtb	r3, r3
 291              		.loc 1 282 9
 292 008c 1343     		orrs	r3, r3, r2
 293 008e 7B60     		str	r3, [r7, #4]
 294              	.L12:
 283:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 284:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 285:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc += (u32_t)lwip_htons((u16_t)proto);
 295              		.loc 1 285 17
 296 0090 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 297 0092 9BB2     		uxth	r3, r3
 298 0094 1846     		mov	r0, r3
 299 0096 FFF7FEFF 		bl	lwip_htons
 300 009a 0346     		mov	r3, r0
 301              		.loc 1 285 10
 302 009c 1A46     		mov	r2, r3
 303              		.loc 1 285 7
 304 009e 7B68     		ldr	r3, [r7, #4]
 305 00a0 1344     		add	r3, r3, r2
 306 00a2 7B60     		str	r3, [r7, #4]
 286:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc += (u32_t)lwip_htons(proto_len);
 307              		.loc 1 286 17
 308 00a4 3B89     		ldrh	r3, [r7, #8]
 309 00a6 1846     		mov	r0, r3
 310 00a8 FFF7FEFF 		bl	lwip_htons
 311 00ac 0346     		mov	r3, r0
 312              		.loc 1 286 10
 313 00ae 1A46     		mov	r2, r3
 314              		.loc 1 286 7
 315 00b0 7B68     		ldr	r3, [r7, #4]
 316 00b2 1344     		add	r3, r3, r2
 317 00b4 7B60     		str	r3, [r7, #4]
 287:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 288:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 289:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 290:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 318              		.loc 1 290 9
 319 00b6 7B68     		ldr	r3, [r7, #4]
 320 00b8 1A0C     		lsrs	r2, r3, #16
 321 00ba 7B68     		ldr	r3, [r7, #4]
 322 00bc 9BB2     		uxth	r3, r3
 323              		.loc 1 290 7
 324 00be 1344     		add	r3, r3, r2
 325 00c0 7B60     		str	r3, [r7, #4]
 291:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 326              		.loc 1 291 9
 327 00c2 7B68     		ldr	r3, [r7, #4]
 328 00c4 1A0C     		lsrs	r2, r3, #16
 329 00c6 7B68     		ldr	r3, [r7, #4]
 330 00c8 9BB2     		uxth	r3, r3
 331              		.loc 1 291 7
 332 00ca 1344     		add	r3, r3, r2
 333 00cc 7B60     		str	r3, [r7, #4]
 292:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): pbuf chain lwip_chksum()=%"X32_F"\n", acc));
 293:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return (u16_t)~(acc & 0xffffUL);
 334              		.loc 1 293 10
ARM GAS  /tmp/cc3Pa550.s 			page 12


 335 00ce 7B68     		ldr	r3, [r7, #4]
 336 00d0 9BB2     		uxth	r3, r3
 337 00d2 DB43     		mvns	r3, r3
 338 00d4 9BB2     		uxth	r3, r3
 294:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 339              		.loc 1 294 1
 340 00d6 1846     		mov	r0, r3
 341 00d8 1837     		adds	r7, r7, #24
 342              	.LCFI9:
 343              		.cfi_def_cfa_offset 8
 344 00da BD46     		mov	sp, r7
 345              	.LCFI10:
 346              		.cfi_def_cfa_register 13
 347              		@ sp needed
 348 00dc 80BD     		pop	{r7, pc}
 349              		.cfi_endproc
 350              	.LFE134:
 352              		.section	.text.inet_chksum_pseudo,"ax",%progbits
 353              		.align	1
 354              		.global	inet_chksum_pseudo
 355              		.syntax unified
 356              		.thumb
 357              		.thumb_func
 358              		.fpu fpv4-sp-d16
 360              	inet_chksum_pseudo:
 361              	.LFB135:
 295:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 296:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV4
 297:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /* inet_chksum_pseudo:
 298:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 299:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculates the IPv4 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 300:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * IP addresses are expected to be in network byte order.
 301:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 302:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 303:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 304:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 305:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
 306:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 307:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 308:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 309:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 310:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** inet_chksum_pseudo(struct pbuf *p, u8_t proto, u16_t proto_len,
 311:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                    const ip4_addr_t *src, const ip4_addr_t *dest)
 312:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 362              		.loc 1 312 1
 363              		.cfi_startproc
 364              		@ args = 4, pretend = 0, frame = 24
 365              		@ frame_needed = 1, uses_anonymous_args = 0
 366 0000 80B5     		push	{r7, lr}
 367              	.LCFI11:
 368              		.cfi_def_cfa_offset 8
 369              		.cfi_offset 7, -8
 370              		.cfi_offset 14, -4
 371 0002 86B0     		sub	sp, sp, #24
 372              	.LCFI12:
 373              		.cfi_def_cfa_offset 32
 374 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/cc3Pa550.s 			page 13


 375              	.LCFI13:
 376              		.cfi_def_cfa_register 7
 377 0006 F860     		str	r0, [r7, #12]
 378 0008 7B60     		str	r3, [r7, #4]
 379 000a 0B46     		mov	r3, r1
 380 000c FB72     		strb	r3, [r7, #11]
 381 000e 1346     		mov	r3, r2	@ movhi
 382 0010 3B81     		strh	r3, [r7, #8]	@ movhi
 313:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t acc;
 314:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t addr;
 315:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 316:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   addr = ip4_addr_get_u32(src);
 383              		.loc 1 316 8
 384 0012 7B68     		ldr	r3, [r7, #4]
 385 0014 1B68     		ldr	r3, [r3]
 386 0016 7B61     		str	r3, [r7, #20]
 317:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (addr & 0xffffUL);
 387              		.loc 1 317 7
 388 0018 7B69     		ldr	r3, [r7, #20]
 389 001a 9BB2     		uxth	r3, r3
 390 001c 3B61     		str	r3, [r7, #16]
 318:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 391              		.loc 1 318 30
 392 001e 7B69     		ldr	r3, [r7, #20]
 393 0020 1B0C     		lsrs	r3, r3, #16
 394              		.loc 1 318 7
 395 0022 3A69     		ldr	r2, [r7, #16]
 396 0024 1344     		add	r3, r3, r2
 397 0026 3B61     		str	r3, [r7, #16]
 319:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   addr = ip4_addr_get_u32(dest);
 398              		.loc 1 319 8
 399 0028 3B6A     		ldr	r3, [r7, #32]
 400 002a 1B68     		ldr	r3, [r3]
 401 002c 7B61     		str	r3, [r7, #20]
 320:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (u32_t)(acc + (addr & 0xffffUL));
 402              		.loc 1 320 29
 403 002e 7B69     		ldr	r3, [r7, #20]
 404 0030 9BB2     		uxth	r3, r3
 405              		.loc 1 320 7
 406 0032 3A69     		ldr	r2, [r7, #16]
 407 0034 1344     		add	r3, r3, r2
 408 0036 3B61     		str	r3, [r7, #16]
 321:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 409              		.loc 1 321 30
 410 0038 7B69     		ldr	r3, [r7, #20]
 411 003a 1B0C     		lsrs	r3, r3, #16
 412              		.loc 1 321 7
 413 003c 3A69     		ldr	r2, [r7, #16]
 414 003e 1344     		add	r3, r3, r2
 415 0040 3B61     		str	r3, [r7, #16]
 322:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* fold down to 16 bits */
 323:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 416              		.loc 1 323 9
 417 0042 3B69     		ldr	r3, [r7, #16]
 418 0044 1A0C     		lsrs	r2, r3, #16
 419 0046 3B69     		ldr	r3, [r7, #16]
 420 0048 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cc3Pa550.s 			page 14


 421              		.loc 1 323 7
 422 004a 1344     		add	r3, r3, r2
 423 004c 3B61     		str	r3, [r7, #16]
 324:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 424              		.loc 1 324 9
 425 004e 3B69     		ldr	r3, [r7, #16]
 426 0050 1A0C     		lsrs	r2, r3, #16
 427 0052 3B69     		ldr	r3, [r7, #16]
 428 0054 9BB2     		uxth	r3, r3
 429              		.loc 1 324 7
 430 0056 1344     		add	r3, r3, r2
 431 0058 3B61     		str	r3, [r7, #16]
 325:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 326:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return inet_cksum_pseudo_base(p, proto, proto_len, acc);
 432              		.loc 1 326 10
 433 005a 3A89     		ldrh	r2, [r7, #8]
 434 005c F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 435 005e 3B69     		ldr	r3, [r7, #16]
 436 0060 F868     		ldr	r0, [r7, #12]
 437 0062 FFF7FEFF 		bl	inet_cksum_pseudo_base
 438 0066 0346     		mov	r3, r0
 327:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 439              		.loc 1 327 1
 440 0068 1846     		mov	r0, r3
 441 006a 1837     		adds	r7, r7, #24
 442              	.LCFI14:
 443              		.cfi_def_cfa_offset 8
 444 006c BD46     		mov	sp, r7
 445              	.LCFI15:
 446              		.cfi_def_cfa_register 13
 447              		@ sp needed
 448 006e 80BD     		pop	{r7, pc}
 449              		.cfi_endproc
 450              	.LFE135:
 452              		.section	.text.ip_chksum_pseudo,"ax",%progbits
 453              		.align	1
 454              		.global	ip_chksum_pseudo
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 458              		.fpu fpv4-sp-d16
 460              	ip_chksum_pseudo:
 461              	.LFB136:
 328:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 329:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 330:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV6
 331:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /**
 332:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculates the checksum with IPv6 pseudo header used by TCP and UDP for a pbuf chain.
 333:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * IPv6 addresses are expected to be in network byte order.
 334:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 335:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 336:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto ipv6 protocol/next header (used for checksum of pseudo header)
 337:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto_len length of the ipv6 payload (used for checksum of pseudo header)
 338:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param src source ipv6 address (used for checksum of pseudo header)
 339:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dest destination ipv6 address (used for checksum of pseudo header)
 340:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 341:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
ARM GAS  /tmp/cc3Pa550.s 			page 15


 342:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 343:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** ip6_chksum_pseudo(struct pbuf *p, u8_t proto, u16_t proto_len,
 344:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                   const ip6_addr_t *src, const ip6_addr_t *dest)
 345:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 346:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t acc = 0;
 347:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t addr;
 348:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u8_t addr_part;
 349:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 350:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   for (addr_part = 0; addr_part < 4; addr_part++) {
 351:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     addr = src->addr[addr_part];
 352:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 353:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 354:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     addr = dest->addr[addr_part];
 355:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 356:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 357:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 358:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* fold down to 16 bits */
 359:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 360:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 361:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 362:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return inet_cksum_pseudo_base(p, proto, proto_len, acc);
 363:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 364:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 365:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 366:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /* ip_chksum_pseudo:
 367:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 368:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculates the IPv4 or IPv6 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 369:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * IP addresses are expected to be in network byte order.
 370:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 371:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 372:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 373:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 374:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
 375:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 376:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 377:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 378:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 379:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** ip_chksum_pseudo(struct pbuf *p, u8_t proto, u16_t proto_len,
 380:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                  const ip_addr_t *src, const ip_addr_t *dest)
 381:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 462              		.loc 1 381 1
 463              		.cfi_startproc
 464              		@ args = 4, pretend = 0, frame = 16
 465              		@ frame_needed = 1, uses_anonymous_args = 0
 466 0000 80B5     		push	{r7, lr}
 467              	.LCFI16:
 468              		.cfi_def_cfa_offset 8
 469              		.cfi_offset 7, -8
 470              		.cfi_offset 14, -4
 471 0002 86B0     		sub	sp, sp, #24
 472              	.LCFI17:
 473              		.cfi_def_cfa_offset 32
 474 0004 02AF     		add	r7, sp, #8
 475              	.LCFI18:
 476              		.cfi_def_cfa 7, 24
 477 0006 F860     		str	r0, [r7, #12]
 478 0008 7B60     		str	r3, [r7, #4]
ARM GAS  /tmp/cc3Pa550.s 			page 16


 479 000a 0B46     		mov	r3, r1
 480 000c FB72     		strb	r3, [r7, #11]
 481 000e 1346     		mov	r3, r2	@ movhi
 482 0010 3B81     		strh	r3, [r7, #8]	@ movhi
 382:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV6
 383:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (IP_IS_V6(dest)) {
 384:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     return ip6_chksum_pseudo(p, proto, proto_len, ip_2_ip6(src), ip_2_ip6(dest));
 385:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 386:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 387:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV4 && LWIP_IPV6
 388:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   else
 389:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 390:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV4
 391:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   {
 392:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     return inet_chksum_pseudo(p, proto, proto_len, ip_2_ip4(src), ip_2_ip4(dest));
 483              		.loc 1 392 12
 484 0012 3A89     		ldrh	r2, [r7, #8]
 485 0014 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 486 0016 BB69     		ldr	r3, [r7, #24]
 487 0018 0093     		str	r3, [sp]
 488 001a 7B68     		ldr	r3, [r7, #4]
 489 001c F868     		ldr	r0, [r7, #12]
 490 001e FFF7FEFF 		bl	inet_chksum_pseudo
 491 0022 0346     		mov	r3, r0
 393:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 394:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 395:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 492              		.loc 1 395 1
 493 0024 1846     		mov	r0, r3
 494 0026 1037     		adds	r7, r7, #16
 495              	.LCFI19:
 496              		.cfi_def_cfa_offset 8
 497 0028 BD46     		mov	sp, r7
 498              	.LCFI20:
 499              		.cfi_def_cfa_register 13
 500              		@ sp needed
 501 002a 80BD     		pop	{r7, pc}
 502              		.cfi_endproc
 503              	.LFE136:
 505              		.section	.rodata
 506              		.align	2
 507              	.LC0:
 508 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/inet_chksum.c"
 508      6C657761 
 508      7265732F 
 508      54686972 
 508      645F5061 
 509 0033 00       		.ascii	"\000"
 510              		.align	2
 511              	.LC1:
 512 0034 64656C65 		.ascii	"delete me\000"
 512      7465206D 
 512      6500
 513 003e 0000     		.align	2
 514              	.LC2:
 515 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 515      7274696F 
ARM GAS  /tmp/cc3Pa550.s 			page 17


 515      6E202225 
 515      73222066 
 515      61696C65 
 516              		.section	.text.inet_cksum_pseudo_partial_base,"ax",%progbits
 517              		.align	1
 518              		.syntax unified
 519              		.thumb
 520              		.thumb_func
 521              		.fpu fpv4-sp-d16
 523              	inet_cksum_pseudo_partial_base:
 524              	.LFB137:
 396:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 397:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /** Parts of the pseudo checksum which are common to IPv4 and IPv6 */
 398:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** static u16_t
 399:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** inet_cksum_pseudo_partial_base(struct pbuf *p, u8_t proto, u16_t proto_len,
 400:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                                u16_t chksum_len, u32_t acc)
 401:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 525              		.loc 1 401 1
 526              		.cfi_startproc
 527              		@ args = 4, pretend = 0, frame = 32
 528              		@ frame_needed = 1, uses_anonymous_args = 0
 529 0000 80B5     		push	{r7, lr}
 530              	.LCFI21:
 531              		.cfi_def_cfa_offset 8
 532              		.cfi_offset 7, -8
 533              		.cfi_offset 14, -4
 534 0002 88B0     		sub	sp, sp, #32
 535              	.LCFI22:
 536              		.cfi_def_cfa_offset 40
 537 0004 00AF     		add	r7, sp, #0
 538              	.LCFI23:
 539              		.cfi_def_cfa_register 7
 540 0006 F860     		str	r0, [r7, #12]
 541 0008 0846     		mov	r0, r1
 542 000a 1146     		mov	r1, r2
 543 000c 1A46     		mov	r2, r3
 544 000e 0346     		mov	r3, r0
 545 0010 FB72     		strb	r3, [r7, #11]
 546 0012 0B46     		mov	r3, r1	@ movhi
 547 0014 3B81     		strh	r3, [r7, #8]	@ movhi
 548 0016 1346     		mov	r3, r2	@ movhi
 549 0018 FB80     		strh	r3, [r7, #6]	@ movhi
 402:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   struct pbuf *q;
 403:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   int swapped = 0;
 550              		.loc 1 403 7
 551 001a 0023     		movs	r3, #0
 552 001c BB61     		str	r3, [r7, #24]
 404:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u16_t chklen;
 405:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 406:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* iterate through all pbuf in chain */
 407:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   for (q = p; (q != NULL) && (chksum_len > 0); q = q->next) {
 553              		.loc 1 407 10
 554 001e FB68     		ldr	r3, [r7, #12]
 555 0020 FB61     		str	r3, [r7, #28]
 556              		.loc 1 407 3
 557 0022 43E0     		b	.L19
 558              	.L24:
ARM GAS  /tmp/cc3Pa550.s 			page 18


 408:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 409:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                              (void *)q, (void *)q->next));
 410:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     chklen = q->len;
 559              		.loc 1 410 12
 560 0024 FB69     		ldr	r3, [r7, #28]
 561 0026 5B89     		ldrh	r3, [r3, #10]	@ movhi
 562 0028 FB82     		strh	r3, [r7, #22]	@ movhi
 411:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     if (chklen > chksum_len) {
 563              		.loc 1 411 8
 564 002a FA8A     		ldrh	r2, [r7, #22]
 565 002c FB88     		ldrh	r3, [r7, #6]
 566 002e 9A42     		cmp	r2, r3
 567 0030 01D9     		bls	.L20
 412:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       chklen = chksum_len;
 568              		.loc 1 412 14
 569 0032 FB88     		ldrh	r3, [r7, #6]	@ movhi
 570 0034 FB82     		strh	r3, [r7, #22]	@ movhi
 571              	.L20:
 413:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     }
 414:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, chklen);
 572              		.loc 1 414 25
 573 0036 FB69     		ldr	r3, [r7, #28]
 574 0038 5B68     		ldr	r3, [r3, #4]
 575              		.loc 1 414 12
 576 003a FA8A     		ldrh	r2, [r7, #22]
 577 003c 1146     		mov	r1, r2
 578 003e 1846     		mov	r0, r3
 579 0040 FFF7FEFF 		bl	lwip_standard_chksum
 580 0044 0346     		mov	r3, r0
 581 0046 1A46     		mov	r2, r3
 582              		.loc 1 414 9
 583 0048 BB6A     		ldr	r3, [r7, #40]
 584 004a 1344     		add	r3, r3, r2
 585 004c BB62     		str	r3, [r7, #40]
 415:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     chksum_len = (u16_t)(chksum_len - chklen);
 586              		.loc 1 415 16
 587 004e FA88     		ldrh	r2, [r7, #6]	@ movhi
 588 0050 FB8A     		ldrh	r3, [r7, #22]	@ movhi
 589 0052 D31A     		subs	r3, r2, r3
 590 0054 FB80     		strh	r3, [r7, #6]	@ movhi
 416:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_ASSERT("delete me", chksum_len < 0x7fff);
 591              		.loc 1 416 5
 592 0056 FB88     		ldrh	r3, [r7, #6]
 593 0058 47F6FE72 		movw	r2, #32766
 594 005c 9342     		cmp	r3, r2
 595 005e 06D9     		bls	.L21
 596              		.loc 1 416 5 is_stmt 0 discriminator 1
 597 0060 2E4B     		ldr	r3, .L27
 598 0062 4FF4D072 		mov	r2, #416
 599 0066 2E49     		ldr	r1, .L27+4
 600 0068 2E48     		ldr	r0, .L27+8
 601 006a FFF7FEFF 		bl	printf
 602              	.L21:
 417:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): unwrapped lwip_chksum()=%"X32_F" \n", acc));*
 418:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /* fold the upper bit down */
 419:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = FOLD_U32T(acc);
 603              		.loc 1 419 11 is_stmt 1
ARM GAS  /tmp/cc3Pa550.s 			page 19


 604 006e BB6A     		ldr	r3, [r7, #40]
 605 0070 1A0C     		lsrs	r2, r3, #16
 606 0072 BB6A     		ldr	r3, [r7, #40]
 607 0074 9BB2     		uxth	r3, r3
 608              		.loc 1 419 9
 609 0076 1344     		add	r3, r3, r2
 610 0078 BB62     		str	r3, [r7, #40]
 420:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     if (q->len % 2 != 0) {
 611              		.loc 1 420 10
 612 007a FB69     		ldr	r3, [r7, #28]
 613 007c 5B89     		ldrh	r3, [r3, #10]
 614              		.loc 1 420 20
 615 007e 03F00103 		and	r3, r3, #1
 616 0082 9BB2     		uxth	r3, r3
 617              		.loc 1 420 8
 618 0084 002B     		cmp	r3, #0
 619 0086 0ED0     		beq	.L22
 421:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       swapped = !swapped;
 620              		.loc 1 421 17
 621 0088 BB69     		ldr	r3, [r7, #24]
 622 008a 002B     		cmp	r3, #0
 623 008c 0CBF     		ite	eq
 624 008e 0123     		moveq	r3, #1
 625 0090 0023     		movne	r3, #0
 626 0092 DBB2     		uxtb	r3, r3
 627              		.loc 1 421 15
 628 0094 BB61     		str	r3, [r7, #24]
 422:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       acc = SWAP_BYTES_IN_WORD(acc);
 629              		.loc 1 422 13
 630 0096 BB6A     		ldr	r3, [r7, #40]
 631 0098 1B02     		lsls	r3, r3, #8
 632 009a 9AB2     		uxth	r2, r3
 633 009c BB6A     		ldr	r3, [r7, #40]
 634 009e 1B0A     		lsrs	r3, r3, #8
 635 00a0 DBB2     		uxtb	r3, r3
 636              		.loc 1 422 11
 637 00a2 1343     		orrs	r3, r3, r2
 638 00a4 BB62     		str	r3, [r7, #40]
 639              	.L22:
 407:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 640              		.loc 1 407 50 discriminator 2
 641 00a6 FB69     		ldr	r3, [r7, #28]
 642 00a8 1B68     		ldr	r3, [r3]
 643 00aa FB61     		str	r3, [r7, #28]
 644              	.L19:
 407:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 645              		.loc 1 407 3 discriminator 1
 646 00ac FB69     		ldr	r3, [r7, #28]
 647 00ae 002B     		cmp	r3, #0
 648 00b0 02D0     		beq	.L23
 407:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): checksumming pbuf %p (has next %p) \n",
 649              		.loc 1 407 27 discriminator 3
 650 00b2 FB88     		ldrh	r3, [r7, #6]
 651 00b4 002B     		cmp	r3, #0
 652 00b6 B5D1     		bne	.L24
 653              	.L23:
 423:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     }
ARM GAS  /tmp/cc3Pa550.s 			page 20


 424:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     /*LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): wrapped lwip_chksum()=%"X32_F" \n", acc));*/
 425:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 426:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 427:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (swapped) {
 654              		.loc 1 427 6
 655 00b8 BB69     		ldr	r3, [r7, #24]
 656 00ba 002B     		cmp	r3, #0
 657 00bc 07D0     		beq	.L25
 428:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = SWAP_BYTES_IN_WORD(acc);
 658              		.loc 1 428 11
 659 00be BB6A     		ldr	r3, [r7, #40]
 660 00c0 1B02     		lsls	r3, r3, #8
 661 00c2 9AB2     		uxth	r2, r3
 662 00c4 BB6A     		ldr	r3, [r7, #40]
 663 00c6 1B0A     		lsrs	r3, r3, #8
 664 00c8 DBB2     		uxtb	r3, r3
 665              		.loc 1 428 9
 666 00ca 1343     		orrs	r3, r3, r2
 667 00cc BB62     		str	r3, [r7, #40]
 668              	.L25:
 429:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 430:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 431:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc += (u32_t)lwip_htons((u16_t)proto);
 669              		.loc 1 431 17
 670 00ce FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 671 00d0 9BB2     		uxth	r3, r3
 672 00d2 1846     		mov	r0, r3
 673 00d4 FFF7FEFF 		bl	lwip_htons
 674 00d8 0346     		mov	r3, r0
 675              		.loc 1 431 10
 676 00da 1A46     		mov	r2, r3
 677              		.loc 1 431 7
 678 00dc BB6A     		ldr	r3, [r7, #40]
 679 00de 1344     		add	r3, r3, r2
 680 00e0 BB62     		str	r3, [r7, #40]
 432:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc += (u32_t)lwip_htons(proto_len);
 681              		.loc 1 432 17
 682 00e2 3B89     		ldrh	r3, [r7, #8]
 683 00e4 1846     		mov	r0, r3
 684 00e6 FFF7FEFF 		bl	lwip_htons
 685 00ea 0346     		mov	r3, r0
 686              		.loc 1 432 10
 687 00ec 1A46     		mov	r2, r3
 688              		.loc 1 432 7
 689 00ee BB6A     		ldr	r3, [r7, #40]
 690 00f0 1344     		add	r3, r3, r2
 691 00f2 BB62     		str	r3, [r7, #40]
 433:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 434:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* Fold 32-bit sum to 16 bits
 435:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****      calling this twice is probably faster than if statements... */
 436:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 692              		.loc 1 436 9
 693 00f4 BB6A     		ldr	r3, [r7, #40]
 694 00f6 1A0C     		lsrs	r2, r3, #16
 695 00f8 BB6A     		ldr	r3, [r7, #40]
 696 00fa 9BB2     		uxth	r3, r3
 697              		.loc 1 436 7
ARM GAS  /tmp/cc3Pa550.s 			page 21


 698 00fc 1344     		add	r3, r3, r2
 699 00fe BB62     		str	r3, [r7, #40]
 437:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 700              		.loc 1 437 9
 701 0100 BB6A     		ldr	r3, [r7, #40]
 702 0102 1A0C     		lsrs	r2, r3, #16
 703 0104 BB6A     		ldr	r3, [r7, #40]
 704 0106 9BB2     		uxth	r3, r3
 705              		.loc 1 437 7
 706 0108 1344     		add	r3, r3, r2
 707 010a BB62     		str	r3, [r7, #40]
 438:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   LWIP_DEBUGF(INET_DEBUG, ("inet_chksum_pseudo(): pbuf chain lwip_chksum()=%"X32_F"\n", acc));
 439:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return (u16_t)~(acc & 0xffffUL);
 708              		.loc 1 439 10
 709 010c BB6A     		ldr	r3, [r7, #40]
 710 010e 9BB2     		uxth	r3, r3
 711 0110 DB43     		mvns	r3, r3
 712 0112 9BB2     		uxth	r3, r3
 440:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 713              		.loc 1 440 1
 714 0114 1846     		mov	r0, r3
 715 0116 2037     		adds	r7, r7, #32
 716              	.LCFI24:
 717              		.cfi_def_cfa_offset 8
 718 0118 BD46     		mov	sp, r7
 719              	.LCFI25:
 720              		.cfi_def_cfa_register 13
 721              		@ sp needed
 722 011a 80BD     		pop	{r7, pc}
 723              	.L28:
 724              		.align	2
 725              	.L27:
 726 011c 00000000 		.word	.LC0
 727 0120 34000000 		.word	.LC1
 728 0124 40000000 		.word	.LC2
 729              		.cfi_endproc
 730              	.LFE137:
 732              		.section	.text.inet_chksum_pseudo_partial,"ax",%progbits
 733              		.align	1
 734              		.global	inet_chksum_pseudo_partial
 735              		.syntax unified
 736              		.thumb
 737              		.thumb_func
 738              		.fpu fpv4-sp-d16
 740              	inet_chksum_pseudo_partial:
 741              	.LFB138:
 441:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 442:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV4
 443:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /* inet_chksum_pseudo_partial:
 444:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 445:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculates the IPv4 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 446:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * IP addresses are expected to be in network byte order.
 447:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 448:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 449:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 450:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 451:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
ARM GAS  /tmp/cc3Pa550.s 			page 22


 452:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 453:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 454:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 455:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 456:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** inet_chksum_pseudo_partial(struct pbuf *p, u8_t proto, u16_t proto_len,
 457:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                            u16_t chksum_len, const ip4_addr_t *src, const ip4_addr_t *dest)
 458:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 742              		.loc 1 458 1
 743              		.cfi_startproc
 744              		@ args = 8, pretend = 0, frame = 24
 745              		@ frame_needed = 1, uses_anonymous_args = 0
 746 0000 80B5     		push	{r7, lr}
 747              	.LCFI26:
 748              		.cfi_def_cfa_offset 8
 749              		.cfi_offset 7, -8
 750              		.cfi_offset 14, -4
 751 0002 88B0     		sub	sp, sp, #32
 752              	.LCFI27:
 753              		.cfi_def_cfa_offset 40
 754 0004 02AF     		add	r7, sp, #8
 755              	.LCFI28:
 756              		.cfi_def_cfa 7, 32
 757 0006 F860     		str	r0, [r7, #12]
 758 0008 0846     		mov	r0, r1
 759 000a 1146     		mov	r1, r2
 760 000c 1A46     		mov	r2, r3
 761 000e 0346     		mov	r3, r0
 762 0010 FB72     		strb	r3, [r7, #11]
 763 0012 0B46     		mov	r3, r1	@ movhi
 764 0014 3B81     		strh	r3, [r7, #8]	@ movhi
 765 0016 1346     		mov	r3, r2	@ movhi
 766 0018 FB80     		strh	r3, [r7, #6]	@ movhi
 459:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t acc;
 460:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t addr;
 461:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 462:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   addr = ip4_addr_get_u32(src);
 767              		.loc 1 462 8
 768 001a 3B6A     		ldr	r3, [r7, #32]
 769 001c 1B68     		ldr	r3, [r3]
 770 001e 7B61     		str	r3, [r7, #20]
 463:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (addr & 0xffffUL);
 771              		.loc 1 463 7
 772 0020 7B69     		ldr	r3, [r7, #20]
 773 0022 9BB2     		uxth	r3, r3
 774 0024 3B61     		str	r3, [r7, #16]
 464:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 775              		.loc 1 464 30
 776 0026 7B69     		ldr	r3, [r7, #20]
 777 0028 1B0C     		lsrs	r3, r3, #16
 778              		.loc 1 464 7
 779 002a 3A69     		ldr	r2, [r7, #16]
 780 002c 1344     		add	r3, r3, r2
 781 002e 3B61     		str	r3, [r7, #16]
 465:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   addr = ip4_addr_get_u32(dest);
 782              		.loc 1 465 8
 783 0030 7B6A     		ldr	r3, [r7, #36]
 784 0032 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/cc3Pa550.s 			page 23


 785 0034 7B61     		str	r3, [r7, #20]
 466:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (u32_t)(acc + (addr & 0xffffUL));
 786              		.loc 1 466 29
 787 0036 7B69     		ldr	r3, [r7, #20]
 788 0038 9BB2     		uxth	r3, r3
 789              		.loc 1 466 7
 790 003a 3A69     		ldr	r2, [r7, #16]
 791 003c 1344     		add	r3, r3, r2
 792 003e 3B61     		str	r3, [r7, #16]
 467:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 793              		.loc 1 467 30
 794 0040 7B69     		ldr	r3, [r7, #20]
 795 0042 1B0C     		lsrs	r3, r3, #16
 796              		.loc 1 467 7
 797 0044 3A69     		ldr	r2, [r7, #16]
 798 0046 1344     		add	r3, r3, r2
 799 0048 3B61     		str	r3, [r7, #16]
 468:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* fold down to 16 bits */
 469:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 800              		.loc 1 469 9
 801 004a 3B69     		ldr	r3, [r7, #16]
 802 004c 1A0C     		lsrs	r2, r3, #16
 803 004e 3B69     		ldr	r3, [r7, #16]
 804 0050 9BB2     		uxth	r3, r3
 805              		.loc 1 469 7
 806 0052 1344     		add	r3, r3, r2
 807 0054 3B61     		str	r3, [r7, #16]
 470:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 808              		.loc 1 470 9
 809 0056 3B69     		ldr	r3, [r7, #16]
 810 0058 1A0C     		lsrs	r2, r3, #16
 811 005a 3B69     		ldr	r3, [r7, #16]
 812 005c 9BB2     		uxth	r3, r3
 813              		.loc 1 470 7
 814 005e 1344     		add	r3, r3, r2
 815 0060 3B61     		str	r3, [r7, #16]
 471:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 472:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return inet_cksum_pseudo_partial_base(p, proto, proto_len, chksum_len, acc);
 816              		.loc 1 472 10
 817 0062 F888     		ldrh	r0, [r7, #6]
 818 0064 3A89     		ldrh	r2, [r7, #8]
 819 0066 F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 820 0068 3B69     		ldr	r3, [r7, #16]
 821 006a 0093     		str	r3, [sp]
 822 006c 0346     		mov	r3, r0
 823 006e F868     		ldr	r0, [r7, #12]
 824 0070 FFF7FEFF 		bl	inet_cksum_pseudo_partial_base
 825 0074 0346     		mov	r3, r0
 473:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 826              		.loc 1 473 1
 827 0076 1846     		mov	r0, r3
 828 0078 1837     		adds	r7, r7, #24
 829              	.LCFI29:
 830              		.cfi_def_cfa_offset 8
 831 007a BD46     		mov	sp, r7
 832              	.LCFI30:
 833              		.cfi_def_cfa_register 13
ARM GAS  /tmp/cc3Pa550.s 			page 24


 834              		@ sp needed
 835 007c 80BD     		pop	{r7, pc}
 836              		.cfi_endproc
 837              	.LFE138:
 839              		.section	.text.ip_chksum_pseudo_partial,"ax",%progbits
 840              		.align	1
 841              		.global	ip_chksum_pseudo_partial
 842              		.syntax unified
 843              		.thumb
 844              		.thumb_func
 845              		.fpu fpv4-sp-d16
 847              	ip_chksum_pseudo_partial:
 848              	.LFB139:
 474:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 475:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 476:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV6
 477:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /**
 478:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculates the checksum with IPv6 pseudo header used by TCP and UDP for a pbuf chain.
 479:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * IPv6 addresses are expected to be in network byte order. Will only compute for a
 480:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * portion of the payload.
 481:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 482:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 483:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto ipv6 protocol/next header (used for checksum of pseudo header)
 484:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto_len length of the ipv6 payload (used for checksum of pseudo header)
 485:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param chksum_len number of payload bytes used to compute chksum
 486:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param src source ipv6 address (used for checksum of pseudo header)
 487:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dest destination ipv6 address (used for checksum of pseudo header)
 488:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 489:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 490:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 491:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** ip6_chksum_pseudo_partial(struct pbuf *p, u8_t proto, u16_t proto_len,
 492:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                           u16_t chksum_len, const ip6_addr_t *src, const ip6_addr_t *dest)
 493:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 494:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t acc = 0;
 495:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t addr;
 496:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u8_t addr_part;
 497:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 498:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   for (addr_part = 0; addr_part < 4; addr_part++) {
 499:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     addr = src->addr[addr_part];
 500:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 501:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 502:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     addr = dest->addr[addr_part];
 503:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + (addr & 0xffffUL));
 504:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = (u32_t)(acc + ((addr >> 16) & 0xffffUL));
 505:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 506:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   /* fold down to 16 bits */
 507:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 508:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = FOLD_U32T(acc);
 509:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 510:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return inet_cksum_pseudo_partial_base(p, proto, proto_len, chksum_len, acc);
 511:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 512:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 513:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 514:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /* ip_chksum_pseudo_partial:
 515:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 516:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculates the IPv4 or IPv6 pseudo Internet checksum used by TCP and UDP for a pbuf chain.
 517:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
ARM GAS  /tmp/cc3Pa550.s 			page 25


 518:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param p chain of pbufs over that a checksum should be calculated (ip data part)
 519:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param src source ip address (used for checksum of pseudo header)
 520:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dst destination ip address (used for checksum of pseudo header)
 521:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto ip protocol (used for checksum of pseudo header)
 522:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param proto_len length of the ip data part (used for checksum of pseudo header)
 523:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 524:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 525:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 526:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** ip_chksum_pseudo_partial(struct pbuf *p, u8_t proto, u16_t proto_len,
 527:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****                          u16_t chksum_len, const ip_addr_t *src, const ip_addr_t *dest)
 528:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 849              		.loc 1 528 1
 850              		.cfi_startproc
 851              		@ args = 8, pretend = 0, frame = 16
 852              		@ frame_needed = 1, uses_anonymous_args = 0
 853 0000 80B5     		push	{r7, lr}
 854              	.LCFI31:
 855              		.cfi_def_cfa_offset 8
 856              		.cfi_offset 7, -8
 857              		.cfi_offset 14, -4
 858 0002 86B0     		sub	sp, sp, #24
 859              	.LCFI32:
 860              		.cfi_def_cfa_offset 32
 861 0004 02AF     		add	r7, sp, #8
 862              	.LCFI33:
 863              		.cfi_def_cfa 7, 24
 864 0006 F860     		str	r0, [r7, #12]
 865 0008 0846     		mov	r0, r1
 866 000a 1146     		mov	r1, r2
 867 000c 1A46     		mov	r2, r3
 868 000e 0346     		mov	r3, r0
 869 0010 FB72     		strb	r3, [r7, #11]
 870 0012 0B46     		mov	r3, r1	@ movhi
 871 0014 3B81     		strh	r3, [r7, #8]	@ movhi
 872 0016 1346     		mov	r3, r2	@ movhi
 873 0018 FB80     		strh	r3, [r7, #6]	@ movhi
 529:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV6
 530:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (IP_IS_V6(dest)) {
 531:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     return ip6_chksum_pseudo_partial(p, proto, proto_len, chksum_len, ip_2_ip6(src), ip_2_ip6(dest)
 532:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 533:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV6 */
 534:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV4 && LWIP_IPV6
 535:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   else
 536:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 537:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #if LWIP_IPV4
 538:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   {
 539:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     return inet_chksum_pseudo_partial(p, proto, proto_len, chksum_len, ip_2_ip4(src), ip_2_ip4(dest
 874              		.loc 1 539 12
 875 001a F888     		ldrh	r0, [r7, #6]
 876 001c 3A89     		ldrh	r2, [r7, #8]
 877 001e F97A     		ldrb	r1, [r7, #11]	@ zero_extendqisi2
 878 0020 FB69     		ldr	r3, [r7, #28]
 879 0022 0193     		str	r3, [sp, #4]
 880 0024 BB69     		ldr	r3, [r7, #24]
 881 0026 0093     		str	r3, [sp]
 882 0028 0346     		mov	r3, r0
 883 002a F868     		ldr	r0, [r7, #12]
ARM GAS  /tmp/cc3Pa550.s 			page 26


 884 002c FFF7FEFF 		bl	inet_chksum_pseudo_partial
 885 0030 0346     		mov	r3, r0
 540:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 541:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** #endif /* LWIP_IPV4 */
 542:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 886              		.loc 1 542 1
 887 0032 1846     		mov	r0, r3
 888 0034 1037     		adds	r7, r7, #16
 889              	.LCFI34:
 890              		.cfi_def_cfa_offset 8
 891 0036 BD46     		mov	sp, r7
 892              	.LCFI35:
 893              		.cfi_def_cfa_register 13
 894              		@ sp needed
 895 0038 80BD     		pop	{r7, pc}
 896              		.cfi_endproc
 897              	.LFE139:
 899              		.section	.text.inet_chksum,"ax",%progbits
 900              		.align	1
 901              		.global	inet_chksum
 902              		.syntax unified
 903              		.thumb
 904              		.thumb_func
 905              		.fpu fpv4-sp-d16
 907              	inet_chksum:
 908              	.LFB140:
 543:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 544:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /* inet_chksum:
 545:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 546:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculates the Internet checksum over a portion of memory. Used primarily for IP
 547:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * and ICMP.
 548:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 549:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param dataptr start of the buffer to calculate the checksum (no alignment needed)
 550:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param len length of the buffer to calculate the checksum
 551:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 552:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 553:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 555:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** inet_chksum(const void *dataptr, u16_t len)
 556:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 909              		.loc 1 556 1
 910              		.cfi_startproc
 911              		@ args = 0, pretend = 0, frame = 8
 912              		@ frame_needed = 1, uses_anonymous_args = 0
 913 0000 80B5     		push	{r7, lr}
 914              	.LCFI36:
 915              		.cfi_def_cfa_offset 8
 916              		.cfi_offset 7, -8
 917              		.cfi_offset 14, -4
 918 0002 82B0     		sub	sp, sp, #8
 919              	.LCFI37:
 920              		.cfi_def_cfa_offset 16
 921 0004 00AF     		add	r7, sp, #0
 922              	.LCFI38:
 923              		.cfi_def_cfa_register 7
 924 0006 7860     		str	r0, [r7, #4]
 925 0008 0B46     		mov	r3, r1
ARM GAS  /tmp/cc3Pa550.s 			page 27


 926 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 557:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return (u16_t)~(unsigned int)LWIP_CHKSUM(dataptr, len);
 927              		.loc 1 557 32
 928 000c 7B88     		ldrh	r3, [r7, #2]
 929 000e 1946     		mov	r1, r3
 930 0010 7868     		ldr	r0, [r7, #4]
 931 0012 FFF7FEFF 		bl	lwip_standard_chksum
 932 0016 0346     		mov	r3, r0
 933              		.loc 1 557 10
 934 0018 DB43     		mvns	r3, r3
 935 001a 9BB2     		uxth	r3, r3
 558:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 936              		.loc 1 558 1
 937 001c 1846     		mov	r0, r3
 938 001e 0837     		adds	r7, r7, #8
 939              	.LCFI39:
 940              		.cfi_def_cfa_offset 8
 941 0020 BD46     		mov	sp, r7
 942              	.LCFI40:
 943              		.cfi_def_cfa_register 13
 944              		@ sp needed
 945 0022 80BD     		pop	{r7, pc}
 946              		.cfi_endproc
 947              	.LFE140:
 949              		.section	.text.inet_chksum_pbuf,"ax",%progbits
 950              		.align	1
 951              		.global	inet_chksum_pbuf
 952              		.syntax unified
 953              		.thumb
 954              		.thumb_func
 955              		.fpu fpv4-sp-d16
 957              	inet_chksum_pbuf:
 958              	.LFB141:
 559:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 560:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** /**
 561:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * Calculate a checksum over a chain of pbufs (without pseudo-header, much like
 562:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * inet_chksum only pbufs are used).
 563:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  *
 564:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @param p pbuf chain over that the checksum should be calculated
 565:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  * @return checksum (as u16_t) to be saved directly in the protocol header
 566:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****  */
 567:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** u16_t
 568:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** inet_chksum_pbuf(struct pbuf *p)
 569:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** {
 959              		.loc 1 569 1
 960              		.cfi_startproc
 961              		@ args = 0, pretend = 0, frame = 24
 962              		@ frame_needed = 1, uses_anonymous_args = 0
 963 0000 80B5     		push	{r7, lr}
 964              	.LCFI41:
 965              		.cfi_def_cfa_offset 8
 966              		.cfi_offset 7, -8
 967              		.cfi_offset 14, -4
 968 0002 86B0     		sub	sp, sp, #24
 969              	.LCFI42:
 970              		.cfi_def_cfa_offset 32
 971 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/cc3Pa550.s 			page 28


 972              	.LCFI43:
 973              		.cfi_def_cfa_register 7
 974 0006 7860     		str	r0, [r7, #4]
 570:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   u32_t acc;
 571:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   struct pbuf *q;
 572:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   int swapped = 0;
 975              		.loc 1 572 7
 976 0008 0023     		movs	r3, #0
 977 000a FB60     		str	r3, [r7, #12]
 573:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 574:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   acc = 0;
 978              		.loc 1 574 7
 979 000c 0023     		movs	r3, #0
 980 000e 7B61     		str	r3, [r7, #20]
 575:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   for (q = p; q != NULL; q = q->next) {
 981              		.loc 1 575 10
 982 0010 7B68     		ldr	r3, [r7, #4]
 983 0012 3B61     		str	r3, [r7, #16]
 984              		.loc 1 575 3
 985 0014 2BE0     		b	.L36
 986              	.L38:
 576:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, q->len);
 987              		.loc 1 576 25
 988 0016 3B69     		ldr	r3, [r7, #16]
 989 0018 5A68     		ldr	r2, [r3, #4]
 990              		.loc 1 576 37
 991 001a 3B69     		ldr	r3, [r7, #16]
 992 001c 5B89     		ldrh	r3, [r3, #10]
 993              		.loc 1 576 12
 994 001e 1946     		mov	r1, r3
 995 0020 1046     		mov	r0, r2
 996 0022 FFF7FEFF 		bl	lwip_standard_chksum
 997 0026 0346     		mov	r3, r0
 998 0028 1A46     		mov	r2, r3
 999              		.loc 1 576 9
 1000 002a 7B69     		ldr	r3, [r7, #20]
 1001 002c 1344     		add	r3, r3, r2
 1002 002e 7B61     		str	r3, [r7, #20]
 577:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = FOLD_U32T(acc);
 1003              		.loc 1 577 11
 1004 0030 7B69     		ldr	r3, [r7, #20]
 1005 0032 1A0C     		lsrs	r2, r3, #16
 1006 0034 7B69     		ldr	r3, [r7, #20]
 1007 0036 9BB2     		uxth	r3, r3
 1008              		.loc 1 577 9
 1009 0038 1344     		add	r3, r3, r2
 1010 003a 7B61     		str	r3, [r7, #20]
 578:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     if (q->len % 2 != 0) {
 1011              		.loc 1 578 10
 1012 003c 3B69     		ldr	r3, [r7, #16]
 1013 003e 5B89     		ldrh	r3, [r3, #10]
 1014              		.loc 1 578 20
 1015 0040 03F00103 		and	r3, r3, #1
 1016 0044 9BB2     		uxth	r3, r3
 1017              		.loc 1 578 8
 1018 0046 002B     		cmp	r3, #0
 1019 0048 0ED0     		beq	.L37
ARM GAS  /tmp/cc3Pa550.s 			page 29


 579:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       swapped = !swapped;
 1020              		.loc 1 579 17
 1021 004a FB68     		ldr	r3, [r7, #12]
 1022 004c 002B     		cmp	r3, #0
 1023 004e 0CBF     		ite	eq
 1024 0050 0123     		moveq	r3, #1
 1025 0052 0023     		movne	r3, #0
 1026 0054 DBB2     		uxtb	r3, r3
 1027              		.loc 1 579 15
 1028 0056 FB60     		str	r3, [r7, #12]
 580:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****       acc = SWAP_BYTES_IN_WORD(acc);
 1029              		.loc 1 580 13
 1030 0058 7B69     		ldr	r3, [r7, #20]
 1031 005a 1B02     		lsls	r3, r3, #8
 1032 005c 9AB2     		uxth	r2, r3
 1033 005e 7B69     		ldr	r3, [r7, #20]
 1034 0060 1B0A     		lsrs	r3, r3, #8
 1035 0062 DBB2     		uxtb	r3, r3
 1036              		.loc 1 580 11
 1037 0064 1343     		orrs	r3, r3, r2
 1038 0066 7B61     		str	r3, [r7, #20]
 1039              	.L37:
 575:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, q->len);
 1040              		.loc 1 575 28 discriminator 2
 1041 0068 3B69     		ldr	r3, [r7, #16]
 1042 006a 1B68     		ldr	r3, [r3]
 1043 006c 3B61     		str	r3, [r7, #16]
 1044              	.L36:
 575:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc += LWIP_CHKSUM(q->payload, q->len);
 1045              		.loc 1 575 3 discriminator 1
 1046 006e 3B69     		ldr	r3, [r7, #16]
 1047 0070 002B     		cmp	r3, #0
 1048 0072 D0D1     		bne	.L38
 581:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     }
 582:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 583:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** 
 584:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   if (swapped) {
 1049              		.loc 1 584 6
 1050 0074 FB68     		ldr	r3, [r7, #12]
 1051 0076 002B     		cmp	r3, #0
 1052 0078 07D0     		beq	.L39
 585:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****     acc = SWAP_BYTES_IN_WORD(acc);
 1053              		.loc 1 585 11
 1054 007a 7B69     		ldr	r3, [r7, #20]
 1055 007c 1B02     		lsls	r3, r3, #8
 1056 007e 9AB2     		uxth	r2, r3
 1057 0080 7B69     		ldr	r3, [r7, #20]
 1058 0082 1B0A     		lsrs	r3, r3, #8
 1059 0084 DBB2     		uxtb	r3, r3
 1060              		.loc 1 585 9
 1061 0086 1343     		orrs	r3, r3, r2
 1062 0088 7B61     		str	r3, [r7, #20]
 1063              	.L39:
 586:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   }
 587:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c ****   return (u16_t)~(acc & 0xffffUL);
 1064              		.loc 1 587 10
 1065 008a 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cc3Pa550.s 			page 30


 1066 008c 9BB2     		uxth	r3, r3
 1067 008e DB43     		mvns	r3, r3
 1068 0090 9BB2     		uxth	r3, r3
 588:Middlewares/Third_Party/LwIP/src/core/inet_chksum.c **** }
 1069              		.loc 1 588 1
 1070 0092 1846     		mov	r0, r3
 1071 0094 1837     		adds	r7, r7, #24
 1072              	.LCFI44:
 1073              		.cfi_def_cfa_offset 8
 1074 0096 BD46     		mov	sp, r7
 1075              	.LCFI45:
 1076              		.cfi_def_cfa_register 13
 1077              		@ sp needed
 1078 0098 80BD     		pop	{r7, pc}
 1079              		.cfi_endproc
 1080              	.LFE141:
 1082              		.text
 1083              	.Letext0:
 1084              		.file 2 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/machine/_default_typ
 1085              		.file 3 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_stdint.h"
 1086              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1087              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1088              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1089              		.file 7 "/home/mego-ros2/microros_ws/firmware/toolchain/lib/gcc/arm-none-eabi/8.3.1/include/stddef
 1090              		.file 8 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_types.h"
 1091              		.file 9 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/reent.h"
 1092              		.file 10 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/lock.h"
 1093              		.file 11 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/stdlib.h"
 1094              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1095              		.file 13 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/ctype.h"
 1096              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 1097              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 1098              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
ARM GAS  /tmp/cc3Pa550.s 			page 31


DEFINED SYMBOLS
                            *ABS*:0000000000000000 inet_chksum.c
     /tmp/cc3Pa550.s:18     .text.lwip_standard_chksum:0000000000000000 $t
     /tmp/cc3Pa550.s:26     .text.lwip_standard_chksum:0000000000000000 lwip_standard_chksum
     /tmp/cc3Pa550.s:180    .text.inet_cksum_pseudo_base:0000000000000000 $t
     /tmp/cc3Pa550.s:186    .text.inet_cksum_pseudo_base:0000000000000000 inet_cksum_pseudo_base
     /tmp/cc3Pa550.s:353    .text.inet_chksum_pseudo:0000000000000000 $t
     /tmp/cc3Pa550.s:360    .text.inet_chksum_pseudo:0000000000000000 inet_chksum_pseudo
     /tmp/cc3Pa550.s:453    .text.ip_chksum_pseudo:0000000000000000 $t
     /tmp/cc3Pa550.s:460    .text.ip_chksum_pseudo:0000000000000000 ip_chksum_pseudo
     /tmp/cc3Pa550.s:506    .rodata:0000000000000000 $d
     /tmp/cc3Pa550.s:517    .text.inet_cksum_pseudo_partial_base:0000000000000000 $t
     /tmp/cc3Pa550.s:523    .text.inet_cksum_pseudo_partial_base:0000000000000000 inet_cksum_pseudo_partial_base
     /tmp/cc3Pa550.s:726    .text.inet_cksum_pseudo_partial_base:000000000000011c $d
     /tmp/cc3Pa550.s:733    .text.inet_chksum_pseudo_partial:0000000000000000 $t
     /tmp/cc3Pa550.s:740    .text.inet_chksum_pseudo_partial:0000000000000000 inet_chksum_pseudo_partial
     /tmp/cc3Pa550.s:840    .text.ip_chksum_pseudo_partial:0000000000000000 $t
     /tmp/cc3Pa550.s:847    .text.ip_chksum_pseudo_partial:0000000000000000 ip_chksum_pseudo_partial
     /tmp/cc3Pa550.s:900    .text.inet_chksum:0000000000000000 $t
     /tmp/cc3Pa550.s:907    .text.inet_chksum:0000000000000000 inet_chksum
     /tmp/cc3Pa550.s:950    .text.inet_chksum_pbuf:0000000000000000 $t
     /tmp/cc3Pa550.s:957    .text.inet_chksum_pbuf:0000000000000000 inet_chksum_pbuf

UNDEFINED SYMBOLS
lwip_htons
printf
