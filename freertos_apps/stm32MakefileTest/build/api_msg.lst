ARM GAS  /tmp/ccRra5Gb.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"api_msg.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	netconn_aborted
  18              		.section	.rodata.netconn_aborted,"a"
  21              	netconn_aborted:
  22 0000 00       		.space	1
  23              		.global	netconn_reset
  24              		.section	.rodata.netconn_reset,"a"
  27              	netconn_reset:
  28 0000 00       		.space	1
  29              		.global	netconn_closed
  30              		.section	.rodata.netconn_closed,"a"
  33              	netconn_closed:
  34 0000 00       		.space	1
  35              		.section	.rodata
  36              		.align	2
  37              	.LC0:
  38 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/api_msg.c\000"
  38      6C657761 
  38      7265732F 
  38      54686972 
  38      645F5061 
  39 002f 00       		.align	2
  40              	.LC1:
  41 0030 756E6861 		.ascii	"unhandled error\000"
  41      6E646C65 
  41      64206572 
  41      726F7200 
  42              		.align	2
  43              	.LC2:
  44 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  44      7274696F 
  44      6E202225 
  44      73222066 
  44      61696C65 
  45              		.section	.text.lwip_netconn_err_to_msg,"ax",%progbits
  46              		.align	1
  47              		.arch armv7e-m
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  51              		.fpu fpv4-sp-d16
  53              	lwip_netconn_err_to_msg:
ARM GAS  /tmp/ccRra5Gb.s 			page 2


  54              	.LFB137:
  55              		.file 1 "Middlewares/Third_Party/LwIP/src/api/api_msg.c"
   1:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sequential API Internal module
   4:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
   6:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
   7:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /*
   8:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  11:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  14:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  22:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  33:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  35:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  37:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  38:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  39:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/opt.h"
  40:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  41:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN /* don't build if not configured for use in lwipopts.h */
  42:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  43:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/api_msg.h"
  44:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  45:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip_addr.h"
  47:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/udp.h"
  48:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/tcp.h"
  49:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/raw.h"
  50:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  51:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/memp.h"
  52:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/dns.h"
  54:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/mld6.h"
  55:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/tcpip_priv.h"
ARM GAS  /tmp/ccRra5Gb.s 			page 3


  56:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  57:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  59:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* netconns are polled once per second (e.g. continue write on memory error) */
  60:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_TCP_POLL_INTERVAL 2
  61:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  62:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define SET_NONBLOCKING_CONNECT(conn, val)  do { if (val) { \
  63:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_set_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); \
  64:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** } else { \
  65:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_clear_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); }} while(0)
  66:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define IN_NONBLOCKING_CONNECT(conn) netconn_is_flag_set(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT)
  67:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  68:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  69:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) (sys_mbox_valid(mbox) && ((conn->flags & NETCONN_FLAG_MBOXIN
  70:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else
  71:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) sys_mbox_valid(mbox)
  72:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  73:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  74:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* forward declarations */
  75:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  76:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  77:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED         , 1
  78:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM   , u8_t delayed
  79:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  80:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED
  81:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM
  82:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  83:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM);
  84:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM);
  85:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  87:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void netconn_drain(struct netconn *conn);
  88:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  89:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  90:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)
  91:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  92:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   do { sys_sem_signal(LWIP_API_MSG_SEM(m)); } while(0)
  93:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  94:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  95:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  96:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_deleted = 0;
  97:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  98:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
  99:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_deallocated_msg(void *msg)
 100:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_deleted) {
 102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 107:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 108:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 109:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_aborted = 0;
 110:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_reset = 0;
 111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_closed = 0;
 112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  /tmp/ccRra5Gb.s 			page 4


 113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Translate an error to a unique void* passed via an mbox */
 114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void *
 115:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_err_to_msg(err_t err)
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
  56              		.loc 1 116 1
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 8
  59              		@ frame_needed = 1, uses_anonymous_args = 0
  60 0000 80B5     		push	{r7, lr}
  61              	.LCFI0:
  62              		.cfi_def_cfa_offset 8
  63              		.cfi_offset 7, -8
  64              		.cfi_offset 14, -4
  65 0002 82B0     		sub	sp, sp, #8
  66              	.LCFI1:
  67              		.cfi_def_cfa_offset 16
  68 0004 00AF     		add	r7, sp, #0
  69              	.LCFI2:
  70              		.cfi_def_cfa_register 7
  71 0006 0346     		mov	r3, r0
  72 0008 FB71     		strb	r3, [r7, #7]
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (err) {
  73              		.loc 1 117 3
  74 000a 97F90730 		ldrsb	r3, [r7, #7]
  75 000e 13F10E0F 		cmn	r3, #14
  76 0012 08D0     		beq	.L2
  77 0014 13F10D0F 		cmn	r3, #13
  78 0018 03D0     		beq	.L3
  79 001a 13F10F0F 		cmn	r3, #15
  80 001e 04D0     		beq	.L4
  81 0020 05E0     		b	.L8
  82              	.L3:
 118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
 119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_aborted);
  83              		.loc 1 119 14
  84 0022 0A4B     		ldr	r3, .L9
  85 0024 0EE0     		b	.L6
  86              	.L2:
 120:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_RST:
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_reset);
  87              		.loc 1 121 14
  88 0026 0A4B     		ldr	r3, .L9+4
  89 0028 0CE0     		b	.L6
  90              	.L4:
 122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_closed);
  91              		.loc 1 123 14
  92 002a 0A4B     		ldr	r3, .L9+8
  93 002c 0AE0     		b	.L6
  94              	.L8:
 124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("unhandled error", err == ERR_OK);
  95              		.loc 1 125 7
  96 002e 97F90730 		ldrsb	r3, [r7, #7]
  97 0032 002B     		cmp	r3, #0
  98 0034 05D0     		beq	.L7
  99              		.loc 1 125 7 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccRra5Gb.s 			page 5


 100 0036 084B     		ldr	r3, .L9+12
 101 0038 7D22     		movs	r2, #125
 102 003a 0849     		ldr	r1, .L9+16
 103 003c 0848     		ldr	r0, .L9+20
 104 003e FFF7FEFF 		bl	printf
 105              	.L7:
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
 106              		.loc 1 126 14 is_stmt 1
 107 0042 0023     		movs	r3, #0
 108              	.L6:
 127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 128:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 109              		.loc 1 128 1
 110 0044 1846     		mov	r0, r3
 111 0046 0837     		adds	r7, r7, #8
 112              	.LCFI3:
 113              		.cfi_def_cfa_offset 8
 114 0048 BD46     		mov	sp, r7
 115              	.LCFI4:
 116              		.cfi_def_cfa_register 13
 117              		@ sp needed
 118 004a 80BD     		pop	{r7, pc}
 119              	.L10:
 120              		.align	2
 121              	.L9:
 122 004c 00000000 		.word	netconn_aborted
 123 0050 00000000 		.word	netconn_reset
 124 0054 00000000 		.word	netconn_closed
 125 0058 00000000 		.word	.LC0
 126 005c 30000000 		.word	.LC1
 127 0060 40000000 		.word	.LC2
 128              		.cfi_endproc
 129              	.LFE137:
 131              		.section	.rodata
 132              		.align	2
 133              	.LC3:
 134 0068 65727220 		.ascii	"err != NULL\000"
 134      213D204E 
 134      554C4C00 
 135              		.section	.text.lwip_netconn_is_err_msg,"ax",%progbits
 136              		.align	1
 137              		.global	lwip_netconn_is_err_msg
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	lwip_netconn_is_err_msg:
 144              	.LFB138:
 129:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
 131:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_err_msg(void *msg, err_t *err)
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 145              		.loc 1 132 1
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 8
 148              		@ frame_needed = 1, uses_anonymous_args = 0
 149 0000 80B5     		push	{r7, lr}
ARM GAS  /tmp/ccRra5Gb.s 			page 6


 150              	.LCFI5:
 151              		.cfi_def_cfa_offset 8
 152              		.cfi_offset 7, -8
 153              		.cfi_offset 14, -4
 154 0002 82B0     		sub	sp, sp, #8
 155              	.LCFI6:
 156              		.cfi_def_cfa_offset 16
 157 0004 00AF     		add	r7, sp, #0
 158              	.LCFI7:
 159              		.cfi_def_cfa_register 7
 160 0006 7860     		str	r0, [r7, #4]
 161 0008 3960     		str	r1, [r7]
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 162              		.loc 1 133 3
 163 000a 3B68     		ldr	r3, [r7]
 164 000c 002B     		cmp	r3, #0
 165 000e 05D1     		bne	.L12
 166              		.loc 1 133 3 is_stmt 0 discriminator 1
 167 0010 124B     		ldr	r3, .L17
 168 0012 8522     		movs	r2, #133
 169 0014 1249     		ldr	r1, .L17+4
 170 0016 1348     		ldr	r0, .L17+8
 171 0018 FFF7FEFF 		bl	printf
 172              	.L12:
 134:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_aborted) {
 173              		.loc 1 135 6 is_stmt 1
 174 001c 7B68     		ldr	r3, [r7, #4]
 175 001e 124A     		ldr	r2, .L17+12
 176 0020 9342     		cmp	r3, r2
 177 0022 04D1     		bne	.L13
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 178              		.loc 1 136 10
 179 0024 3B68     		ldr	r3, [r7]
 180 0026 F322     		movs	r2, #243
 181 0028 1A70     		strb	r2, [r3]
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 182              		.loc 1 137 12
 183 002a 0123     		movs	r3, #1
 184 002c 12E0     		b	.L14
 185              	.L13:
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 186              		.loc 1 138 13
 187 002e 7B68     		ldr	r3, [r7, #4]
 188 0030 0E4A     		ldr	r2, .L17+16
 189 0032 9342     		cmp	r3, r2
 190 0034 04D1     		bne	.L15
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 191              		.loc 1 139 10
 192 0036 3B68     		ldr	r3, [r7]
 193 0038 F222     		movs	r2, #242
 194 003a 1A70     		strb	r2, [r3]
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 195              		.loc 1 140 12
 196 003c 0123     		movs	r3, #1
 197 003e 09E0     		b	.L14
 198              	.L15:
ARM GAS  /tmp/ccRra5Gb.s 			page 7


 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 199              		.loc 1 141 13
 200 0040 7B68     		ldr	r3, [r7, #4]
 201 0042 0B4A     		ldr	r2, .L17+20
 202 0044 9342     		cmp	r3, r2
 203 0046 04D1     		bne	.L16
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 204              		.loc 1 142 10
 205 0048 3B68     		ldr	r3, [r7]
 206 004a F122     		movs	r2, #241
 207 004c 1A70     		strb	r2, [r3]
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 208              		.loc 1 143 12
 209 004e 0123     		movs	r3, #1
 210 0050 00E0     		b	.L14
 211              	.L16:
 144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 212              		.loc 1 145 10
 213 0052 0023     		movs	r3, #0
 214              	.L14:
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 215              		.loc 1 146 1
 216 0054 1846     		mov	r0, r3
 217 0056 0837     		adds	r7, r7, #8
 218              	.LCFI8:
 219              		.cfi_def_cfa_offset 8
 220 0058 BD46     		mov	sp, r7
 221              	.LCFI9:
 222              		.cfi_def_cfa_register 13
 223              		@ sp needed
 224 005a 80BD     		pop	{r7, pc}
 225              	.L18:
 226              		.align	2
 227              	.L17:
 228 005c 00000000 		.word	.LC0
 229 0060 68000000 		.word	.LC3
 230 0064 40000000 		.word	.LC2
 231 0068 00000000 		.word	netconn_aborted
 232 006c 00000000 		.word	netconn_reset
 233 0070 00000000 		.word	netconn_closed
 234              		.cfi_endproc
 235              	.LFE138:
 237              		.section	.rodata
 238              		.align	2
 239              	.LC4:
 240 0074 72656376 		.ascii	"recv_udp must have a pcb argument\000"
 240      5F756470 
 240      206D7573 
 240      74206861 
 240      76652061 
 241 0096 0000     		.align	2
 242              	.LC5:
 243 0098 72656376 		.ascii	"recv_udp must have an argument\000"
 243      5F756470 
 243      206D7573 
 243      74206861 
ARM GAS  /tmp/ccRra5Gb.s 			page 8


 243      76652061 
 244 00b7 00       		.align	2
 245              	.LC6:
 246 00b8 72656376 		.ascii	"recv_udp: recv for wrong pcb!\000"
 246      5F756470 
 246      3A207265 
 246      63762066 
 246      6F722077 
 247              		.section	.text.recv_udp,"ax",%progbits
 248              		.align	1
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 252              		.fpu fpv4-sp-d16
 254              	recv_udp:
 255              	.LFB139:
 147:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 150:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 152:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for RAW netconns.
 153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Doesn't 'eat' the packet, only copies it and sends it to
 154:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * conn->recvmbox
 155:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see raw.h (struct raw_pcb.recv) for parameters and return value
 157:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static u8_t
 159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_raw(void *arg, struct raw_pcb *pcb, struct pbuf *p,
 160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr)
 161:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *q;
 163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 165:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(addr);
 167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 169:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn != NULL) && NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int recv_avail;
 172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_GET(conn->recv_avail, recv_avail);
 173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize) {
 174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return 0;
 175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* copy the whole packet into new pbufs */
 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     q = pbuf_clone(PBUF_RAW, PBUF_RAM, p);
 179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u16_t len;
 181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (buf == NULL) {
 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->p = q;
ARM GAS  /tmp/ccRra5Gb.s 			page 9


 188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->ptr = q;
 189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(buf->addr, *ip_current_src_addr());
 190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->port = pcb->protocol;
 191:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = q->tot_len;
 193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete(buf);
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         SYS_ARCH_INC(conn->recv_avail, len);
 199:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Register event with callback */
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 205:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0; /* do not eat the packet */
 207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW*/
 209:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 210:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 211:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for UDP netconns.
 213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox or deletes it on memory error.
 214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 215:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see udp.h (struct udp_pcb.recv) for parameters
 216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 218:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_udp(void *arg, struct udp_pcb *pcb, struct pbuf *p,
 219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr, u16_t port)
 220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 256              		.loc 1 220 1
 257              		.cfi_startproc
 258              		@ args = 4, pretend = 0, frame = 32
 259              		@ frame_needed = 1, uses_anonymous_args = 0
 260 0000 80B5     		push	{r7, lr}
 261              	.LCFI10:
 262              		.cfi_def_cfa_offset 8
 263              		.cfi_offset 7, -8
 264              		.cfi_offset 14, -4
 265 0002 88B0     		sub	sp, sp, #32
 266              	.LCFI11:
 267              		.cfi_def_cfa_offset 40
 268 0004 00AF     		add	r7, sp, #0
 269              	.LCFI12:
 270              		.cfi_def_cfa_register 7
 271 0006 F860     		str	r0, [r7, #12]
 272 0008 B960     		str	r1, [r7, #8]
 273 000a 7A60     		str	r2, [r7, #4]
 274 000c 3B60     		str	r3, [r7]
 221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int recv_avail;
ARM GAS  /tmp/ccRra5Gb.s 			page 10


 226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb); /* only used for asserts... */
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have a pcb argument", pcb != NULL);
 275              		.loc 1 229 3
 276 000e BB68     		ldr	r3, [r7, #8]
 277 0010 002B     		cmp	r3, #0
 278 0012 05D1     		bne	.L20
 279              		.loc 1 229 3 is_stmt 0 discriminator 1
 280 0014 344B     		ldr	r3, .L30
 281 0016 E522     		movs	r2, #229
 282 0018 3449     		ldr	r1, .L30+4
 283 001a 3548     		ldr	r0, .L30+8
 284 001c FFF7FEFF 		bl	printf
 285              	.L20:
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 286              		.loc 1 230 3 is_stmt 1
 287 0020 FB68     		ldr	r3, [r7, #12]
 288 0022 002B     		cmp	r3, #0
 289 0024 05D1     		bne	.L21
 290              		.loc 1 230 3 is_stmt 0 discriminator 1
 291 0026 304B     		ldr	r3, .L30
 292 0028 E622     		movs	r2, #230
 293 002a 3249     		ldr	r1, .L30+12
 294 002c 3048     		ldr	r0, .L30+8
 295 002e FFF7FEFF 		bl	printf
 296              	.L21:
 231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 297              		.loc 1 231 8 is_stmt 1
 298 0032 FB68     		ldr	r3, [r7, #12]
 299 0034 FB61     		str	r3, [r7, #28]
 232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 233:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 300              		.loc 1 233 6
 301 0036 FB69     		ldr	r3, [r7, #28]
 302 0038 002B     		cmp	r3, #0
 303 003a 03D1     		bne	.L22
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 304              		.loc 1 234 5
 305 003c 7868     		ldr	r0, [r7, #4]
 306 003e FFF7FEFF 		bl	pbuf_free
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 307              		.loc 1 235 5
 308 0042 4DE0     		b	.L19
 309              	.L22:
 236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp: recv for wrong pcb!", conn->pcb.udp == pcb);
 310              		.loc 1 238 3
 311 0044 FB69     		ldr	r3, [r7, #28]
 312 0046 5B68     		ldr	r3, [r3, #4]
 313 0048 BA68     		ldr	r2, [r7, #8]
 314 004a 9A42     		cmp	r2, r3
 315 004c 05D0     		beq	.L24
 316              		.loc 1 238 3 is_stmt 0 discriminator 1
 317 004e 264B     		ldr	r3, .L30
 318 0050 EE22     		movs	r2, #238
ARM GAS  /tmp/ccRra5Gb.s 			page 11


 319 0052 2949     		ldr	r1, .L30+16
 320 0054 2648     		ldr	r0, .L30+8
 321 0056 FFF7FEFF 		bl	printf
 322              	.L24:
 239:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_GET(conn->recv_avail, recv_avail);
 242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox) ||
 243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize)) {
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* LWIP_SO_RCVBUF */
 245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 323              		.loc 1 245 8 is_stmt 1
 324 005a FB69     		ldr	r3, [r7, #28]
 325 005c 1033     		adds	r3, r3, #16
 326 005e 1846     		mov	r0, r3
 327 0060 FFF7FEFF 		bl	sys_mbox_valid
 328 0064 0346     		mov	r3, r0
 329              		.loc 1 245 6
 330 0066 002B     		cmp	r3, #0
 331 0068 03D1     		bne	.L25
 246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 332              		.loc 1 247 5
 333 006a 7868     		ldr	r0, [r7, #4]
 334 006c FFF7FEFF 		bl	pbuf_free
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 335              		.loc 1 248 5
 336 0070 36E0     		b	.L19
 337              	.L25:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 338              		.loc 1 251 26
 339 0072 0620     		movs	r0, #6
 340 0074 FFF7FEFF 		bl	memp_malloc
 341 0078 B861     		str	r0, [r7, #24]
 252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (buf == NULL) {
 342              		.loc 1 252 6
 343 007a BB69     		ldr	r3, [r7, #24]
 344 007c 002B     		cmp	r3, #0
 345 007e 03D1     		bne	.L26
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 346              		.loc 1 253 5
 347 0080 7868     		ldr	r0, [r7, #4]
 348 0082 FFF7FEFF 		bl	pbuf_free
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 349              		.loc 1 254 5
 350 0086 2BE0     		b	.L19
 351              	.L26:
 255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->p = p;
 352              		.loc 1 256 12
 353 0088 BB69     		ldr	r3, [r7, #24]
 354 008a 7A68     		ldr	r2, [r7, #4]
 355 008c 1A60     		str	r2, [r3]
 257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->ptr = p;
 356              		.loc 1 257 14
ARM GAS  /tmp/ccRra5Gb.s 			page 12


 357 008e BB69     		ldr	r3, [r7, #24]
 358 0090 7A68     		ldr	r2, [r7, #4]
 359 0092 5A60     		str	r2, [r3, #4]
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     ip_addr_set(&buf->addr, addr);
 360              		.loc 1 258 5
 361 0094 3B68     		ldr	r3, [r7]
 362 0096 002B     		cmp	r3, #0
 363 0098 02D0     		beq	.L27
 364              		.loc 1 258 5 is_stmt 0 discriminator 1
 365 009a 3B68     		ldr	r3, [r7]
 366 009c 1B68     		ldr	r3, [r3]
 367 009e 00E0     		b	.L28
 368              	.L27:
 369              		.loc 1 258 5 discriminator 2
 370 00a0 0023     		movs	r3, #0
 371              	.L28:
 372              		.loc 1 258 5 discriminator 4
 373 00a2 BA69     		ldr	r2, [r7, #24]
 374 00a4 9360     		str	r3, [r2, #8]
 259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 375              		.loc 1 259 15 is_stmt 1 discriminator 4
 376 00a6 BB69     		ldr	r3, [r7, #24]
 377 00a8 3A8D     		ldrh	r2, [r7, #40]	@ movhi
 378 00aa 9A81     		strh	r2, [r3, #12]	@ movhi
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->flags & NETCONN_FLAG_PKTINFO) {
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* get the UDP header - always in the first pbuf, ensured by udp_input */
 263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       const struct udp_hdr *udphdr = (const struct udp_hdr *)ip_next_header_ptr();
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->flags = NETBUF_FLAG_DESTADDR;
 265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_set(&buf->toaddr, ip_current_dest_addr());
 266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->toport_chksum = udphdr->dest;
 267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 268:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 270:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   len = p->tot_len;
 379              		.loc 1 271 7 discriminator 4
 380 00ac 7B68     		ldr	r3, [r7, #4]
 381 00ae 1B89     		ldrh	r3, [r3, #8]	@ movhi
 382 00b0 FB82     		strh	r3, [r7, #22]	@ movhi
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 383              		.loc 1 272 7 discriminator 4
 384 00b2 FB69     		ldr	r3, [r7, #28]
 385 00b4 1033     		adds	r3, r3, #16
 386 00b6 B969     		ldr	r1, [r7, #24]
 387 00b8 1846     		mov	r0, r3
 388 00ba FFF7FEFF 		bl	sys_mbox_trypost
 389 00be 0346     		mov	r3, r0
 390              		.loc 1 272 6 discriminator 4
 391 00c0 002B     		cmp	r3, #0
 392 00c2 03D0     		beq	.L29
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netbuf_delete(buf);
 393              		.loc 1 273 5
 394 00c4 B869     		ldr	r0, [r7, #24]
 395 00c6 FFF7FEFF 		bl	netbuf_delete
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 396              		.loc 1 274 5
ARM GAS  /tmp/ccRra5Gb.s 			page 13


 397 00ca 09E0     		b	.L19
 398              	.L29:
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 399              		.loc 1 280 5
 400 00cc FB69     		ldr	r3, [r7, #28]
 401 00ce 5B6A     		ldr	r3, [r3, #36]
 402 00d0 002B     		cmp	r3, #0
 403 00d2 05D0     		beq	.L19
 404              		.loc 1 280 5 is_stmt 0 discriminator 1
 405 00d4 FB69     		ldr	r3, [r7, #28]
 406 00d6 5B6A     		ldr	r3, [r3, #36]
 407 00d8 FA8A     		ldrh	r2, [r7, #22]
 408 00da 0021     		movs	r1, #0
 409 00dc F869     		ldr	r0, [r7, #28]
 410 00de 9847     		blx	r3
 411              	.LVL0:
 412              	.L19:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 282:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 413              		.loc 1 282 1 is_stmt 1
 414 00e0 2037     		adds	r7, r7, #32
 415              	.LCFI13:
 416              		.cfi_def_cfa_offset 8
 417 00e2 BD46     		mov	sp, r7
 418              	.LCFI14:
 419              		.cfi_def_cfa_register 13
 420              		@ sp needed
 421 00e4 80BD     		pop	{r7, pc}
 422              	.L31:
 423 00e6 00BF     		.align	2
 424              	.L30:
 425 00e8 00000000 		.word	.LC0
 426 00ec 74000000 		.word	.LC4
 427 00f0 40000000 		.word	.LC2
 428 00f4 98000000 		.word	.LC5
 429 00f8 B8000000 		.word	.LC6
 430              		.cfi_endproc
 431              	.LFE139:
 433              		.section	.rodata
 434 00d6 0000     		.align	2
 435              	.LC7:
 436 00d8 72656376 		.ascii	"recv_tcp must have a pcb argument\000"
 436      5F746370 
 436      206D7573 
 436      74206861 
 436      76652061 
 437 00fa 0000     		.align	2
 438              	.LC8:
 439 00fc 72656376 		.ascii	"recv_tcp must have an argument\000"
 439      5F746370 
 439      206D7573 
 439      74206861 
ARM GAS  /tmp/ccRra5Gb.s 			page 14


 439      76652061 
 440 011b 00       		.align	2
 441              	.LC9:
 442 011c 65727220 		.ascii	"err != ERR_OK unhandled\000"
 442      213D2045 
 442      52525F4F 
 442      4B20756E 
 442      68616E64 
 443              		.align	2
 444              	.LC10:
 445 0134 72656376 		.ascii	"recv_tcp: recv for wrong pcb!\000"
 445      5F746370 
 445      3A207265 
 445      63762066 
 445      6F722077 
 446              		.section	.text.recv_tcp,"ax",%progbits
 447              		.align	1
 448              		.syntax unified
 449              		.thumb
 450              		.thumb_func
 451              		.fpu fpv4-sp-d16
 453              	recv_tcp:
 454              	.LFB140:
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 284:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 285:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 286:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for TCP netconns.
 288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox, but doesn't delete it on errors.
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.recv) for parameters and return value
 291:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_tcp(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 455              		.loc 1 294 1
 456              		.cfi_startproc
 457              		@ args = 0, pretend = 0, frame = 32
 458              		@ frame_needed = 1, uses_anonymous_args = 0
 459 0000 80B5     		push	{r7, lr}
 460              	.LCFI15:
 461              		.cfi_def_cfa_offset 8
 462              		.cfi_offset 7, -8
 463              		.cfi_offset 14, -4
 464 0002 88B0     		sub	sp, sp, #32
 465              	.LCFI16:
 466              		.cfi_def_cfa_offset 40
 467 0004 00AF     		add	r7, sp, #0
 468              	.LCFI17:
 469              		.cfi_def_cfa_register 7
 470 0006 F860     		str	r0, [r7, #12]
 471 0008 B960     		str	r1, [r7, #8]
 472 000a 7A60     		str	r2, [r7, #4]
 473 000c FB70     		strb	r3, [r7, #3]
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg;
ARM GAS  /tmp/ccRra5Gb.s 			page 15


 298:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 474              		.loc 1 300 3
 475 000e BB68     		ldr	r3, [r7, #8]
 476 0010 002B     		cmp	r3, #0
 477 0012 06D1     		bne	.L33
 478              		.loc 1 300 3 is_stmt 0 discriminator 1
 479 0014 364B     		ldr	r3, .L45
 480 0016 4FF49672 		mov	r2, #300
 481 001a 3649     		ldr	r1, .L45+4
 482 001c 3648     		ldr	r0, .L45+8
 483 001e FFF7FEFF 		bl	printf
 484              	.L33:
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 485              		.loc 1 301 3 is_stmt 1
 486 0022 FB68     		ldr	r3, [r7, #12]
 487 0024 002B     		cmp	r3, #0
 488 0026 06D1     		bne	.L34
 489              		.loc 1 301 3 is_stmt 0 discriminator 1
 490 0028 314B     		ldr	r3, .L45
 491 002a 40F22D12 		movw	r2, #301
 492 002e 3349     		ldr	r1, .L45+12
 493 0030 3148     		ldr	r0, .L45+8
 494 0032 FFF7FEFF 		bl	printf
 495              	.L34:
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 496              		.loc 1 302 3 is_stmt 1
 497 0036 97F90330 		ldrsb	r3, [r7, #3]
 498 003a 002B     		cmp	r3, #0
 499 003c 06D0     		beq	.L35
 500              		.loc 1 302 3 is_stmt 0 discriminator 1
 501 003e 2C4B     		ldr	r3, .L45
 502 0040 4FF49772 		mov	r2, #302
 503 0044 2E49     		ldr	r1, .L45+16
 504 0046 2C48     		ldr	r0, .L45+8
 505 0048 FFF7FEFF 		bl	printf
 506              	.L35:
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 507              		.loc 1 304 8 is_stmt 1
 508 004c FB68     		ldr	r3, [r7, #12]
 509 004e 7B61     		str	r3, [r7, #20]
 305:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 510              		.loc 1 306 6
 511 0050 7B69     		ldr	r3, [r7, #20]
 512 0052 002B     		cmp	r3, #0
 513 0054 02D1     		bne	.L36
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 514              		.loc 1 307 12
 515 0056 6FF00503 		mvn	r3, #5
 516 005a 45E0     		b	.L37
 517              	.L36:
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp: recv for wrong pcb!", conn->pcb.tcp == pcb);
 518              		.loc 1 309 3
ARM GAS  /tmp/ccRra5Gb.s 			page 16


 519 005c 7B69     		ldr	r3, [r7, #20]
 520 005e 5B68     		ldr	r3, [r3, #4]
 521 0060 BA68     		ldr	r2, [r7, #8]
 522 0062 9A42     		cmp	r2, r3
 523 0064 06D0     		beq	.L38
 524              		.loc 1 309 3 is_stmt 0 discriminator 1
 525 0066 224B     		ldr	r3, .L45
 526 0068 40F23512 		movw	r2, #309
 527 006c 2549     		ldr	r1, .L45+20
 528 006e 2248     		ldr	r0, .L45+8
 529 0070 FFF7FEFF 		bl	printf
 530              	.L38:
 310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 531              		.loc 1 311 8 is_stmt 1
 532 0074 7B69     		ldr	r3, [r7, #20]
 533 0076 1033     		adds	r3, r3, #16
 534 0078 1846     		mov	r0, r3
 535 007a FFF7FEFF 		bl	sys_mbox_valid
 536 007e 0346     		mov	r3, r0
 537              		.loc 1 311 6
 538 0080 002B     		cmp	r3, #0
 539 0082 0DD1     		bne	.L39
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (p != NULL) {
 540              		.loc 1 313 8
 541 0084 7B68     		ldr	r3, [r7, #4]
 542 0086 002B     		cmp	r3, #0
 543 0088 08D0     		beq	.L40
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 544              		.loc 1 314 7
 545 008a 7B68     		ldr	r3, [r7, #4]
 546 008c 1B89     		ldrh	r3, [r3, #8]
 547 008e 1946     		mov	r1, r3
 548 0090 B868     		ldr	r0, [r7, #8]
 549 0092 FFF7FEFF 		bl	tcp_recved
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 550              		.loc 1 315 7
 551 0096 7868     		ldr	r0, [r7, #4]
 552 0098 FFF7FEFF 		bl	pbuf_free
 553              	.L40:
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 554              		.loc 1 317 12
 555 009c 0023     		movs	r3, #0
 556 009e 23E0     		b	.L37
 557              	.L39:
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Unlike for UDP or RAW pcbs, don't check for available space
 320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      using recv_avail since that could break the connection
 321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (data is already ACKed) */
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (p != NULL) {
 558              		.loc 1 323 6
 559 00a0 7B68     		ldr	r3, [r7, #4]
 560 00a2 002B     		cmp	r3, #0
 561 00a4 05D0     		beq	.L41
ARM GAS  /tmp/ccRra5Gb.s 			page 17


 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 562              		.loc 1 324 9
 563 00a6 7B68     		ldr	r3, [r7, #4]
 564 00a8 BB61     		str	r3, [r7, #24]
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 565              		.loc 1 325 9
 566 00aa 7B68     		ldr	r3, [r7, #4]
 567 00ac 1B89     		ldrh	r3, [r3, #8]	@ movhi
 568 00ae FB83     		strh	r3, [r7, #30]	@ movhi
 569 00b0 03E0     		b	.L42
 570              	.L41:
 326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = LWIP_CONST_CAST(void *, &netconn_closed);
 571              		.loc 1 327 9
 572 00b2 154B     		ldr	r3, .L45+24
 573 00b4 BB61     		str	r3, [r7, #24]
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 574              		.loc 1 328 9
 575 00b6 0023     		movs	r3, #0
 576 00b8 FB83     		strh	r3, [r7, #30]	@ movhi
 577              	.L42:
 329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, msg) != ERR_OK) {
 578              		.loc 1 331 7
 579 00ba 7B69     		ldr	r3, [r7, #20]
 580 00bc 1033     		adds	r3, r3, #16
 581 00be B969     		ldr	r1, [r7, #24]
 582 00c0 1846     		mov	r0, r3
 583 00c2 FFF7FEFF 		bl	sys_mbox_trypost
 584 00c6 0346     		mov	r3, r0
 585              		.loc 1 331 6
 586 00c8 002B     		cmp	r3, #0
 587 00ca 02D0     		beq	.L43
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 588              		.loc 1 333 12
 589 00cc 4FF0FF33 		mov	r3, #-1
 590 00d0 0AE0     		b	.L37
 591              	.L43:
 334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 335:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 337:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 592              		.loc 1 339 5
 593 00d2 7B69     		ldr	r3, [r7, #20]
 594 00d4 5B6A     		ldr	r3, [r3, #36]
 595 00d6 002B     		cmp	r3, #0
 596 00d8 05D0     		beq	.L44
 597              		.loc 1 339 5 is_stmt 0 discriminator 1
 598 00da 7B69     		ldr	r3, [r7, #20]
 599 00dc 5B6A     		ldr	r3, [r3, #36]
 600 00de FA8B     		ldrh	r2, [r7, #30]
 601 00e0 0021     		movs	r1, #0
 602 00e2 7869     		ldr	r0, [r7, #20]
ARM GAS  /tmp/ccRra5Gb.s 			page 18


 603 00e4 9847     		blx	r3
 604              	.LVL1:
 605              	.L44:
 340:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 606              		.loc 1 342 10 is_stmt 1
 607 00e6 0023     		movs	r3, #0
 608              	.L37:
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 609              		.loc 1 343 1
 610 00e8 1846     		mov	r0, r3
 611 00ea 2037     		adds	r7, r7, #32
 612              	.LCFI18:
 613              		.cfi_def_cfa_offset 8
 614 00ec BD46     		mov	sp, r7
 615              	.LCFI19:
 616              		.cfi_def_cfa_register 13
 617              		@ sp needed
 618 00ee 80BD     		pop	{r7, pc}
 619              	.L46:
 620              		.align	2
 621              	.L45:
 622 00f0 00000000 		.word	.LC0
 623 00f4 D8000000 		.word	.LC7
 624 00f8 40000000 		.word	.LC2
 625 00fc FC000000 		.word	.LC8
 626 0100 1C010000 		.word	.LC9
 627 0104 34010000 		.word	.LC10
 628 0108 00000000 		.word	netconn_closed
 629              		.cfi_endproc
 630              	.LFE140:
 632              		.section	.rodata
 633 0152 0000     		.align	2
 634              	.LC11:
 635 0154 636F6E6E 		.ascii	"conn != NULL\000"
 635      20213D20 
 635      4E554C4C 
 635      00
 636              		.section	.text.poll_tcp,"ax",%progbits
 637              		.align	1
 638              		.syntax unified
 639              		.thumb
 640              		.thumb_func
 641              		.fpu fpv4-sp-d16
 643              	poll_tcp:
 644              	.LFB141:
 344:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 345:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Poll callback function for TCP netconns.
 347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Wakes up an application thread that waits for a connection to close
 348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * or data to be sent. The application thread then takes the
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * appropriate action to go on.
 350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem.
 352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_close waits for conn->sem if closing failed.
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
ARM GAS  /tmp/ccRra5Gb.s 			page 19


 354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.poll) for parameters and return value
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** poll_tcp(void *arg, struct tcp_pcb *pcb)
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 645              		.loc 1 358 1
 646              		.cfi_startproc
 647              		@ args = 0, pretend = 0, frame = 16
 648              		@ frame_needed = 1, uses_anonymous_args = 0
 649 0000 80B5     		push	{r7, lr}
 650              	.LCFI20:
 651              		.cfi_def_cfa_offset 8
 652              		.cfi_offset 7, -8
 653              		.cfi_offset 14, -4
 654 0002 84B0     		sub	sp, sp, #16
 655              	.LCFI21:
 656              		.cfi_def_cfa_offset 24
 657 0004 00AF     		add	r7, sp, #0
 658              	.LCFI22:
 659              		.cfi_def_cfa_register 7
 660 0006 7860     		str	r0, [r7, #4]
 661 0008 3960     		str	r1, [r7]
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 662              		.loc 1 359 19
 663 000a 7B68     		ldr	r3, [r7, #4]
 664 000c FB60     		str	r3, [r7, #12]
 360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 665              		.loc 1 362 3
 666 000e FB68     		ldr	r3, [r7, #12]
 667 0010 002B     		cmp	r3, #0
 668 0012 06D1     		bne	.L48
 669              		.loc 1 362 3 is_stmt 0 discriminator 1
 670 0014 294B     		ldr	r3, .L54
 671 0016 4FF4B572 		mov	r2, #362
 672 001a 2949     		ldr	r1, .L54+4
 673 001c 2948     		ldr	r0, .L54+8
 674 001e FFF7FEFF 		bl	printf
 675              	.L48:
 363:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->state == NETCONN_WRITE) {
 676              		.loc 1 364 11 is_stmt 1
 677 0022 FB68     		ldr	r3, [r7, #12]
 678 0024 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 679              		.loc 1 364 6
 680 0026 012B     		cmp	r3, #1
 681 0028 04D1     		bne	.L49
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 682              		.loc 1 365 5
 683 002a 0121     		movs	r1, #1
 684 002c F868     		ldr	r0, [r7, #12]
 685 002e FFF7FEFF 		bl	lwip_netconn_do_writemore
 686 0032 16E0     		b	.L50
 687              	.L49:
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 688              		.loc 1 366 18
ARM GAS  /tmp/ccRra5Gb.s 			page 20


 689 0034 FB68     		ldr	r3, [r7, #12]
 690 0036 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 691              		.loc 1 366 13
 692 0038 042B     		cmp	r3, #4
 693 003a 12D1     		bne	.L50
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg && conn->current_msg->msg.sd.polls_left) {
 694              		.loc 1 368 13
 695 003c FB68     		ldr	r3, [r7, #12]
 696 003e 1B6A     		ldr	r3, [r3, #32]
 697              		.loc 1 368 8
 698 0040 002B     		cmp	r3, #0
 699 0042 0AD0     		beq	.L51
 700              		.loc 1 368 34 discriminator 1
 701 0044 FB68     		ldr	r3, [r7, #12]
 702 0046 1B6A     		ldr	r3, [r3, #32]
 703              		.loc 1 368 55 discriminator 1
 704 0048 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 705              		.loc 1 368 27 discriminator 1
 706 004a 002B     		cmp	r3, #0
 707 004c 05D0     		beq	.L51
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 708              		.loc 1 369 11
 709 004e FB68     		ldr	r3, [r7, #12]
 710 0050 1B6A     		ldr	r3, [r3, #32]
 711              		.loc 1 369 32
 712 0052 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 713              		.loc 1 369 43
 714 0054 013A     		subs	r2, r2, #1
 715 0056 D2B2     		uxtb	r2, r2
 716 0058 5A72     		strb	r2, [r3, #9]
 717              	.L51:
 370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 371:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER */
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 718              		.loc 1 372 5
 719 005a 0121     		movs	r1, #1
 720 005c F868     		ldr	r0, [r7, #12]
 721 005e FFF7FEFF 		bl	lwip_netconn_do_close_internal
 722              	.L50:
 373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: implement connect timeout here? */
 375:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Did a nonblocking write fail before? Then check available write-space. */
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->flags & NETCONN_FLAG_CHECK_WRITESPACE) {
 723              		.loc 1 377 11
 724 0062 FB68     		ldr	r3, [r7, #12]
 725 0064 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 726              		.loc 1 377 19
 727 0066 03F01003 		and	r3, r3, #16
 728              		.loc 1 377 6
 729 006a 002B     		cmp	r3, #0
 730 006c 21D0     		beq	.L52
 378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 731              		.loc 1 380 19
ARM GAS  /tmp/ccRra5Gb.s 			page 21


 732 006e FB68     		ldr	r3, [r7, #12]
 733 0070 5B68     		ldr	r3, [r3, #4]
 734              		.loc 1 380 8
 735 0072 002B     		cmp	r3, #0
 736 0074 1DD0     		beq	.L52
 737              		.loc 1 380 37 discriminator 1
 738 0076 FB68     		ldr	r3, [r7, #12]
 739 0078 5B68     		ldr	r3, [r3, #4]
 740 007a B3F86430 		ldrh	r3, [r3, #100]
 741              		.loc 1 380 33 discriminator 1
 742 007e B3F5866F 		cmp	r3, #1072
 743 0082 16D3     		bcc	.L52
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 744              		.loc 1 381 10 discriminator 2
 745 0084 FB68     		ldr	r3, [r7, #12]
 746 0086 5B68     		ldr	r3, [r3, #4]
 747 0088 B3F86630 		ldrh	r3, [r3, #102]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 748              		.loc 1 380 79 discriminator 2
 749 008c 042B     		cmp	r3, #4
 750 008e 10D8     		bhi	.L52
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 751              		.loc 1 382 7
 752 0090 FB68     		ldr	r3, [r7, #12]
 753 0092 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 754 0094 23F01003 		bic	r3, r3, #16
 755 0098 DAB2     		uxtb	r2, r3
 756 009a FB68     		ldr	r3, [r7, #12]
 757 009c 1A77     		strb	r2, [r3, #28]
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 758              		.loc 1 383 7
 759 009e FB68     		ldr	r3, [r7, #12]
 760 00a0 5B6A     		ldr	r3, [r3, #36]
 761 00a2 002B     		cmp	r3, #0
 762 00a4 05D0     		beq	.L52
 763              		.loc 1 383 7 is_stmt 0 discriminator 1
 764 00a6 FB68     		ldr	r3, [r7, #12]
 765 00a8 5B6A     		ldr	r3, [r3, #36]
 766 00aa 0022     		movs	r2, #0
 767 00ac 0221     		movs	r1, #2
 768 00ae F868     		ldr	r0, [r7, #12]
 769 00b0 9847     		blx	r3
 770              	.LVL2:
 771              	.L52:
 384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 386:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 772              		.loc 1 387 10 is_stmt 1
 773 00b2 0023     		movs	r3, #0
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 774              		.loc 1 388 1
 775 00b4 1846     		mov	r0, r3
 776 00b6 1037     		adds	r7, r7, #16
 777              	.LCFI23:
 778              		.cfi_def_cfa_offset 8
 779 00b8 BD46     		mov	sp, r7
ARM GAS  /tmp/ccRra5Gb.s 			page 22


 780              	.LCFI24:
 781              		.cfi_def_cfa_register 13
 782              		@ sp needed
 783 00ba 80BD     		pop	{r7, pc}
 784              	.L55:
 785              		.align	2
 786              	.L54:
 787 00bc 00000000 		.word	.LC0
 788 00c0 54010000 		.word	.LC11
 789 00c4 40000000 		.word	.LC2
 790              		.cfi_endproc
 791              	.LFE141:
 793              		.section	.text.sent_tcp,"ax",%progbits
 794              		.align	1
 795              		.syntax unified
 796              		.thumb
 797              		.thumb_func
 798              		.fpu fpv4-sp-d16
 800              	sent_tcp:
 801              	.LFB142:
 389:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 391:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sent callback function for TCP netconns.
 392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem and calls API_EVENT.
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_write waits for conn->sem if send buffer is low.
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.sent) for parameters and return value
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** sent_tcp(void *arg, struct tcp_pcb *pcb, u16_t len)
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 802              		.loc 1 399 1
 803              		.cfi_startproc
 804              		@ args = 0, pretend = 0, frame = 24
 805              		@ frame_needed = 1, uses_anonymous_args = 0
 806 0000 80B5     		push	{r7, lr}
 807              	.LCFI25:
 808              		.cfi_def_cfa_offset 8
 809              		.cfi_offset 7, -8
 810              		.cfi_offset 14, -4
 811 0002 86B0     		sub	sp, sp, #24
 812              	.LCFI26:
 813              		.cfi_def_cfa_offset 32
 814 0004 00AF     		add	r7, sp, #0
 815              	.LCFI27:
 816              		.cfi_def_cfa_register 7
 817 0006 F860     		str	r0, [r7, #12]
 818 0008 B960     		str	r1, [r7, #8]
 819 000a 1346     		mov	r3, r2
 820 000c FB80     		strh	r3, [r7, #6]	@ movhi
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 821              		.loc 1 400 19
 822 000e FB68     		ldr	r3, [r7, #12]
 823 0010 7B61     		str	r3, [r7, #20]
 401:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
ARM GAS  /tmp/ccRra5Gb.s 			page 23


 824              		.loc 1 403 3
 825 0012 7B69     		ldr	r3, [r7, #20]
 826 0014 002B     		cmp	r3, #0
 827 0016 06D1     		bne	.L57
 828              		.loc 1 403 3 is_stmt 0 discriminator 1
 829 0018 204B     		ldr	r3, .L62
 830 001a 40F29312 		movw	r2, #403
 831 001e 2049     		ldr	r1, .L62+4
 832 0020 2048     		ldr	r0, .L62+8
 833 0022 FFF7FEFF 		bl	printf
 834              	.L57:
 404:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn) {
 835              		.loc 1 405 6 is_stmt 1
 836 0026 7B69     		ldr	r3, [r7, #20]
 837 0028 002B     		cmp	r3, #0
 838 002a 32D0     		beq	.L58
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 839              		.loc 1 406 13
 840 002c 7B69     		ldr	r3, [r7, #20]
 841 002e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 842              		.loc 1 406 8
 843 0030 012B     		cmp	r3, #1
 844 0032 04D1     		bne	.L59
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 845              		.loc 1 407 7
 846 0034 0121     		movs	r1, #1
 847 0036 7869     		ldr	r0, [r7, #20]
 848 0038 FFF7FEFF 		bl	lwip_netconn_do_writemore
 849 003c 07E0     		b	.L60
 850              	.L59:
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 851              		.loc 1 408 20
 852 003e 7B69     		ldr	r3, [r7, #20]
 853 0040 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 854              		.loc 1 408 15
 855 0042 042B     		cmp	r3, #4
 856 0044 03D1     		bne	.L60
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 857              		.loc 1 409 7
 858 0046 0121     		movs	r1, #1
 859 0048 7869     		ldr	r0, [r7, #20]
 860 004a FFF7FEFF 		bl	lwip_netconn_do_close_internal
 861              	.L60:
 410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 862              		.loc 1 414 19
 863 004e 7B69     		ldr	r3, [r7, #20]
 864 0050 5B68     		ldr	r3, [r3, #4]
 865              		.loc 1 414 8
 866 0052 002B     		cmp	r3, #0
 867 0054 1DD0     		beq	.L58
 868              		.loc 1 414 37 discriminator 1
 869 0056 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccRra5Gb.s 			page 24


 870 0058 5B68     		ldr	r3, [r3, #4]
 871 005a B3F86430 		ldrh	r3, [r3, #100]
 872              		.loc 1 414 33 discriminator 1
 873 005e B3F5866F 		cmp	r3, #1072
 874 0062 16D3     		bcc	.L58
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 875              		.loc 1 415 10 discriminator 2
 876 0064 7B69     		ldr	r3, [r7, #20]
 877 0066 5B68     		ldr	r3, [r3, #4]
 878 0068 B3F86630 		ldrh	r3, [r3, #102]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 879              		.loc 1 414 79 discriminator 2
 880 006c 042B     		cmp	r3, #4
 881 006e 10D8     		bhi	.L58
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 882              		.loc 1 416 7
 883 0070 7B69     		ldr	r3, [r7, #20]
 884 0072 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 885 0074 23F01003 		bic	r3, r3, #16
 886 0078 DAB2     		uxtb	r2, r3
 887 007a 7B69     		ldr	r3, [r7, #20]
 888 007c 1A77     		strb	r2, [r3, #28]
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 889              		.loc 1 417 7
 890 007e 7B69     		ldr	r3, [r7, #20]
 891 0080 5B6A     		ldr	r3, [r3, #36]
 892 0082 002B     		cmp	r3, #0
 893 0084 05D0     		beq	.L58
 894              		.loc 1 417 7 is_stmt 0 discriminator 1
 895 0086 7B69     		ldr	r3, [r7, #20]
 896 0088 5B6A     		ldr	r3, [r3, #36]
 897 008a FA88     		ldrh	r2, [r7, #6]
 898 008c 0221     		movs	r1, #2
 899 008e 7869     		ldr	r0, [r7, #20]
 900 0090 9847     		blx	r3
 901              	.LVL3:
 902              	.L58:
 418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 903              		.loc 1 421 10 is_stmt 1
 904 0092 0023     		movs	r3, #0
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 905              		.loc 1 422 1
 906 0094 1846     		mov	r0, r3
 907 0096 1837     		adds	r7, r7, #24
 908              	.LCFI28:
 909              		.cfi_def_cfa_offset 8
 910 0098 BD46     		mov	sp, r7
 911              	.LCFI29:
 912              		.cfi_def_cfa_register 13
 913              		@ sp needed
 914 009a 80BD     		pop	{r7, pc}
 915              	.L63:
 916              		.align	2
 917              	.L62:
ARM GAS  /tmp/ccRra5Gb.s 			page 25


 918 009c 00000000 		.word	.LC0
 919 00a0 54010000 		.word	.LC11
 920 00a4 40000000 		.word	.LC2
 921              		.cfi_endproc
 922              	.LFE142:
 924              		.section	.rodata
 925 0161 000000   		.align	2
 926              	.LC12:
 927 0164 636F6E6E 		.ascii	"conn->current_msg != NULL\000"
 927      2D3E6375 
 927      7272656E 
 927      745F6D73 
 927      6720213D 
 928 017e 0000     		.align	2
 929              	.LC13:
 930 0180 696E6176 		.ascii	"inavlid op_completed_sem\000"
 930      6C696420 
 930      6F705F63 
 930      6F6D706C 
 930      65746564 
 931 0199 000000   		.align	2
 932              	.LC14:
 933 019c 636F6E6E 		.ascii	"conn->current_msg == NULL\000"
 933      2D3E6375 
 933      7272656E 
 933      745F6D73 
 933      67203D3D 
 934              		.section	.text.err_tcp,"ax",%progbits
 935              		.align	1
 936              		.syntax unified
 937              		.thumb
 938              		.thumb_func
 939              		.fpu fpv4-sp-d16
 941              	err_tcp:
 942              	.LFB143:
 423:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Error callback function for TCP netconns.
 426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals conn->sem, posts to all conn mboxes and calls API_EVENT.
 427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The application thread has then to decide what to do.
 428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.err) for parameters
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 431:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_tcp(void *arg, err_t err)
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 943              		.loc 1 433 1
 944              		.cfi_startproc
 945              		@ args = 0, pretend = 0, frame = 32
 946              		@ frame_needed = 1, uses_anonymous_args = 0
 947 0000 80B5     		push	{r7, lr}
 948              	.LCFI30:
 949              		.cfi_def_cfa_offset 8
 950              		.cfi_offset 7, -8
 951              		.cfi_offset 14, -4
 952 0002 88B0     		sub	sp, sp, #32
 953              	.LCFI31:
ARM GAS  /tmp/ccRra5Gb.s 			page 26


 954              		.cfi_def_cfa_offset 40
 955 0004 00AF     		add	r7, sp, #0
 956              	.LCFI32:
 957              		.cfi_def_cfa_register 7
 958 0006 7860     		str	r0, [r7, #4]
 959 0008 0B46     		mov	r3, r1
 960 000a FB70     		strb	r3, [r7, #3]
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mbox_msg;
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 961              		.loc 1 439 8
 962 000c 7B68     		ldr	r3, [r7, #4]
 963 000e FB61     		str	r3, [r7, #28]
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 964              		.loc 1 440 3
 965 0010 FB69     		ldr	r3, [r7, #28]
 966 0012 002B     		cmp	r3, #0
 967 0014 06D1     		bne	.L65
 968              		.loc 1 440 3 is_stmt 0 discriminator 1
 969 0016 5F4B     		ldr	r3, .L81
 970 0018 4FF4DC72 		mov	r2, #440
 971 001c 5E49     		ldr	r1, .L81+4
 972 001e 5F48     		ldr	r0, .L81+8
 973 0020 FFF7FEFF 		bl	printf
 974              	.L65:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_PROTECT(lev);
 975              		.loc 1 442 3 is_stmt 1
 976 0024 FFF7FEFF 		bl	sys_arch_protect
 977 0028 B861     		str	r0, [r7, #24]
 443:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* when err is called, the pcb is deallocated, so delete the reference */
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 978              		.loc 1 445 17
 979 002a FB69     		ldr	r3, [r7, #28]
 980 002c 0022     		movs	r2, #0
 981 002e 5A60     		str	r2, [r3, #4]
 446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = err;
 982              		.loc 1 447 21
 983 0030 FB69     		ldr	r3, [r7, #28]
 984 0032 FA78     		ldrb	r2, [r7, #3]
 985 0034 1A72     		strb	r2, [r3, #8]
 448:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXCLOSED;
 986              		.loc 1 449 15
 987 0036 FB69     		ldr	r3, [r7, #28]
 988 0038 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 989 003a 43F00103 		orr	r3, r3, #1
 990 003e DAB2     		uxtb	r2, r3
 991 0040 FB69     		ldr	r3, [r7, #28]
 992 0042 1A77     		strb	r2, [r3, #28]
 450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* reset conn->state now before waking up other threads */
ARM GAS  /tmp/ccRra5Gb.s 			page 27


 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   old_state = conn->state;
 993              		.loc 1 452 13
 994 0044 FB69     		ldr	r3, [r7, #28]
 995 0046 5B78     		ldrb	r3, [r3, #1]
 996 0048 FB75     		strb	r3, [r7, #23]
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 997              		.loc 1 453 15
 998 004a FB69     		ldr	r3, [r7, #28]
 999 004c 0022     		movs	r2, #0
 1000 004e 5A70     		strb	r2, [r3, #1]
 454:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_UNPROTECT(lev);
 1001              		.loc 1 455 3
 1002 0050 B869     		ldr	r0, [r7, #24]
 1003 0052 FFF7FEFF 		bl	sys_arch_unprotect
 456:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Notify the user layer about a connection error. Used to signal select. */
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 1004              		.loc 1 458 3
 1005 0056 FB69     		ldr	r3, [r7, #28]
 1006 0058 5B6A     		ldr	r3, [r3, #36]
 1007 005a 002B     		cmp	r3, #0
 1008 005c 05D0     		beq	.L66
 1009              		.loc 1 458 3 is_stmt 0 discriminator 1
 1010 005e FB69     		ldr	r3, [r7, #28]
 1011 0060 5B6A     		ldr	r3, [r3, #36]
 1012 0062 0022     		movs	r2, #0
 1013 0064 0421     		movs	r1, #4
 1014 0066 F869     		ldr	r0, [r7, #28]
 1015 0068 9847     		blx	r3
 1016              	.LVL4:
 1017              	.L66:
 459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      They will get an error if they actually try to read or write. */
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 1018              		.loc 1 461 3 is_stmt 1
 1019 006a FB69     		ldr	r3, [r7, #28]
 1020 006c 5B6A     		ldr	r3, [r3, #36]
 1021 006e 002B     		cmp	r3, #0
 1022 0070 05D0     		beq	.L67
 1023              		.loc 1 461 3 is_stmt 0 discriminator 1
 1024 0072 FB69     		ldr	r3, [r7, #28]
 1025 0074 5B6A     		ldr	r3, [r3, #36]
 1026 0076 0022     		movs	r2, #0
 1027 0078 0021     		movs	r1, #0
 1028 007a F869     		ldr	r0, [r7, #28]
 1029 007c 9847     		blx	r3
 1030              	.LVL5:
 1031              	.L67:
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 1032              		.loc 1 462 3 is_stmt 1
 1033 007e FB69     		ldr	r3, [r7, #28]
 1034 0080 5B6A     		ldr	r3, [r3, #36]
 1035 0082 002B     		cmp	r3, #0
 1036 0084 05D0     		beq	.L68
 1037              		.loc 1 462 3 is_stmt 0 discriminator 1
 1038 0086 FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/ccRra5Gb.s 			page 28


 1039 0088 5B6A     		ldr	r3, [r3, #36]
 1040 008a 0022     		movs	r2, #0
 1041 008c 0221     		movs	r1, #2
 1042 008e F869     		ldr	r0, [r7, #28]
 1043 0090 9847     		blx	r3
 1044              	.LVL6:
 1045              	.L68:
 463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   mbox_msg = lwip_netconn_err_to_msg(err);
 1046              		.loc 1 464 14 is_stmt 1
 1047 0092 97F90330 		ldrsb	r3, [r7, #3]
 1048 0096 1846     		mov	r0, r3
 1049 0098 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 1050 009c 3861     		str	r0, [r7, #16]
 465:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 1051              		.loc 1 466 7
 1052 009e FB69     		ldr	r3, [r7, #28]
 1053 00a0 1033     		adds	r3, r3, #16
 1054 00a2 1846     		mov	r0, r3
 1055 00a4 FFF7FEFF 		bl	sys_mbox_valid
 1056 00a8 0346     		mov	r3, r0
 1057              		.loc 1 466 6
 1058 00aa 002B     		cmp	r3, #0
 1059 00ac 05D0     		beq	.L69
 467:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->recvmbox, mbox_msg);
 1060              		.loc 1 468 5
 1061 00ae FB69     		ldr	r3, [r7, #28]
 1062 00b0 1033     		adds	r3, r3, #16
 1063 00b2 3969     		ldr	r1, [r7, #16]
 1064 00b4 1846     		mov	r0, r3
 1065 00b6 FFF7FEFF 		bl	sys_mbox_trypost
 1066              	.L69:
 469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to acceptmbox to wake up pending accept */
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 1067              		.loc 1 471 7
 1068 00ba FB69     		ldr	r3, [r7, #28]
 1069 00bc 1433     		adds	r3, r3, #20
 1070 00be 1846     		mov	r0, r3
 1071 00c0 FFF7FEFF 		bl	sys_mbox_valid
 1072 00c4 0346     		mov	r3, r0
 1073              		.loc 1 471 6
 1074 00c6 002B     		cmp	r3, #0
 1075 00c8 05D0     		beq	.L70
 472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->acceptmbox, mbox_msg);
 1076              		.loc 1 473 5
 1077 00ca FB69     		ldr	r3, [r7, #28]
 1078 00cc 1433     		adds	r3, r3, #20
 1079 00ce 3969     		ldr	r1, [r7, #16]
 1080 00d0 1846     		mov	r0, r3
 1081 00d2 FFF7FEFF 		bl	sys_mbox_trypost
 1082              	.L70:
 474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 475:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  /tmp/ccRra5Gb.s 			page 29


 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((old_state == NETCONN_WRITE) || (old_state == NETCONN_CLOSE) ||
 1083              		.loc 1 476 6
 1084 00d6 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1085 00d8 012B     		cmp	r3, #1
 1086 00da 05D0     		beq	.L71
 1087              		.loc 1 476 36 discriminator 1
 1088 00dc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1089 00de 042B     		cmp	r3, #4
 1090 00e0 02D0     		beq	.L71
 1091              		.loc 1 476 68 discriminator 2
 1092 00e2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1093 00e4 032B     		cmp	r3, #3
 1094 00e6 43D1     		bne	.L72
 1095              	.L71:
 1096              	.LBB2:
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 479:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        since the pcb has already been deleted! */
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int was_nonblocking_connect = IN_NONBLOCKING_CONNECT(conn);
 1097              		.loc 1 480 35
 1098 00e8 FB69     		ldr	r3, [r7, #28]
 1099 00ea 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 1100 00ec 03F00403 		and	r3, r3, #4
 1101 00f0 002B     		cmp	r3, #0
 1102 00f2 14BF     		ite	ne
 1103 00f4 0123     		movne	r3, #1
 1104 00f6 0023     		moveq	r3, #0
 1105 00f8 DBB2     		uxtb	r3, r3
 1106              		.loc 1 480 9
 1107 00fa FB60     		str	r3, [r7, #12]
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 1108              		.loc 1 481 5
 1109 00fc FB69     		ldr	r3, [r7, #28]
 1110 00fe 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 1111 0100 23F00403 		bic	r3, r3, #4
 1112 0104 DAB2     		uxtb	r2, r3
 1113 0106 FB69     		ldr	r3, [r7, #28]
 1114 0108 1A77     		strb	r2, [r3, #28]
 482:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (!was_nonblocking_connect) {
 1115              		.loc 1 483 8
 1116 010a FB68     		ldr	r3, [r7, #12]
 1117 010c 002B     		cmp	r3, #0
 1118 010e 3BD1     		bne	.L79
 1119              	.LBB3:
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1120              		.loc 1 486 7
 1121 0110 FB69     		ldr	r3, [r7, #28]
 1122 0112 1B6A     		ldr	r3, [r3, #32]
 1123 0114 002B     		cmp	r3, #0
 1124 0116 06D1     		bne	.L74
 1125              		.loc 1 486 7 is_stmt 0 discriminator 1
 1126 0118 1E4B     		ldr	r3, .L81
 1127 011a 4FF4F372 		mov	r2, #486
 1128 011e 2049     		ldr	r1, .L81+12
ARM GAS  /tmp/ccRra5Gb.s 			page 30


 1129 0120 1E48     		ldr	r0, .L81+8
 1130 0122 FFF7FEFF 		bl	printf
 1131              	.L74:
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 1132              		.loc 1 487 10 is_stmt 1
 1133 0126 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1134 0128 042B     		cmp	r3, #4
 1135 012a 04D1     		bne	.L75
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = ERR_OK;
 1136              		.loc 1 489 13
 1137 012c FB69     		ldr	r3, [r7, #28]
 1138 012e 1B6A     		ldr	r3, [r3, #32]
 1139              		.loc 1 489 32
 1140 0130 0022     		movs	r2, #0
 1141 0132 1A71     		strb	r2, [r3, #4]
 1142 0134 03E0     		b	.L76
 1143              	.L75:
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Write and connect fail */
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = err;
 1144              		.loc 1 492 13
 1145 0136 FB69     		ldr	r3, [r7, #28]
 1146 0138 1B6A     		ldr	r3, [r3, #32]
 1147              		.loc 1 492 32
 1148 013a FA78     		ldrb	r2, [r7, #3]
 1149 013c 1A71     		strb	r2, [r3, #4]
 1150              	.L76:
 493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 1151              		.loc 1 494 26
 1152 013e FB69     		ldr	r3, [r7, #28]
 1153 0140 1B6A     		ldr	r3, [r3, #32]
 1154 0142 1B68     		ldr	r3, [r3]
 1155              		.loc 1 494 24
 1156 0144 0C33     		adds	r3, r3, #12
 1157 0146 BB60     		str	r3, [r7, #8]
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 1158              		.loc 1 495 7
 1159 0148 B868     		ldr	r0, [r7, #8]
 1160 014a FFF7FEFF 		bl	sys_sem_valid
 1161 014e 0346     		mov	r3, r0
 1162 0150 002B     		cmp	r3, #0
 1163 0152 06D1     		bne	.L77
 1164              		.loc 1 495 7 is_stmt 0 discriminator 1
 1165 0154 0F4B     		ldr	r3, .L81
 1166 0156 40F2EF12 		movw	r2, #495
 1167 015a 1249     		ldr	r1, .L81+16
 1168 015c 0F48     		ldr	r0, .L81+8
 1169 015e FFF7FEFF 		bl	printf
 1170              	.L77:
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 1171              		.loc 1 496 25 is_stmt 1
 1172 0162 FB69     		ldr	r3, [r7, #28]
 1173 0164 0022     		movs	r2, #0
 1174 0166 1A62     		str	r2, [r3, #32]
 497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
ARM GAS  /tmp/ccRra5Gb.s 			page 31


 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 1175              		.loc 1 498 7
 1176 0168 B868     		ldr	r0, [r7, #8]
 1177 016a FFF7FEFF 		bl	sys_sem_signal
 1178              	.LBE3:
 1179              	.LBE2:
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 1180              		.loc 1 477 39
 1181 016e 0BE0     		b	.L79
 1182              	.L72:
 499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* @todo: test what happens for error on nonblocking connect */
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("conn->current_msg == NULL", conn->current_msg == NULL);
 1183              		.loc 1 503 5
 1184 0170 FB69     		ldr	r3, [r7, #28]
 1185 0172 1B6A     		ldr	r3, [r3, #32]
 1186 0174 002B     		cmp	r3, #0
 1187 0176 08D0     		beq	.L80
 1188              		.loc 1 503 5 is_stmt 0 discriminator 1
 1189 0178 064B     		ldr	r3, .L81
 1190 017a 40F2F712 		movw	r2, #503
 1191 017e 0A49     		ldr	r1, .L81+20
 1192 0180 0648     		ldr	r0, .L81+8
 1193 0182 FFF7FEFF 		bl	printf
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1194              		.loc 1 505 1 is_stmt 1 discriminator 1
 1195 0186 00E0     		b	.L80
 1196              	.L79:
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 1197              		.loc 1 477 39
 1198 0188 00BF     		nop
 1199              	.L80:
 1200              		.loc 1 505 1
 1201 018a 00BF     		nop
 1202 018c 2037     		adds	r7, r7, #32
 1203              	.LCFI33:
 1204              		.cfi_def_cfa_offset 8
 1205 018e BD46     		mov	sp, r7
 1206              	.LCFI34:
 1207              		.cfi_def_cfa_register 13
 1208              		@ sp needed
 1209 0190 80BD     		pop	{r7, pc}
 1210              	.L82:
 1211 0192 00BF     		.align	2
 1212              	.L81:
 1213 0194 00000000 		.word	.LC0
 1214 0198 54010000 		.word	.LC11
 1215 019c 40000000 		.word	.LC2
 1216 01a0 64010000 		.word	.LC12
 1217 01a4 80010000 		.word	.LC13
 1218 01a8 9C010000 		.word	.LC14
 1219              		.cfi_endproc
 1220              	.LFE143:
 1222              		.section	.text.setup_tcp,"ax",%progbits
ARM GAS  /tmp/ccRra5Gb.s 			page 32


 1223              		.align	1
 1224              		.syntax unified
 1225              		.thumb
 1226              		.thumb_func
 1227              		.fpu fpv4-sp-d16
 1229              	setup_tcp:
 1230              	.LFB144:
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 507:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Setup a tcp_pcb with the correct callback function pointers
 509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * and their arguments.
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to setup
 512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 513:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** setup_tcp(struct netconn *conn)
 515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1231              		.loc 1 515 1
 1232              		.cfi_startproc
 1233              		@ args = 0, pretend = 0, frame = 16
 1234              		@ frame_needed = 1, uses_anonymous_args = 0
 1235 0000 80B5     		push	{r7, lr}
 1236              	.LCFI35:
 1237              		.cfi_def_cfa_offset 8
 1238              		.cfi_offset 7, -8
 1239              		.cfi_offset 14, -4
 1240 0002 84B0     		sub	sp, sp, #16
 1241              	.LCFI36:
 1242              		.cfi_def_cfa_offset 24
 1243 0004 00AF     		add	r7, sp, #0
 1244              	.LCFI37:
 1245              		.cfi_def_cfa_register 7
 1246 0006 7860     		str	r0, [r7, #4]
 516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *pcb;
 517:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   pcb = conn->pcb.tcp;
 1247              		.loc 1 518 7
 1248 0008 7B68     		ldr	r3, [r7, #4]
 1249 000a 5B68     		ldr	r3, [r3, #4]
 1250 000c FB60     		str	r3, [r7, #12]
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_arg(pcb, conn);
 1251              		.loc 1 519 3
 1252 000e 7968     		ldr	r1, [r7, #4]
 1253 0010 F868     		ldr	r0, [r7, #12]
 1254 0012 FFF7FEFF 		bl	tcp_arg
 520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_recv(pcb, recv_tcp);
 1255              		.loc 1 520 3
 1256 0016 0A49     		ldr	r1, .L84
 1257 0018 F868     		ldr	r0, [r7, #12]
 1258 001a FFF7FEFF 		bl	tcp_recv
 521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_sent(pcb, sent_tcp);
 1259              		.loc 1 521 3
 1260 001e 0949     		ldr	r1, .L84+4
 1261 0020 F868     		ldr	r0, [r7, #12]
 1262 0022 FFF7FEFF 		bl	tcp_sent
 522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_poll(pcb, poll_tcp, NETCONN_TCP_POLL_INTERVAL);
 1263              		.loc 1 522 3
ARM GAS  /tmp/ccRra5Gb.s 			page 33


 1264 0026 0222     		movs	r2, #2
 1265 0028 0749     		ldr	r1, .L84+8
 1266 002a F868     		ldr	r0, [r7, #12]
 1267 002c FFF7FEFF 		bl	tcp_poll
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_err(pcb, err_tcp);
 1268              		.loc 1 523 3
 1269 0030 0649     		ldr	r1, .L84+12
 1270 0032 F868     		ldr	r0, [r7, #12]
 1271 0034 FFF7FEFF 		bl	tcp_err
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1272              		.loc 1 524 1
 1273 0038 00BF     		nop
 1274 003a 1037     		adds	r7, r7, #16
 1275              	.LCFI38:
 1276              		.cfi_def_cfa_offset 8
 1277 003c BD46     		mov	sp, r7
 1278              	.LCFI39:
 1279              		.cfi_def_cfa_register 13
 1280              		@ sp needed
 1281 003e 80BD     		pop	{r7, pc}
 1282              	.L85:
 1283              		.align	2
 1284              	.L84:
 1285 0040 00000000 		.word	recv_tcp
 1286 0044 00000000 		.word	sent_tcp
 1287 0048 00000000 		.word	poll_tcp
 1288 004c 00000000 		.word	err_tcp
 1289              		.cfi_endproc
 1290              	.LFE144:
 1292              		.section	.rodata
 1293 01b6 0000     		.align	2
 1294              	.LC15:
 1295 01b8 65787065 		.ascii	"expect newpcb == NULL or err == ERR_OK\000"
 1295      6374206E 
 1295      65777063 
 1295      62203D3D 
 1295      204E554C 
 1296              		.section	.text.accept_function,"ax",%progbits
 1297              		.align	1
 1298              		.syntax unified
 1299              		.thumb
 1300              		.thumb_func
 1301              		.fpu fpv4-sp-d16
 1303              	accept_function:
 1304              	.LFB145:
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Accept callback function for TCP netconns.
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Allocates a new netconn and posts that to conn->acceptmbox.
 529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb_listen.accept) for parameters and return value
 531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** accept_function(void *arg, struct tcp_pcb *newpcb, err_t err)
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1305              		.loc 1 534 1
 1306              		.cfi_startproc
ARM GAS  /tmp/ccRra5Gb.s 			page 34


 1307              		@ args = 0, pretend = 0, frame = 32
 1308              		@ frame_needed = 1, uses_anonymous_args = 0
 1309 0000 90B5     		push	{r4, r7, lr}
 1310              	.LCFI40:
 1311              		.cfi_def_cfa_offset 12
 1312              		.cfi_offset 4, -12
 1313              		.cfi_offset 7, -8
 1314              		.cfi_offset 14, -4
 1315 0002 89B0     		sub	sp, sp, #36
 1316              	.LCFI41:
 1317              		.cfi_def_cfa_offset 48
 1318 0004 00AF     		add	r7, sp, #0
 1319              	.LCFI42:
 1320              		.cfi_def_cfa_register 7
 1321 0006 F860     		str	r0, [r7, #12]
 1322 0008 B960     		str	r1, [r7, #8]
 1323 000a 1346     		mov	r3, r2
 1324 000c FB71     		strb	r3, [r7, #7]
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 1325              		.loc 1 536 19
 1326 000e FB68     		ldr	r3, [r7, #12]
 1327 0010 FB61     		str	r3, [r7, #28]
 537:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 1328              		.loc 1 538 6
 1329 0012 FB69     		ldr	r3, [r7, #28]
 1330 0014 002B     		cmp	r3, #0
 1331 0016 02D1     		bne	.L87
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 1332              		.loc 1 539 12
 1333 0018 6FF00503 		mvn	r3, #5
 1334 001c A1E0     		b	.L88
 1335              	.L87:
 540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 1336              		.loc 1 541 8
 1337 001e FB69     		ldr	r3, [r7, #28]
 1338 0020 1433     		adds	r3, r3, #20
 1339 0022 1846     		mov	r0, r3
 1340 0024 FFF7FEFF 		bl	sys_mbox_valid
 1341 0028 0346     		mov	r3, r0
 1342              		.loc 1 541 6
 1343 002a 002B     		cmp	r3, #0
 1344 002c 02D1     		bne	.L89
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 1345              		.loc 1 543 12
 1346 002e 6FF00503 		mvn	r3, #5
 1347 0032 96E0     		b	.L88
 1348              	.L89:
 544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 545:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newpcb == NULL) {
 1349              		.loc 1 546 6
 1350 0034 BB68     		ldr	r3, [r7, #8]
 1351 0036 002B     		cmp	r3, #0
ARM GAS  /tmp/ccRra5Gb.s 			page 35


 1352 0038 1BD1     		bne	.L90
 547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 1353              		.loc 1 548 9
 1354 003a FB69     		ldr	r3, [r7, #28]
 1355 003c 03F11404 		add	r4, r3, #20
 1356 0040 6FF00C00 		mvn	r0, #12
 1357 0044 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 1358 0048 0346     		mov	r3, r0
 1359 004a 1946     		mov	r1, r3
 1360 004c 2046     		mov	r0, r4
 1361 004e FFF7FEFF 		bl	sys_mbox_trypost
 1362 0052 0346     		mov	r3, r0
 1363              		.loc 1 548 8
 1364 0054 002B     		cmp	r3, #0
 1365 0056 09D1     		bne	.L91
 549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 1366              		.loc 1 550 7
 1367 0058 FB69     		ldr	r3, [r7, #28]
 1368 005a 5B6A     		ldr	r3, [r3, #36]
 1369 005c 002B     		cmp	r3, #0
 1370 005e 05D0     		beq	.L91
 1371              		.loc 1 550 7 is_stmt 0 discriminator 1
 1372 0060 FB69     		ldr	r3, [r7, #28]
 1373 0062 5B6A     		ldr	r3, [r3, #36]
 1374 0064 0022     		movs	r2, #0
 1375 0066 0021     		movs	r1, #0
 1376 0068 F869     		ldr	r0, [r7, #28]
 1377 006a 9847     		blx	r3
 1378              	.LVL7:
 1379              	.L91:
 551:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 1380              		.loc 1 552 12 is_stmt 1
 1381 006c 6FF00503 		mvn	r3, #5
 1382 0070 77E0     		b	.L88
 1383              	.L90:
 553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("expect newpcb == NULL or err == ERR_OK", err == ERR_OK);
 1384              		.loc 1 554 3
 1385 0072 97F90730 		ldrsb	r3, [r7, #7]
 1386 0076 002B     		cmp	r3, #0
 1387 0078 06D0     		beq	.L92
 1388              		.loc 1 554 3 is_stmt 0 discriminator 1
 1389 007a 3C4B     		ldr	r3, .L97
 1390 007c 40F22A22 		movw	r2, #554
 1391 0080 3B49     		ldr	r1, .L97+4
 1392 0082 3C48     		ldr	r0, .L97+8
 1393 0084 FFF7FEFF 		bl	printf
 1394              	.L92:
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 556:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: newpcb->state: %s\n", tcp_debug_state_str(newpcb->s
 558:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We have to set the callback here even though
 560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    * the new socket is unknown. newconn->socket is marked as -1. */
ARM GAS  /tmp/ccRra5Gb.s 			page 36


 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn = netconn_alloc(conn->type, conn->callback);
 1395              		.loc 1 561 13 is_stmt 1
 1396 0088 FB69     		ldr	r3, [r7, #28]
 1397 008a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1398 008c FB69     		ldr	r3, [r7, #28]
 1399 008e 5B6A     		ldr	r3, [r3, #36]
 1400 0090 1946     		mov	r1, r3
 1401 0092 1046     		mov	r0, r2
 1402 0094 FFF7FEFF 		bl	netconn_alloc
 1403 0098 B861     		str	r0, [r7, #24]
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 1404              		.loc 1 562 6
 1405 009a BB69     		ldr	r3, [r7, #24]
 1406 009c 002B     		cmp	r3, #0
 1407 009e 1BD1     		bne	.L93
 563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 1408              		.loc 1 564 9
 1409 00a0 FB69     		ldr	r3, [r7, #28]
 1410 00a2 03F11404 		add	r4, r3, #20
 1411 00a6 6FF00C00 		mvn	r0, #12
 1412 00aa FFF7FEFF 		bl	lwip_netconn_err_to_msg
 1413 00ae 0346     		mov	r3, r0
 1414 00b0 1946     		mov	r1, r3
 1415 00b2 2046     		mov	r0, r4
 1416 00b4 FFF7FEFF 		bl	sys_mbox_trypost
 1417 00b8 0346     		mov	r3, r0
 1418              		.loc 1 564 8
 1419 00ba 002B     		cmp	r3, #0
 1420 00bc 09D1     		bne	.L94
 565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 1421              		.loc 1 566 7
 1422 00be FB69     		ldr	r3, [r7, #28]
 1423 00c0 5B6A     		ldr	r3, [r3, #36]
 1424 00c2 002B     		cmp	r3, #0
 1425 00c4 05D0     		beq	.L94
 1426              		.loc 1 566 7 is_stmt 0 discriminator 1
 1427 00c6 FB69     		ldr	r3, [r7, #28]
 1428 00c8 5B6A     		ldr	r3, [r3, #36]
 1429 00ca 0022     		movs	r2, #0
 1430 00cc 0021     		movs	r1, #0
 1431 00ce F869     		ldr	r0, [r7, #28]
 1432 00d0 9847     		blx	r3
 1433              	.LVL8:
 1434              	.L94:
 567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 1435              		.loc 1 568 12 is_stmt 1
 1436 00d2 4FF0FF33 		mov	r3, #-1
 1437 00d6 44E0     		b	.L88
 1438              	.L93:
 569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->pcb.tcp = newpcb;
 1439              		.loc 1 570 20
 1440 00d8 BB69     		ldr	r3, [r7, #24]
 1441 00da BA68     		ldr	r2, [r7, #8]
ARM GAS  /tmp/ccRra5Gb.s 			page 37


 1442 00dc 5A60     		str	r2, [r3, #4]
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 1443              		.loc 1 571 3
 1444 00de B869     		ldr	r0, [r7, #24]
 1445 00e0 FFF7FEFF 		bl	setup_tcp
 572:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* handle backlog counter */
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_backlog_delayed(newpcb);
 575:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->acceptmbox, newconn) != ERR_OK) {
 1446              		.loc 1 576 7
 1447 00e4 FB69     		ldr	r3, [r7, #28]
 1448 00e6 1433     		adds	r3, r3, #20
 1449 00e8 B969     		ldr	r1, [r7, #24]
 1450 00ea 1846     		mov	r0, r3
 1451 00ec FFF7FEFF 		bl	sys_mbox_trypost
 1452 00f0 0346     		mov	r3, r0
 1453              		.loc 1 576 6
 1454 00f2 002B     		cmp	r3, #0
 1455 00f4 2AD0     		beq	.L95
 1456              	.LBB4:
 577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        so do nothing here! */
 579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove all references to this netconn from the pcb */
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     struct tcp_pcb *pcb = newconn->pcb.tcp;
 1457              		.loc 1 580 21
 1458 00f6 BB69     		ldr	r3, [r7, #24]
 1459 00f8 5B68     		ldr	r3, [r3, #4]
 1460 00fa 7B61     		str	r3, [r7, #20]
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 1461              		.loc 1 581 5
 1462 00fc 0021     		movs	r1, #0
 1463 00fe 7869     		ldr	r0, [r7, #20]
 1464 0100 FFF7FEFF 		bl	tcp_arg
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 1465              		.loc 1 582 5
 1466 0104 0021     		movs	r1, #0
 1467 0106 7869     		ldr	r0, [r7, #20]
 1468 0108 FFF7FEFF 		bl	tcp_recv
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 1469              		.loc 1 583 5
 1470 010c 0021     		movs	r1, #0
 1471 010e 7869     		ldr	r0, [r7, #20]
 1472 0110 FFF7FEFF 		bl	tcp_sent
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 1473              		.loc 1 584 5
 1474 0114 0022     		movs	r2, #0
 1475 0116 0021     		movs	r1, #0
 1476 0118 7869     		ldr	r0, [r7, #20]
 1477 011a FFF7FEFF 		bl	tcp_poll
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 1478              		.loc 1 585 5
 1479 011e 0021     		movs	r1, #0
 1480 0120 7869     		ldr	r0, [r7, #20]
 1481 0122 FFF7FEFF 		bl	tcp_err
 586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     newconn->pcb.tcp = NULL;
ARM GAS  /tmp/ccRra5Gb.s 			page 38


 1482              		.loc 1 587 22
 1483 0126 BB69     		ldr	r3, [r7, #24]
 1484 0128 0022     		movs	r2, #0
 1485 012a 5A60     		str	r2, [r3, #4]
 588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&newconn->recvmbox);
 1486              		.loc 1 589 5
 1487 012c BB69     		ldr	r3, [r7, #24]
 1488 012e 1033     		adds	r3, r3, #16
 1489 0130 1846     		mov	r0, r3
 1490 0132 FFF7FEFF 		bl	sys_mbox_free
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 1491              		.loc 1 590 5
 1492 0136 BB69     		ldr	r3, [r7, #24]
 1493 0138 1033     		adds	r3, r3, #16
 1494 013a 1846     		mov	r0, r3
 1495 013c FFF7FEFF 		bl	sys_mbox_set_invalid
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 1496              		.loc 1 591 5
 1497 0140 B869     		ldr	r0, [r7, #24]
 1498 0142 FFF7FEFF 		bl	netconn_free
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 1499              		.loc 1 592 12
 1500 0146 4FF0FF33 		mov	r3, #-1
 1501 014a 0AE0     		b	.L88
 1502              	.L95:
 1503              	.LBE4:
 593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 1504              		.loc 1 595 5
 1505 014c FB69     		ldr	r3, [r7, #28]
 1506 014e 5B6A     		ldr	r3, [r3, #36]
 1507 0150 002B     		cmp	r3, #0
 1508 0152 05D0     		beq	.L96
 1509              		.loc 1 595 5 is_stmt 0 discriminator 1
 1510 0154 FB69     		ldr	r3, [r7, #28]
 1511 0156 5B6A     		ldr	r3, [r3, #36]
 1512 0158 0022     		movs	r2, #0
 1513 015a 0021     		movs	r1, #0
 1514 015c F869     		ldr	r0, [r7, #28]
 1515 015e 9847     		blx	r3
 1516              	.LVL9:
 1517              	.L96:
 596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 597:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 1518              		.loc 1 598 10 is_stmt 1
 1519 0160 0023     		movs	r3, #0
 1520              	.L88:
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1521              		.loc 1 599 1
 1522 0162 1846     		mov	r0, r3
 1523 0164 2437     		adds	r7, r7, #36
 1524              	.LCFI43:
 1525              		.cfi_def_cfa_offset 12
 1526 0166 BD46     		mov	sp, r7
ARM GAS  /tmp/ccRra5Gb.s 			page 39


 1527              	.LCFI44:
 1528              		.cfi_def_cfa_register 13
 1529              		@ sp needed
 1530 0168 90BD     		pop	{r4, r7, pc}
 1531              	.L98:
 1532 016a 00BF     		.align	2
 1533              	.L97:
 1534 016c 00000000 		.word	.LC0
 1535 0170 B8010000 		.word	.LC15
 1536 0174 40000000 		.word	.LC2
 1537              		.cfi_endproc
 1538              	.LFE145:
 1540              		.section	.rodata
 1541 01df 00       		.align	2
 1542              	.LC16:
 1543 01e0 7063625F 		.ascii	"pcb_new: pcb already allocated\000"
 1543      6E65773A 
 1543      20706362 
 1543      20616C72 
 1543      65616479 
 1544              		.section	.text.pcb_new,"ax",%progbits
 1545              		.align	1
 1546              		.syntax unified
 1547              		.thumb
 1548              		.thumb_func
 1549              		.fpu fpv4-sp-d16
 1551              	pcb_new:
 1552              	.LFB146:
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type.
 604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from lwip_netconn_do_newconn().
 605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param msg the api_msg describing the connection type
 607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** pcb_new(struct api_msg *msg)
 610:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1553              		.loc 1 610 1
 1554              		.cfi_startproc
 1555              		@ args = 0, pretend = 0, frame = 16
 1556              		@ frame_needed = 1, uses_anonymous_args = 0
 1557 0000 90B5     		push	{r4, r7, lr}
 1558              	.LCFI45:
 1559              		.cfi_def_cfa_offset 12
 1560              		.cfi_offset 4, -12
 1561              		.cfi_offset 7, -8
 1562              		.cfi_offset 14, -4
 1563 0002 85B0     		sub	sp, sp, #20
 1564              	.LCFI46:
 1565              		.cfi_def_cfa_offset 32
 1566 0004 00AF     		add	r7, sp, #0
 1567              	.LCFI47:
 1568              		.cfi_def_cfa_register 7
 1569 0006 7860     		str	r0, [r7, #4]
 611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum lwip_ip_addr_type iptype = IPADDR_TYPE_V4;
ARM GAS  /tmp/ccRra5Gb.s 			page 40


 1570              		.loc 1 611 26
 1571 0008 0023     		movs	r3, #0
 1572 000a FB73     		strb	r3, [r7, #15]
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb_new: pcb already allocated", msg->conn->pcb.tcp == NULL);
 1573              		.loc 1 613 3
 1574 000c 7B68     		ldr	r3, [r7, #4]
 1575 000e 1B68     		ldr	r3, [r3]
 1576 0010 5B68     		ldr	r3, [r3, #4]
 1577 0012 002B     		cmp	r3, #0
 1578 0014 06D0     		beq	.L100
 1579              		.loc 1 613 3 is_stmt 0 discriminator 1
 1580 0016 2B4B     		ldr	r3, .L110
 1581 0018 40F26522 		movw	r2, #613
 1582 001c 2A49     		ldr	r1, .L110+4
 1583 001e 2B48     		ldr	r0, .L110+8
 1584 0020 FFF7FEFF 		bl	printf
 1585              	.L100:
 614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV4
 616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* IPv6: Dual-stack by default, unless netconn_set_ipv6only() is called */
 617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(msg->conn))) {
 618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     iptype = IPADDR_TYPE_ANY;
 619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 620:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 621:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Allocate a PCB for this connection */
 623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 1586              		.loc 1 623 11 is_stmt 1
 1587 0024 7B68     		ldr	r3, [r7, #4]
 1588 0026 1B68     		ldr	r3, [r3]
 1589 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1590 002a 03F0F003 		and	r3, r3, #240
 1591              		.loc 1 623 3
 1592 002e 102B     		cmp	r3, #16
 1593 0030 22D0     		beq	.L101
 1594 0032 202B     		cmp	r3, #32
 1595 0034 33D1     		bne	.L102
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.raw = raw_new_ip_type(iptype, msg->msg.n.proto);
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.raw != NULL) {
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* ICMPv6 packets should always have checksum calculated by the stack as per RFC 3542 chapt
 630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISIPV6(msg->conn->type) && msg->conn->pcb.raw->protocol == IP6_NEXTH_ICMP6)
 631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_reqd = 1;
 632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_offset = 2;
 633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 634:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 */
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_recv(msg->conn->pcb.raw, recv_raw, msg->conn);
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 638:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 641:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.udp = udp_new_ip_type(iptype);
 1596              		.loc 1 641 10
ARM GAS  /tmp/ccRra5Gb.s 			page 41


 1597 0036 7B68     		ldr	r3, [r7, #4]
 1598 0038 1C68     		ldr	r4, [r3]
 1599              		.loc 1 641 28
 1600 003a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1601 003c 1846     		mov	r0, r3
 1602 003e FFF7FEFF 		bl	udp_new_ip_type
 1603 0042 0346     		mov	r3, r0
 1604              		.loc 1 641 26
 1605 0044 6360     		str	r3, [r4, #4]
 642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.udp != NULL) {
 1606              		.loc 1 642 14
 1607 0046 7B68     		ldr	r3, [r7, #4]
 1608 0048 1B68     		ldr	r3, [r3]
 1609              		.loc 1 642 25
 1610 004a 5B68     		ldr	r3, [r3, #4]
 1611              		.loc 1 642 10
 1612 004c 002B     		cmp	r3, #0
 1613 004e 2AD0     		beq	.L108
 643:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDPLITE
 644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPLITE(msg->conn->type)) {
 645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_UDPLITE);
 646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 647:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDPLITE */
 648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPNOCHKSUM(msg->conn->type)) {
 1614              		.loc 1 648 13
 1615 0050 7B68     		ldr	r3, [r7, #4]
 1616 0052 1B68     		ldr	r3, [r3]
 1617 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1618              		.loc 1 648 12
 1619 0056 222B     		cmp	r3, #34
 1620 0058 04D1     		bne	.L104
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 1621              		.loc 1 649 11
 1622 005a 7B68     		ldr	r3, [r7, #4]
 1623 005c 1B68     		ldr	r3, [r3]
 1624 005e 5B68     		ldr	r3, [r3, #4]
 1625 0060 0122     		movs	r2, #1
 1626 0062 1A74     		strb	r2, [r3, #16]
 1627              	.L104:
 650:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_recv(msg->conn->pcb.udp, recv_udp, msg->conn);
 1628              		.loc 1 651 21
 1629 0064 7B68     		ldr	r3, [r7, #4]
 1630 0066 1B68     		ldr	r3, [r3]
 1631              		.loc 1 651 9
 1632 0068 5868     		ldr	r0, [r3, #4]
 1633              		.loc 1 651 51
 1634 006a 7B68     		ldr	r3, [r7, #4]
 1635 006c 1B68     		ldr	r3, [r3]
 1636              		.loc 1 651 9
 1637 006e 1A46     		mov	r2, r3
 1638 0070 1749     		ldr	r1, .L110+12
 1639 0072 FFF7FEFF 		bl	udp_recv
 652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 1640              		.loc 1 653 7
 1641 0076 16E0     		b	.L108
ARM GAS  /tmp/ccRra5Gb.s 			page 42


 1642              	.L101:
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 655:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = tcp_new_ip_type(iptype);
 1643              		.loc 1 657 10
 1644 0078 7B68     		ldr	r3, [r7, #4]
 1645 007a 1C68     		ldr	r4, [r3]
 1646              		.loc 1 657 28
 1647 007c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1648 007e 1846     		mov	r0, r3
 1649 0080 FFF7FEFF 		bl	tcp_new_ip_type
 1650 0084 0346     		mov	r3, r0
 1651              		.loc 1 657 26
 1652 0086 6360     		str	r3, [r4, #4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 1653              		.loc 1 658 14
 1654 0088 7B68     		ldr	r3, [r7, #4]
 1655 008a 1B68     		ldr	r3, [r3]
 1656              		.loc 1 658 25
 1657 008c 5B68     		ldr	r3, [r3, #4]
 1658              		.loc 1 658 10
 1659 008e 002B     		cmp	r3, #0
 1660 0090 0BD0     		beq	.L109
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 1661              		.loc 1 659 9
 1662 0092 7B68     		ldr	r3, [r7, #4]
 1663 0094 1B68     		ldr	r3, [r3]
 1664 0096 1846     		mov	r0, r3
 1665 0098 FFF7FEFF 		bl	setup_tcp
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 661:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 1666              		.loc 1 661 7
 1667 009c 05E0     		b	.L109
 1668              	.L102:
 662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Unsupported netconn type, e.g. protocol disabled */
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
 1669              		.loc 1 665 16
 1670 009e 7B68     		ldr	r3, [r7, #4]
 1671 00a0 FA22     		movs	r2, #250
 1672 00a2 1A71     		strb	r2, [r3, #4]
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 1673              		.loc 1 666 7
 1674 00a4 0AE0     		b	.L99
 1675              	.L108:
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 1676              		.loc 1 653 7
 1677 00a6 00BF     		nop
 1678 00a8 00E0     		b	.L105
 1679              	.L109:
 661:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 1680              		.loc 1 661 7
 1681 00aa 00BF     		nop
 1682              	.L105:
 667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/ccRra5Gb.s 			page 43


 668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip == NULL) {
 1683              		.loc 1 668 10
 1684 00ac 7B68     		ldr	r3, [r7, #4]
 1685 00ae 1B68     		ldr	r3, [r3]
 1686              		.loc 1 668 21
 1687 00b0 5B68     		ldr	r3, [r3, #4]
 1688              		.loc 1 668 6
 1689 00b2 002B     		cmp	r3, #0
 1690 00b4 02D1     		bne	.L99
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_MEM;
 1691              		.loc 1 669 14
 1692 00b6 7B68     		ldr	r3, [r7, #4]
 1693 00b8 FF22     		movs	r2, #255
 1694 00ba 1A71     		strb	r2, [r3, #4]
 1695              	.L99:
 670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 671:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1696              		.loc 1 671 1
 1697 00bc 1437     		adds	r7, r7, #20
 1698              	.LCFI48:
 1699              		.cfi_def_cfa_offset 12
 1700 00be BD46     		mov	sp, r7
 1701              	.LCFI49:
 1702              		.cfi_def_cfa_register 13
 1703              		@ sp needed
 1704 00c0 90BD     		pop	{r4, r7, pc}
 1705              	.L111:
 1706 00c2 00BF     		.align	2
 1707              	.L110:
 1708 00c4 00000000 		.word	.LC0
 1709 00c8 E0010000 		.word	.LC16
 1710 00cc 40000000 		.word	.LC2
 1711 00d0 00000000 		.word	recv_udp
 1712              		.cfi_endproc
 1713              	.LFE146:
 1715              		.section	.text.lwip_netconn_do_newconn,"ax",%progbits
 1716              		.align	1
 1717              		.global	lwip_netconn_do_newconn
 1718              		.syntax unified
 1719              		.thumb
 1720              		.thumb_func
 1721              		.fpu fpv4-sp-d16
 1723              	lwip_netconn_do_newconn:
 1724              	.LFB147:
 672:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 673:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type inside a netconn.
 675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_new_with_proto_and_callback.
 676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg describing the connection type
 678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 679:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_newconn(void *m)
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1725              		.loc 1 681 1
 1726              		.cfi_startproc
 1727              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/ccRra5Gb.s 			page 44


 1728              		@ frame_needed = 1, uses_anonymous_args = 0
 1729 0000 80B5     		push	{r7, lr}
 1730              	.LCFI50:
 1731              		.cfi_def_cfa_offset 8
 1732              		.cfi_offset 7, -8
 1733              		.cfi_offset 14, -4
 1734 0002 84B0     		sub	sp, sp, #16
 1735              	.LCFI51:
 1736              		.cfi_def_cfa_offset 24
 1737 0004 00AF     		add	r7, sp, #0
 1738              	.LCFI52:
 1739              		.cfi_def_cfa_register 7
 1740 0006 7860     		str	r0, [r7, #4]
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 1741              		.loc 1 682 19
 1742 0008 7B68     		ldr	r3, [r7, #4]
 1743 000a FB60     		str	r3, [r7, #12]
 683:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
 1744              		.loc 1 684 12
 1745 000c FB68     		ldr	r3, [r7, #12]
 1746 000e 0022     		movs	r2, #0
 1747 0010 1A71     		strb	r2, [r3, #4]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 1748              		.loc 1 685 10
 1749 0012 FB68     		ldr	r3, [r7, #12]
 1750 0014 1B68     		ldr	r3, [r3]
 1751              		.loc 1 685 21
 1752 0016 5B68     		ldr	r3, [r3, #4]
 1753              		.loc 1 685 6
 1754 0018 002B     		cmp	r3, #0
 1755 001a 02D1     		bne	.L114
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 1756              		.loc 1 686 5
 1757 001c F868     		ldr	r0, [r7, #12]
 1758 001e FFF7FEFF 		bl	pcb_new
 1759              	.L114:
 687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Else? This "new" connection already has a PCB allocated. */
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Is this an error condition? Should it be deleted? */
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We currently just are happy and return. */
 691:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1760              		.loc 1 693 1
 1761 0022 00BF     		nop
 1762 0024 1037     		adds	r7, r7, #16
 1763              	.LCFI53:
 1764              		.cfi_def_cfa_offset 8
 1765 0026 BD46     		mov	sp, r7
 1766              	.LCFI54:
 1767              		.cfi_def_cfa_register 13
 1768              		@ sp needed
 1769 0028 80BD     		pop	{r7, pc}
 1770              		.cfi_endproc
 1771              	.LFE147:
 1773              		.section	.rodata
ARM GAS  /tmp/ccRra5Gb.s 			page 45


 1774 01ff 00       		.align	2
 1775              	.LC17:
 1776 0200 6E657463 		.ascii	"netconn_alloc: undefined netconn_type\000"
 1776      6F6E6E5F 
 1776      616C6C6F 
 1776      633A2075 
 1776      6E646566 
 1777              		.section	.text.netconn_alloc,"ax",%progbits
 1778              		.align	1
 1779              		.global	netconn_alloc
 1780              		.syntax unified
 1781              		.thumb
 1782              		.thumb_func
 1783              		.fpu fpv4-sp-d16
 1785              	netconn_alloc:
 1786              	.LFB148:
 694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new netconn (of a specific type) that has a callback function.
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The corresponding pcb is NOT created!
 698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param t the type of 'connection' to create (@see enum netconn_type)
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param callback a function to call on status changes (RX available, TX'ed)
 701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return a newly allocated struct netconn or
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         NULL on memory error
 703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** struct netconn *
 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_alloc(enum netconn_type t, netconn_callback callback)
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1787              		.loc 1 706 1
 1788              		.cfi_startproc
 1789              		@ args = 0, pretend = 0, frame = 24
 1790              		@ frame_needed = 1, uses_anonymous_args = 0
 1791 0000 80B5     		push	{r7, lr}
 1792              	.LCFI55:
 1793              		.cfi_def_cfa_offset 8
 1794              		.cfi_offset 7, -8
 1795              		.cfi_offset 14, -4
 1796 0002 86B0     		sub	sp, sp, #24
 1797              	.LCFI56:
 1798              		.cfi_def_cfa_offset 32
 1799 0004 00AF     		add	r7, sp, #0
 1800              	.LCFI57:
 1801              		.cfi_def_cfa_register 7
 1802 0006 0346     		mov	r3, r0
 1803 0008 3960     		str	r1, [r7]
 1804 000a FB71     		strb	r3, [r7, #7]
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t init_flags = 0;
 1805              		.loc 1 709 8
 1806 000c 0023     		movs	r3, #0
 1807 000e FB74     		strb	r3, [r7, #19]
 710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)memp_malloc(MEMP_NETCONN);
 1808              		.loc 1 711 28
 1809 0010 0720     		movs	r0, #7
ARM GAS  /tmp/ccRra5Gb.s 			page 46


 1810 0012 FFF7FEFF 		bl	memp_malloc
 1811 0016 F860     		str	r0, [r7, #12]
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 1812              		.loc 1 712 6
 1813 0018 FB68     		ldr	r3, [r7, #12]
 1814 001a 002B     		cmp	r3, #0
 1815 001c 01D1     		bne	.L116
 713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 1816              		.loc 1 713 12
 1817 001e 0023     		movs	r3, #0
 1818 0020 52E0     		b	.L117
 1819              	.L116:
 714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 715:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = ERR_OK;
 1820              		.loc 1 716 21
 1821 0022 FB68     		ldr	r3, [r7, #12]
 1822 0024 0022     		movs	r2, #0
 1823 0026 1A72     		strb	r2, [r3, #8]
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 1824              		.loc 1 717 14
 1825 0028 FB68     		ldr	r3, [r7, #12]
 1826 002a FA79     		ldrb	r2, [r7, #7]
 1827 002c 1A70     		strb	r2, [r3]
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 1828              		.loc 1 718 17
 1829 002e FB68     		ldr	r3, [r7, #12]
 1830 0030 0022     		movs	r2, #0
 1831 0032 5A60     		str	r2, [r3, #4]
 719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If all sizes are the same, every compiler should optimize this switch to nothing */
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(t)) {
 1832              		.loc 1 721 11
 1833 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1834 0036 03F0F003 		and	r3, r3, #240
 1835              		.loc 1 721 3
 1836 003a 102B     		cmp	r3, #16
 1837 003c 04D0     		beq	.L118
 1838 003e 202B     		cmp	r3, #32
 1839 0040 05D1     		bne	.L124
 722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_RAW_RECVMBOX_SIZE;
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 726:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 727:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_UDP_RECVMBOX_SIZE;
 1840              		.loc 1 729 12
 1841 0042 0623     		movs	r3, #6
 1842 0044 7B61     		str	r3, [r7, #20]
 730:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       init_flags |= NETCONN_FLAG_PKTINFO;
 732:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 1843              		.loc 1 733 7
 1844 0046 0AE0     		b	.L120
ARM GAS  /tmp/ccRra5Gb.s 			page 47


 1845              	.L118:
 734:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_TCP_RECVMBOX_SIZE;
 1846              		.loc 1 737 12
 1847 0048 0623     		movs	r3, #6
 1848 004a 7B61     		str	r3, [r7, #20]
 738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 1849              		.loc 1 738 7
 1850 004c 07E0     		b	.L120
 1851              	.L124:
 739:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("netconn_alloc: undefined netconn_type", 0);
 1852              		.loc 1 741 7 discriminator 1
 1853 004e 204B     		ldr	r3, .L126
 1854 0050 40F2E522 		movw	r2, #741
 1855 0054 1F49     		ldr	r1, .L126+4
 1856 0056 2048     		ldr	r0, .L126+8
 1857 0058 FFF7FEFF 		bl	printf
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 1858              		.loc 1 742 7 discriminator 1
 1859 005c 2FE0     		b	.L121
 1860              	.L120:
 743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_new(&conn->recvmbox, size) != ERR_OK) {
 1861              		.loc 1 745 7
 1862 005e FB68     		ldr	r3, [r7, #12]
 1863 0060 1033     		adds	r3, r3, #16
 1864 0062 7969     		ldr	r1, [r7, #20]
 1865 0064 1846     		mov	r0, r3
 1866 0066 FFF7FEFF 		bl	sys_mbox_new
 1867 006a 0346     		mov	r3, r0
 1868              		.loc 1 745 6
 1869 006c 002B     		cmp	r3, #0
 1870 006e 25D1     		bne	.L125
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 748:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_new(&conn->op_completed, 0) != ERR_OK) {
 1871              		.loc 1 749 7
 1872 0070 FB68     		ldr	r3, [r7, #12]
 1873 0072 0C33     		adds	r3, r3, #12
 1874 0074 0021     		movs	r1, #0
 1875 0076 1846     		mov	r0, r3
 1876 0078 FFF7FEFF 		bl	sys_sem_new
 1877 007c 0346     		mov	r3, r0
 1878              		.loc 1 749 6
 1879 007e 002B     		cmp	r3, #0
 1880 0080 05D0     		beq	.L123
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 1881              		.loc 1 750 5
 1882 0082 FB68     		ldr	r3, [r7, #12]
 1883 0084 1033     		adds	r3, r3, #16
 1884 0086 1846     		mov	r0, r3
ARM GAS  /tmp/ccRra5Gb.s 			page 48


 1885 0088 FFF7FEFF 		bl	sys_mbox_free
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 1886              		.loc 1 751 5
 1887 008c 17E0     		b	.L121
 1888              	.L123:
 752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 753:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 754:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 755:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_mbox_set_invalid(&conn->acceptmbox);
 1889              		.loc 1 756 3
 1890 008e FB68     		ldr	r3, [r7, #12]
 1891 0090 1433     		adds	r3, r3, #20
 1892 0092 1846     		mov	r0, r3
 1893 0094 FFF7FEFF 		bl	sys_mbox_set_invalid
 757:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state        = NETCONN_NONE;
 1894              		.loc 1 758 22
 1895 0098 FB68     		ldr	r3, [r7, #12]
 1896 009a 0022     		movs	r2, #0
 1897 009c 5A70     		strb	r2, [r3, #1]
 759:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->socket       = -1;
 1898              		.loc 1 761 22
 1899 009e FB68     		ldr	r3, [r7, #12]
 1900 00a0 4FF0FF32 		mov	r2, #-1
 1901 00a4 9A61     		str	r2, [r3, #24]
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->callback     = callback;
 1902              		.loc 1 763 22
 1903 00a6 FB68     		ldr	r3, [r7, #12]
 1904 00a8 3A68     		ldr	r2, [r7]
 1905 00aa 5A62     		str	r2, [r3, #36]
 764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg  = NULL;
 1906              		.loc 1 765 22
 1907 00ac FB68     		ldr	r3, [r7, #12]
 1908 00ae 0022     		movs	r2, #0
 1909 00b0 1A62     		str	r2, [r3, #32]
 766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 767:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->send_timeout = 0;
 769:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 770:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVTIMEO
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_timeout = 0;
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVTIMEO */
 773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_bufsize = RECV_BUFSIZE_DEFAULT;
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_avail   = 0;
 776:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 777:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->linger = -1;
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags = init_flags;
 1910              		.loc 1 780 15
 1911 00b2 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccRra5Gb.s 			page 49


 1912 00b4 FA7C     		ldrb	r2, [r7, #19]
 1913 00b6 1A77     		strb	r2, [r3, #28]
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 1914              		.loc 1 781 10
 1915 00b8 FB68     		ldr	r3, [r7, #12]
 1916 00ba 05E0     		b	.L117
 1917              	.L125:
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1918              		.loc 1 746 5
 1919 00bc 00BF     		nop
 1920              	.L121:
 782:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 1921              		.loc 1 783 3
 1922 00be F968     		ldr	r1, [r7, #12]
 1923 00c0 0720     		movs	r0, #7
 1924 00c2 FFF7FEFF 		bl	memp_free
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 1925              		.loc 1 784 10
 1926 00c6 0023     		movs	r3, #0
 1927              	.L117:
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1928              		.loc 1 785 1
 1929 00c8 1846     		mov	r0, r3
 1930 00ca 1837     		adds	r7, r7, #24
 1931              	.LCFI58:
 1932              		.cfi_def_cfa_offset 8
 1933 00cc BD46     		mov	sp, r7
 1934              	.LCFI59:
 1935              		.cfi_def_cfa_register 13
 1936              		@ sp needed
 1937 00ce 80BD     		pop	{r7, pc}
 1938              	.L127:
 1939              		.align	2
 1940              	.L126:
 1941 00d0 00000000 		.word	.LC0
 1942 00d4 00020000 		.word	.LC17
 1943 00d8 40000000 		.word	.LC2
 1944              		.cfi_endproc
 1945              	.LFE148:
 1947              		.section	.rodata
 1948 0226 0000     		.align	2
 1949              	.LC18:
 1950 0228 50434220 		.ascii	"PCB must be deallocated outside this function\000"
 1950      6D757374 
 1950      20626520 
 1950      6465616C 
 1950      6C6F6361 
 1951 0256 0000     		.align	2
 1952              	.LC19:
 1953 0258 72656376 		.ascii	"recvmbox must be deallocated before calling this fu"
 1953      6D626F78 
 1953      206D7573 
 1953      74206265 
 1953      20646561 
 1954 028b 6E637469 		.ascii	"nction\000"
 1954      6F6E00
ARM GAS  /tmp/ccRra5Gb.s 			page 50


 1955 0292 0000     		.align	2
 1956              	.LC20:
 1957 0294 61636365 		.ascii	"acceptmbox must be deallocated before calling this "
 1957      70746D62 
 1957      6F78206D 
 1957      75737420 
 1957      62652064 
 1958 02c7 66756E63 		.ascii	"function\000"
 1958      74696F6E 
 1958      00
 1959              		.section	.text.netconn_free,"ax",%progbits
 1960              		.align	1
 1961              		.global	netconn_free
 1962              		.syntax unified
 1963              		.thumb
 1964              		.thumb_func
 1965              		.fpu fpv4-sp-d16
 1967              	netconn_free:
 1968              	.LFB149:
 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 787:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete a netconn and all its resources.
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The pcb is NOT freed (since we might not be in the right thread context do this).
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 792:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 793:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 794:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_free(struct netconn *conn)
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1969              		.loc 1 795 1
 1970              		.cfi_startproc
 1971              		@ args = 0, pretend = 0, frame = 8
 1972              		@ frame_needed = 1, uses_anonymous_args = 0
 1973 0000 80B5     		push	{r7, lr}
 1974              	.LCFI60:
 1975              		.cfi_def_cfa_offset 8
 1976              		.cfi_offset 7, -8
 1977              		.cfi_offset 14, -4
 1978 0002 82B0     		sub	sp, sp, #8
 1979              	.LCFI61:
 1980              		.cfi_def_cfa_offset 16
 1981 0004 00AF     		add	r7, sp, #0
 1982              	.LCFI62:
 1983              		.cfi_def_cfa_register 7
 1984 0006 7860     		str	r0, [r7, #4]
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 1985              		.loc 1 796 3
 1986 0008 7B68     		ldr	r3, [r7, #4]
 1987 000a 5B68     		ldr	r3, [r3, #4]
 1988 000c 002B     		cmp	r3, #0
 1989 000e 06D0     		beq	.L129
 1990              		.loc 1 796 3 is_stmt 0 discriminator 1
 1991 0010 1B4B     		ldr	r3, .L132
 1992 0012 4FF44772 		mov	r2, #796
 1993 0016 1B49     		ldr	r1, .L132+4
 1994 0018 1B48     		ldr	r0, .L132+8
 1995 001a FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccRra5Gb.s 			page 51


 1996              	.L129:
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 798:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* in fullduplex, netconn is drained here */
 800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_drain(conn);
 801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 1997              		.loc 1 803 3 is_stmt 1
 1998 001e 7B68     		ldr	r3, [r7, #4]
 1999 0020 1033     		adds	r3, r3, #16
 2000 0022 1846     		mov	r0, r3
 2001 0024 FFF7FEFF 		bl	sys_mbox_valid
 2002 0028 0346     		mov	r3, r0
 2003 002a 002B     		cmp	r3, #0
 2004 002c 06D0     		beq	.L130
 2005              		.loc 1 803 3 is_stmt 0 discriminator 1
 2006 002e 144B     		ldr	r3, .L132
 2007 0030 4FF44972 		mov	r2, #804
 2008 0034 1549     		ldr	r1, .L132+12
 2009 0036 1448     		ldr	r0, .L132+8
 2010 0038 FFF7FEFF 		bl	printf
 2011              	.L130:
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("acceptmbox must be deallocated before calling this function",
 2012              		.loc 1 806 3 is_stmt 1
 2013 003c 7B68     		ldr	r3, [r7, #4]
 2014 003e 1433     		adds	r3, r3, #20
 2015 0040 1846     		mov	r0, r3
 2016 0042 FFF7FEFF 		bl	sys_mbox_valid
 2017 0046 0346     		mov	r3, r0
 2018 0048 002B     		cmp	r3, #0
 2019 004a 06D0     		beq	.L131
 2020              		.loc 1 806 3 is_stmt 0 discriminator 1
 2021 004c 0C4B     		ldr	r3, .L132
 2022 004e 40F22732 		movw	r2, #807
 2023 0052 0F49     		ldr	r1, .L132+16
 2024 0054 0C48     		ldr	r0, .L132+8
 2025 0056 FFF7FEFF 		bl	printf
 2026              	.L131:
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 808:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 809:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_free(&conn->op_completed);
 2027              		.loc 1 811 3 is_stmt 1
 2028 005a 7B68     		ldr	r3, [r7, #4]
 2029 005c 0C33     		adds	r3, r3, #12
 2030 005e 1846     		mov	r0, r3
 2031 0060 FFF7FEFF 		bl	sys_sem_free
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 2032              		.loc 1 812 3
 2033 0064 7B68     		ldr	r3, [r7, #4]
 2034 0066 0C33     		adds	r3, r3, #12
 2035 0068 1846     		mov	r0, r3
 2036 006a FFF7FEFF 		bl	sys_sem_set_invalid
ARM GAS  /tmp/ccRra5Gb.s 			page 52


 813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 2037              		.loc 1 815 3
 2038 006e 7968     		ldr	r1, [r7, #4]
 2039 0070 0720     		movs	r0, #7
 2040 0072 FFF7FEFF 		bl	memp_free
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2041              		.loc 1 816 1
 2042 0076 00BF     		nop
 2043 0078 0837     		adds	r7, r7, #8
 2044              	.LCFI63:
 2045              		.cfi_def_cfa_offset 8
 2046 007a BD46     		mov	sp, r7
 2047              	.LCFI64:
 2048              		.cfi_def_cfa_register 13
 2049              		@ sp needed
 2050 007c 80BD     		pop	{r7, pc}
 2051              	.L133:
 2052 007e 00BF     		.align	2
 2053              	.L132:
 2054 0080 00000000 		.word	.LC0
 2055 0084 28020000 		.word	.LC18
 2056 0088 40000000 		.word	.LC2
 2057 008c 58020000 		.word	.LC19
 2058 0090 94020000 		.word	.LC20
 2059              		.cfi_endproc
 2060              	.LFE149:
 2062              		.section	.text.netconn_drain,"ax",%progbits
 2063              		.align	1
 2064              		.syntax unified
 2065              		.thumb
 2066              		.thumb_func
 2067              		.fpu fpv4-sp-d16
 2069              	netconn_drain:
 2070              	.LFB150:
 817:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 818:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete rcvmbox and acceptmbox of a netconn and free the left-over data in
 820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * these mboxes
 821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @bytes_drained bytes drained from recvmbox
 824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @accepts_drained pending connections drained from acceptmbox
 825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 827:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_drain(struct netconn *conn)
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 2071              		.loc 1 828 1
 2072              		.cfi_startproc
 2073              		@ args = 0, pretend = 0, frame = 24
 2074              		@ frame_needed = 1, uses_anonymous_args = 0
 2075 0000 80B5     		push	{r7, lr}
 2076              	.LCFI65:
 2077              		.cfi_def_cfa_offset 8
 2078              		.cfi_offset 7, -8
 2079              		.cfi_offset 14, -4
ARM GAS  /tmp/ccRra5Gb.s 			page 53


 2080 0002 86B0     		sub	sp, sp, #24
 2081              	.LCFI66:
 2082              		.cfi_def_cfa_offset 32
 2083 0004 00AF     		add	r7, sp, #0
 2084              	.LCFI67:
 2085              		.cfi_def_cfa_register 7
 2086 0006 7860     		str	r0, [r7, #4]
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* This runs when mbox and netconn are marked as closed,
 832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so we don't need to lock against rx packets */
 833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn marked closed", conn->flags & NETCONN_FLAG_MBOXINVALID);
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the recvmbox. */
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 2087              		.loc 1 838 7
 2088 0008 7B68     		ldr	r3, [r7, #4]
 2089 000a 1033     		adds	r3, r3, #16
 2090 000c 1846     		mov	r0, r3
 2091 000e FFF7FEFF 		bl	sys_mbox_valid
 2092 0012 0346     		mov	r3, r0
 2093              		.loc 1 838 6
 2094 0014 002B     		cmp	r3, #0
 2095 0016 2FD0     		beq	.L135
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 2096              		.loc 1 839 11
 2097 0018 18E0     		b	.L136
 2098              	.L139:
 840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) {
 2099              		.loc 1 845 13
 2100 001a 7B68     		ldr	r3, [r7, #4]
 2101 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2102 001e 03F0F003 		and	r3, r3, #240
 2103              		.loc 1 845 12
 2104 0022 102B     		cmp	r3, #16
 2105 0024 0ED1     		bne	.L137
 2106              	.LBB5:
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 2107              		.loc 1 847 16
 2108 0026 3B69     		ldr	r3, [r7, #16]
 2109 0028 07F10F02 		add	r2, r7, #15
 2110 002c 1146     		mov	r1, r2
 2111 002e 1846     		mov	r0, r3
 2112 0030 FFF7FEFF 		bl	lwip_netconn_is_err_msg
 2113 0034 0346     		mov	r3, r0
 2114              		.loc 1 847 14
 2115 0036 002B     		cmp	r3, #0
 2116 0038 08D1     		bne	.L136
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
ARM GAS  /tmp/ccRra5Gb.s 			page 54


 2117              		.loc 1 848 13
 2118 003a 3B69     		ldr	r3, [r7, #16]
 2119 003c 1846     		mov	r0, r3
 2120 003e FFF7FEFF 		bl	pbuf_free
 2121              	.LBE5:
 2122 0042 03E0     		b	.L136
 2123              	.L137:
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         {
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netbuf_delete((struct netbuf *)mem);
 2124              		.loc 1 853 11
 2125 0044 3B69     		ldr	r3, [r7, #16]
 2126 0046 1846     		mov	r0, r3
 2127 0048 FFF7FEFF 		bl	netbuf_delete
 2128              	.L136:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 2129              		.loc 1 839 12
 2130 004c 7B68     		ldr	r3, [r7, #4]
 2131 004e 1033     		adds	r3, r3, #16
 2132 0050 07F11002 		add	r2, r7, #16
 2133 0054 1146     		mov	r1, r2
 2134 0056 1846     		mov	r0, r3
 2135 0058 FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 2136 005c 0346     		mov	r3, r0
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 2137              		.loc 1 839 11
 2138 005e B3F1FF3F 		cmp	r3, #-1
 2139 0062 DAD1     		bne	.L139
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2140              		.loc 1 857 5
 2141 0064 7B68     		ldr	r3, [r7, #4]
 2142 0066 1033     		adds	r3, r3, #16
 2143 0068 1846     		mov	r0, r3
 2144 006a FFF7FEFF 		bl	sys_mbox_free
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 2145              		.loc 1 858 5
 2146 006e 7B68     		ldr	r3, [r7, #4]
 2147 0070 1033     		adds	r3, r3, #16
 2148 0072 1846     		mov	r0, r3
 2149 0074 FFF7FEFF 		bl	sys_mbox_set_invalid
 2150              	.L135:
 859:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the acceptmbox. */
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 2151              		.loc 1 863 7
 2152 0078 7B68     		ldr	r3, [r7, #4]
 2153 007a 1433     		adds	r3, r3, #20
 2154 007c 1846     		mov	r0, r3
 2155 007e FFF7FEFF 		bl	sys_mbox_valid
 2156 0082 0346     		mov	r3, r0
ARM GAS  /tmp/ccRra5Gb.s 			page 55


 2157              		.loc 1 863 6
 2158 0084 002B     		cmp	r3, #0
 2159 0086 34D0     		beq	.L145
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 2160              		.loc 1 864 11
 2161 0088 1DE0     		b	.L141
 2162              	.L144:
 2163              	.LBB6:
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 866:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err_t err;
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 2164              		.loc 1 870 14
 2165 008a 3B69     		ldr	r3, [r7, #16]
 2166 008c 07F10E02 		add	r2, r7, #14
 2167 0090 1146     		mov	r1, r2
 2168 0092 1846     		mov	r0, r3
 2169 0094 FFF7FEFF 		bl	lwip_netconn_is_err_msg
 2170 0098 0346     		mov	r3, r0
 2171              		.loc 1 870 12
 2172 009a 002B     		cmp	r3, #0
 2173 009c 13D1     		bne	.L141
 2174              	.LBB7:
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 2175              		.loc 1 871 27
 2176 009e 3B69     		ldr	r3, [r7, #16]
 2177 00a0 7B61     		str	r3, [r7, #20]
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* drain recvmbox */
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_drain(newconn);
 2178              		.loc 1 875 11
 2179 00a2 7869     		ldr	r0, [r7, #20]
 2180 00a4 FFF7ACFF 		bl	netconn_drain
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 2181              		.loc 1 876 27
 2182 00a8 7B69     		ldr	r3, [r7, #20]
 2183 00aa 5B68     		ldr	r3, [r3, #4]
 2184              		.loc 1 876 14
 2185 00ac 002B     		cmp	r3, #0
 2186 00ae 07D0     		beq	.L143
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 2187              		.loc 1 877 13
 2188 00b0 7B69     		ldr	r3, [r7, #20]
 2189 00b2 5B68     		ldr	r3, [r3, #4]
 2190 00b4 1846     		mov	r0, r3
 2191 00b6 FFF7FEFF 		bl	tcp_abort
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 2192              		.loc 1 878 30
 2193 00ba 7B69     		ldr	r3, [r7, #20]
 2194 00bc 0022     		movs	r2, #0
 2195 00be 5A60     		str	r2, [r3, #4]
 2196              	.L143:
 879:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_free(newconn);
ARM GAS  /tmp/ccRra5Gb.s 			page 56


 2197              		.loc 1 880 11
 2198 00c0 7869     		ldr	r0, [r7, #20]
 2199 00c2 FFF7FEFF 		bl	netconn_free
 2200              	.L141:
 2201              	.LBE7:
 2202              	.LBE6:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 2203              		.loc 1 864 12
 2204 00c6 7B68     		ldr	r3, [r7, #4]
 2205 00c8 1433     		adds	r3, r3, #20
 2206 00ca 07F11002 		add	r2, r7, #16
 2207 00ce 1146     		mov	r1, r2
 2208 00d0 1846     		mov	r0, r3
 2209 00d2 FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 2210 00d6 0346     		mov	r3, r0
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 2211              		.loc 1 864 11
 2212 00d8 B3F1FF3F 		cmp	r3, #-1
 2213 00dc D5D1     		bne	.L144
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 882:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->acceptmbox);
 2214              		.loc 1 884 5
 2215 00de 7B68     		ldr	r3, [r7, #4]
 2216 00e0 1433     		adds	r3, r3, #20
 2217 00e2 1846     		mov	r0, r3
 2218 00e4 FFF7FEFF 		bl	sys_mbox_free
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 2219              		.loc 1 885 5
 2220 00e8 7B68     		ldr	r3, [r7, #4]
 2221 00ea 1433     		adds	r3, r3, #20
 2222 00ec 1846     		mov	r0, r3
 2223 00ee FFF7FEFF 		bl	sys_mbox_set_invalid
 2224              	.L145:
 886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 887:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2225              		.loc 1 888 1
 2226 00f2 00BF     		nop
 2227 00f4 1837     		adds	r7, r7, #24
 2228              	.LCFI68:
 2229              		.cfi_def_cfa_offset 8
 2230 00f6 BD46     		mov	sp, r7
 2231              	.LCFI69:
 2232              		.cfi_def_cfa_register 13
 2233              		@ sp needed
 2234 00f8 80BD     		pop	{r7, pc}
 2235              		.cfi_endproc
 2236              	.LFE150:
 2238              		.section	.rodata
 2239              		.align	2
 2240              	.LC21:
 2241 02d0 696E7661 		.ascii	"invalid conn\000"
 2241      6C696420 
 2241      636F6E6E 
 2241      00
ARM GAS  /tmp/ccRra5Gb.s 			page 57


 2242 02dd 000000   		.align	2
 2243              	.LC22:
 2244 02e0 74686973 		.ascii	"this is for tcp netconns only\000"
 2244      20697320 
 2244      666F7220 
 2244      74637020 
 2244      6E657463 
 2245 02fe 0000     		.align	2
 2246              	.LC23:
 2247 0300 636F6E6E 		.ascii	"conn must be in state NETCONN_CLOSE\000"
 2247      206D7573 
 2247      74206265 
 2247      20696E20 
 2247      73746174 
 2248              		.align	2
 2249              	.LC24:
 2250 0324 70636220 		.ascii	"pcb already closed\000"
 2250      616C7265 
 2250      61647920 
 2250      636C6F73 
 2250      656400
 2251 0337 00       		.align	2
 2252              	.LC25:
 2253 0338 436C6F73 		.ascii	"Closing a listen pcb may not fail!\000"
 2253      696E6720 
 2253      61206C69 
 2253      7374656E 
 2253      20706362 
 2254 035b 00       		.align	2
 2255              	.LC26:
 2256 035c 65727220 		.ascii	"err != ERR_OK\000"
 2256      213D2045 
 2256      52525F4F 
 2256      4B00
 2257              		.section	.text.lwip_netconn_do_close_internal,"ax",%progbits
 2258              		.align	1
 2259              		.syntax unified
 2260              		.thumb
 2261              		.thumb_func
 2262              		.fpu fpv4-sp-d16
 2264              	lwip_netconn_do_close_internal:
 2265              	.LFB151:
 889:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 890:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_mark_mbox_invalid(struct netconn *conn)
 893:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int i, num_waiting;
 895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg = LWIP_CONST_CAST(void *, &netconn_deleted);
 896:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Prevent new calls/threads from reading from the mbox */
 898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXINVALID;
 899:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_LOCKED(num_waiting = conn->mbox_threads_waiting);
 901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   for (i = 0; i < num_waiting; i++) {
 902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_valid_val(conn->recvmbox)) {
 903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->recvmbox, msg);
ARM GAS  /tmp/ccRra5Gb.s 			page 58


 904:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 905:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->acceptmbox, msg);
 906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 908:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 909:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 910:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 912:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Internal helper function to close a TCP netconn: since this sometimes
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * doesn't work at the first attempt, this function is called from multiple
 915:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * places.
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to close
 918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 919:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 920:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM)
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 2266              		.loc 1 921 1
 2267              		.cfi_startproc
 2268              		@ args = 0, pretend = 0, frame = 24
 2269              		@ frame_needed = 1, uses_anonymous_args = 0
 2270 0000 80B5     		push	{r7, lr}
 2271              	.LCFI70:
 2272              		.cfi_def_cfa_offset 8
 2273              		.cfi_offset 7, -8
 2274              		.cfi_offset 14, -4
 2275 0002 86B0     		sub	sp, sp, #24
 2276              	.LCFI71:
 2277              		.cfi_def_cfa_offset 32
 2278 0004 00AF     		add	r7, sp, #0
 2279              	.LCFI72:
 2280              		.cfi_def_cfa_register 7
 2281 0006 7860     		str	r0, [r7, #4]
 2282 0008 0B46     		mov	r3, r1
 2283 000a FB70     		strb	r3, [r7, #3]
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 2284              		.loc 1 924 8
 2285 000c 0023     		movs	r3, #0
 2286 000e 7B75     		strb	r3, [r7, #21]
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *tpcb;
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t linger_wait_required = 0;
 928:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 929:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("invalid conn", (conn != NULL));
 2287              		.loc 1 930 3
 2288 0010 7B68     		ldr	r3, [r7, #4]
 2289 0012 002B     		cmp	r3, #0
 2290 0014 06D1     		bne	.L147
 2291              		.loc 1 930 3 is_stmt 0 discriminator 1
 2292 0016 A14B     		ldr	r3, .L178
 2293 0018 40F2A232 		movw	r2, #930
 2294 001c A049     		ldr	r1, .L178+4
 2295 001e A148     		ldr	r0, .L178+8
ARM GAS  /tmp/ccRra5Gb.s 			page 59


 2296 0020 FFF7FEFF 		bl	printf
 2297              	.L147:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 2298              		.loc 1 931 3 is_stmt 1
 2299 0024 7B68     		ldr	r3, [r7, #4]
 2300 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2301 0028 03F0F003 		and	r3, r3, #240
 2302 002c 102B     		cmp	r3, #16
 2303 002e 06D0     		beq	.L148
 2304              		.loc 1 931 3 is_stmt 0 discriminator 1
 2305 0030 9A4B     		ldr	r3, .L178
 2306 0032 40F2A332 		movw	r2, #931
 2307 0036 9C49     		ldr	r1, .L178+12
 2308 0038 9A48     		ldr	r0, .L178+8
 2309 003a FFF7FEFF 		bl	printf
 2310              	.L148:
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2311              		.loc 1 932 3 is_stmt 1
 2312 003e 7B68     		ldr	r3, [r7, #4]
 2313 0040 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2314 0042 042B     		cmp	r3, #4
 2315 0044 06D0     		beq	.L149
 2316              		.loc 1 932 3 is_stmt 0 discriminator 1
 2317 0046 954B     		ldr	r3, .L178
 2318 0048 4FF46972 		mov	r2, #932
 2319 004c 9749     		ldr	r1, .L178+16
 2320 004e 9548     		ldr	r0, .L178+8
 2321 0050 FFF7FEFF 		bl	printf
 2322              	.L149:
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2323              		.loc 1 933 3 is_stmt 1
 2324 0054 7B68     		ldr	r3, [r7, #4]
 2325 0056 5B68     		ldr	r3, [r3, #4]
 2326 0058 002B     		cmp	r3, #0
 2327 005a 06D1     		bne	.L150
 2328              		.loc 1 933 3 is_stmt 0 discriminator 1
 2329 005c 8F4B     		ldr	r3, .L178
 2330 005e 40F2A532 		movw	r2, #933
 2331 0062 9349     		ldr	r1, .L178+20
 2332 0064 8F48     		ldr	r0, .L178+8
 2333 0066 FFF7FEFF 		bl	printf
 2334              	.L150:
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2335              		.loc 1 934 3 is_stmt 1
 2336 006a 7B68     		ldr	r3, [r7, #4]
 2337 006c 1B6A     		ldr	r3, [r3, #32]
 2338 006e 002B     		cmp	r3, #0
 2339 0070 06D1     		bne	.L151
 2340              		.loc 1 934 3 is_stmt 0 discriminator 1
 2341 0072 8A4B     		ldr	r3, .L178
 2342 0074 40F2A632 		movw	r2, #934
 2343 0078 8E49     		ldr	r1, .L178+24
 2344 007a 8A48     		ldr	r0, .L178+8
 2345 007c FFF7FEFF 		bl	printf
 2346              	.L151:
 935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tpcb = conn->pcb.tcp;
ARM GAS  /tmp/ccRra5Gb.s 			page 60


 2347              		.loc 1 936 8 is_stmt 1
 2348 0080 7B68     		ldr	r3, [r7, #4]
 2349 0082 5B68     		ldr	r3, [r3, #4]
 2350 0084 3B61     		str	r3, [r7, #16]
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 2351              		.loc 1 937 14
 2352 0086 7B68     		ldr	r3, [r7, #4]
 2353 0088 1B6A     		ldr	r3, [r3, #32]
 2354              		.loc 1 937 8
 2355 008a 1B7A     		ldrb	r3, [r3, #8]
 2356 008c FB73     		strb	r3, [r7, #15]
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 2357              		.loc 1 938 11
 2358 008e FB7B     		ldrb	r3, [r7, #15]
 2359 0090 03F00103 		and	r3, r3, #1
 2360 0094 BB73     		strb	r3, [r7, #14]
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 2361              		.loc 1 939 11
 2362 0096 FB7B     		ldrb	r3, [r7, #15]
 2363 0098 03F00203 		and	r3, r3, #2
 2364 009c 7B73     		strb	r3, [r7, #13]
 940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (also if RD or WR side was shut down before already) */
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut == NETCONN_SHUT_RDWR) {
 2365              		.loc 1 942 6
 2366 009e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2367 00a0 032B     		cmp	r3, #3
 2368 00a2 02D1     		bne	.L152
 943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 2369              		.loc 1 943 16
 2370 00a4 0123     		movs	r3, #1
 2371 00a6 BB75     		strb	r3, [r7, #22]
 2372 00a8 1FE0     		b	.L153
 2373              	.L152:
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_rx &&
 2374              		.loc 1 944 13
 2375 00aa BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2376 00ac 002B     		cmp	r3, #0
 2377 00ae 0ED0     		beq	.L154
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 2378              		.loc 1 945 20 discriminator 1
 2379 00b0 3B69     		ldr	r3, [r7, #16]
 2380 00b2 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_rx &&
 2381              		.loc 1 944 22 discriminator 1
 2382 00b4 052B     		cmp	r3, #5
 2383 00b6 07D0     		beq	.L155
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 2384              		.loc 1 946 20
 2385 00b8 3B69     		ldr	r3, [r7, #16]
 2386 00ba 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 2387              		.loc 1 945 43
 2388 00bc 062B     		cmp	r3, #6
 2389 00be 03D0     		beq	.L155
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 2390              		.loc 1 947 20
ARM GAS  /tmp/ccRra5Gb.s 			page 61


 2391 00c0 3B69     		ldr	r3, [r7, #16]
 2392 00c2 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 2393              		.loc 1 946 43
 2394 00c4 082B     		cmp	r3, #8
 2395 00c6 02D1     		bne	.L154
 2396              	.L155:
 948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 2397              		.loc 1 948 16
 2398 00c8 0123     		movs	r3, #1
 2399 00ca BB75     		strb	r3, [r7, #22]
 2400 00cc 0DE0     		b	.L153
 2401              	.L154:
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_tx && ((tpcb->flags & TF_RXCLOSED) != 0)) {
 2402              		.loc 1 949 13
 2403 00ce 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 2404 00d0 002B     		cmp	r3, #0
 2405 00d2 08D0     		beq	.L156
 2406              		.loc 1 949 31 discriminator 1
 2407 00d4 3B69     		ldr	r3, [r7, #16]
 2408 00d6 5B8B     		ldrh	r3, [r3, #26]
 2409              		.loc 1 949 39 discriminator 1
 2410 00d8 03F01003 		and	r3, r3, #16
 2411              		.loc 1 949 22 discriminator 1
 2412 00dc 002B     		cmp	r3, #0
 2413 00de 02D0     		beq	.L156
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 2414              		.loc 1 950 16
 2415 00e0 0123     		movs	r3, #1
 2416 00e2 BB75     		strb	r3, [r7, #22]
 2417 00e4 01E0     		b	.L153
 2418              	.L156:
 951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 0;
 2419              		.loc 1 952 16
 2420 00e6 0023     		movs	r3, #0
 2421 00e8 BB75     		strb	r3, [r7, #22]
 2422              	.L153:
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 954:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Set back some callback pointers */
 956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 2423              		.loc 1 956 6
 2424 00ea BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2425 00ec 002B     		cmp	r3, #0
 2426 00ee 03D0     		beq	.L157
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, NULL);
 2427              		.loc 1 957 5
 2428 00f0 0021     		movs	r1, #0
 2429 00f2 3869     		ldr	r0, [r7, #16]
 2430 00f4 FFF7FEFF 		bl	tcp_arg
 2431              	.L157:
 958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (tpcb->state == LISTEN) {
 2432              		.loc 1 959 11
 2433 00f8 3B69     		ldr	r3, [r7, #16]
 2434 00fa 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
ARM GAS  /tmp/ccRra5Gb.s 			page 62


 2435              		.loc 1 959 6
 2436 00fc 012B     		cmp	r3, #1
 2437 00fe 04D1     		bne	.L158
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 2438              		.loc 1 960 5
 2439 0100 0021     		movs	r1, #0
 2440 0102 3869     		ldr	r0, [r7, #16]
 2441 0104 FFF7FEFF 		bl	tcp_accept
 2442 0108 1DE0     		b	.L159
 2443              	.L158:
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* some callbacks have to be reset if tcp_close is not successful */
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_rx) {
 2444              		.loc 1 963 8
 2445 010a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2446 010c 002B     		cmp	r3, #0
 2447 010e 07D0     		beq	.L160
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 2448              		.loc 1 964 7
 2449 0110 0021     		movs	r1, #0
 2450 0112 3869     		ldr	r0, [r7, #16]
 2451 0114 FFF7FEFF 		bl	tcp_recv
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 2452              		.loc 1 965 7
 2453 0118 0021     		movs	r1, #0
 2454 011a 3869     		ldr	r0, [r7, #16]
 2455 011c FFF7FEFF 		bl	tcp_accept
 2456              	.L160:
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2457              		.loc 1 967 8
 2458 0120 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 2459 0122 002B     		cmp	r3, #0
 2460 0124 03D0     		beq	.L161
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 2461              		.loc 1 968 7
 2462 0126 0021     		movs	r1, #0
 2463 0128 3869     		ldr	r0, [r7, #16]
 2464 012a FFF7FEFF 		bl	tcp_sent
 2465              	.L161:
 969:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_close) {
 2466              		.loc 1 970 8
 2467 012e BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2468 0130 002B     		cmp	r3, #0
 2469 0132 08D0     		beq	.L159
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 2470              		.loc 1 971 7
 2471 0134 0022     		movs	r2, #0
 2472 0136 0021     		movs	r1, #0
 2473 0138 3869     		ldr	r0, [r7, #16]
 2474 013a FFF7FEFF 		bl	tcp_poll
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 2475              		.loc 1 972 7
 2476 013e 0021     		movs	r1, #0
 2477 0140 3869     		ldr	r0, [r7, #16]
 2478 0142 FFF7FEFF 		bl	tcp_err
ARM GAS  /tmp/ccRra5Gb.s 			page 63


 2479              	.L159:
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 974:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to close the connection */
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 2480              		.loc 1 976 6
 2481 0146 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2482 0148 002B     		cmp	r3, #0
 2483 014a 05D0     		beq	.L162
 977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* check linger possibilites before calling tcp_close */
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* linger enabled/required at all? (i.e. is there untransmitted data left?) */
 981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->linger >= 0) && (conn->pcb.tcp->unsent || conn->pcb.tcp->unacked)) {
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->linger == 0)) {
 983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left but linger prevents waiting */
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_abort(tpcb);
 985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tpcb = NULL;
 986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (conn->linger > 0) {
 987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left and linger says we should wait */
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (netconn_is_nonblocking(conn)) {
 989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left on a nonblocking netconn -> cannot linger */
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >=
 992:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    (conn->linger * 1000)) {
 993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left but linger timeout has expired (this happens on further
 994:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              calls to this function through poll_tcp */
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tpcb = NULL;
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left -> need to wait for ACK after successful close */
 999:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           linger_wait_required = 1;
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) && (tpcb != NULL))
1004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1005:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_close(tpcb);
 2484              		.loc 1 1006 13
 2485 014c 3869     		ldr	r0, [r7, #16]
 2486 014e FFF7FEFF 		bl	tcp_close
 2487 0152 0346     		mov	r3, r0
 2488 0154 FB75     		strb	r3, [r7, #23]
 2489 0156 07E0     		b	.L163
 2490              	.L162:
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_shutdown(tpcb, shut_rx, shut_tx);
 2491              		.loc 1 1009 11
 2492 0158 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2493 015a 7A7B     		ldrb	r2, [r7, #13]	@ zero_extendqisi2
 2494 015c 1946     		mov	r1, r3
 2495 015e 3869     		ldr	r0, [r7, #16]
 2496 0160 FFF7FEFF 		bl	tcp_shutdown
 2497 0164 0346     		mov	r3, r0
 2498 0166 FB75     		strb	r3, [r7, #23]
ARM GAS  /tmp/ccRra5Gb.s 			page 64


 2499              	.L163:
1010:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 2500              		.loc 1 1011 6
 2501 0168 97F91730 		ldrsb	r3, [r7, #23]
 2502 016c 002B     		cmp	r3, #0
 2503 016e 02D1     		bne	.L164
1012:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 2504              		.loc 1 1012 20
 2505 0170 0123     		movs	r3, #1
 2506 0172 7B75     		strb	r3, [r7, #21]
 2507 0174 16E0     		b	.L165
 2508              	.L164:
1013:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1014:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (linger_wait_required) {
1015:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wait for ACK of all unsent/unacked data by just getting called again */
1016:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 0;
1017:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_INPROGRESS;
1018:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1019:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_MEM) {
 2509              		.loc 1 1021 8
 2510 0176 97F91730 		ldrsb	r3, [r7, #23]
 2511 017a B3F1FF3F 		cmp	r3, #-1
 2512 017e 0FD1     		bne	.L166
1022:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          nonblocking netconns, we have to wait since no standard socket application
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          is prepared for close failing because of resource shortage.
1025:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          Check the timeout: this is kind of an lwip addition to the standard sockets:
1026:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          we wait for some time when failing to allocate a segment for the FIN */
1027:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO || LWIP_SO_LINGER
1028:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       s32_t close_timeout = LWIP_TCP_CLOSE_TIMEOUT_MS_DEFAULT;
1029:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1030:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->send_timeout > 0) {
1031:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->send_timeout;
1032:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1033:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1034:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1035:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->linger >= 0) {
1036:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* use linger timeout (seconds) */
1037:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->linger * 1000U;
1038:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1039:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1040:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >= close_timeout) {
1041:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->current_msg->msg.sd.polls_left == 0) {
 2513              		.loc 1 1042 15
 2514 0180 7B68     		ldr	r3, [r7, #4]
 2515 0182 1B6A     		ldr	r3, [r3, #32]
 2516              		.loc 1 1042 36
 2517 0184 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 2518              		.loc 1 1042 10
 2519 0186 002B     		cmp	r3, #0
 2520 0188 0CD1     		bne	.L165
1043:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_finished = 1;
ARM GAS  /tmp/ccRra5Gb.s 			page 65


 2521              		.loc 1 1044 24
 2522 018a 0123     		movs	r3, #1
 2523 018c 7B75     		strb	r3, [r7, #21]
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (shut_close) {
 2524              		.loc 1 1045 12
 2525 018e BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2526 0190 002B     		cmp	r3, #0
 2527 0192 07D0     		beq	.L165
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 2528              		.loc 1 1047 11
 2529 0194 3869     		ldr	r0, [r7, #16]
 2530 0196 FFF7FEFF 		bl	tcp_abort
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 2531              		.loc 1 1048 15
 2532 019a 0023     		movs	r3, #0
 2533 019c FB75     		strb	r3, [r7, #23]
 2534 019e 01E0     		b	.L165
 2535              	.L166:
1049:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1051:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1052:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed for a non-memory error: give up */
1053:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 1;
 2536              		.loc 1 1053 22
 2537 01a0 0123     		movs	r3, #1
 2538 01a2 7B75     		strb	r3, [r7, #21]
 2539              	.L165:
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1055:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close_finished) {
 2540              		.loc 1 1056 6
 2541 01a4 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 2542 01a6 002B     		cmp	r3, #0
 2543 01a8 44D0     		beq	.L168
 2544              	.LBB8:
1057:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 2545              		.loc 1 1058 35
 2546 01aa 7B68     		ldr	r3, [r7, #4]
 2547 01ac 1B6A     		ldr	r3, [r3, #32]
 2548 01ae 1B68     		ldr	r3, [r3]
 2549              		.loc 1 1058 16
 2550 01b0 0C33     		adds	r3, r3, #12
 2551 01b2 BB60     		str	r3, [r7, #8]
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2552              		.loc 1 1059 9
 2553 01b4 7B68     		ldr	r3, [r7, #4]
 2554 01b6 1B6A     		ldr	r3, [r3, #32]
 2555              		.loc 1 1059 28
 2556 01b8 FA7D     		ldrb	r2, [r7, #23]
 2557 01ba 1A71     		strb	r2, [r3, #4]
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 2558              		.loc 1 1060 23
 2559 01bc 7B68     		ldr	r3, [r7, #4]
 2560 01be 0022     		movs	r2, #0
 2561 01c0 1A62     		str	r2, [r3, #32]
ARM GAS  /tmp/ccRra5Gb.s 			page 66


1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2562              		.loc 1 1061 17
 2563 01c2 7B68     		ldr	r3, [r7, #4]
 2564 01c4 0022     		movs	r2, #0
 2565 01c6 5A70     		strb	r2, [r3, #1]
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 2566              		.loc 1 1062 8
 2567 01c8 97F91730 		ldrsb	r3, [r7, #23]
 2568 01cc 002B     		cmp	r3, #0
 2569 01ce 29D1     		bne	.L169
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
 2570              		.loc 1 1063 10
 2571 01d0 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 2572 01d2 002B     		cmp	r3, #0
 2573 01d4 0CD0     		beq	.L170
1064:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->pcb.tcp = NULL;
 2574              		.loc 1 1065 23
 2575 01d6 7B68     		ldr	r3, [r7, #4]
 2576 01d8 0022     		movs	r2, #0
 2577 01da 5A60     		str	r2, [r3, #4]
1066:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
1067:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          on the connection, error first! */
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 2578              		.loc 1 1068 9
 2579 01dc 7B68     		ldr	r3, [r7, #4]
 2580 01de 5B6A     		ldr	r3, [r3, #36]
 2581 01e0 002B     		cmp	r3, #0
 2582 01e2 05D0     		beq	.L170
 2583              		.loc 1 1068 9 is_stmt 0 discriminator 1
 2584 01e4 7B68     		ldr	r3, [r7, #4]
 2585 01e6 5B6A     		ldr	r3, [r3, #36]
 2586 01e8 0022     		movs	r2, #0
 2587 01ea 0421     		movs	r1, #4
 2588 01ec 7868     		ldr	r0, [r7, #4]
 2589 01ee 9847     		blx	r3
 2590              	.LVL10:
 2591              	.L170:
1069:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_rx) {
 2592              		.loc 1 1070 10 is_stmt 1
 2593 01f0 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2594 01f2 002B     		cmp	r3, #0
 2595 01f4 09D0     		beq	.L171
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2596              		.loc 1 1071 9
 2597 01f6 7B68     		ldr	r3, [r7, #4]
 2598 01f8 5B6A     		ldr	r3, [r3, #36]
 2599 01fa 002B     		cmp	r3, #0
 2600 01fc 05D0     		beq	.L171
 2601              		.loc 1 1071 9 is_stmt 0 discriminator 1
 2602 01fe 7B68     		ldr	r3, [r7, #4]
 2603 0200 5B6A     		ldr	r3, [r3, #36]
 2604 0202 0022     		movs	r2, #0
 2605 0204 0021     		movs	r1, #0
 2606 0206 7868     		ldr	r0, [r7, #4]
 2607 0208 9847     		blx	r3
ARM GAS  /tmp/ccRra5Gb.s 			page 67


 2608              	.LVL11:
 2609              	.L171:
1072:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_tx) {
 2610              		.loc 1 1073 10 is_stmt 1
 2611 020a 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 2612 020c 002B     		cmp	r3, #0
 2613 020e 09D0     		beq	.L169
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2614              		.loc 1 1074 9
 2615 0210 7B68     		ldr	r3, [r7, #4]
 2616 0212 5B6A     		ldr	r3, [r3, #36]
 2617 0214 002B     		cmp	r3, #0
 2618 0216 05D0     		beq	.L169
 2619              		.loc 1 1074 9 is_stmt 0 discriminator 1
 2620 0218 7B68     		ldr	r3, [r7, #4]
 2621 021a 5B6A     		ldr	r3, [r3, #36]
 2622 021c 0022     		movs	r2, #0
 2623 021e 0221     		movs	r1, #2
 2624 0220 7868     		ldr	r0, [r7, #4]
 2625 0222 9847     		blx	r3
 2626              	.LVL12:
 2627              	.L169:
1075:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1077:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
 2628              		.loc 1 1078 8 is_stmt 1
 2629 0224 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 2630 0226 002B     		cmp	r3, #0
 2631 0228 02D0     		beq	.L172
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1081:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the application task */
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 2632              		.loc 1 1082 7
 2633 022a B868     		ldr	r0, [r7, #8]
 2634 022c FFF7FEFF 		bl	sys_sem_signal
 2635              	.L172:
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 2636              		.loc 1 1084 12
 2637 0230 0023     		movs	r3, #0
 2638 0232 2EE0     		b	.L173
 2639              	.L168:
 2640              	.LBE8:
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!close_finished) {
 2641              		.loc 1 1086 6
 2642 0234 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 2643 0236 002B     		cmp	r3, #0
 2644 0238 1ED1     		bne	.L174
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
1088:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing of listen pcb will never fail! */
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("Closing a listen pcb may not fail!", (tpcb->state != LISTEN));
 2645              		.loc 1 1089 5
 2646 023a 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccRra5Gb.s 			page 68


 2647 023c 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2648 023e 012B     		cmp	r3, #1
 2649 0240 06D1     		bne	.L175
 2650              		.loc 1 1089 5 is_stmt 0 discriminator 1
 2651 0242 164B     		ldr	r3, .L178
 2652 0244 40F24142 		movw	r2, #1089
 2653 0248 1B49     		ldr	r1, .L178+28
 2654 024a 1648     		ldr	r0, .L178+8
 2655 024c FFF7FEFF 		bl	printf
 2656              	.L175:
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2657              		.loc 1 1090 8 is_stmt 1
 2658 0250 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 2659 0252 002B     		cmp	r3, #0
 2660 0254 03D0     		beq	.L176
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 2661              		.loc 1 1091 7
 2662 0256 1949     		ldr	r1, .L178+32
 2663 0258 3869     		ldr	r0, [r7, #16]
 2664 025a FFF7FEFF 		bl	tcp_sent
 2665              	.L176:
1092:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1093:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* when waiting for close, set up poll interval to 500ms */
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(tpcb, poll_tcp, 1);
 2666              		.loc 1 1094 5
 2667 025e 0122     		movs	r2, #1
 2668 0260 1749     		ldr	r1, .L178+36
 2669 0262 3869     		ldr	r0, [r7, #16]
 2670 0264 FFF7FEFF 		bl	tcp_poll
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
 2671              		.loc 1 1095 5
 2672 0268 1649     		ldr	r1, .L178+40
 2673 026a 3869     		ldr	r0, [r7, #16]
 2674 026c FFF7FEFF 		bl	tcp_err
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
 2675              		.loc 1 1096 5
 2676 0270 7968     		ldr	r1, [r7, #4]
 2677 0272 3869     		ldr	r0, [r7, #16]
 2678 0274 FFF7FEFF 		bl	tcp_arg
 2679              	.L174:
1097:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
1098:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If closing didn't succeed, we get called again either
1100:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      from poll_tcp or from sent_tcp */
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK", err != ERR_OK);
 2680              		.loc 1 1101 3
 2681 0278 97F91730 		ldrsb	r3, [r7, #23]
 2682 027c 002B     		cmp	r3, #0
 2683 027e 06D1     		bne	.L177
 2684              		.loc 1 1101 3 is_stmt 0 discriminator 1
 2685 0280 064B     		ldr	r3, .L178
 2686 0282 40F24D42 		movw	r2, #1101
 2687 0286 1049     		ldr	r1, .L178+44
 2688 0288 0648     		ldr	r0, .L178+8
 2689 028a FFF7FEFF 		bl	printf
 2690              	.L177:
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
ARM GAS  /tmp/ccRra5Gb.s 			page 69


 2691              		.loc 1 1102 10 is_stmt 1
 2692 028e 97F91730 		ldrsb	r3, [r7, #23]
 2693              	.L173:
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2694              		.loc 1 1103 1
 2695 0292 1846     		mov	r0, r3
 2696 0294 1837     		adds	r7, r7, #24
 2697              	.LCFI73:
 2698              		.cfi_def_cfa_offset 8
 2699 0296 BD46     		mov	sp, r7
 2700              	.LCFI74:
 2701              		.cfi_def_cfa_register 13
 2702              		@ sp needed
 2703 0298 80BD     		pop	{r7, pc}
 2704              	.L179:
 2705 029a 00BF     		.align	2
 2706              	.L178:
 2707 029c 00000000 		.word	.LC0
 2708 02a0 D0020000 		.word	.LC21
 2709 02a4 40000000 		.word	.LC2
 2710 02a8 E0020000 		.word	.LC22
 2711 02ac 00030000 		.word	.LC23
 2712 02b0 24030000 		.word	.LC24
 2713 02b4 64010000 		.word	.LC12
 2714 02b8 38030000 		.word	.LC25
 2715 02bc 00000000 		.word	sent_tcp
 2716 02c0 00000000 		.word	poll_tcp
 2717 02c4 00000000 		.word	err_tcp
 2718 02c8 5C030000 		.word	.LC26
 2719              		.cfi_endproc
 2720              	.LFE151:
 2722              		.section	.rodata
 2723 036a 0000     		.align	2
 2724              	.LC27:
 2725 036c 6E657463 		.ascii	"netconn state error\000"
 2725      6F6E6E20 
 2725      73746174 
 2725      65206572 
 2725      726F7200 
 2726              		.align	2
 2727              	.LC28:
 2728 0380 626C6F63 		.ascii	"blocking connect in progress\000"
 2728      6B696E67 
 2728      20636F6E 
 2728      6E656374 
 2728      20696E20 
 2729 039d 000000   		.align	2
 2730              	.LC29:
 2731 03a0 616C7265 		.ascii	"already writing or closing\000"
 2731      61647920 
 2731      77726974 
 2731      696E6720 
 2731      6F722063 
 2732 03bb 00       		.align	2
 2733              	.LC30:
 2734 03bc 73746174 		.ascii	"state!\000"
 2734      652100
ARM GAS  /tmp/ccRra5Gb.s 			page 70


 2735              		.section	.text.lwip_netconn_do_delconn,"ax",%progbits
 2736              		.align	1
 2737              		.global	lwip_netconn_do_delconn
 2738              		.syntax unified
 2739              		.thumb
 2740              		.thumb_func
 2741              		.fpu fpv4-sp-d16
 2743              	lwip_netconn_do_delconn:
 2744              	.LFB152:
1104:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete the pcb inside a netconn.
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_delete.
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_delconn(void *m)
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 2745              		.loc 1 1114 1
 2746              		.cfi_startproc
 2747              		@ args = 0, pretend = 0, frame = 16
 2748              		@ frame_needed = 1, uses_anonymous_args = 0
 2749 0000 80B5     		push	{r7, lr}
 2750              	.LCFI75:
 2751              		.cfi_def_cfa_offset 8
 2752              		.cfi_offset 7, -8
 2753              		.cfi_offset 14, -4
 2754 0002 84B0     		sub	sp, sp, #16
 2755              	.LCFI76:
 2756              		.cfi_def_cfa_offset 24
 2757 0004 00AF     		add	r7, sp, #0
 2758              	.LCFI77:
 2759              		.cfi_def_cfa_register 7
 2760 0006 7860     		str	r0, [r7, #4]
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2761              		.loc 1 1115 19
 2762 0008 7B68     		ldr	r3, [r7, #4]
 2763 000a FB60     		str	r3, [r7, #12]
1116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
 2764              		.loc 1 1117 33
 2765 000c FB68     		ldr	r3, [r7, #12]
 2766 000e 1B68     		ldr	r3, [r3]
 2767              		.loc 1 1117 22
 2768 0010 5B78     		ldrb	r3, [r3, #1]
 2769 0012 FB72     		strb	r3, [r7, #11]
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 2770              		.loc 1 1118 3
 2771 0014 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2772 0016 002B     		cmp	r3, #0
 2773 0018 0DD0     		beq	.L181
 2774              		.loc 1 1118 3 is_stmt 0 discriminator 1
 2775 001a FB68     		ldr	r3, [r7, #12]
 2776 001c 1B68     		ldr	r3, [r3]
 2777 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccRra5Gb.s 			page 71


 2778 0020 03F0F003 		and	r3, r3, #240
 2779 0024 102B     		cmp	r3, #16
 2780 0026 06D0     		beq	.L181
 2781              		.loc 1 1118 3 discriminator 2
 2782 0028 604B     		ldr	r3, .L198
 2783 002a 40F25F42 		movw	r2, #1119
 2784 002e 6049     		ldr	r1, .L198+4
 2785 0030 6048     		ldr	r0, .L198+8
 2786 0032 FFF7FEFF 		bl	printf
 2787              	.L181:
1119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
1120:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* In full duplex mode, blocking write/connect is aborted with ERR_CLSD */
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (state != NETCONN_NONE) {
1123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((state == NETCONN_WRITE) ||
1124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* close requested, abort running write/connect */
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
1127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg->err = ERR_CLSD;
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = NULL;
1131:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_NONE;
1132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1134:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1135:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (((state != NETCONN_NONE) &&
 2788              		.loc 1 1136 6 is_stmt 1
 2789 0036 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2790 0038 002B     		cmp	r3, #0
 2791 003a 05D0     		beq	.L182
 2792              		.loc 1 1136 32 discriminator 1
 2793 003c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2794 003e 022B     		cmp	r3, #2
 2795 0040 02D0     		beq	.L182
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 2796              		.loc 1 1137 34
 2797 0042 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2798 0044 032B     		cmp	r3, #3
 2799 0046 09D1     		bne	.L183
 2800              	.L182:
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
 2801              		.loc 1 1138 36
 2802 0048 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2803 004a 032B     		cmp	r3, #3
 2804 004c 0AD1     		bne	.L184
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
 2805              		.loc 1 1139 39
 2806 004e FB68     		ldr	r3, [r7, #12]
 2807 0050 1B68     		ldr	r3, [r3]
 2808 0052 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 2809 0054 03F00403 		and	r3, r3, #4
 2810              		.loc 1 1139 35
 2811 0058 002B     		cmp	r3, #0
 2812 005a 03D1     		bne	.L184
 2813              	.L183:
ARM GAS  /tmp/ccRra5Gb.s 			page 72


1140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
1141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (nonblocking write returns and sets state to NONE) */
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_INPROGRESS;
 2814              		.loc 1 1142 14
 2815 005c FB68     		ldr	r3, [r7, #12]
 2816 005e FB22     		movs	r2, #251
 2817 0060 1A71     		strb	r2, [r3, #4]
 2818 0062 97E0     		b	.L185
 2819              	.L184:
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("blocking connect in progress",
 2820              		.loc 1 1146 5
 2821 0064 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 2822 0066 032B     		cmp	r3, #3
 2823 0068 0DD1     		bne	.L186
 2824              		.loc 1 1146 5 is_stmt 0 discriminator 1
 2825 006a FB68     		ldr	r3, [r7, #12]
 2826 006c 1B68     		ldr	r3, [r3]
 2827 006e 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 2828 0070 03F00403 		and	r3, r3, #4
 2829 0074 002B     		cmp	r3, #0
 2830 0076 06D1     		bne	.L186
 2831              		.loc 1 1146 5 discriminator 2
 2832 0078 4C4B     		ldr	r3, .L198
 2833 007a 40F27B42 		movw	r2, #1147
 2834 007e 4E49     		ldr	r1, .L198+12
 2835 0080 4C48     		ldr	r0, .L198+8
 2836 0082 FFF7FEFF 		bl	printf
 2837              	.L186:
1147:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 2838              		.loc 1 1148 14 is_stmt 1
 2839 0086 FB68     		ldr	r3, [r7, #12]
 2840 0088 0022     		movs	r2, #0
 2841 008a 1A71     		strb	r2, [r3, #4]
1149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Mark mboxes invalid */
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_mark_mbox_invalid(msg->conn);
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_drain(msg->conn);
 2842              		.loc 1 1153 5
 2843 008c FB68     		ldr	r3, [r7, #12]
 2844 008e 1B68     		ldr	r3, [r3]
 2845 0090 1846     		mov	r0, r3
 2846 0092 FFF7FEFF 		bl	netconn_drain
1154:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 2847              		.loc 1 1156 12
 2848 0096 FB68     		ldr	r3, [r7, #12]
 2849 0098 1B68     		ldr	r3, [r3]
 2850              		.loc 1 1156 23
 2851 009a 5B68     		ldr	r3, [r3, #4]
 2852              		.loc 1 1156 8
 2853 009c 002B     		cmp	r3, #0
ARM GAS  /tmp/ccRra5Gb.s 			page 73


 2854 009e 5FD0     		beq	.L187
1157:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 2855              		.loc 1 1158 15
 2856 00a0 FB68     		ldr	r3, [r7, #12]
 2857 00a2 1B68     		ldr	r3, [r3]
 2858 00a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2859 00a6 03F0F003 		and	r3, r3, #240
 2860              		.loc 1 1158 7
 2861 00aa 102B     		cmp	r3, #16
 2862 00ac 0DD0     		beq	.L188
 2863 00ae 202B     		cmp	r3, #32
 2864 00b0 51D1     		bne	.L196
1159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
1161:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           raw_remove(msg->conn->pcb.raw);
1162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1164:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1165:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.udp->recv_arg = NULL;
 2865              		.loc 1 1166 14
 2866 00b2 FB68     		ldr	r3, [r7, #12]
 2867 00b4 1B68     		ldr	r3, [r3]
 2868              		.loc 1 1166 25
 2869 00b6 5B68     		ldr	r3, [r3, #4]
 2870              		.loc 1 1166 40
 2871 00b8 0022     		movs	r2, #0
 2872 00ba DA61     		str	r2, [r3, #28]
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 2873              		.loc 1 1167 25
 2874 00bc FB68     		ldr	r3, [r7, #12]
 2875 00be 1B68     		ldr	r3, [r3]
 2876              		.loc 1 1167 11
 2877 00c0 5B68     		ldr	r3, [r3, #4]
 2878 00c2 1846     		mov	r0, r3
 2879 00c4 FFF7FEFF 		bl	udp_remove
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 2880              		.loc 1 1168 11
 2881 00c8 46E0     		b	.L190
 2882              	.L188:
1169:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_TCP:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
 2883              		.loc 1 1172 11
 2884 00ca FB68     		ldr	r3, [r7, #12]
 2885 00cc 1B68     		ldr	r3, [r3]
 2886 00ce 1B6A     		ldr	r3, [r3, #32]
 2887 00d0 002B     		cmp	r3, #0
 2888 00d2 06D0     		beq	.L191
 2889              		.loc 1 1172 11 is_stmt 0 discriminator 1
 2890 00d4 354B     		ldr	r3, .L198
 2891 00d6 40F29442 		movw	r2, #1172
 2892 00da 3849     		ldr	r1, .L198+16
 2893 00dc 3548     		ldr	r0, .L198+8
 2894 00de FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccRra5Gb.s 			page 74


 2895              	.L191:
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 2896              		.loc 1 1173 14 is_stmt 1
 2897 00e2 FB68     		ldr	r3, [r7, #12]
 2898 00e4 1B68     		ldr	r3, [r3]
 2899              		.loc 1 1173 28
 2900 00e6 0422     		movs	r2, #4
 2901 00e8 5A70     		strb	r2, [r3, #1]
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 2902              		.loc 1 1174 28
 2903 00ea FB68     		ldr	r3, [r7, #12]
 2904 00ec 0322     		movs	r2, #3
 2905 00ee 1A72     		strb	r2, [r3, #8]
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
 2906              		.loc 1 1175 14
 2907 00f0 FB68     		ldr	r3, [r7, #12]
 2908 00f2 1B68     		ldr	r3, [r3]
 2909              		.loc 1 1175 34
 2910 00f4 FA68     		ldr	r2, [r7, #12]
 2911 00f6 1A62     		str	r2, [r3, #32]
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
 2912              		.loc 1 1177 15
 2913 00f8 FB68     		ldr	r3, [r7, #12]
 2914 00fa 1B68     		ldr	r3, [r3]
 2915 00fc 0021     		movs	r1, #0
 2916 00fe 1846     		mov	r0, r3
 2917 0100 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2918 0104 0346     		mov	r3, r0
 2919              		.loc 1 1177 14
 2920 0106 002B     		cmp	r3, #0
 2921 0108 4BD0     		beq	.L197
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 2922              		.loc 1 1178 13
 2923 010a FB68     		ldr	r3, [r7, #12]
 2924 010c 1B68     		ldr	r3, [r3]
 2925 010e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2926 0110 042B     		cmp	r3, #4
 2927 0112 06D0     		beq	.L193
 2928              		.loc 1 1178 13 is_stmt 0 discriminator 1
 2929 0114 254B     		ldr	r3, .L198
 2930 0116 40F29A42 		movw	r2, #1178
 2931 011a 2949     		ldr	r1, .L198+20
 2932 011c 2548     		ldr	r0, .L198+8
 2933 011e FFF7FEFF 		bl	printf
 2934              	.L193:
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 2935              		.loc 1 1179 13 is_stmt 1
 2936 0122 2848     		ldr	r0, .L198+24
 2937 0124 FFF7FEFF 		bl	sys_mutex_unlock
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 2938              		.loc 1 1180 31
 2939 0128 FB68     		ldr	r3, [r7, #12]
 2940 012a 1B68     		ldr	r3, [r3]
 2941              		.loc 1 1180 13
 2942 012c 0C33     		adds	r3, r3, #12
 2943 012e 0021     		movs	r1, #0
ARM GAS  /tmp/ccRra5Gb.s 			page 75


 2944 0130 1846     		mov	r0, r3
 2945 0132 FFF7FEFF 		bl	sys_arch_sem_wait
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 2946              		.loc 1 1181 13
 2947 0136 2348     		ldr	r0, .L198+24
 2948 0138 FFF7FEFF 		bl	sys_mutex_lock
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 2949              		.loc 1 1182 13
 2950 013c FB68     		ldr	r3, [r7, #12]
 2951 013e 1B68     		ldr	r3, [r3]
 2952 0140 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2953 0142 002B     		cmp	r3, #0
 2954 0144 2DD0     		beq	.L197
 2955              		.loc 1 1182 13 is_stmt 0 discriminator 1
 2956 0146 194B     		ldr	r3, .L198
 2957 0148 40F29E42 		movw	r2, #1182
 2958 014c 1C49     		ldr	r1, .L198+20
 2959 014e 1948     		ldr	r0, .L198+8
 2960 0150 FFF7FEFF 		bl	printf
1183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lwip_netconn_do_close_internal(msg->conn);
1186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* API_EVENT is called inside lwip_netconn_do_close_internal, before releasing
1188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              the application thread, so we can return at this point! */
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           return;
 2961              		.loc 1 1189 11 is_stmt 1 discriminator 1
 2962 0154 25E0     		b	.L197
 2963              	.L196:
1190:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 2964              		.loc 1 1192 11
 2965 0156 00BF     		nop
 2966              	.L190:
1193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = NULL;
 2967              		.loc 1 1194 10
 2968 0158 FB68     		ldr	r3, [r7, #12]
 2969 015a 1B68     		ldr	r3, [r3]
 2970              		.loc 1 1194 26
 2971 015c 0022     		movs	r2, #0
 2972 015e 5A60     		str	r2, [r3, #4]
 2973              	.L187:
1195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* tcp netconns don't come here! */
1197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* @todo: this lets select make the socket readable and writable,
1199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        which is wrong! errfd instead? */
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_RCVPLUS, 0);
 2974              		.loc 1 1200 5
 2975 0160 FB68     		ldr	r3, [r7, #12]
 2976 0162 1B68     		ldr	r3, [r3]
 2977 0164 5B6A     		ldr	r3, [r3, #36]
 2978 0166 002B     		cmp	r3, #0
 2979 0168 07D0     		beq	.L195
 2980              		.loc 1 1200 5 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccRra5Gb.s 			page 76


 2981 016a FB68     		ldr	r3, [r7, #12]
 2982 016c 1B68     		ldr	r3, [r3]
 2983 016e 5B6A     		ldr	r3, [r3, #36]
 2984 0170 FA68     		ldr	r2, [r7, #12]
 2985 0172 1068     		ldr	r0, [r2]
 2986 0174 0022     		movs	r2, #0
 2987 0176 0021     		movs	r1, #0
 2988 0178 9847     		blx	r3
 2989              	.LVL13:
 2990              	.L195:
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 2991              		.loc 1 1201 5 is_stmt 1
 2992 017a FB68     		ldr	r3, [r7, #12]
 2993 017c 1B68     		ldr	r3, [r3]
 2994 017e 5B6A     		ldr	r3, [r3, #36]
 2995 0180 002B     		cmp	r3, #0
 2996 0182 07D0     		beq	.L185
 2997              		.loc 1 1201 5 is_stmt 0 discriminator 1
 2998 0184 FB68     		ldr	r3, [r7, #12]
 2999 0186 1B68     		ldr	r3, [r3]
 3000 0188 5B6A     		ldr	r3, [r3, #36]
 3001 018a FA68     		ldr	r2, [r7, #12]
 3002 018c 1068     		ldr	r0, [r2]
 3003 018e 0022     		movs	r2, #0
 3004 0190 0221     		movs	r1, #2
 3005 0192 9847     		blx	r3
 3006              	.LVL14:
 3007              	.L185:
1202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_valid(LWIP_API_MSG_SEM(msg))) {
 3008              		.loc 1 1203 21 is_stmt 1
 3009 0194 FB68     		ldr	r3, [r7, #12]
 3010 0196 1B68     		ldr	r3, [r3]
 3011              		.loc 1 1203 7
 3012 0198 0C33     		adds	r3, r3, #12
 3013 019a 1846     		mov	r0, r3
 3014 019c FFF7FEFF 		bl	sys_sem_valid
 3015 01a0 00E0     		b	.L180
 3016              	.L197:
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3017              		.loc 1 1189 11
 3018 01a2 00BF     		nop
 3019              	.L180:
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
1205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3020              		.loc 1 1206 1
 3021 01a4 1037     		adds	r7, r7, #16
 3022              	.LCFI78:
 3023              		.cfi_def_cfa_offset 8
 3024 01a6 BD46     		mov	sp, r7
 3025              	.LCFI79:
 3026              		.cfi_def_cfa_register 13
 3027              		@ sp needed
 3028 01a8 80BD     		pop	{r7, pc}
 3029              	.L199:
 3030 01aa 00BF     		.align	2
ARM GAS  /tmp/ccRra5Gb.s 			page 77


 3031              	.L198:
 3032 01ac 00000000 		.word	.LC0
 3033 01b0 6C030000 		.word	.LC27
 3034 01b4 40000000 		.word	.LC2
 3035 01b8 80030000 		.word	.LC28
 3036 01bc A0030000 		.word	.LC29
 3037 01c0 BC030000 		.word	.LC30
 3038 01c4 00000000 		.word	lock_tcpip_core
 3039              		.cfi_endproc
 3040              	.LFE152:
 3042              		.section	.text.lwip_netconn_do_bind,"ax",%progbits
 3043              		.align	1
 3044              		.global	lwip_netconn_do_bind
 3045              		.syntax unified
 3046              		.thumb
 3047              		.thumb_func
 3048              		.fpu fpv4-sp-d16
 3050              	lwip_netconn_do_bind:
 3051              	.LFB153:
1207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn
1210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind.
1211:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1215:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind(void *m)
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 3052              		.loc 1 1217 1
 3053              		.cfi_startproc
 3054              		@ args = 0, pretend = 0, frame = 16
 3055              		@ frame_needed = 1, uses_anonymous_args = 0
 3056 0000 80B5     		push	{r7, lr}
 3057              	.LCFI80:
 3058              		.cfi_def_cfa_offset 8
 3059              		.cfi_offset 7, -8
 3060              		.cfi_offset 14, -4
 3061 0002 84B0     		sub	sp, sp, #16
 3062              	.LCFI81:
 3063              		.cfi_def_cfa_offset 24
 3064 0004 00AF     		add	r7, sp, #0
 3065              	.LCFI82:
 3066              		.cfi_def_cfa_register 7
 3067 0006 7860     		str	r0, [r7, #4]
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3068              		.loc 1 1218 19
 3069 0008 7B68     		ldr	r3, [r7, #4]
 3070 000a BB60     		str	r3, [r7, #8]
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 3071              		.loc 1 1221 10
 3072 000c BB68     		ldr	r3, [r7, #8]
 3073 000e 1B68     		ldr	r3, [r3]
 3074              		.loc 1 1221 21
ARM GAS  /tmp/ccRra5Gb.s 			page 78


 3075 0010 5B68     		ldr	r3, [r3, #4]
 3076              		.loc 1 1221 6
 3077 0012 002B     		cmp	r3, #0
 3078 0014 26D0     		beq	.L201
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3079              		.loc 1 1222 13
 3080 0016 BB68     		ldr	r3, [r7, #8]
 3081 0018 1B68     		ldr	r3, [r3]
 3082 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3083 001c 03F0F003 		and	r3, r3, #240
 3084              		.loc 1 1222 5
 3085 0020 102B     		cmp	r3, #16
 3086 0022 0ED0     		beq	.L202
 3087 0024 202B     		cmp	r3, #32
 3088 0026 19D1     		bne	.L203
1223:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_bind(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1226:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_bind(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
 3089              		.loc 1 1230 27
 3090 0028 BB68     		ldr	r3, [r7, #8]
 3091 002a 1B68     		ldr	r3, [r3]
 3092              		.loc 1 1230 15
 3093 002c 5868     		ldr	r0, [r3, #4]
 3094 002e BB68     		ldr	r3, [r7, #8]
 3095 0030 9968     		ldr	r1, [r3, #8]
 3096 0032 BB68     		ldr	r3, [r7, #8]
 3097 0034 9B89     		ldrh	r3, [r3, #12]
 3098 0036 1A46     		mov	r2, r3
 3099 0038 FFF7FEFF 		bl	udp_bind
 3100 003c 0346     		mov	r3, r0
 3101 003e FB73     		strb	r3, [r7, #15]
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3102              		.loc 1 1231 9
 3103 0040 12E0     		b	.L205
 3104              	.L202:
1232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1233:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = tcp_bind(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
 3105              		.loc 1 1235 27
 3106 0042 BB68     		ldr	r3, [r7, #8]
 3107 0044 1B68     		ldr	r3, [r3]
 3108              		.loc 1 1235 15
 3109 0046 5868     		ldr	r0, [r3, #4]
 3110 0048 BB68     		ldr	r3, [r7, #8]
 3111 004a 9968     		ldr	r1, [r3, #8]
 3112 004c BB68     		ldr	r3, [r7, #8]
 3113 004e 9B89     		ldrh	r3, [r3, #12]
 3114 0050 1A46     		mov	r2, r3
 3115 0052 FFF7FEFF 		bl	tcp_bind
 3116 0056 0346     		mov	r3, r0
 3117 0058 FB73     		strb	r3, [r7, #15]
ARM GAS  /tmp/ccRra5Gb.s 			page 79


1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3118              		.loc 1 1236 9
 3119 005a 05E0     		b	.L205
 3120              	.L203:
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
 3121              		.loc 1 1239 13
 3122 005c FA23     		movs	r3, #250
 3123 005e FB73     		strb	r3, [r7, #15]
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3124              		.loc 1 1240 9
 3125 0060 00BF     		nop
 3126 0062 01E0     		b	.L205
 3127              	.L201:
1241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
 3128              		.loc 1 1243 9
 3129 0064 FA23     		movs	r3, #250
 3130 0066 FB73     		strb	r3, [r7, #15]
 3131              	.L205:
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 3132              		.loc 1 1245 12
 3133 0068 BB68     		ldr	r3, [r7, #8]
 3134 006a FA7B     		ldrb	r2, [r7, #15]
 3135 006c 1A71     		strb	r2, [r3, #4]
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3136              		.loc 1 1247 1
 3137 006e 00BF     		nop
 3138 0070 1037     		adds	r7, r7, #16
 3139              	.LCFI83:
 3140              		.cfi_def_cfa_offset 8
 3141 0072 BD46     		mov	sp, r7
 3142              	.LCFI84:
 3143              		.cfi_def_cfa_register 13
 3144              		@ sp needed
 3145 0074 80BD     		pop	{r7, pc}
 3146              		.cfi_endproc
 3147              	.LFE153:
 3149              		.section	.text.lwip_netconn_do_bind_if,"ax",%progbits
 3150              		.align	1
 3151              		.global	lwip_netconn_do_bind_if
 3152              		.syntax unified
 3153              		.thumb
 3154              		.thumb_func
 3155              		.fpu fpv4-sp-d16
 3157              	lwip_netconn_do_bind_if:
 3158              	.LFB154:
1248:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn to an interface
1250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind_if.
1251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
ARM GAS  /tmp/ccRra5Gb.s 			page 80


1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind_if(void *m)
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 3159              		.loc 1 1257 1
 3160              		.cfi_startproc
 3161              		@ args = 0, pretend = 0, frame = 24
 3162              		@ frame_needed = 1, uses_anonymous_args = 0
 3163 0000 80B5     		push	{r7, lr}
 3164              	.LCFI85:
 3165              		.cfi_def_cfa_offset 8
 3166              		.cfi_offset 7, -8
 3167              		.cfi_offset 14, -4
 3168 0002 86B0     		sub	sp, sp, #24
 3169              	.LCFI86:
 3170              		.cfi_def_cfa_offset 32
 3171 0004 00AF     		add	r7, sp, #0
 3172              	.LCFI87:
 3173              		.cfi_def_cfa_register 7
 3174 0006 7860     		str	r0, [r7, #4]
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3175              		.loc 1 1259 19
 3176 0008 7B68     		ldr	r3, [r7, #4]
 3177 000a 3B61     		str	r3, [r7, #16]
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1261:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netif = netif_get_by_index(msg->msg.bc.if_idx);
 3178              		.loc 1 1262 11
 3179 000c 3B69     		ldr	r3, [r7, #16]
 3180 000e 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 3181 0010 1846     		mov	r0, r3
 3182 0012 FFF7FEFF 		bl	netif_get_by_index
 3183 0016 F860     		str	r0, [r7, #12]
1263:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((netif != NULL) && (msg->conn->pcb.tcp != NULL)) {
 3184              		.loc 1 1264 6
 3185 0018 FB68     		ldr	r3, [r7, #12]
 3186 001a 002B     		cmp	r3, #0
 3187 001c 23D0     		beq	.L207
 3188              		.loc 1 1264 30 discriminator 1
 3189 001e 3B69     		ldr	r3, [r7, #16]
 3190 0020 1B68     		ldr	r3, [r3]
 3191              		.loc 1 1264 41 discriminator 1
 3192 0022 5B68     		ldr	r3, [r3, #4]
 3193              		.loc 1 1264 23 discriminator 1
 3194 0024 002B     		cmp	r3, #0
 3195 0026 1ED0     		beq	.L207
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 3196              		.loc 1 1265 9
 3197 0028 0023     		movs	r3, #0
 3198 002a FB75     		strb	r3, [r7, #23]
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3199              		.loc 1 1266 13
 3200 002c 3B69     		ldr	r3, [r7, #16]
 3201 002e 1B68     		ldr	r3, [r3]
 3202 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccRra5Gb.s 			page 81


 3203 0032 03F0F003 		and	r3, r3, #240
 3204              		.loc 1 1266 5
 3205 0036 102B     		cmp	r3, #16
 3206 0038 09D0     		beq	.L208
 3207 003a 202B     		cmp	r3, #32
 3208 003c 0FD1     		bne	.L209
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_bind_netif(msg->conn->pcb.raw, netif);
1270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1271:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_bind_netif(msg->conn->pcb.udp, netif);
 3209              		.loc 1 1274 27
 3210 003e 3B69     		ldr	r3, [r7, #16]
 3211 0040 1B68     		ldr	r3, [r3]
 3212              		.loc 1 1274 9
 3213 0042 5B68     		ldr	r3, [r3, #4]
 3214 0044 F968     		ldr	r1, [r7, #12]
 3215 0046 1846     		mov	r0, r3
 3216 0048 FFF7FEFF 		bl	udp_bind_netif
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3217              		.loc 1 1275 9
 3218 004c 0AE0     		b	.L210
 3219              	.L208:
1276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1277:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_bind_netif(msg->conn->pcb.tcp, netif);
 3220              		.loc 1 1279 27
 3221 004e 3B69     		ldr	r3, [r7, #16]
 3222 0050 1B68     		ldr	r3, [r3]
 3223              		.loc 1 1279 9
 3224 0052 5B68     		ldr	r3, [r3, #4]
 3225 0054 F968     		ldr	r1, [r7, #12]
 3226 0056 1846     		mov	r0, r3
 3227 0058 FFF7FEFF 		bl	tcp_bind_netif
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3228              		.loc 1 1280 9
 3229 005c 02E0     		b	.L210
 3230              	.L209:
1281:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1282:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
 3231              		.loc 1 1283 13
 3232 005e FA23     		movs	r3, #250
 3233 0060 FB75     		strb	r3, [r7, #23]
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3234              		.loc 1 1284 9
 3235 0062 00BF     		nop
 3236              	.L210:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3237              		.loc 1 1266 5
 3238 0064 01E0     		b	.L211
 3239              	.L207:
1285:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
ARM GAS  /tmp/ccRra5Gb.s 			page 82


1286:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
 3240              		.loc 1 1287 9
 3241 0066 FA23     		movs	r3, #250
 3242 0068 FB75     		strb	r3, [r7, #23]
 3243              	.L211:
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 3244              		.loc 1 1289 12
 3245 006a 3B69     		ldr	r3, [r7, #16]
 3246 006c FA7D     		ldrb	r2, [r7, #23]
 3247 006e 1A71     		strb	r2, [r3, #4]
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3248              		.loc 1 1291 1
 3249 0070 00BF     		nop
 3250 0072 1837     		adds	r7, r7, #24
 3251              	.LCFI88:
 3252              		.cfi_def_cfa_offset 8
 3253 0074 BD46     		mov	sp, r7
 3254              	.LCFI89:
 3255              		.cfi_def_cfa_register 13
 3256              		@ sp needed
 3257 0076 80BD     		pop	{r7, pc}
 3258              		.cfi_endproc
 3259              	.LFE154:
 3261              		.section	.rodata
 3262 03c3 00       		.align	2
 3263              	.LC31:
 3264 03c4 636F6E6E 		.ascii	"conn->state == NETCONN_CONNECT\000"
 3264      2D3E7374 
 3264      61746520 
 3264      3D3D204E 
 3264      4554434F 
 3265 03e3 00       		.align	2
 3266              	.LC32:
 3267 03e4 28636F6E 		.ascii	"(conn->current_msg != NULL) || conn->in_non_blockin"
 3267      6E2D3E63 
 3267      75727265 
 3267      6E745F6D 
 3267      73672021 
 3268 0417 675F636F 		.ascii	"g_connect\000"
 3268      6E6E6563 
 3268      7400
 3269 0421 000000   		.align	2
 3270              	.LC33:
 3271 0424 626C6F63 		.ascii	"blocking connect state error\000"
 3271      6B696E67 
 3271      20636F6E 
 3271      6E656374 
 3271      20737461 
 3272              		.section	.text.lwip_netconn_do_connected,"ax",%progbits
 3273              		.align	1
 3274              		.syntax unified
 3275              		.thumb
 3276              		.thumb_func
 3277              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccRra5Gb.s 			page 83


 3279              	lwip_netconn_do_connected:
 3280              	.LFB155:
1292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * TCP callback function if a connection (opened by tcp_connect/lwip_netconn_do_connect) has
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * been established (or reset by the remote host).
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1298:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.connected) for parameters and return values
1299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1300:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1301:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connected(void *arg, struct tcp_pcb *pcb, err_t err)
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 3281              		.loc 1 1302 1
 3282              		.cfi_startproc
 3283              		@ args = 0, pretend = 0, frame = 32
 3284              		@ frame_needed = 1, uses_anonymous_args = 0
 3285 0000 80B5     		push	{r7, lr}
 3286              	.LCFI90:
 3287              		.cfi_def_cfa_offset 8
 3288              		.cfi_offset 7, -8
 3289              		.cfi_offset 14, -4
 3290 0002 88B0     		sub	sp, sp, #32
 3291              	.LCFI91:
 3292              		.cfi_def_cfa_offset 40
 3293 0004 00AF     		add	r7, sp, #0
 3294              	.LCFI92:
 3295              		.cfi_def_cfa_register 7
 3296 0006 F860     		str	r0, [r7, #12]
 3297 0008 B960     		str	r1, [r7, #8]
 3298 000a 1346     		mov	r3, r2
 3299 000c FB71     		strb	r3, [r7, #7]
1303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
1304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int was_blocking;
1305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_t *op_completed_sem = NULL;
 3300              		.loc 1 1305 14
 3301 000e 0023     		movs	r3, #0
 3302 0010 FB61     		str	r3, [r7, #28]
1306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 3303              		.loc 1 1309 8
 3304 0012 FB68     		ldr	r3, [r7, #12]
 3305 0014 BB61     		str	r3, [r7, #24]
1310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 3306              		.loc 1 1311 6
 3307 0016 BB69     		ldr	r3, [r7, #24]
 3308 0018 002B     		cmp	r3, #0
 3309 001a 02D1     		bne	.L213
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3310              		.loc 1 1312 12
 3311 001c 6FF00503 		mvn	r3, #5
 3312 0020 70E0     		b	.L214
 3313              	.L213:
1313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/ccRra5Gb.s 			page 84


1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_CONNECT", conn->state == NETCONN_CONNECT);
 3314              		.loc 1 1315 3
 3315 0022 BB69     		ldr	r3, [r7, #24]
 3316 0024 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3317 0026 032B     		cmp	r3, #3
 3318 0028 06D0     		beq	.L215
 3319              		.loc 1 1315 3 is_stmt 0 discriminator 1
 3320 002a 384B     		ldr	r3, .L224
 3321 002c 40F22352 		movw	r2, #1315
 3322 0030 3749     		ldr	r1, .L224+4
 3323 0032 3848     		ldr	r0, .L224+8
 3324 0034 FFF7FEFF 		bl	printf
 3325              	.L215:
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 3326              		.loc 1 1316 3 is_stmt 1
 3327 0038 BB69     		ldr	r3, [r7, #24]
 3328 003a 1B6A     		ldr	r3, [r3, #32]
 3329 003c 002B     		cmp	r3, #0
 3330 003e 0CD1     		bne	.L216
 3331              		.loc 1 1316 3 is_stmt 0 discriminator 1
 3332 0040 BB69     		ldr	r3, [r7, #24]
 3333 0042 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3334 0044 03F00403 		and	r3, r3, #4
 3335 0048 002B     		cmp	r3, #0
 3336 004a 06D1     		bne	.L216
 3337              		.loc 1 1316 3 discriminator 2
 3338 004c 2F4B     		ldr	r3, .L224
 3339 004e 40F22552 		movw	r2, #1317
 3340 0052 3149     		ldr	r1, .L224+12
 3341 0054 2F48     		ldr	r0, .L224+8
 3342 0056 FFF7FEFF 		bl	printf
 3343              	.L216:
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
1318:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->current_msg != NULL) {
 3344              		.loc 1 1319 11 is_stmt 1
 3345 005a BB69     		ldr	r3, [r7, #24]
 3346 005c 1B6A     		ldr	r3, [r3, #32]
 3347              		.loc 1 1319 6
 3348 005e 002B     		cmp	r3, #0
 3349 0060 08D0     		beq	.L217
1320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 3350              		.loc 1 1320 9
 3351 0062 BB69     		ldr	r3, [r7, #24]
 3352 0064 1B6A     		ldr	r3, [r3, #32]
 3353              		.loc 1 1320 28
 3354 0066 FA79     		ldrb	r2, [r7, #7]
 3355 0068 1A71     		strb	r2, [r3, #4]
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 3356              		.loc 1 1321 24
 3357 006a BB69     		ldr	r3, [r7, #24]
 3358 006c 1B6A     		ldr	r3, [r3, #32]
 3359 006e 1B68     		ldr	r3, [r3]
 3360              		.loc 1 1321 22
 3361 0070 0C33     		adds	r3, r3, #12
 3362 0072 FB61     		str	r3, [r7, #28]
ARM GAS  /tmp/ccRra5Gb.s 			page 85


 3363              	.L217:
1322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) && (err == ERR_OK)) {
 3364              		.loc 1 1323 8
 3365 0074 BB69     		ldr	r3, [r7, #24]
 3366 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3367 0078 03F0F003 		and	r3, r3, #240
 3368              		.loc 1 1323 6
 3369 007c 102B     		cmp	r3, #16
 3370 007e 06D1     		bne	.L218
 3371              		.loc 1 1323 54 discriminator 1
 3372 0080 97F90730 		ldrsb	r3, [r7, #7]
 3373 0084 002B     		cmp	r3, #0
 3374 0086 02D1     		bne	.L218
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
 3375              		.loc 1 1324 5
 3376 0088 B869     		ldr	r0, [r7, #24]
 3377 008a FFF7FEFF 		bl	setup_tcp
 3378              	.L218:
1325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   was_blocking = !IN_NONBLOCKING_CONNECT(conn);
 3379              		.loc 1 1326 19
 3380 008e BB69     		ldr	r3, [r7, #24]
 3381 0090 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3382 0092 03F00403 		and	r3, r3, #4
 3383              		.loc 1 1326 18
 3384 0096 002B     		cmp	r3, #0
 3385 0098 0CBF     		ite	eq
 3386 009a 0123     		moveq	r3, #1
 3387 009c 0023     		movne	r3, #0
 3388 009e DBB2     		uxtb	r3, r3
 3389              		.loc 1 1326 16
 3390 00a0 7B61     		str	r3, [r7, #20]
1327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SET_NONBLOCKING_CONNECT(conn, 0);
 3391              		.loc 1 1327 3
 3392 00a2 BB69     		ldr	r3, [r7, #24]
 3393 00a4 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3394 00a6 23F00403 		bic	r3, r3, #4
 3395 00aa DAB2     		uxtb	r2, r3
 3396 00ac BB69     		ldr	r3, [r7, #24]
 3397 00ae 1A77     		strb	r2, [r3, #28]
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("blocking connect state error",
 3398              		.loc 1 1328 3
 3399 00b0 7B69     		ldr	r3, [r7, #20]
 3400 00b2 002B     		cmp	r3, #0
 3401 00b4 02D0     		beq	.L219
 3402              		.loc 1 1328 3 is_stmt 0 discriminator 2
 3403 00b6 FB69     		ldr	r3, [r7, #28]
 3404 00b8 002B     		cmp	r3, #0
 3405 00ba 0CD1     		bne	.L220
 3406              	.L219:
 3407              		.loc 1 1328 3 discriminator 3
 3408 00bc 7B69     		ldr	r3, [r7, #20]
 3409 00be 002B     		cmp	r3, #0
 3410 00c0 02D1     		bne	.L221
 3411              		.loc 1 1328 3 discriminator 5
 3412 00c2 FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/ccRra5Gb.s 			page 86


 3413 00c4 002B     		cmp	r3, #0
 3414 00c6 06D0     		beq	.L220
 3415              	.L221:
 3416              		.loc 1 1328 3 discriminator 6
 3417 00c8 104B     		ldr	r3, .L224
 3418 00ca 40F23252 		movw	r2, #1330
 3419 00ce 1349     		ldr	r1, .L224+16
 3420 00d0 1048     		ldr	r0, .L224+8
 3421 00d2 FFF7FEFF 		bl	printf
 3422              	.L220:
1329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
1330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (!was_blocking && op_completed_sem == NULL));
1331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg = NULL;
 3423              		.loc 1 1331 21 is_stmt 1
 3424 00d6 BB69     		ldr	r3, [r7, #24]
 3425 00d8 0022     		movs	r2, #0
 3426 00da 1A62     		str	r2, [r3, #32]
1332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 3427              		.loc 1 1332 15
 3428 00dc BB69     		ldr	r3, [r7, #24]
 3429 00de 0022     		movs	r2, #0
 3430 00e0 5A70     		strb	r2, [r3, #1]
1333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 3431              		.loc 1 1333 3
 3432 00e2 BB69     		ldr	r3, [r7, #24]
 3433 00e4 5B6A     		ldr	r3, [r3, #36]
 3434 00e6 002B     		cmp	r3, #0
 3435 00e8 05D0     		beq	.L222
 3436              		.loc 1 1333 3 is_stmt 0 discriminator 1
 3437 00ea BB69     		ldr	r3, [r7, #24]
 3438 00ec 5B6A     		ldr	r3, [r3, #36]
 3439 00ee 0022     		movs	r2, #0
 3440 00f0 0221     		movs	r1, #2
 3441 00f2 B869     		ldr	r0, [r7, #24]
 3442 00f4 9847     		blx	r3
 3443              	.LVL15:
 3444              	.L222:
1334:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (was_blocking) {
 3445              		.loc 1 1335 6 is_stmt 1
 3446 00f6 7B69     		ldr	r3, [r7, #20]
 3447 00f8 002B     		cmp	r3, #0
 3448 00fa 02D0     		beq	.L223
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(op_completed_sem);
 3449              		.loc 1 1336 5
 3450 00fc F869     		ldr	r0, [r7, #28]
 3451 00fe FFF7FEFF 		bl	sys_sem_signal
 3452              	.L223:
1337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 3453              		.loc 1 1338 10
 3454 0102 0023     		movs	r3, #0
 3455              	.L214:
1339:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3456              		.loc 1 1339 1
 3457 0104 1846     		mov	r0, r3
 3458 0106 2037     		adds	r7, r7, #32
ARM GAS  /tmp/ccRra5Gb.s 			page 87


 3459              	.LCFI93:
 3460              		.cfi_def_cfa_offset 8
 3461 0108 BD46     		mov	sp, r7
 3462              	.LCFI94:
 3463              		.cfi_def_cfa_register 13
 3464              		@ sp needed
 3465 010a 80BD     		pop	{r7, pc}
 3466              	.L225:
 3467              		.align	2
 3468              	.L224:
 3469 010c 00000000 		.word	.LC0
 3470 0110 C4030000 		.word	.LC31
 3471 0114 40000000 		.word	.LC2
 3472 0118 E4030000 		.word	.LC32
 3473 011c 24040000 		.word	.LC33
 3474              		.cfi_endproc
 3475              	.LFE155:
 3477              		.section	.rodata
 3478 0441 000000   		.align	2
 3479              	.LC34:
 3480 0444 496E7661 		.ascii	"Invalid netconn type\000"
 3480      6C696420 
 3480      6E657463 
 3480      6F6E6E20 
 3480      74797065 
 3481              		.section	.text.lwip_netconn_do_connect,"ax",%progbits
 3482              		.align	1
 3483              		.global	lwip_netconn_do_connect
 3484              		.syntax unified
 3485              		.thumb
 3486              		.thumb_func
 3487              		.fpu fpv4-sp-d16
 3489              	lwip_netconn_do_connect:
 3490              	.LFB156:
1340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1343:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Connect a pcb contained inside a netconn
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_connect.
1345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to connect to
1348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1350:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connect(void *m)
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 3491              		.loc 1 1351 1
 3492              		.cfi_startproc
 3493              		@ args = 0, pretend = 0, frame = 24
 3494              		@ frame_needed = 1, uses_anonymous_args = 0
 3495 0000 80B5     		push	{r7, lr}
 3496              	.LCFI95:
 3497              		.cfi_def_cfa_offset 8
 3498              		.cfi_offset 7, -8
 3499              		.cfi_offset 14, -4
 3500 0002 86B0     		sub	sp, sp, #24
 3501              	.LCFI96:
ARM GAS  /tmp/ccRra5Gb.s 			page 88


 3502              		.cfi_def_cfa_offset 32
 3503 0004 00AF     		add	r7, sp, #0
 3504              	.LCFI97:
 3505              		.cfi_def_cfa_register 7
 3506 0006 7860     		str	r0, [r7, #4]
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3507              		.loc 1 1352 19
 3508 0008 7B68     		ldr	r3, [r7, #4]
 3509 000a 3B61     		str	r3, [r7, #16]
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 3510              		.loc 1 1355 10
 3511 000c 3B69     		ldr	r3, [r7, #16]
 3512 000e 1B68     		ldr	r3, [r3]
 3513              		.loc 1 1355 21
 3514 0010 5B68     		ldr	r3, [r3, #4]
 3515              		.loc 1 1355 6
 3516 0012 002B     		cmp	r3, #0
 3517 0014 02D1     		bne	.L227
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CLSD;
 3518              		.loc 1 1357 9
 3519 0016 F123     		movs	r3, #241
 3520 0018 FB75     		strb	r3, [r7, #23]
 3521 001a 9BE0     		b	.L228
 3522              	.L227:
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3523              		.loc 1 1359 13
 3524 001c 3B69     		ldr	r3, [r7, #16]
 3525 001e 1B68     		ldr	r3, [r3]
 3526 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3527 0022 03F0F003 		and	r3, r3, #240
 3528              		.loc 1 1359 5
 3529 0026 102B     		cmp	r3, #16
 3530 0028 0FD0     		beq	.L229
 3531 002a 202B     		cmp	r3, #32
 3532 002c 40F08780 		bne	.L240
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_connect(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1364:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_connect(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
 3533              		.loc 1 1367 30
 3534 0030 3B69     		ldr	r3, [r7, #16]
 3535 0032 1B68     		ldr	r3, [r3]
 3536              		.loc 1 1367 15
 3537 0034 5868     		ldr	r0, [r3, #4]
 3538 0036 3B69     		ldr	r3, [r7, #16]
 3539 0038 9968     		ldr	r1, [r3, #8]
 3540 003a 3B69     		ldr	r3, [r7, #16]
 3541 003c 9B89     		ldrh	r3, [r3, #12]
 3542 003e 1A46     		mov	r2, r3
ARM GAS  /tmp/ccRra5Gb.s 			page 89


 3543 0040 FFF7FEFF 		bl	udp_connect
 3544 0044 0346     		mov	r3, r0
 3545 0046 FB75     		strb	r3, [r7, #23]
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3546              		.loc 1 1368 9
 3547 0048 84E0     		b	.L228
 3548              	.L229:
1369:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Prevent connect while doing any other action. */
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_CONNECT) {
 3549              		.loc 1 1373 16
 3550 004a 3B69     		ldr	r3, [r7, #16]
 3551 004c 1B68     		ldr	r3, [r3]
 3552              		.loc 1 1373 22
 3553 004e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3554              		.loc 1 1373 12
 3555 0050 032B     		cmp	r3, #3
 3556 0052 02D1     		bne	.L231
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 3557              		.loc 1 1374 15
 3558 0054 F723     		movs	r3, #247
 3559 0056 FB75     		strb	r3, [r7, #23]
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
1377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           setup_tcp(msg->conn);
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (err == ERR_OK) {
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
1387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->current_msg = msg;
1389:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
1390:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  when the connection is established! */
1391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state == NETCONN_CONNECT);
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
1397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               return;
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1401:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3560              		.loc 1 1402 9
 3561 0058 7BE0     		b	.L241
 3562              	.L231:
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
 3563              		.loc 1 1375 23
ARM GAS  /tmp/ccRra5Gb.s 			page 90


 3564 005a 3B69     		ldr	r3, [r7, #16]
 3565 005c 1B68     		ldr	r3, [r3]
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
 3566              		.loc 1 1375 29
 3567 005e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
 3568              		.loc 1 1375 19
 3569 0060 002B     		cmp	r3, #0
 3570 0062 02D0     		beq	.L233
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 3571              		.loc 1 1376 15
 3572 0064 F623     		movs	r3, #246
 3573 0066 FB75     		strb	r3, [r7, #23]
 3574              		.loc 1 1402 9
 3575 0068 73E0     		b	.L241
 3576              	.L233:
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
 3577              		.loc 1 1378 11
 3578 006a 3B69     		ldr	r3, [r7, #16]
 3579 006c 1B68     		ldr	r3, [r3]
 3580 006e 1846     		mov	r0, r3
 3581 0070 FFF7FEFF 		bl	setup_tcp
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 3582              		.loc 1 1379 32
 3583 0074 3B69     		ldr	r3, [r7, #16]
 3584 0076 1B68     		ldr	r3, [r3]
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 3585              		.loc 1 1379 17
 3586 0078 5868     		ldr	r0, [r3, #4]
 3587 007a 3B69     		ldr	r3, [r7, #16]
 3588 007c 9968     		ldr	r1, [r3, #8]
 3589 007e 3B69     		ldr	r3, [r7, #16]
 3590 0080 9A89     		ldrh	r2, [r3, #12]
 3591 0082 384B     		ldr	r3, .L243
 3592 0084 FFF7FEFF 		bl	tcp_connect
 3593 0088 0346     		mov	r3, r0
 3594 008a FB75     		strb	r3, [r7, #23]
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 3595              		.loc 1 1381 14
 3596 008c 97F91730 		ldrsb	r3, [r7, #23]
 3597 0090 002B     		cmp	r3, #0
 3598 0092 5ED1     		bne	.L241
 3599              	.LBB9:
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 3600              		.loc 1 1382 33
 3601 0094 3B69     		ldr	r3, [r7, #16]
 3602 0096 1B68     		ldr	r3, [r3]
 3603 0098 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3604 009a 03F00203 		and	r3, r3, #2
 3605 009e 002B     		cmp	r3, #0
 3606 00a0 14BF     		ite	ne
 3607 00a2 0123     		movne	r3, #1
 3608 00a4 0023     		moveq	r3, #0
 3609 00a6 DBB2     		uxtb	r3, r3
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 3610              		.loc 1 1382 18
 3611 00a8 FB73     		strb	r3, [r7, #15]
ARM GAS  /tmp/ccRra5Gb.s 			page 91


1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 3612              		.loc 1 1383 16
 3613 00aa 3B69     		ldr	r3, [r7, #16]
 3614 00ac 1B68     		ldr	r3, [r3]
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 3615              		.loc 1 1383 30
 3616 00ae 0322     		movs	r2, #3
 3617 00b0 5A70     		strb	r2, [r3, #1]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 3618              		.loc 1 1384 13
 3619 00b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3620 00b4 002B     		cmp	r3, #0
 3621 00b6 09D0     		beq	.L234
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 3622              		.loc 1 1384 13 is_stmt 0 discriminator 1
 3623 00b8 3B69     		ldr	r3, [r7, #16]
 3624 00ba 1B68     		ldr	r3, [r3]
 3625 00bc 1A7F     		ldrb	r2, [r3, #28]	@ zero_extendqisi2
 3626 00be 3B69     		ldr	r3, [r7, #16]
 3627 00c0 1B68     		ldr	r3, [r3]
 3628 00c2 42F00402 		orr	r2, r2, #4
 3629 00c6 D2B2     		uxtb	r2, r2
 3630 00c8 1A77     		strb	r2, [r3, #28]
 3631 00ca 08E0     		b	.L235
 3632              	.L234:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 3633              		.loc 1 1384 13 discriminator 2
 3634 00cc 3B69     		ldr	r3, [r7, #16]
 3635 00ce 1B68     		ldr	r3, [r3]
 3636 00d0 1A7F     		ldrb	r2, [r3, #28]	@ zero_extendqisi2
 3637 00d2 3B69     		ldr	r3, [r7, #16]
 3638 00d4 1B68     		ldr	r3, [r3]
 3639 00d6 22F00402 		bic	r2, r2, #4
 3640 00da D2B2     		uxtb	r2, r2
 3641 00dc 1A77     		strb	r2, [r3, #28]
 3642              	.L235:
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
 3643              		.loc 1 1385 16 is_stmt 1
 3644 00de FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3645 00e0 002B     		cmp	r3, #0
 3646 00e2 02D0     		beq	.L236
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 3647              		.loc 1 1386 19
 3648 00e4 FB23     		movs	r3, #251
 3649 00e6 FB75     		strb	r3, [r7, #23]
 3650              	.LBE9:
 3651              		.loc 1 1402 9
 3652 00e8 33E0     		b	.L241
 3653              	.L236:
 3654              	.LBB10:
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 3655              		.loc 1 1388 18
 3656 00ea 3B69     		ldr	r3, [r7, #16]
 3657 00ec 1B68     		ldr	r3, [r3]
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 3658              		.loc 1 1388 38
 3659 00ee 3A69     		ldr	r2, [r7, #16]
ARM GAS  /tmp/ccRra5Gb.s 			page 92


 3660 00f0 1A62     		str	r2, [r3, #32]
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 3661              		.loc 1 1392 15
 3662 00f2 3B69     		ldr	r3, [r7, #16]
 3663 00f4 1B68     		ldr	r3, [r3]
 3664 00f6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3665 00f8 032B     		cmp	r3, #3
 3666 00fa 06D0     		beq	.L237
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 3667              		.loc 1 1392 15 is_stmt 0 discriminator 1
 3668 00fc 1A4B     		ldr	r3, .L243+4
 3669 00fe 4FF4AE62 		mov	r2, #1392
 3670 0102 1A49     		ldr	r1, .L243+8
 3671 0104 1A48     		ldr	r0, .L243+12
 3672 0106 FFF7FEFF 		bl	printf
 3673              	.L237:
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3674              		.loc 1 1393 15 is_stmt 1
 3675 010a 1A48     		ldr	r0, .L243+16
 3676 010c FFF7FEFF 		bl	sys_mutex_unlock
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 3677              		.loc 1 1394 33
 3678 0110 3B69     		ldr	r3, [r7, #16]
 3679 0112 1B68     		ldr	r3, [r3]
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 3680              		.loc 1 1394 15
 3681 0114 0C33     		adds	r3, r3, #12
 3682 0116 0021     		movs	r1, #0
 3683 0118 1846     		mov	r0, r3
 3684 011a FFF7FEFF 		bl	sys_arch_sem_wait
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
 3685              		.loc 1 1395 15
 3686 011e 1548     		ldr	r0, .L243+16
 3687 0120 FFF7FEFF 		bl	sys_mutex_lock
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 3688              		.loc 1 1396 15
 3689 0124 3B69     		ldr	r3, [r7, #16]
 3690 0126 1B68     		ldr	r3, [r3]
 3691 0128 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3692 012a 032B     		cmp	r3, #3
 3693 012c 16D1     		bne	.L242
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 3694              		.loc 1 1396 15 is_stmt 0 discriminator 1
 3695 012e 0E4B     		ldr	r3, .L243+4
 3696 0130 40F27452 		movw	r2, #1396
 3697 0134 0D49     		ldr	r1, .L243+8
 3698 0136 0E48     		ldr	r0, .L243+12
 3699 0138 FFF7FEFF 		bl	printf
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 3700              		.loc 1 1398 15 is_stmt 1 discriminator 1
 3701 013c 0EE0     		b	.L242
 3702              	.L240:
 3703              	.LBE10:
1403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1404:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ERROR("Invalid netconn type", 0, do {
 3704              		.loc 1 1405 9 discriminator 1
ARM GAS  /tmp/ccRra5Gb.s 			page 93


 3705 013e 0A4B     		ldr	r3, .L243+4
 3706 0140 40F27F52 		movw	r2, #1407
 3707 0144 0C49     		ldr	r1, .L243+20
 3708 0146 0A48     		ldr	r0, .L243+12
 3709 0148 FFF7FEFF 		bl	printf
 3710 014c FA23     		movs	r3, #250
 3711 014e FB75     		strb	r3, [r7, #23]
1406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
1407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } while (0));
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3712              		.loc 1 1408 9 discriminator 1
 3713 0150 00E0     		b	.L228
 3714              	.L241:
1402:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3715              		.loc 1 1402 9
 3716 0152 00BF     		nop
 3717              	.L228:
1409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 3718              		.loc 1 1411 12
 3719 0154 3B69     		ldr	r3, [r7, #16]
 3720 0156 FA7D     		ldrb	r2, [r7, #23]
 3721 0158 1A71     		strb	r2, [r3, #4]
 3722 015a 00E0     		b	.L226
 3723              	.L242:
 3724              	.LBB11:
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 3725              		.loc 1 1398 15
 3726 015c 00BF     		nop
 3727              	.L226:
 3728              	.LBE11:
1412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
1413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so use TCPIP_APIMSG_ACK() here. */
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3729              		.loc 1 1415 1
 3730 015e 1837     		adds	r7, r7, #24
 3731              	.LCFI98:
 3732              		.cfi_def_cfa_offset 8
 3733 0160 BD46     		mov	sp, r7
 3734              	.LCFI99:
 3735              		.cfi_def_cfa_register 13
 3736              		@ sp needed
 3737 0162 80BD     		pop	{r7, pc}
 3738              	.L244:
 3739              		.align	2
 3740              	.L243:
 3741 0164 00000000 		.word	lwip_netconn_do_connected
 3742 0168 00000000 		.word	.LC0
 3743 016c BC030000 		.word	.LC30
 3744 0170 40000000 		.word	.LC2
 3745 0174 00000000 		.word	lock_tcpip_core
 3746 0178 44040000 		.word	.LC34
 3747              		.cfi_endproc
 3748              	.LFE156:
 3750              		.section	.text.lwip_netconn_do_disconnect,"ax",%progbits
ARM GAS  /tmp/ccRra5Gb.s 			page 94


 3751              		.align	1
 3752              		.global	lwip_netconn_do_disconnect
 3753              		.syntax unified
 3754              		.thumb
 3755              		.thumb_func
 3756              		.fpu fpv4-sp-d16
 3758              	lwip_netconn_do_disconnect:
 3759              	.LFB157:
1416:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1417:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Disconnect a pcb contained inside a netconn
1419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Only used for UDP netconns.
1420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_disconnect.
1421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection to disconnect
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_disconnect(void *m)
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 3760              		.loc 1 1426 1
 3761              		.cfi_startproc
 3762              		@ args = 0, pretend = 0, frame = 16
 3763              		@ frame_needed = 1, uses_anonymous_args = 0
 3764 0000 80B5     		push	{r7, lr}
 3765              	.LCFI100:
 3766              		.cfi_def_cfa_offset 8
 3767              		.cfi_offset 7, -8
 3768              		.cfi_offset 14, -4
 3769 0002 84B0     		sub	sp, sp, #16
 3770              	.LCFI101:
 3771              		.cfi_def_cfa_offset 24
 3772 0004 00AF     		add	r7, sp, #0
 3773              	.LCFI102:
 3774              		.cfi_def_cfa_register 7
 3775 0006 7860     		str	r0, [r7, #4]
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3776              		.loc 1 1427 19
 3777 0008 7B68     		ldr	r3, [r7, #4]
 3778 000a FB60     		str	r3, [r7, #12]
1428:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1429:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
 3779              		.loc 1 1430 7
 3780 000c FB68     		ldr	r3, [r7, #12]
 3781 000e 1B68     		ldr	r3, [r3]
 3782 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3783 0012 03F0F003 		and	r3, r3, #240
 3784              		.loc 1 1430 6
 3785 0016 202B     		cmp	r3, #32
 3786 0018 09D1     		bne	.L246
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 3787              		.loc 1 1431 23
 3788 001a FB68     		ldr	r3, [r7, #12]
 3789 001c 1B68     		ldr	r3, [r3]
 3790              		.loc 1 1431 5
 3791 001e 5B68     		ldr	r3, [r3, #4]
 3792 0020 1846     		mov	r0, r3
ARM GAS  /tmp/ccRra5Gb.s 			page 95


 3793 0022 FFF7FEFF 		bl	udp_disconnect
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 3794              		.loc 1 1432 14
 3795 0026 FB68     		ldr	r3, [r7, #12]
 3796 0028 0022     		movs	r2, #0
 3797 002a 1A71     		strb	r2, [r3, #4]
1433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1434:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3798              		.loc 1 1439 1
 3799 002c 02E0     		b	.L248
 3800              	.L246:
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3801              		.loc 1 1436 14
 3802 002e FB68     		ldr	r3, [r7, #12]
 3803 0030 FA22     		movs	r2, #250
 3804 0032 1A71     		strb	r2, [r3, #4]
 3805              	.L248:
 3806              		.loc 1 1439 1
 3807 0034 00BF     		nop
 3808 0036 1037     		adds	r7, r7, #16
 3809              	.LCFI103:
 3810              		.cfi_def_cfa_offset 8
 3811 0038 BD46     		mov	sp, r7
 3812              	.LCFI104:
 3813              		.cfi_def_cfa_register 13
 3814              		@ sp needed
 3815 003a 80BD     		pop	{r7, pc}
 3816              		.cfi_endproc
 3817              	.LFE157:
 3819              		.section	.text.lwip_netconn_do_listen,"ax",%progbits
 3820              		.align	1
 3821              		.global	lwip_netconn_do_listen
 3822              		.syntax unified
 3823              		.thumb
 3824              		.thumb_func
 3825              		.fpu fpv4-sp-d16
 3827              	lwip_netconn_do_listen:
 3828              	.LFB158:
1440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1442:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Set a TCP pcb contained in a netconn into listen mode
1444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_listen.
1445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1448:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_listen(void *m)
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 3829              		.loc 1 1450 1
 3830              		.cfi_startproc
 3831              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /tmp/ccRra5Gb.s 			page 96


 3832              		@ frame_needed = 1, uses_anonymous_args = 0
 3833 0000 80B5     		push	{r7, lr}
 3834              	.LCFI105:
 3835              		.cfi_def_cfa_offset 8
 3836              		.cfi_offset 7, -8
 3837              		.cfi_offset 14, -4
 3838 0002 86B0     		sub	sp, sp, #24
 3839              	.LCFI106:
 3840              		.cfi_def_cfa_offset 32
 3841 0004 00AF     		add	r7, sp, #0
 3842              	.LCFI107:
 3843              		.cfi_def_cfa_register 7
 3844 0006 7860     		str	r0, [r7, #4]
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3845              		.loc 1 1451 19
 3846 0008 7B68     		ldr	r3, [r7, #4]
 3847 000a 7B61     		str	r3, [r7, #20]
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 3848              		.loc 1 1454 10
 3849 000c 7B69     		ldr	r3, [r7, #20]
 3850 000e 1B68     		ldr	r3, [r3]
 3851              		.loc 1 1454 21
 3852 0010 5B68     		ldr	r3, [r3, #4]
 3853              		.loc 1 1454 6
 3854 0012 002B     		cmp	r3, #0
 3855 0014 7FD0     		beq	.L250
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 3856              		.loc 1 1455 9
 3857 0016 7B69     		ldr	r3, [r7, #20]
 3858 0018 1B68     		ldr	r3, [r3]
 3859 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3860 001c 03F0F003 		and	r3, r3, #240
 3861              		.loc 1 1455 8
 3862 0020 102B     		cmp	r3, #16
 3863 0022 75D1     		bne	.L251
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 3864              		.loc 1 1456 14
 3865 0024 7B69     		ldr	r3, [r7, #20]
 3866 0026 1B68     		ldr	r3, [r3]
 3867              		.loc 1 1456 20
 3868 0028 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3869              		.loc 1 1456 10
 3870 002a 002B     		cmp	r3, #0
 3871 002c 65D1     		bne	.L252
 3872              	.LBB12:
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
 3873              		.loc 1 1458 16
 3874 002e 7B69     		ldr	r3, [r7, #20]
 3875 0030 1B68     		ldr	r3, [r3]
 3876              		.loc 1 1458 27
 3877 0032 5B68     		ldr	r3, [r3, #4]
 3878              		.loc 1 1458 31
 3879 0034 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3880              		.loc 1 1458 12
ARM GAS  /tmp/ccRra5Gb.s 			page 97


 3881 0036 002B     		cmp	r3, #0
 3882 0038 02D0     		beq	.L253
1459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 3883              		.loc 1 1460 15
 3884 003a FA23     		movs	r3, #250
 3885 003c FB72     		strb	r3, [r7, #11]
 3886 003e 6CE0     		b	.L261
 3887              	.L253:
 3888              	.LBB13:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t backlog;
1463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = msg->msg.lb.backlog;
1465:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* TCP_LISTEN_BACKLOG */
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = TCP_DEFAULT_LISTEN_BACKLOG;
 3889              		.loc 1 1466 19
 3890 0040 FF23     		movs	r3, #255
 3891 0042 FB74     		strb	r3, [r7, #19]
1467:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1468:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* "Socket API like" dual-stack support: If IP to listen to is IP6_ADDR_ANY,
1470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             * and NETCONN_FLAG_IPV6_V6ONLY is NOT set, use IP_ANY_TYPE to listen
1471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             */
1472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_cmp(&msg->conn->pcb.ip->local_ip, IP6_ADDR_ANY) &&
1473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (netconn_get_ipv6only(msg->conn) == 0)) {
1474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* change PCB type to IPADDR_TYPE_ANY */
1475:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->local_ip,  IPADDR_TYPE_ANY);
1476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->remote_ip, IPADDR_TYPE_ANY);
1477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1478:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1479:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lpcb = tcp_listen_with_backlog_and_err(msg->conn->pcb.tcp, backlog, &err);
 3892              		.loc 1 1480 53
 3893 0044 7B69     		ldr	r3, [r7, #20]
 3894 0046 1B68     		ldr	r3, [r3]
 3895              		.loc 1 1480 18
 3896 0048 5B68     		ldr	r3, [r3, #4]
 3897 004a 07F10B02 		add	r2, r7, #11
 3898 004e F97C     		ldrb	r1, [r7, #19]	@ zero_extendqisi2
 3899 0050 1846     		mov	r0, r3
 3900 0052 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 3901 0056 F860     		str	r0, [r7, #12]
1481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lpcb == NULL) {
 3902              		.loc 1 1482 14
 3903 0058 FB68     		ldr	r3, [r7, #12]
 3904 005a 002B     		cmp	r3, #0
 3905 005c 5DD0     		beq	.L261
1483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
1484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* delete the recvmbox and allocate the acceptmbox */
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (sys_mbox_valid(&msg->conn->recvmbox)) {
 3906              		.loc 1 1486 36
 3907 005e 7B69     		ldr	r3, [r7, #20]
 3908 0060 1B68     		ldr	r3, [r3]
 3909              		.loc 1 1486 17
ARM GAS  /tmp/ccRra5Gb.s 			page 98


 3910 0062 1033     		adds	r3, r3, #16
 3911 0064 1846     		mov	r0, r3
 3912 0066 FFF7FEFF 		bl	sys_mbox_valid
 3913 006a 0346     		mov	r3, r0
 3914              		.loc 1 1486 16
 3915 006c 002B     		cmp	r3, #0
 3916 006e 0BD0     		beq	.L255
1487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_free(&msg->conn->recvmbox);
 3917              		.loc 1 1488 33
 3918 0070 7B69     		ldr	r3, [r7, #20]
 3919 0072 1B68     		ldr	r3, [r3]
 3920              		.loc 1 1488 15
 3921 0074 1033     		adds	r3, r3, #16
 3922 0076 1846     		mov	r0, r3
 3923 0078 FFF7FEFF 		bl	sys_mbox_free
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 3924              		.loc 1 1489 40
 3925 007c 7B69     		ldr	r3, [r7, #20]
 3926 007e 1B68     		ldr	r3, [r3]
 3927              		.loc 1 1489 15
 3928 0080 1033     		adds	r3, r3, #16
 3929 0082 1846     		mov	r0, r3
 3930 0084 FFF7FEFF 		bl	sys_mbox_set_invalid
 3931              	.L255:
1490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = ERR_OK;
 3932              		.loc 1 1491 17
 3933 0088 0023     		movs	r3, #0
 3934 008a FB72     		strb	r3, [r7, #11]
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 3935              		.loc 1 1492 37
 3936 008c 7B69     		ldr	r3, [r7, #20]
 3937 008e 1B68     		ldr	r3, [r3]
 3938              		.loc 1 1492 18
 3939 0090 1433     		adds	r3, r3, #20
 3940 0092 1846     		mov	r0, r3
 3941 0094 FFF7FEFF 		bl	sys_mbox_valid
 3942 0098 0346     		mov	r3, r0
 3943              		.loc 1 1492 16
 3944 009a 002B     		cmp	r3, #0
 3945 009c 08D1     		bne	.L256
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 3946              		.loc 1 1493 38
 3947 009e 7B69     		ldr	r3, [r7, #20]
 3948 00a0 1B68     		ldr	r3, [r3]
 3949              		.loc 1 1493 21
 3950 00a2 1433     		adds	r3, r3, #20
 3951 00a4 0621     		movs	r1, #6
 3952 00a6 1846     		mov	r0, r3
 3953 00a8 FFF7FEFF 		bl	sys_mbox_new
 3954 00ac 0346     		mov	r3, r0
 3955              		.loc 1 1493 19
 3956 00ae FB72     		strb	r3, [r7, #11]
 3957              	.L256:
1494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (err == ERR_OK) {
ARM GAS  /tmp/ccRra5Gb.s 			page 99


 3958              		.loc 1 1495 21
 3959 00b0 97F90B30 		ldrsb	r3, [r7, #11]
 3960              		.loc 1 1495 16
 3961 00b4 002B     		cmp	r3, #0
 3962 00b6 18D1     		bne	.L257
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 3963              		.loc 1 1496 18
 3964 00b8 7B69     		ldr	r3, [r7, #20]
 3965 00ba 1B68     		ldr	r3, [r3]
 3966              		.loc 1 1496 32
 3967 00bc 0222     		movs	r2, #2
 3968 00be 5A70     		strb	r2, [r3, #1]
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 3969              		.loc 1 1497 18
 3970 00c0 7B69     		ldr	r3, [r7, #20]
 3971 00c2 1B68     		ldr	r3, [r3]
 3972              		.loc 1 1497 34
 3973 00c4 FA68     		ldr	r2, [r7, #12]
 3974 00c6 5A60     		str	r2, [r3, #4]
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 3975              		.loc 1 1498 26
 3976 00c8 7B69     		ldr	r3, [r7, #20]
 3977 00ca 1B68     		ldr	r3, [r3]
 3978              		.loc 1 1498 15
 3979 00cc 5A68     		ldr	r2, [r3, #4]
 3980              		.loc 1 1498 46
 3981 00ce 7B69     		ldr	r3, [r7, #20]
 3982 00d0 1B68     		ldr	r3, [r3]
 3983              		.loc 1 1498 15
 3984 00d2 1946     		mov	r1, r3
 3985 00d4 1046     		mov	r0, r2
 3986 00d6 FFF7FEFF 		bl	tcp_arg
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 3987              		.loc 1 1499 29
 3988 00da 7B69     		ldr	r3, [r7, #20]
 3989 00dc 1B68     		ldr	r3, [r3]
 3990              		.loc 1 1499 15
 3991 00de 5B68     		ldr	r3, [r3, #4]
 3992 00e0 1249     		ldr	r1, .L262
 3993 00e2 1846     		mov	r0, r3
 3994 00e4 FFF7FEFF 		bl	tcp_accept
 3995 00e8 17E0     		b	.L261
 3996              	.L257:
1500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* since the old pcb is already deallocated, free lpcb now */
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_close(lpcb);
 3997              		.loc 1 1502 15
 3998 00ea F868     		ldr	r0, [r7, #12]
 3999 00ec FFF7FEFF 		bl	tcp_close
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
 4000              		.loc 1 1503 18
 4001 00f0 7B69     		ldr	r3, [r7, #20]
 4002 00f2 1B68     		ldr	r3, [r3]
 4003              		.loc 1 1503 34
 4004 00f4 0022     		movs	r2, #0
 4005 00f6 5A60     		str	r2, [r3, #4]
 4006 00f8 0FE0     		b	.L261
ARM GAS  /tmp/ccRra5Gb.s 			page 100


 4007              	.L252:
 4008              	.LBE13:
 4009              	.LBE12:
1504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state == NETCONN_LISTEN) {
 4010              		.loc 1 1507 21
 4011 00fa 7B69     		ldr	r3, [r7, #20]
 4012 00fc 1B68     		ldr	r3, [r3]
 4013              		.loc 1 1507 27
 4014 00fe 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4015              		.loc 1 1507 17
 4016 0100 022B     		cmp	r3, #2
 4017 0102 02D1     		bne	.L259
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_OK;
 4018              		.loc 1 1509 13
 4019 0104 0023     		movs	r3, #0
 4020 0106 FB72     		strb	r3, [r7, #11]
 4021 0108 07E0     		b	.L261
 4022              	.L259:
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
 4023              		.loc 1 1512 13
 4024 010a F523     		movs	r3, #245
 4025 010c FB72     		strb	r3, [r7, #11]
 4026 010e 04E0     		b	.L261
 4027              	.L251:
1513:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_ARG;
 4028              		.loc 1 1515 11
 4029 0110 F023     		movs	r3, #240
 4030 0112 FB72     		strb	r3, [r7, #11]
 4031 0114 01E0     		b	.L261
 4032              	.L250:
1516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1517:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CONN;
 4033              		.loc 1 1518 9
 4034 0116 F523     		movs	r3, #245
 4035 0118 FB72     		strb	r3, [r7, #11]
 4036              	.L261:
1519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 4037              		.loc 1 1520 12
 4038 011a 97F90B20 		ldrsb	r2, [r7, #11]
 4039 011e 7B69     		ldr	r3, [r7, #20]
 4040 0120 1A71     		strb	r2, [r3, #4]
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4041              		.loc 1 1522 1
 4042 0122 00BF     		nop
 4043 0124 1837     		adds	r7, r7, #24
 4044              	.LCFI108:
ARM GAS  /tmp/ccRra5Gb.s 			page 101


 4045              		.cfi_def_cfa_offset 8
 4046 0126 BD46     		mov	sp, r7
 4047              	.LCFI109:
 4048              		.cfi_def_cfa_register 13
 4049              		@ sp needed
 4050 0128 80BD     		pop	{r7, pc}
 4051              	.L263:
 4052 012a 00BF     		.align	2
 4053              	.L262:
 4054 012c 00000000 		.word	accept_function
 4055              		.cfi_endproc
 4056              	.LFE158:
 4058              		.section	.text.lwip_netconn_do_send,"ax",%progbits
 4059              		.align	1
 4060              		.global	lwip_netconn_do_send
 4061              		.syntax unified
 4062              		.thumb
 4063              		.thumb_func
 4064              		.fpu fpv4-sp-d16
 4066              	lwip_netconn_do_send:
 4067              	.LFB159:
1523:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a RAW or UDP pcb contained in a netconn
1527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_send
1528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1531:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_send(void *m)
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4068              		.loc 1 1533 1
 4069              		.cfi_startproc
 4070              		@ args = 0, pretend = 0, frame = 16
 4071              		@ frame_needed = 1, uses_anonymous_args = 0
 4072 0000 80B5     		push	{r7, lr}
 4073              	.LCFI110:
 4074              		.cfi_def_cfa_offset 8
 4075              		.cfi_offset 7, -8
 4076              		.cfi_offset 14, -4
 4077 0002 84B0     		sub	sp, sp, #16
 4078              	.LCFI111:
 4079              		.cfi_def_cfa_offset 24
 4080 0004 00AF     		add	r7, sp, #0
 4081              	.LCFI112:
 4082              		.cfi_def_cfa_register 7
 4083 0006 7860     		str	r0, [r7, #4]
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4084              		.loc 1 1534 19
 4085 0008 7B68     		ldr	r3, [r7, #4]
 4086 000a BB60     		str	r3, [r7, #8]
1535:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
 4087              		.loc 1 1536 15
 4088 000c BB68     		ldr	r3, [r7, #8]
 4089 000e 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccRra5Gb.s 			page 102


 4090 0010 1846     		mov	r0, r3
 4091 0012 FFF7FEFF 		bl	netconn_err
 4092 0016 0346     		mov	r3, r0
 4093 0018 FB73     		strb	r3, [r7, #15]
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4094              		.loc 1 1537 6
 4095 001a 97F90F30 		ldrsb	r3, [r7, #15]
 4096 001e 002B     		cmp	r3, #0
 4097 0020 35D1     		bne	.L265
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4098              		.loc 1 1538 12
 4099 0022 BB68     		ldr	r3, [r7, #8]
 4100 0024 1B68     		ldr	r3, [r3]
 4101              		.loc 1 1538 23
 4102 0026 5B68     		ldr	r3, [r3, #4]
 4103              		.loc 1 1538 8
 4104 0028 002B     		cmp	r3, #0
 4105 002a 2ED0     		beq	.L266
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4106              		.loc 1 1539 15
 4107 002c BB68     		ldr	r3, [r7, #8]
 4108 002e 1B68     		ldr	r3, [r3]
 4109 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4110 0032 03F0F003 		and	r3, r3, #240
 4111              		.loc 1 1539 7
 4112 0036 202B     		cmp	r3, #32
 4113 0038 23D1     		bne	.L267
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
1542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_send(msg->conn->pcb.raw, msg->msg.b->p);
1544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_sendto(msg->conn->pcb.raw, msg->msg.b->p, &msg->msg.b->addr);
1546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1549:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
1551:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
1552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                   msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     &msg->msg.b->addr, msg->msg.b->port,
1558:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chks
1559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_CHECKSUM_ON_COPY */
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany_val(msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
 4114              		.loc 1 1561 15
 4115 003a BB68     		ldr	r3, [r7, #8]
 4116 003c 9B68     		ldr	r3, [r3, #8]
 4117 003e 9B68     		ldr	r3, [r3, #8]
 4118              		.loc 1 1561 14
 4119 0040 002B     		cmp	r3, #0
 4120 0042 0CD1     		bne	.L268
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
ARM GAS  /tmp/ccRra5Gb.s 			page 103


 4121              		.loc 1 1562 31
 4122 0044 BB68     		ldr	r3, [r7, #8]
 4123 0046 1B68     		ldr	r3, [r3]
 4124              		.loc 1 1562 19
 4125 0048 5A68     		ldr	r2, [r3, #4]
 4126              		.loc 1 1562 56
 4127 004a BB68     		ldr	r3, [r7, #8]
 4128 004c 9B68     		ldr	r3, [r3, #8]
 4129              		.loc 1 1562 19
 4130 004e 1B68     		ldr	r3, [r3]
 4131 0050 1946     		mov	r1, r3
 4132 0052 1046     		mov	r0, r2
 4133 0054 FFF7FEFF 		bl	udp_send
 4134 0058 0346     		mov	r3, r0
 4135 005a FB73     		strb	r3, [r7, #15]
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto(msg->conn->pcb.udp, msg->msg.b->p, &msg->msg.b->addr, msg->msg.b->port
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 4136              		.loc 1 1567 11
 4137 005c 17E0     		b	.L265
 4138              	.L268:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4139              		.loc 1 1564 33
 4140 005e BB68     		ldr	r3, [r7, #8]
 4141 0060 1B68     		ldr	r3, [r3]
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4142              		.loc 1 1564 19
 4143 0062 5868     		ldr	r0, [r3, #4]
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4144              		.loc 1 1564 58
 4145 0064 BB68     		ldr	r3, [r7, #8]
 4146 0066 9B68     		ldr	r3, [r3, #8]
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4147              		.loc 1 1564 19
 4148 0068 1968     		ldr	r1, [r3]
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4149              		.loc 1 1564 74
 4150 006a BB68     		ldr	r3, [r7, #8]
 4151 006c 9B68     		ldr	r3, [r3, #8]
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4152              		.loc 1 1564 65
 4153 006e 03F10802 		add	r2, r3, #8
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4154              		.loc 1 1564 92
 4155 0072 BB68     		ldr	r3, [r7, #8]
 4156 0074 9B68     		ldr	r3, [r3, #8]
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4157              		.loc 1 1564 19
 4158 0076 9B89     		ldrh	r3, [r3, #12]
 4159 0078 FFF7FEFF 		bl	udp_sendto
 4160 007c 0346     		mov	r3, r0
 4161 007e FB73     		strb	r3, [r7, #15]
 4162              		.loc 1 1567 11
 4163 0080 05E0     		b	.L265
 4164              	.L267:
ARM GAS  /tmp/ccRra5Gb.s 			page 104


1568:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_CONN;
 4165              		.loc 1 1570 15
 4166 0082 F523     		movs	r3, #245
 4167 0084 FB73     		strb	r3, [r7, #15]
1571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 4168              		.loc 1 1571 11
 4169 0086 00BF     		nop
 4170 0088 01E0     		b	.L265
 4171              	.L266:
1572:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_CONN;
 4172              		.loc 1 1574 11
 4173 008a F523     		movs	r3, #245
 4174 008c FB73     		strb	r3, [r7, #15]
 4175              	.L265:
1575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 4176              		.loc 1 1577 12
 4177 008e BB68     		ldr	r3, [r7, #8]
 4178 0090 FA7B     		ldrb	r2, [r7, #15]
 4179 0092 1A71     		strb	r2, [r3, #4]
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4180              		.loc 1 1579 1
 4181 0094 00BF     		nop
 4182 0096 1037     		adds	r7, r7, #16
 4183              	.LCFI113:
 4184              		.cfi_def_cfa_offset 8
 4185 0098 BD46     		mov	sp, r7
 4186              	.LCFI114:
 4187              		.cfi_def_cfa_register 13
 4188              		@ sp needed
 4189 009a 80BD     		pop	{r7, pc}
 4190              		.cfi_endproc
 4191              	.LFE159:
 4193              		.section	.text.lwip_netconn_do_recv,"ax",%progbits
 4194              		.align	1
 4195              		.global	lwip_netconn_do_recv
 4196              		.syntax unified
 4197              		.thumb
 4198              		.thumb_func
 4199              		.fpu fpv4-sp-d16
 4201              	lwip_netconn_do_recv:
 4202              	.LFB160:
1580:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1581:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1582:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Indicate data has been received from a TCP pcb contained in a netconn
1584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_recv
1585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1588:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
ARM GAS  /tmp/ccRra5Gb.s 			page 105


1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_recv(void *m)
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4203              		.loc 1 1590 1
 4204              		.cfi_startproc
 4205              		@ args = 0, pretend = 0, frame = 24
 4206              		@ frame_needed = 1, uses_anonymous_args = 0
 4207 0000 80B5     		push	{r7, lr}
 4208              	.LCFI115:
 4209              		.cfi_def_cfa_offset 8
 4210              		.cfi_offset 7, -8
 4211              		.cfi_offset 14, -4
 4212 0002 86B0     		sub	sp, sp, #24
 4213              	.LCFI116:
 4214              		.cfi_def_cfa_offset 32
 4215 0004 00AF     		add	r7, sp, #0
 4216              	.LCFI117:
 4217              		.cfi_def_cfa_register 7
 4218 0006 7860     		str	r0, [r7, #4]
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4219              		.loc 1 1591 19
 4220 0008 7B68     		ldr	r3, [r7, #4]
 4221 000a 3B61     		str	r3, [r7, #16]
1592:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
 4222              		.loc 1 1593 12
 4223 000c 3B69     		ldr	r3, [r7, #16]
 4224 000e 0022     		movs	r2, #0
 4225 0010 1A71     		strb	r2, [r3, #4]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4226              		.loc 1 1594 10
 4227 0012 3B69     		ldr	r3, [r7, #16]
 4228 0014 1B68     		ldr	r3, [r3]
 4229              		.loc 1 1594 21
 4230 0016 5B68     		ldr	r3, [r3, #4]
 4231              		.loc 1 1594 6
 4232 0018 002B     		cmp	r3, #0
 4233 001a 22D0     		beq	.L276
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4234              		.loc 1 1595 9
 4235 001c 3B69     		ldr	r3, [r7, #16]
 4236 001e 1B68     		ldr	r3, [r3]
 4237 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4238 0022 03F0F003 		and	r3, r3, #240
 4239              		.loc 1 1595 8
 4240 0026 102B     		cmp	r3, #16
 4241 0028 1BD1     		bne	.L276
 4242              	.LBB14:
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4243              		.loc 1 1596 14
 4244 002a 3B69     		ldr	r3, [r7, #16]
 4245 002c 9B68     		ldr	r3, [r3, #8]
 4246 002e 7B61     		str	r3, [r7, #20]
 4247              	.L275:
 4248              	.LBB15:
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
 4249              		.loc 1 1598 24
ARM GAS  /tmp/ccRra5Gb.s 			page 106


 4250 0030 7B69     		ldr	r3, [r7, #20]
 4251 0032 B3F5803F 		cmp	r3, #65536
 4252 0036 02D2     		bcs	.L273
 4253              		.loc 1 1598 24 is_stmt 0 discriminator 1
 4254 0038 7B69     		ldr	r3, [r7, #20]
 4255 003a 9BB2     		uxth	r3, r3
 4256 003c 01E0     		b	.L274
 4257              	.L273:
 4258              		.loc 1 1598 24 discriminator 2
 4259 003e 4FF6FF73 		movw	r3, #65535
 4260              	.L274:
 4261              		.loc 1 1598 15 is_stmt 1 discriminator 4
 4262 0042 FB81     		strh	r3, [r7, #14]	@ movhi
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4263              		.loc 1 1599 23 discriminator 4
 4264 0044 3B69     		ldr	r3, [r7, #16]
 4265 0046 1B68     		ldr	r3, [r3]
 4266              		.loc 1 1599 9 discriminator 4
 4267 0048 5B68     		ldr	r3, [r3, #4]
 4268 004a FA89     		ldrh	r2, [r7, #14]
 4269 004c 1146     		mov	r1, r2
 4270 004e 1846     		mov	r0, r3
 4271 0050 FFF7FEFF 		bl	tcp_recved
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4272              		.loc 1 1600 19 discriminator 4
 4273 0054 FB89     		ldrh	r3, [r7, #14]
 4274 0056 7A69     		ldr	r2, [r7, #20]
 4275 0058 D31A     		subs	r3, r2, r3
 4276 005a 7B61     		str	r3, [r7, #20]
 4277              	.LBE15:
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4278              		.loc 1 1601 7 discriminator 4
 4279 005c 7B69     		ldr	r3, [r7, #20]
 4280 005e 002B     		cmp	r3, #0
 4281 0060 E6D1     		bne	.L275
 4282              	.L276:
 4283              	.LBE14:
1602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4284              		.loc 1 1605 1
 4285 0062 00BF     		nop
 4286 0064 1837     		adds	r7, r7, #24
 4287              	.LCFI118:
 4288              		.cfi_def_cfa_offset 8
 4289 0066 BD46     		mov	sp, r7
 4290              	.LCFI119:
 4291              		.cfi_def_cfa_register 13
 4292              		@ sp needed
 4293 0068 80BD     		pop	{r7, pc}
 4294              		.cfi_endproc
 4295              	.LFE160:
 4297              		.section	.rodata
 4298 0459 000000   		.align	2
 4299              	.LC35:
 4300 045c 636F6E6E 		.ascii	"conn->state == NETCONN_WRITE\000"
ARM GAS  /tmp/ccRra5Gb.s 			page 107


 4300      2D3E7374 
 4300      61746520 
 4300      3D3D204E 
 4300      4554434F 
 4301 0479 000000   		.align	2
 4302              	.LC36:
 4303 047c 636F6E6E 		.ascii	"conn->pcb.tcp != NULL\000"
 4303      2D3E7063 
 4303      622E7463 
 4303      7020213D 
 4303      204E554C 
 4304 0492 0000     		.align	2
 4305              	.LC37:
 4306 0494 636F6E6E 		.ascii	"conn->current_msg->msg.w.offset < conn->current_msg"
 4306      2D3E6375 
 4306      7272656E 
 4306      745F6D73 
 4306      672D3E6D 
 4307 04c7 2D3E6D73 		.ascii	"->msg.w.len\000"
 4307      672E772E 
 4307      6C656E00 
 4308 04d3 00       		.align	2
 4309              	.LC38:
 4310 04d4 636F6E6E 		.ascii	"conn->current_msg->msg.w.vector_cnt > 0\000"
 4310      2D3E6375 
 4310      7272656E 
 4310      745F6D73 
 4310      672D3E6D 
 4311              		.align	2
 4312              	.LC39:
 4313 04fc 6C776970 		.ascii	"lwip_netconn_do_writemore: invalid length!\000"
 4313      5F6E6574 
 4313      636F6E6E 
 4313      5F646F5F 
 4313      77726974 
 4314              		.section	.text.lwip_netconn_do_writemore,"ax",%progbits
 4315              		.align	1
 4316              		.syntax unified
 4317              		.thumb
 4318              		.thumb_func
 4319              		.fpu fpv4-sp-d16
 4321              	lwip_netconn_do_writemore:
 4322              	.LFB161:
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1607:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Indicate that a TCP pcb has been accepted
1609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_accept
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1613:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_accepted(void *m)
1615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1617:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
ARM GAS  /tmp/ccRra5Gb.s 			page 108


1620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_backlog_accepted(msg->conn->pcb.tcp);
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * See if more data needs to be written from a previous call to netconn_write.
1630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called initially from lwip_netconn_do_write. If the first call can't send all data
1631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (because of low memory or empty send-buffer), this function is called again
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * from sent_tcp() or poll_tcp() to send more data. If all data is sent, the
1633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * blocking application thread (waiting in netconn_write) is released.
1634:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn netconn (that is currently in state NETCONN_WRITE) to process
1636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return ERR_OK
1637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         ERR_MEM if LWIP_TCPIP_CORE_LOCKING=1 and sending hasn't yet finished
1638:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM)
1641:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4323              		.loc 1 1641 1
 4324              		.cfi_startproc
 4325              		@ args = 0, pretend = 0, frame = 32
 4326              		@ frame_needed = 1, uses_anonymous_args = 0
 4327 0000 80B5     		push	{r7, lr}
 4328              	.LCFI120:
 4329              		.cfi_def_cfa_offset 8
 4330              		.cfi_offset 7, -8
 4331              		.cfi_offset 14, -4
 4332 0002 88B0     		sub	sp, sp, #32
 4333              	.LCFI121:
 4334              		.cfi_def_cfa_offset 40
 4335 0004 00AF     		add	r7, sp, #0
 4336              	.LCFI122:
 4337              		.cfi_def_cfa_register 7
 4338 0006 7860     		str	r0, [r7, #4]
 4339 0008 0B46     		mov	r3, r1
 4340 000a FB70     		strb	r3, [r7, #3]
1642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1643:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   const void *dataptr;
1644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len, available;
1645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_finished = 0;
 4341              		.loc 1 1645 8
 4342 000c 0023     		movs	r3, #0
 4343 000e FB76     		strb	r3, [r7, #27]
1646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   size_t diff;
1647:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t dontblock;
1648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t apiflags;
1649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_more;
1650:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", conn != NULL);
 4344              		.loc 1 1651 3
 4345 0010 7B68     		ldr	r3, [r7, #4]
 4346 0012 002B     		cmp	r3, #0
 4347 0014 06D1     		bne	.L278
ARM GAS  /tmp/ccRra5Gb.s 			page 109


 4348              		.loc 1 1651 3 is_stmt 0 discriminator 1
 4349 0016 964B     		ldr	r3, .L321
 4350 0018 40F27362 		movw	r2, #1651
 4351 001c 9549     		ldr	r1, .L321+4
 4352 001e 9648     		ldr	r0, .L321+8
 4353 0020 FFF7FEFF 		bl	printf
 4354              	.L278:
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 4355              		.loc 1 1652 3 is_stmt 1
 4356 0024 7B68     		ldr	r3, [r7, #4]
 4357 0026 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4358 0028 012B     		cmp	r3, #1
 4359 002a 06D0     		beq	.L279
 4360              		.loc 1 1652 3 is_stmt 0 discriminator 1
 4361 002c 904B     		ldr	r3, .L321
 4362 002e 40F27462 		movw	r2, #1652
 4363 0032 9249     		ldr	r1, .L321+12
 4364 0034 9048     		ldr	r0, .L321+8
 4365 0036 FFF7FEFF 		bl	printf
 4366              	.L279:
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 4367              		.loc 1 1653 3 is_stmt 1
 4368 003a 7B68     		ldr	r3, [r7, #4]
 4369 003c 1B6A     		ldr	r3, [r3, #32]
 4370 003e 002B     		cmp	r3, #0
 4371 0040 06D1     		bne	.L280
 4372              		.loc 1 1653 3 is_stmt 0 discriminator 1
 4373 0042 8B4B     		ldr	r3, .L321
 4374 0044 40F27562 		movw	r2, #1653
 4375 0048 8D49     		ldr	r1, .L321+16
 4376 004a 8B48     		ldr	r0, .L321+8
 4377 004c FFF7FEFF 		bl	printf
 4378              	.L280:
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 4379              		.loc 1 1654 3 is_stmt 1
 4380 0050 7B68     		ldr	r3, [r7, #4]
 4381 0052 5B68     		ldr	r3, [r3, #4]
 4382 0054 002B     		cmp	r3, #0
 4383 0056 06D1     		bne	.L281
 4384              		.loc 1 1654 3 is_stmt 0 discriminator 1
 4385 0058 854B     		ldr	r3, .L321
 4386 005a 40F27662 		movw	r2, #1654
 4387 005e 8949     		ldr	r1, .L321+20
 4388 0060 8548     		ldr	r0, .L321+8
 4389 0062 FFF7FEFF 		bl	printf
 4390              	.L281:
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 4391              		.loc 1 1655 3 is_stmt 1
 4392 0066 7B68     		ldr	r3, [r7, #4]
 4393 0068 1B6A     		ldr	r3, [r3, #32]
 4394 006a 9A69     		ldr	r2, [r3, #24]
 4395 006c 7B68     		ldr	r3, [r7, #4]
 4396 006e 1B6A     		ldr	r3, [r3, #32]
 4397 0070 5B69     		ldr	r3, [r3, #20]
 4398 0072 9A42     		cmp	r2, r3
 4399 0074 06D3     		bcc	.L282
 4400              		.loc 1 1655 3 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccRra5Gb.s 			page 110


 4401 0076 7E4B     		ldr	r3, .L321
 4402 0078 4FF4CF62 		mov	r2, #1656
 4403 007c 8249     		ldr	r1, .L321+24
 4404 007e 7E48     		ldr	r0, .L321+8
 4405 0080 FFF7FEFF 		bl	printf
 4406              	.L282:
1656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.vector_cnt > 0", conn->current_msg->msg.w.vector_cnt > 0);
 4407              		.loc 1 1657 3 is_stmt 1
 4408 0084 7B68     		ldr	r3, [r7, #4]
 4409 0086 1B6A     		ldr	r3, [r3, #32]
 4410 0088 9B89     		ldrh	r3, [r3, #12]
 4411 008a 002B     		cmp	r3, #0
 4412 008c 06D1     		bne	.L283
 4413              		.loc 1 1657 3 is_stmt 0 discriminator 1
 4414 008e 784B     		ldr	r3, .L321
 4415 0090 40F27962 		movw	r2, #1657
 4416 0094 7D49     		ldr	r1, .L321+28
 4417 0096 7848     		ldr	r0, .L321+8
 4418 0098 FFF7FEFF 		bl	printf
 4419              	.L283:
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   apiflags = conn->current_msg->msg.w.apiflags;
 4420              		.loc 1 1659 18 is_stmt 1
 4421 009c 7B68     		ldr	r3, [r7, #4]
 4422 009e 1B6A     		ldr	r3, [r3, #32]
 4423              		.loc 1 1659 12
 4424 00a0 1B7F     		ldrb	r3, [r3, #28]
 4425 00a2 BB76     		strb	r3, [r7, #26]
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
 4426              		.loc 1 1660 15
 4427 00a4 7B68     		ldr	r3, [r7, #4]
 4428 00a6 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 4429 00a8 03F00203 		and	r3, r3, #2
 4430              		.loc 1 1660 44
 4431 00ac 002B     		cmp	r3, #0
 4432 00ae 04D1     		bne	.L284
 4433              		.loc 1 1660 57 discriminator 2
 4434 00b0 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 4435 00b2 03F00403 		and	r3, r3, #4
 4436              		.loc 1 1660 44 discriminator 2
 4437 00b6 002B     		cmp	r3, #0
 4438 00b8 01D0     		beq	.L285
 4439              	.L284:
 4440              		.loc 1 1660 44 is_stmt 0 discriminator 3
 4441 00ba 0123     		movs	r3, #1
 4442 00bc 00E0     		b	.L286
 4443              	.L285:
 4444              		.loc 1 1660 44 discriminator 4
 4445 00be 0023     		movs	r3, #0
 4446              	.L286:
 4447              		.loc 1 1660 13 is_stmt 1 discriminator 6
 4448 00c0 3B76     		strb	r3, [r7, #24]
 4449              	.L301:
1661:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn->send_timeout != 0) &&
ARM GAS  /tmp/ccRra5Gb.s 			page 111


1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((s32_t)(sys_now() - conn->current_msg->msg.w.time_started) >= conn->send_timeout)) {
1665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     write_finished = 1;
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg->msg.w.offset == 0) {
1667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* nothing has been written */
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_WOULDBLOCK;
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* partial write */
1671:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_OK;
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     do {
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
 4450              		.loc 1 1677 35
 4451 00c2 7B68     		ldr	r3, [r7, #4]
 4452 00c4 1B6A     		ldr	r3, [r3, #32]
 4453              		.loc 1 1677 55
 4454 00c6 9B68     		ldr	r3, [r3, #8]
 4455              		.loc 1 1677 62
 4456 00c8 1A68     		ldr	r2, [r3]
 4457              		.loc 1 1677 74
 4458 00ca 7B68     		ldr	r3, [r7, #4]
 4459 00cc 1B6A     		ldr	r3, [r3, #32]
 4460              		.loc 1 1677 94
 4461 00ce 1B69     		ldr	r3, [r3, #16]
 4462              		.loc 1 1677 15
 4463 00d0 1344     		add	r3, r3, r2
 4464 00d2 7B61     		str	r3, [r7, #20]
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 4465              		.loc 1 1678 18
 4466 00d4 7B68     		ldr	r3, [r7, #4]
 4467 00d6 1B6A     		ldr	r3, [r3, #32]
 4468              		.loc 1 1678 38
 4469 00d8 9B68     		ldr	r3, [r3, #8]
 4470              		.loc 1 1678 45
 4471 00da 5A68     		ldr	r2, [r3, #4]
 4472              		.loc 1 1678 57
 4473 00dc 7B68     		ldr	r3, [r7, #4]
 4474 00de 1B6A     		ldr	r3, [r3, #32]
 4475              		.loc 1 1678 77
 4476 00e0 1B69     		ldr	r3, [r3, #16]
 4477              		.loc 1 1678 12
 4478 00e2 D31A     		subs	r3, r2, r3
 4479 00e4 3B61     		str	r3, [r7, #16]
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 4480              		.loc 1 1679 10
 4481 00e6 3B69     		ldr	r3, [r7, #16]
 4482 00e8 B3F5803F 		cmp	r3, #65536
 4483 00ec 07D3     		bcc	.L287
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
 4484              		.loc 1 1680 13
 4485 00ee 4FF6FF73 		movw	r3, #65535
 4486 00f2 BB83     		strh	r3, [r7, #28]	@ movhi
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 4487              		.loc 1 1681 18
 4488 00f4 BB7E     		ldrb	r3, [r7, #26]
ARM GAS  /tmp/ccRra5Gb.s 			page 112


 4489 00f6 43F00203 		orr	r3, r3, #2
 4490 00fa BB76     		strb	r3, [r7, #26]
 4491 00fc 01E0     		b	.L288
 4492              	.L287:
1682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1683:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = (u16_t)diff;
 4493              		.loc 1 1683 13
 4494 00fe 3B69     		ldr	r3, [r7, #16]
 4495 0100 BB83     		strh	r3, [r7, #28]	@ movhi
 4496              	.L288:
1684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       available = tcp_sndbuf(conn->pcb.tcp);
 4497              		.loc 1 1685 19
 4498 0102 7B68     		ldr	r3, [r7, #4]
 4499 0104 5B68     		ldr	r3, [r3, #4]
 4500              		.loc 1 1685 17
 4501 0106 B3F86430 		ldrh	r3, [r3, #100]	@ movhi
 4502 010a FB81     		strh	r3, [r7, #14]	@ movhi
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 4503              		.loc 1 1686 10
 4504 010c FA89     		ldrh	r2, [r7, #14]
 4505 010e BB8B     		ldrh	r3, [r7, #28]
 4506 0110 9A42     		cmp	r2, r3
 4507 0112 16D2     		bcs	.L289
1687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = available;
 4508              		.loc 1 1688 13
 4509 0114 FB89     		ldrh	r3, [r7, #14]	@ movhi
 4510 0116 BB83     		strh	r3, [r7, #28]	@ movhi
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 4511              		.loc 1 1689 12
 4512 0118 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 4513 011a 002B     		cmp	r3, #0
 4514 011c 0DD0     		beq	.L290
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
 4515              		.loc 1 1690 14
 4516 011e BB8B     		ldrh	r3, [r7, #28]
 4517 0120 002B     		cmp	r3, #0
 4518 0122 0ED1     		bne	.L289
1691:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
 4519              		.loc 1 1692 24
 4520 0124 7B68     		ldr	r3, [r7, #4]
 4521 0126 1B6A     		ldr	r3, [r3, #32]
 4522              		.loc 1 1692 44
 4523 0128 9B69     		ldr	r3, [r3, #24]
 4524              		.loc 1 1692 17
 4525 012a 002B     		cmp	r3, #0
 4526 012c 02D1     		bne	.L291
 4527              		.loc 1 1692 17 is_stmt 0 discriminator 1
 4528 012e 6FF00603 		mvn	r3, #6
 4529 0132 00E0     		b	.L292
 4530              	.L291:
 4531              		.loc 1 1692 17 discriminator 2
 4532 0134 0023     		movs	r3, #0
 4533              	.L292:
 4534              		.loc 1 1692 17 discriminator 4
ARM GAS  /tmp/ccRra5Gb.s 			page 113


 4535 0136 FB77     		strb	r3, [r7, #31]
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             goto err_mem;
 4536              		.loc 1 1693 13 is_stmt 1 discriminator 4
 4537 0138 7DE0     		b	.L293
 4538              	.L290:
1694:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           apiflags |= TCP_WRITE_FLAG_MORE;
 4539              		.loc 1 1696 20
 4540 013a BB7E     		ldrb	r3, [r7, #26]
 4541 013c 43F00203 		orr	r3, r3, #2
 4542 0140 BB76     		strb	r3, [r7, #26]
 4543              	.L289:
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("lwip_netconn_do_writemore: invalid length!",
 4544              		.loc 1 1699 7
 4545 0142 7B68     		ldr	r3, [r7, #4]
 4546 0144 1B6A     		ldr	r3, [r3, #32]
 4547 0146 1A69     		ldr	r2, [r3, #16]
 4548 0148 BB8B     		ldrh	r3, [r7, #28]
 4549 014a 1A44     		add	r2, r2, r3
 4550 014c 7B68     		ldr	r3, [r7, #4]
 4551 014e 1B6A     		ldr	r3, [r3, #32]
 4552 0150 9B68     		ldr	r3, [r3, #8]
 4553 0152 5B68     		ldr	r3, [r3, #4]
 4554 0154 9A42     		cmp	r2, r3
 4555 0156 06D9     		bls	.L294
 4556              		.loc 1 1699 7 is_stmt 0 discriminator 1
 4557 0158 454B     		ldr	r3, .L321
 4558 015a 40F2A462 		movw	r2, #1700
 4559 015e 4C49     		ldr	r1, .L321+32
 4560 0160 4548     		ldr	r0, .L321+8
 4561 0162 FFF7FEFF 		bl	printf
 4562              	.L294:
1700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
1701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* we should loop around for more sending in the following cases:
1702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            1) We couldn't finish the current vector because of 16-bit size limitations.
1703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_write() and tcp_sndbuf() both are limited to 16-bit sizes
1704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            2) We are sending the remainder of the current vector and have more */
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((len == 0xffff && diff > 0xffffUL) ||
 4563              		.loc 1 1705 10 is_stmt 1
 4564 0166 BB8B     		ldrh	r3, [r7, #28]
 4565 0168 4FF6FF72 		movw	r2, #65535
 4566 016c 9342     		cmp	r3, r2
 4567 016e 03D1     		bne	.L295
 4568              		.loc 1 1705 26 discriminator 1
 4569 0170 3B69     		ldr	r3, [r7, #16]
 4570 0172 B3F5803F 		cmp	r3, #65536
 4571 0176 09D2     		bcs	.L296
 4572              	.L295:
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 4573              		.loc 1 1706 19 discriminator 3
 4574 0178 3B69     		ldr	r3, [r7, #16]
 4575 017a 9BB2     		uxth	r3, r3
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 4576              		.loc 1 1705 46 discriminator 3
ARM GAS  /tmp/ccRra5Gb.s 			page 114


 4577 017c BA8B     		ldrh	r2, [r7, #28]
 4578 017e 9A42     		cmp	r2, r3
 4579 0180 0BD1     		bne	.L297
 4580              		.loc 1 1706 38
 4581 0182 7B68     		ldr	r3, [r7, #4]
 4582 0184 1B6A     		ldr	r3, [r3, #32]
 4583              		.loc 1 1706 58
 4584 0186 9B89     		ldrh	r3, [r3, #12]
 4585              		.loc 1 1706 31
 4586 0188 012B     		cmp	r3, #1
 4587 018a 06D9     		bls	.L297
 4588              	.L296:
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 4589              		.loc 1 1707 20
 4590 018c 0123     		movs	r3, #1
 4591 018e 7B76     		strb	r3, [r7, #25]
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 4592              		.loc 1 1708 18
 4593 0190 BB7E     		ldrb	r3, [r7, #26]
 4594 0192 43F00203 		orr	r3, r3, #2
 4595 0196 BB76     		strb	r3, [r7, #26]
 4596 0198 01E0     		b	.L298
 4597              	.L297:
1709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 0;
 4598              		.loc 1 1710 20
 4599 019a 0023     		movs	r3, #0
 4600 019c 7B76     		strb	r3, [r7, #25]
 4601              	.L298:
1711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 4602              		.loc 1 1712 13
 4603 019e 7B68     		ldr	r3, [r7, #4]
 4604 01a0 5868     		ldr	r0, [r3, #4]
 4605 01a2 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 4606 01a4 BA8B     		ldrh	r2, [r7, #28]
 4607 01a6 7969     		ldr	r1, [r7, #20]
 4608 01a8 FFF7FEFF 		bl	tcp_write
 4609 01ac 0346     		mov	r3, r0
 4610 01ae FB77     		strb	r3, [r7, #31]
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
 4611              		.loc 1 1713 10
 4612 01b0 97F91F30 		ldrsb	r3, [r7, #31]
 4613 01b4 002B     		cmp	r3, #0
 4614 01b6 2CD1     		bne	.L299
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 4615              		.loc 1 1714 13
 4616 01b8 7B68     		ldr	r3, [r7, #4]
 4617 01ba 1B6A     		ldr	r3, [r3, #32]
 4618              		.loc 1 1714 41
 4619 01bc 9969     		ldr	r1, [r3, #24]
 4620 01be BA8B     		ldrh	r2, [r7, #28]
 4621              		.loc 1 1714 13
 4622 01c0 7B68     		ldr	r3, [r7, #4]
 4623 01c2 1B6A     		ldr	r3, [r3, #32]
 4624              		.loc 1 1714 41
 4625 01c4 0A44     		add	r2, r2, r1
ARM GAS  /tmp/ccRra5Gb.s 			page 115


 4626 01c6 9A61     		str	r2, [r3, #24]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 4627              		.loc 1 1715 13
 4628 01c8 7B68     		ldr	r3, [r7, #4]
 4629 01ca 1B6A     		ldr	r3, [r3, #32]
 4630              		.loc 1 1715 45
 4631 01cc 1969     		ldr	r1, [r3, #16]
 4632 01ce BA8B     		ldrh	r2, [r7, #28]
 4633              		.loc 1 1715 13
 4634 01d0 7B68     		ldr	r3, [r7, #4]
 4635 01d2 1B6A     		ldr	r3, [r3, #32]
 4636              		.loc 1 1715 45
 4637 01d4 0A44     		add	r2, r2, r1
 4638 01d6 1A61     		str	r2, [r3, #16]
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (conn->current_msg->msg.w.vector_off == conn->current_msg->msg.w.vector->len) {
 4639              		.loc 1 1717 17
 4640 01d8 7B68     		ldr	r3, [r7, #4]
 4641 01da 1B6A     		ldr	r3, [r3, #32]
 4642              		.loc 1 1717 37
 4643 01dc 1A69     		ldr	r2, [r3, #16]
 4644              		.loc 1 1717 56
 4645 01de 7B68     		ldr	r3, [r7, #4]
 4646 01e0 1B6A     		ldr	r3, [r3, #32]
 4647              		.loc 1 1717 76
 4648 01e2 9B68     		ldr	r3, [r3, #8]
 4649              		.loc 1 1717 83
 4650 01e4 5B68     		ldr	r3, [r3, #4]
 4651              		.loc 1 1717 12
 4652 01e6 9A42     		cmp	r2, r3
 4653 01e8 13D1     		bne	.L299
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 4654              		.loc 1 1718 15
 4655 01ea 7B68     		ldr	r3, [r7, #4]
 4656 01ec 1B6A     		ldr	r3, [r3, #32]
 4657              		.loc 1 1718 35
 4658 01ee 9A89     		ldrh	r2, [r3, #12]
 4659              		.loc 1 1718 46
 4660 01f0 013A     		subs	r2, r2, #1
 4661 01f2 92B2     		uxth	r2, r2
 4662 01f4 9A81     		strh	r2, [r3, #12]	@ movhi
1719:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (conn->current_msg->msg.w.vector_cnt > 0) {
 4663              		.loc 1 1720 19
 4664 01f6 7B68     		ldr	r3, [r7, #4]
 4665 01f8 1B6A     		ldr	r3, [r3, #32]
 4666              		.loc 1 1720 39
 4667 01fa 9B89     		ldrh	r3, [r3, #12]
 4668              		.loc 1 1720 14
 4669 01fc 002B     		cmp	r3, #0
 4670 01fe 08D0     		beq	.L299
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 4671              		.loc 1 1721 17
 4672 0200 7B68     		ldr	r3, [r7, #4]
 4673 0202 1B6A     		ldr	r3, [r3, #32]
 4674              		.loc 1 1721 37
 4675 0204 9A68     		ldr	r2, [r3, #8]
ARM GAS  /tmp/ccRra5Gb.s 			page 116


 4676              		.loc 1 1721 44
 4677 0206 0832     		adds	r2, r2, #8
 4678 0208 9A60     		str	r2, [r3, #8]
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 4679              		.loc 1 1722 17
 4680 020a 7B68     		ldr	r3, [r7, #4]
 4681 020c 1B6A     		ldr	r3, [r3, #32]
 4682              		.loc 1 1722 49
 4683 020e 0022     		movs	r2, #0
 4684 0210 1A61     		str	r2, [r3, #16]
 4685              	.L299:
1723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } while (write_more && err == ERR_OK);
 4686              		.loc 1 1726 5
 4687 0212 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 4688 0214 002B     		cmp	r3, #0
 4689 0216 04D0     		beq	.L300
 4690              		.loc 1 1726 25 discriminator 1
 4691 0218 97F91F30 		ldrsb	r3, [r7, #31]
 4692 021c 002B     		cmp	r3, #0
 4693 021e 3FF450AF 		beq	.L301
 4694              	.L300:
1727:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) || (err == ERR_MEM)) {
 4695              		.loc 1 1728 8
 4696 0222 97F91F30 		ldrsb	r3, [r7, #31]
 4697 0226 002B     		cmp	r3, #0
 4698 0228 04D0     		beq	.L320
 4699              		.loc 1 1728 25 discriminator 1
 4700 022a 97F91F30 		ldrsb	r3, [r7, #31]
 4701 022e B3F1FF3F 		cmp	r3, #-1
 4702 0232 46D1     		bne	.L302
 4703              	.L320:
1729:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 4704              		.loc 1 1729 1
 4705 0234 00BF     		nop
 4706              	.L293:
1730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock && (conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len)) {
 4707              		.loc 1 1730 10
 4708 0236 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 4709 0238 002B     		cmp	r3, #0
 4710 023a 2BD0     		beq	.L303
 4711              		.loc 1 1730 29 discriminator 1
 4712 023c 7B68     		ldr	r3, [r7, #4]
 4713 023e 1B6A     		ldr	r3, [r3, #32]
 4714              		.loc 1 1730 49 discriminator 1
 4715 0240 9A69     		ldr	r2, [r3, #24]
 4716              		.loc 1 1730 63 discriminator 1
 4717 0242 7B68     		ldr	r3, [r7, #4]
 4718 0244 1B6A     		ldr	r3, [r3, #32]
 4719              		.loc 1 1730 83 discriminator 1
 4720 0246 5B69     		ldr	r3, [r3, #20]
 4721              		.loc 1 1730 21 discriminator 1
 4722 0248 9A42     		cmp	r2, r3
 4723 024a 23D2     		bcs	.L303
ARM GAS  /tmp/ccRra5Gb.s 			page 117


1731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
1732:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            and let poll_tcp check writable space to mark the pcb writable again */
1733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 4724              		.loc 1 1733 9
 4725 024c 7B68     		ldr	r3, [r7, #4]
 4726 024e 5B6A     		ldr	r3, [r3, #36]
 4727 0250 002B     		cmp	r3, #0
 4728 0252 05D0     		beq	.L304
 4729              		.loc 1 1733 9 is_stmt 0 discriminator 1
 4730 0254 7B68     		ldr	r3, [r7, #4]
 4731 0256 5B6A     		ldr	r3, [r3, #36]
 4732 0258 0022     		movs	r2, #0
 4733 025a 0321     		movs	r1, #3
 4734 025c 7868     		ldr	r0, [r7, #4]
 4735 025e 9847     		blx	r3
 4736              	.LVL16:
 4737              	.L304:
1734:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 4738              		.loc 1 1734 21 is_stmt 1
 4739 0260 7B68     		ldr	r3, [r7, #4]
 4740 0262 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 4741 0264 43F01003 		orr	r3, r3, #16
 4742 0268 DAB2     		uxtb	r2, r3
 4743 026a 7B68     		ldr	r3, [r7, #4]
 4744 026c 1A77     		strb	r2, [r3, #28]
 4745 026e 28E0     		b	.L302
 4746              	.L322:
 4747              		.align	2
 4748              	.L321:
 4749 0270 00000000 		.word	.LC0
 4750 0274 54010000 		.word	.LC11
 4751 0278 40000000 		.word	.LC2
 4752 027c 5C040000 		.word	.LC35
 4753 0280 64010000 		.word	.LC12
 4754 0284 7C040000 		.word	.LC36
 4755 0288 94040000 		.word	.LC37
 4756 028c D4040000 		.word	.LC38
 4757 0290 FC040000 		.word	.LC39
 4758              	.L303:
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
 4759              		.loc 1 1735 19
 4760 0294 7B68     		ldr	r3, [r7, #4]
 4761 0296 5B68     		ldr	r3, [r3, #4]
 4762 0298 B3F86430 		ldrh	r3, [r3, #100]
 4763              		.loc 1 1735 17
 4764 029c B3F5866F 		cmp	r3, #1072
 4765 02a0 05D3     		bcc	.L305
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 4766              		.loc 1 1736 19 discriminator 1
 4767 02a2 7B68     		ldr	r3, [r7, #4]
 4768 02a4 5B68     		ldr	r3, [r3, #4]
 4769 02a6 B3F86630 		ldrh	r3, [r3, #102]
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
 4770              		.loc 1 1735 62 discriminator 1
 4771 02aa 042B     		cmp	r3, #4
 4772 02ac 09D9     		bls	.L302
 4773              	.L305:
ARM GAS  /tmp/ccRra5Gb.s 			page 118


1737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
1738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            let select mark this pcb as non-writable. */
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 4774              		.loc 1 1739 9
 4775 02ae 7B68     		ldr	r3, [r7, #4]
 4776 02b0 5B6A     		ldr	r3, [r3, #36]
 4777 02b2 002B     		cmp	r3, #0
 4778 02b4 05D0     		beq	.L302
 4779              		.loc 1 1739 9 is_stmt 0 discriminator 1
 4780 02b6 7B68     		ldr	r3, [r7, #4]
 4781 02b8 5B6A     		ldr	r3, [r3, #36]
 4782 02ba 0022     		movs	r2, #0
 4783 02bc 0321     		movs	r1, #3
 4784 02be 7868     		ldr	r0, [r7, #4]
 4785 02c0 9847     		blx	r3
 4786              	.LVL17:
 4787              	.L302:
1740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1742:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 4788              		.loc 1 1743 8 is_stmt 1
 4789 02c2 97F91F30 		ldrsb	r3, [r7, #31]
 4790 02c6 002B     		cmp	r3, #0
 4791 02c8 1DD1     		bne	.L306
 4792              	.LBB16:
1744:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->current_msg->msg.w.offset == conn->current_msg->msg.w.len) || dontblock) {
 4793              		.loc 1 1745 16
 4794 02ca 7B68     		ldr	r3, [r7, #4]
 4795 02cc 1B6A     		ldr	r3, [r3, #32]
 4796              		.loc 1 1745 36
 4797 02ce 9A69     		ldr	r2, [r3, #24]
 4798              		.loc 1 1745 51
 4799 02d0 7B68     		ldr	r3, [r7, #4]
 4800 02d2 1B6A     		ldr	r3, [r3, #32]
 4801              		.loc 1 1745 71
 4802 02d4 5B69     		ldr	r3, [r3, #20]
 4803              		.loc 1 1745 10
 4804 02d6 9A42     		cmp	r2, r3
 4805 02d8 02D0     		beq	.L307
 4806              		.loc 1 1745 77 discriminator 1
 4807 02da 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 4808 02dc 002B     		cmp	r3, #0
 4809 02de 01D0     		beq	.L308
 4810              	.L307:
1746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 4811              		.loc 1 1747 24
 4812 02e0 0123     		movs	r3, #1
 4813 02e2 FB76     		strb	r3, [r7, #27]
 4814              	.L308:
1748:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       out_err = tcp_output(conn->pcb.tcp);
 4815              		.loc 1 1749 17
 4816 02e4 7B68     		ldr	r3, [r7, #4]
 4817 02e6 5B68     		ldr	r3, [r3, #4]
ARM GAS  /tmp/ccRra5Gb.s 			page 119


 4818 02e8 1846     		mov	r0, r3
 4819 02ea FFF7FEFF 		bl	tcp_output
 4820 02ee 0346     		mov	r3, r0
 4821 02f0 7B73     		strb	r3, [r7, #13]
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 4822              		.loc 1 1750 10
 4823 02f2 97F90D30 		ldrsb	r3, [r7, #13]
 4824 02f6 13F1040F 		cmn	r3, #4
 4825 02fa 2CD1     		bne	.L310
1751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
 4826              		.loc 1 1754 13
 4827 02fc 7B7B     		ldrb	r3, [r7, #13]
 4828 02fe FB77     		strb	r3, [r7, #31]
1755:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 4829              		.loc 1 1755 24
 4830 0300 0123     		movs	r3, #1
 4831 0302 FB76     		strb	r3, [r7, #27]
 4832 0304 27E0     		b	.L310
 4833              	.L306:
 4834              	.LBE16:
1756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (err == ERR_MEM) {
 4835              		.loc 1 1757 15
 4836 0306 97F91F30 		ldrsb	r3, [r7, #31]
 4837 030a B3F1FF3F 		cmp	r3, #-1
 4838 030e 20D1     		bne	.L311
 4839              	.LBB17:
1758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
1759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          For blocking sockets, we do NOT return to the application
1760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          thread, since ERR_MEM is only a temporary error! Non-blocking
1761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          will remain non-writable until sent_tcp/poll_tcp is called */
1762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* tcp_write returned ERR_MEM, try tcp_output anyway */
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err = tcp_output(conn->pcb.tcp);
 4840              		.loc 1 1764 23
 4841 0310 7B68     		ldr	r3, [r7, #4]
 4842 0312 5B68     		ldr	r3, [r3, #4]
 4843 0314 1846     		mov	r0, r3
 4844 0316 FFF7FEFF 		bl	tcp_output
 4845 031a 0346     		mov	r3, r0
 4846 031c 3B73     		strb	r3, [r7, #12]
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 4847              		.loc 1 1765 10
 4848 031e 97F90C30 		ldrsb	r3, [r7, #12]
 4849 0322 13F1040F 		cmn	r3, #4
 4850 0326 04D1     		bne	.L312
1766:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1767:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1769:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
 4851              		.loc 1 1769 13
 4852 0328 3B7B     		ldrb	r3, [r7, #12]
 4853 032a FB77     		strb	r3, [r7, #31]
1770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
ARM GAS  /tmp/ccRra5Gb.s 			page 120


 4854              		.loc 1 1770 24
 4855 032c 0123     		movs	r3, #1
 4856 032e FB76     		strb	r3, [r7, #27]
 4857 0330 11E0     		b	.L310
 4858              	.L312:
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
 4859              		.loc 1 1771 17
 4860 0332 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
 4861 0334 002B     		cmp	r3, #0
 4862 0336 0ED0     		beq	.L310
1772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
1773:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to partial write or not */
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
 4863              		.loc 1 1774 20
 4864 0338 7B68     		ldr	r3, [r7, #4]
 4865 033a 1B6A     		ldr	r3, [r3, #32]
 4866              		.loc 1 1774 40
 4867 033c 9B69     		ldr	r3, [r3, #24]
 4868              		.loc 1 1774 13
 4869 033e 002B     		cmp	r3, #0
 4870 0340 02D1     		bne	.L314
 4871              		.loc 1 1774 13 is_stmt 0 discriminator 1
 4872 0342 6FF00603 		mvn	r3, #6
 4873 0346 00E0     		b	.L315
 4874              	.L314:
 4875              		.loc 1 1774 13 discriminator 2
 4876 0348 0023     		movs	r3, #0
 4877              	.L315:
 4878              		.loc 1 1774 13 discriminator 4
 4879 034a FB77     		strb	r3, [r7, #31]
1775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 4880              		.loc 1 1775 24 is_stmt 1 discriminator 4
 4881 034c 0123     		movs	r3, #1
 4882 034e FB76     		strb	r3, [r7, #27]
 4883 0350 01E0     		b	.L310
 4884              	.L311:
 4885              	.LBE17:
1776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1777:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* On errors != ERR_MEM, we don't try writing any more but return
1779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          the error to the application thread. */
1780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       write_finished = 1;
 4886              		.loc 1 1780 22
 4887 0352 0123     		movs	r3, #1
 4888 0354 FB76     		strb	r3, [r7, #27]
 4889              	.L310:
1781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (write_finished) {
 4890              		.loc 1 1783 6
 4891 0356 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4892 0358 002B     		cmp	r3, #0
 4893 035a 15D0     		beq	.L316
 4894              	.LBB18:
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
1785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        and back to application task */
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
ARM GAS  /tmp/ccRra5Gb.s 			page 121


 4895              		.loc 1 1786 35
 4896 035c 7B68     		ldr	r3, [r7, #4]
 4897 035e 1B6A     		ldr	r3, [r3, #32]
 4898 0360 1B68     		ldr	r3, [r3]
 4899              		.loc 1 1786 16
 4900 0362 0C33     		adds	r3, r3, #12
 4901 0364 BB60     		str	r3, [r7, #8]
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 4902              		.loc 1 1787 9
 4903 0366 7B68     		ldr	r3, [r7, #4]
 4904 0368 1B6A     		ldr	r3, [r3, #32]
 4905              		.loc 1 1787 28
 4906 036a FA7F     		ldrb	r2, [r7, #31]
 4907 036c 1A71     		strb	r2, [r3, #4]
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 4908              		.loc 1 1788 23
 4909 036e 7B68     		ldr	r3, [r7, #4]
 4910 0370 0022     		movs	r2, #0
 4911 0372 1A62     		str	r2, [r3, #32]
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 4912              		.loc 1 1789 17
 4913 0374 7B68     		ldr	r3, [r7, #4]
 4914 0376 0022     		movs	r2, #0
 4915 0378 5A70     		strb	r2, [r3, #1]
1790:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
 4916              		.loc 1 1791 8
 4917 037a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4918 037c 002B     		cmp	r3, #0
 4919 037e 06D0     		beq	.L318
1792:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 4920              		.loc 1 1794 7
 4921 0380 B868     		ldr	r0, [r7, #8]
 4922 0382 FFF7FEFF 		bl	sys_sem_signal
 4923 0386 02E0     		b	.L318
 4924              	.L316:
 4925              	.LBE18:
1795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   else {
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 4926              		.loc 1 1799 12
 4927 0388 4FF0FF33 		mov	r3, #-1
 4928 038c 00E0     		b	.L319
 4929              	.L318:
1800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 4930              		.loc 1 1802 10
 4931 038e 0023     		movs	r3, #0
 4932              	.L319:
1803:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4933              		.loc 1 1803 1
 4934 0390 1846     		mov	r0, r3
ARM GAS  /tmp/ccRra5Gb.s 			page 122


 4935 0392 2037     		adds	r7, r7, #32
 4936              	.LCFI123:
 4937              		.cfi_def_cfa_offset 8
 4938 0394 BD46     		mov	sp, r7
 4939              	.LCFI124:
 4940              		.cfi_def_cfa_register 13
 4941              		@ sp needed
 4942 0396 80BD     		pop	{r7, pc}
 4943              		.cfi_endproc
 4944              	.LFE161:
 4946              		.section	.rodata
 4947 0527 00       		.align	2
 4948              	.LC40:
 4949 0528 6D73672D 		.ascii	"msg->msg.w.len != 0\000"
 4949      3E6D7367 
 4949      2E772E6C 
 4949      656E2021 
 4949      3D203000 
 4950              		.section	.text.lwip_netconn_do_write,"ax",%progbits
 4951              		.align	1
 4952              		.global	lwip_netconn_do_write
 4953              		.syntax unified
 4954              		.thumb
 4955              		.thumb_func
 4956              		.fpu fpv4-sp-d16
 4958              	lwip_netconn_do_write:
 4959              	.LFB162:
1804:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1806:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a TCP pcb contained in a netconn
1808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_write
1809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_write(void *m)
1814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4960              		.loc 1 1814 1
 4961              		.cfi_startproc
 4962              		@ args = 0, pretend = 0, frame = 16
 4963              		@ frame_needed = 1, uses_anonymous_args = 0
 4964 0000 80B5     		push	{r7, lr}
 4965              	.LCFI125:
 4966              		.cfi_def_cfa_offset 8
 4967              		.cfi_offset 7, -8
 4968              		.cfi_offset 14, -4
 4969 0002 84B0     		sub	sp, sp, #16
 4970              	.LCFI126:
 4971              		.cfi_def_cfa_offset 24
 4972 0004 00AF     		add	r7, sp, #0
 4973              	.LCFI127:
 4974              		.cfi_def_cfa_register 7
 4975 0006 7860     		str	r0, [r7, #4]
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4976              		.loc 1 1815 19
 4977 0008 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRra5Gb.s 			page 123


 4978 000a BB60     		str	r3, [r7, #8]
1816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
 4979              		.loc 1 1817 15
 4980 000c BB68     		ldr	r3, [r7, #8]
 4981 000e 1B68     		ldr	r3, [r3]
 4982 0010 1846     		mov	r0, r3
 4983 0012 FFF7FEFF 		bl	netconn_err
 4984 0016 0346     		mov	r3, r0
 4985 0018 FB73     		strb	r3, [r7, #15]
1818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4986              		.loc 1 1818 6
 4987 001a 97F90F30 		ldrsb	r3, [r7, #15]
 4988 001e 002B     		cmp	r3, #0
 4989 0020 66D1     		bne	.L324
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4990              		.loc 1 1819 9
 4991 0022 BB68     		ldr	r3, [r7, #8]
 4992 0024 1B68     		ldr	r3, [r3]
 4993 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4994 0028 03F0F003 		and	r3, r3, #240
 4995              		.loc 1 1819 8
 4996 002c 102B     		cmp	r3, #16
 4997 002e 5DD1     		bne	.L325
1820:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state != NETCONN_NONE) {
 4998              		.loc 1 1821 14
 4999 0030 BB68     		ldr	r3, [r7, #8]
 5000 0032 1B68     		ldr	r3, [r3]
 5001              		.loc 1 1821 20
 5002 0034 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5003              		.loc 1 1821 10
 5004 0036 002B     		cmp	r3, #0
 5005 0038 02D0     		beq	.L326
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_INPROGRESS;
 5006              		.loc 1 1823 13
 5007 003a FB23     		movs	r3, #251
 5008 003c FB73     		strb	r3, [r7, #15]
 5009 003e 57E0     		b	.L324
 5010              	.L326:
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 5011              		.loc 1 1824 21
 5012 0040 BB68     		ldr	r3, [r7, #8]
 5013 0042 1B68     		ldr	r3, [r3]
 5014              		.loc 1 1824 32
 5015 0044 5B68     		ldr	r3, [r3, #4]
 5016              		.loc 1 1824 17
 5017 0046 002B     		cmp	r3, #0
 5018 0048 4DD0     		beq	.L328
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 5019              		.loc 1 1825 12
 5020 004a BB68     		ldr	r3, [r7, #8]
 5021 004c 1B68     		ldr	r3, [r3]
 5022              		.loc 1 1825 26
 5023 004e 0122     		movs	r2, #1
 5024 0050 5A70     		strb	r2, [r3, #1]
ARM GAS  /tmp/ccRra5Gb.s 			page 124


1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
 5025              		.loc 1 1827 9
 5026 0052 BB68     		ldr	r3, [r7, #8]
 5027 0054 1B68     		ldr	r3, [r3]
 5028 0056 1B6A     		ldr	r3, [r3, #32]
 5029 0058 002B     		cmp	r3, #0
 5030 005a 06D0     		beq	.L329
 5031              		.loc 1 1827 9 is_stmt 0 discriminator 1
 5032 005c 284B     		ldr	r3, .L335
 5033 005e 40F22372 		movw	r2, #1827
 5034 0062 2849     		ldr	r1, .L335+4
 5035 0064 2848     		ldr	r0, .L335+8
 5036 0066 FFF7FEFF 		bl	printf
 5037              	.L329:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 5038              		.loc 1 1828 9 is_stmt 1
 5039 006a BB68     		ldr	r3, [r7, #8]
 5040 006c 5B69     		ldr	r3, [r3, #20]
 5041 006e 002B     		cmp	r3, #0
 5042 0070 06D1     		bne	.L330
 5043              		.loc 1 1828 9 is_stmt 0 discriminator 1
 5044 0072 234B     		ldr	r3, .L335
 5045 0074 40F22472 		movw	r2, #1828
 5046 0078 2449     		ldr	r1, .L335+12
 5047 007a 2348     		ldr	r0, .L335+8
 5048 007c FFF7FEFF 		bl	printf
 5049              	.L330:
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 5050              		.loc 1 1829 12 is_stmt 1
 5051 0080 BB68     		ldr	r3, [r7, #8]
 5052 0082 1B68     		ldr	r3, [r3]
 5053              		.loc 1 1829 32
 5054 0084 BA68     		ldr	r2, [r7, #8]
 5055 0086 1A62     		str	r2, [r3, #32]
1830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_writemore(msg->conn, 0) != ERR_OK) {
 5056              		.loc 1 1831 13
 5057 0088 BB68     		ldr	r3, [r7, #8]
 5058 008a 1B68     		ldr	r3, [r3]
 5059 008c 0021     		movs	r1, #0
 5060 008e 1846     		mov	r0, r3
 5061 0090 FFF7FEFF 		bl	lwip_netconn_do_writemore
 5062 0094 0346     		mov	r3, r0
 5063              		.loc 1 1831 12
 5064 0096 002B     		cmp	r3, #0
 5065 0098 2ED0     		beq	.L334
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 5066              		.loc 1 1832 11
 5067 009a BB68     		ldr	r3, [r7, #8]
 5068 009c 1B68     		ldr	r3, [r3]
 5069 009e 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5070 00a0 012B     		cmp	r3, #1
 5071 00a2 06D0     		beq	.L332
 5072              		.loc 1 1832 11 is_stmt 0 discriminator 1
 5073 00a4 164B     		ldr	r3, .L335
 5074 00a6 4FF4E562 		mov	r2, #1832
ARM GAS  /tmp/ccRra5Gb.s 			page 125


 5075 00aa 1949     		ldr	r1, .L335+16
 5076 00ac 1648     		ldr	r0, .L335+8
 5077 00ae FFF7FEFF 		bl	printf
 5078              	.L332:
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 5079              		.loc 1 1833 11 is_stmt 1
 5080 00b2 1848     		ldr	r0, .L335+20
 5081 00b4 FFF7FEFF 		bl	sys_mutex_unlock
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 5082              		.loc 1 1834 29
 5083 00b8 BB68     		ldr	r3, [r7, #8]
 5084 00ba 1B68     		ldr	r3, [r3]
 5085              		.loc 1 1834 11
 5086 00bc 0C33     		adds	r3, r3, #12
 5087 00be 0021     		movs	r1, #0
 5088 00c0 1846     		mov	r0, r3
 5089 00c2 FFF7FEFF 		bl	sys_arch_sem_wait
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 5090              		.loc 1 1835 11
 5091 00c6 1348     		ldr	r0, .L335+20
 5092 00c8 FFF7FEFF 		bl	sys_mutex_lock
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
 5093              		.loc 1 1836 11
 5094 00cc BB68     		ldr	r3, [r7, #8]
 5095 00ce 1B68     		ldr	r3, [r3]
 5096 00d0 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5097 00d2 012B     		cmp	r3, #1
 5098 00d4 10D1     		bne	.L334
 5099              		.loc 1 1836 11 is_stmt 0 discriminator 1
 5100 00d6 0A4B     		ldr	r3, .L335
 5101 00d8 40F22C72 		movw	r2, #1836
 5102 00dc 0C49     		ldr	r1, .L335+16
 5103 00de 0A48     		ldr	r0, .L335+8
 5104 00e0 FFF7FEFF 		bl	printf
1837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1838:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_writemore(msg->conn);
1840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* for both cases: if lwip_netconn_do_writemore was called, don't ACK the APIMSG
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            since lwip_netconn_do_writemore ACKs it! */
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
 5105              		.loc 1 1843 9 is_stmt 1 discriminator 1
 5106 00e4 08E0     		b	.L334
 5107              	.L328:
1844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
 5108              		.loc 1 1845 13
 5109 00e6 F523     		movs	r3, #245
 5110 00e8 FB73     		strb	r3, [r7, #15]
 5111 00ea 01E0     		b	.L324
 5112              	.L325:
1846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1847:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCP */
1848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
1849:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1850:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_UDP || LWIP_RAW)
1851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
ARM GAS  /tmp/ccRra5Gb.s 			page 126


1852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
 5113              		.loc 1 1852 11
 5114 00ec FA23     		movs	r3, #250
 5115 00ee FB73     		strb	r3, [r7, #15]
 5116              	.L324:
1853:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 5117              		.loc 1 1856 12
 5118 00f0 BB68     		ldr	r3, [r7, #8]
 5119 00f2 FA7B     		ldrb	r2, [r7, #15]
 5120 00f4 1A71     		strb	r2, [r3, #4]
 5121 00f6 00E0     		b	.L323
 5122              	.L334:
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 5123              		.loc 1 1843 9
 5124 00f8 00BF     		nop
 5125              	.L323:
1857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1858:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5126              		.loc 1 1858 1
 5127 00fa 1037     		adds	r7, r7, #16
 5128              	.LCFI128:
 5129              		.cfi_def_cfa_offset 8
 5130 00fc BD46     		mov	sp, r7
 5131              	.LCFI129:
 5132              		.cfi_def_cfa_register 13
 5133              		@ sp needed
 5134 00fe 80BD     		pop	{r7, pc}
 5135              	.L336:
 5136              		.align	2
 5137              	.L335:
 5138 0100 00000000 		.word	.LC0
 5139 0104 A0030000 		.word	.LC29
 5140 0108 40000000 		.word	.LC2
 5141 010c 28050000 		.word	.LC40
 5142 0110 BC030000 		.word	.LC30
 5143 0114 00000000 		.word	lock_tcpip_core
 5144              		.cfi_endproc
 5145              	.LFE162:
 5147              		.section	.rodata
 5148              		.align	2
 5149              	.LC41:
 5150 053c 696E7661 		.ascii	"invalid netconn_type\000"
 5150      6C696420 
 5150      6E657463 
 5150      6F6E6E5F 
 5150      74797065 
 5151              		.section	.text.lwip_netconn_do_getaddr,"ax",%progbits
 5152              		.align	1
 5153              		.global	lwip_netconn_do_getaddr
 5154              		.syntax unified
 5155              		.thumb
 5156              		.thumb_func
 5157              		.fpu fpv4-sp-d16
 5159              	lwip_netconn_do_getaddr:
ARM GAS  /tmp/ccRra5Gb.s 			page 127


 5160              	.LFB163:
1859:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Return a connection's local or remote address
1862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_getaddr
1863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1866:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_getaddr(void *m)
1868:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5161              		.loc 1 1868 1
 5162              		.cfi_startproc
 5163              		@ args = 0, pretend = 0, frame = 16
 5164              		@ frame_needed = 1, uses_anonymous_args = 0
 5165 0000 80B5     		push	{r7, lr}
 5166              	.LCFI130:
 5167              		.cfi_def_cfa_offset 8
 5168              		.cfi_offset 7, -8
 5169              		.cfi_offset 14, -4
 5170 0002 84B0     		sub	sp, sp, #16
 5171              	.LCFI131:
 5172              		.cfi_def_cfa_offset 24
 5173 0004 00AF     		add	r7, sp, #0
 5174              	.LCFI132:
 5175              		.cfi_def_cfa_register 7
 5176 0006 7860     		str	r0, [r7, #4]
1869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5177              		.loc 1 1869 19
 5178 0008 7B68     		ldr	r3, [r7, #4]
 5179 000a FB60     		str	r3, [r7, #12]
1870:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip != NULL) {
 5180              		.loc 1 1871 10
 5181 000c FB68     		ldr	r3, [r7, #12]
 5182 000e 1B68     		ldr	r3, [r3]
 5183              		.loc 1 1871 21
 5184 0010 5B68     		ldr	r3, [r3, #4]
 5185              		.loc 1 1871 6
 5186 0012 002B     		cmp	r3, #0
 5187 0014 6CD0     		beq	.L338
1872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->msg.ad.local) {
 5188              		.loc 1 1872 20
 5189 0016 FB68     		ldr	r3, [r7, #12]
 5190 0018 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 5191              		.loc 1 1872 8
 5192 001a 002B     		cmp	r3, #0
 5193 001c 07D0     		beq	.L339
1873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 5194              		.loc 1 1873 7
 5195 001e FB68     		ldr	r3, [r7, #12]
 5196 0020 1B68     		ldr	r3, [r3]
 5197 0022 5A68     		ldr	r2, [r3, #4]
 5198 0024 FB68     		ldr	r3, [r7, #12]
 5199 0026 9B68     		ldr	r3, [r3, #8]
 5200 0028 1268     		ldr	r2, [r2]
 5201 002a 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccRra5Gb.s 			page 128


 5202 002c 06E0     		b	.L340
 5203              	.L339:
1874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->local_ip);
1875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 5204              		.loc 1 1876 7
 5205 002e FB68     		ldr	r3, [r7, #12]
 5206 0030 1B68     		ldr	r3, [r3]
 5207 0032 5A68     		ldr	r2, [r3, #4]
 5208 0034 FB68     		ldr	r3, [r7, #12]
 5209 0036 9B68     		ldr	r3, [r3, #8]
 5210 0038 5268     		ldr	r2, [r2, #4]
 5211 003a 1A60     		str	r2, [r3]
 5212              	.L340:
1877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
1878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1879:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 5213              		.loc 1 1880 14
 5214 003c FB68     		ldr	r3, [r7, #12]
 5215 003e 0022     		movs	r2, #0
 5216 0040 1A71     		strb	r2, [r3, #4]
1881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 5217              		.loc 1 1881 13
 5218 0042 FB68     		ldr	r3, [r7, #12]
 5219 0044 1B68     		ldr	r3, [r3]
 5220 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5221 0048 03F0F003 		and	r3, r3, #240
 5222              		.loc 1 1881 5
 5223 004c 102B     		cmp	r3, #16
 5224 004e 21D0     		beq	.L341
 5225 0050 202B     		cmp	r3, #32
 5226 0052 44D1     		bne	.L353
1882:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
1885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.raw->protocol;
1886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1887:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* return an error as connecting is only a helper for upper layers */
1888:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1889:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1890:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1893:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
 5227              		.loc 1 1894 24
 5228 0054 FB68     		ldr	r3, [r7, #12]
 5229 0056 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 5230              		.loc 1 1894 12
 5231 0058 002B     		cmp	r3, #0
 5232 005a 07D0     		beq	.L343
1895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
 5233              		.loc 1 1895 49
 5234 005c FB68     		ldr	r3, [r7, #12]
 5235 005e 1B68     		ldr	r3, [r3]
 5236              		.loc 1 1895 60
ARM GAS  /tmp/ccRra5Gb.s 			page 129


 5237 0060 5A68     		ldr	r2, [r3, #4]
 5238              		.loc 1 1895 11
 5239 0062 FB68     		ldr	r3, [r7, #12]
 5240 0064 DB68     		ldr	r3, [r3, #12]
 5241              		.loc 1 1895 64
 5242 0066 528A     		ldrh	r2, [r2, #18]
 5243              		.loc 1 1895 44
 5244 0068 1A80     		strh	r2, [r3]	@ movhi
1896:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if ((msg->conn->pcb.udp->flags & UDP_FLAGS_CONNECTED) == 0) {
1898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
1899:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->remote_port;
1901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 5245              		.loc 1 1903 9
 5246 006a 44E0     		b	.L352
 5247              	.L343:
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5248              		.loc 1 1897 19
 5249 006c FB68     		ldr	r3, [r7, #12]
 5250 006e 1B68     		ldr	r3, [r3]
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5251              		.loc 1 1897 30
 5252 0070 5B68     		ldr	r3, [r3, #4]
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5253              		.loc 1 1897 34
 5254 0072 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5255              		.loc 1 1897 42
 5256 0074 03F00403 		and	r3, r3, #4
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5257              		.loc 1 1897 14
 5258 0078 002B     		cmp	r3, #0
 5259 007a 03D1     		bne	.L345
1898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 5260              		.loc 1 1898 22
 5261 007c FB68     		ldr	r3, [r7, #12]
 5262 007e F522     		movs	r2, #245
 5263 0080 1A71     		strb	r2, [r3, #4]
 5264              		.loc 1 1903 9
 5265 0082 38E0     		b	.L352
 5266              	.L345:
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 5267              		.loc 1 1900 51
 5268 0084 FB68     		ldr	r3, [r7, #12]
 5269 0086 1B68     		ldr	r3, [r3]
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 5270              		.loc 1 1900 62
 5271 0088 5A68     		ldr	r2, [r3, #4]
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 5272              		.loc 1 1900 13
 5273 008a FB68     		ldr	r3, [r7, #12]
 5274 008c DB68     		ldr	r3, [r3, #12]
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 5275              		.loc 1 1900 66
ARM GAS  /tmp/ccRra5Gb.s 			page 130


 5276 008e 928A     		ldrh	r2, [r2, #20]
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 5277              		.loc 1 1900 46
 5278 0090 1A80     		strh	r2, [r3]	@ movhi
 5279              		.loc 1 1903 9
 5280 0092 30E0     		b	.L352
 5281              	.L341:
1904:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1905:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if ((msg->msg.ad.local == 0) &&
 5282              		.loc 1 1907 25
 5283 0094 FB68     		ldr	r3, [r7, #12]
 5284 0096 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 5285              		.loc 1 1907 12
 5286 0098 002B     		cmp	r3, #0
 5287 009a 0FD1     		bne	.L347
1908:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5288              		.loc 1 1908 18 discriminator 1
 5289 009c FB68     		ldr	r3, [r7, #12]
 5290 009e 1B68     		ldr	r3, [r3]
 5291              		.loc 1 1908 29 discriminator 1
 5292 00a0 5B68     		ldr	r3, [r3, #4]
 5293              		.loc 1 1908 33 discriminator 1
 5294 00a2 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5295              		.loc 1 1907 38 discriminator 1
 5296 00a4 002B     		cmp	r3, #0
 5297 00a6 05D0     		beq	.L348
 5298              		.loc 1 1908 59
 5299 00a8 FB68     		ldr	r3, [r7, #12]
 5300 00aa 1B68     		ldr	r3, [r3]
 5301              		.loc 1 1908 70
 5302 00ac 5B68     		ldr	r3, [r3, #4]
 5303              		.loc 1 1908 74
 5304 00ae 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 5305              		.loc 1 1908 52
 5306 00b0 012B     		cmp	r3, #1
 5307 00b2 03D1     		bne	.L347
 5308              	.L348:
1909:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb is not connected and remote name is requested */
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
 5309              		.loc 1 1910 20
 5310 00b4 FB68     		ldr	r3, [r7, #12]
 5311 00b6 F522     		movs	r2, #245
 5312 00b8 1A71     		strb	r2, [r3, #4]
1911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = (msg->msg.ad.local ? msg->conn->pcb.tcp->local_port : 
1913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 5313              		.loc 1 1914 9
 5314 00ba 1CE0     		b	.L352
 5315              	.L347:
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5316              		.loc 1 1912 58
 5317 00bc FB68     		ldr	r3, [r7, #12]
 5318 00be 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
ARM GAS  /tmp/ccRra5Gb.s 			page 131


1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5319              		.loc 1 1912 44
 5320 00c0 002B     		cmp	r3, #0
 5321 00c2 04D0     		beq	.L350
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5322              		.loc 1 1912 70 discriminator 1
 5323 00c4 FB68     		ldr	r3, [r7, #12]
 5324 00c6 1B68     		ldr	r3, [r3]
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5325              		.loc 1 1912 81 discriminator 1
 5326 00c8 5B68     		ldr	r3, [r3, #4]
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5327              		.loc 1 1912 44 discriminator 1
 5328 00ca DB8A     		ldrh	r3, [r3, #22]
 5329 00cc 03E0     		b	.L351
 5330              	.L350:
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5331              		.loc 1 1912 103 discriminator 2
 5332 00ce FB68     		ldr	r3, [r7, #12]
 5333 00d0 1B68     		ldr	r3, [r3]
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5334              		.loc 1 1912 114 discriminator 2
 5335 00d2 5B68     		ldr	r3, [r3, #4]
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5336              		.loc 1 1912 44 discriminator 2
 5337 00d4 1B8B     		ldrh	r3, [r3, #24]
 5338              	.L351:
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5339              		.loc 1 1912 11 discriminator 4
 5340 00d6 FA68     		ldr	r2, [r7, #12]
 5341 00d8 D268     		ldr	r2, [r2, #12]
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 5342              		.loc 1 1912 44 discriminator 4
 5343 00da 1380     		strh	r3, [r2]	@ movhi
 5344              		.loc 1 1914 9 discriminator 4
 5345 00dc 0BE0     		b	.L352
 5346              	.L353:
1915:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("invalid netconn_type", 0);
 5347              		.loc 1 1917 9 discriminator 1
 5348 00de 084B     		ldr	r3, .L354
 5349 00e0 40F27D72 		movw	r2, #1917
 5350 00e4 0749     		ldr	r1, .L354+4
 5351 00e6 0848     		ldr	r0, .L354+8
 5352 00e8 FFF7FEFF 		bl	printf
1918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 5353              		.loc 1 1918 9 discriminator 1
 5354 00ec 00BF     		nop
 5355 00ee 02E0     		b	.L352
 5356              	.L338:
1919:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1920:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5357              		.loc 1 1921 14
 5358 00f0 FB68     		ldr	r3, [r7, #12]
 5359 00f2 F522     		movs	r2, #245
ARM GAS  /tmp/ccRra5Gb.s 			page 132


 5360 00f4 1A71     		strb	r2, [r3, #4]
 5361              	.L352:
1922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1924:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5362              		.loc 1 1924 1
 5363 00f6 00BF     		nop
 5364 00f8 1037     		adds	r7, r7, #16
 5365              	.LCFI133:
 5366              		.cfi_def_cfa_offset 8
 5367 00fa BD46     		mov	sp, r7
 5368              	.LCFI134:
 5369              		.cfi_def_cfa_register 13
 5370              		@ sp needed
 5371 00fc 80BD     		pop	{r7, pc}
 5372              	.L355:
 5373 00fe 00BF     		.align	2
 5374              	.L354:
 5375 0100 00000000 		.word	.LC0
 5376 0104 3C050000 		.word	.LC41
 5377 0108 40000000 		.word	.LC2
 5378              		.cfi_endproc
 5379              	.LFE163:
 5381              		.section	.text.lwip_netconn_do_close,"ax",%progbits
 5382              		.align	1
 5383              		.global	lwip_netconn_do_close
 5384              		.syntax unified
 5385              		.thumb
 5386              		.thumb_func
 5387              		.fpu fpv4-sp-d16
 5389              	lwip_netconn_do_close:
 5390              	.LFB164:
1925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Close or half-shutdown a TCP pcb contained in a netconn
1928:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_close
1929:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * In contrast to closing sockets, the netconn is not deallocated.
1930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1933:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close(void *m)
1935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5391              		.loc 1 1935 1
 5392              		.cfi_startproc
 5393              		@ args = 0, pretend = 0, frame = 16
 5394              		@ frame_needed = 1, uses_anonymous_args = 0
 5395 0000 80B5     		push	{r7, lr}
 5396              	.LCFI135:
 5397              		.cfi_def_cfa_offset 8
 5398              		.cfi_offset 7, -8
 5399              		.cfi_offset 14, -4
 5400 0002 84B0     		sub	sp, sp, #16
 5401              	.LCFI136:
 5402              		.cfi_def_cfa_offset 24
 5403 0004 00AF     		add	r7, sp, #0
 5404              	.LCFI137:
ARM GAS  /tmp/ccRra5Gb.s 			page 133


 5405              		.cfi_def_cfa_register 7
 5406 0006 7860     		str	r0, [r7, #4]
1936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5407              		.loc 1 1936 19
 5408 0008 7B68     		ldr	r3, [r7, #4]
 5409 000a FB60     		str	r3, [r7, #12]
1937:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1938:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
 5410              		.loc 1 1939 33
 5411 000c FB68     		ldr	r3, [r7, #12]
 5412 000e 1B68     		ldr	r3, [r3]
 5413              		.loc 1 1939 22
 5414 0010 5B78     		ldrb	r3, [r3, #1]
 5415 0012 FB72     		strb	r3, [r7, #11]
1940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
1941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (LISTEN doesn't support half shutdown) */
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((msg->conn->pcb.tcp != NULL) &&
 5416              		.loc 1 1942 11
 5417 0014 FB68     		ldr	r3, [r7, #12]
 5418 0016 1B68     		ldr	r3, [r3]
 5419              		.loc 1 1942 22
 5420 0018 5B68     		ldr	r3, [r3, #4]
 5421              		.loc 1 1942 6
 5422 001a 002B     		cmp	r3, #0
 5423 001c 69D0     		beq	.L357
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5424              		.loc 1 1943 8 discriminator 1
 5425 001e FB68     		ldr	r3, [r7, #12]
 5426 0020 1B68     		ldr	r3, [r3]
 5427 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5428 0024 03F0F003 		and	r3, r3, #240
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5429              		.loc 1 1942 36 discriminator 1
 5430 0028 102B     		cmp	r3, #16
 5431 002a 62D1     		bne	.L357
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5432              		.loc 1 1944 20
 5433 002c FB68     		ldr	r3, [r7, #12]
 5434 002e 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5435              		.loc 1 1943 59
 5436 0030 032B     		cmp	r3, #3
 5437 0032 02D0     		beq	.L358
 5438              		.loc 1 1944 48
 5439 0034 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5440 0036 022B     		cmp	r3, #2
 5441 0038 5BD0     		beq	.L357
 5442              	.L358:
1945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_CONNECT) {
 5443              		.loc 1 1946 8
 5444 003a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5445 003c 032B     		cmp	r3, #3
 5446 003e 03D1     		bne	.L359
1947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_CONN;
ARM GAS  /tmp/ccRra5Gb.s 			page 134


 5447              		.loc 1 1948 16
 5448 0040 FB68     		ldr	r3, [r7, #12]
 5449 0042 F522     		movs	r2, #245
 5450 0044 1A71     		strb	r2, [r3, #4]
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5451              		.loc 1 1946 8
 5452 0046 59E0     		b	.L356
 5453              	.L359:
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5454              		.loc 1 1949 15
 5455 0048 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5456 004a 012B     		cmp	r3, #1
 5457 004c 03D1     		bne	.L361
1950:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_WR) {
1952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* close requested, abort running write */
1953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_t *write_completed_sem;
1954:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg->err = ERR_CLSD;
1957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = NULL;
1958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_NONE;
1959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         state = NETCONN_NONE;
1960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_signal(write_completed_sem);
1961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.sd.shut == NETCONN_SHUT_RD", msg->msg.sd.shut == NETCONN_SHUT_RD);
1963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* In this case, let the write continue and do not interfere with
1964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            conn->current_msg or conn->state! */
1965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_shutdown(msg->conn->pcb.tcp, 1, 0);
1966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_NONE) {
1969:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_INPROGRESS;
 5458              		.loc 1 1970 16
 5459 004e FB68     		ldr	r3, [r7, #12]
 5460 0050 FB22     		movs	r2, #251
 5461 0052 1A71     		strb	r2, [r3, #4]
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5462              		.loc 1 1946 8
 5463 0054 52E0     		b	.L356
 5464              	.L361:
1971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1972:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_RD) {
 5465              		.loc 1 1973 22
 5466 0056 FB68     		ldr	r3, [r7, #12]
 5467 0058 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 5468              		.loc 1 1973 28
 5469 005a 03F00103 		and	r3, r3, #1
 5470              		.loc 1 1973 10
 5471 005e 002B     		cmp	r3, #0
 5472 0060 04D0     		beq	.L362
1974:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Mark mboxes invalid */
1976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_mark_mbox_invalid(msg->conn);
1977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
ARM GAS  /tmp/ccRra5Gb.s 			page 135


1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(msg->conn);
 5473              		.loc 1 1978 9
 5474 0062 FB68     		ldr	r3, [r7, #12]
 5475 0064 1B68     		ldr	r3, [r3]
 5476 0066 1846     		mov	r0, r3
 5477 0068 FFF7FEFF 		bl	netconn_drain
 5478              	.L362:
1979:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
 5479              		.loc 1 1981 7
 5480 006c FB68     		ldr	r3, [r7, #12]
 5481 006e 1B68     		ldr	r3, [r3]
 5482 0070 1B6A     		ldr	r3, [r3, #32]
 5483 0072 002B     		cmp	r3, #0
 5484 0074 06D0     		beq	.L363
 5485              		.loc 1 1981 7 is_stmt 0 discriminator 1
 5486 0076 234B     		ldr	r3, .L368
 5487 0078 40F2BD72 		movw	r2, #1981
 5488 007c 2249     		ldr	r1, .L368+4
 5489 007e 2348     		ldr	r0, .L368+8
 5490 0080 FFF7FEFF 		bl	printf
 5491              	.L363:
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5492              		.loc 1 1982 10 is_stmt 1
 5493 0084 FB68     		ldr	r3, [r7, #12]
 5494 0086 1B68     		ldr	r3, [r3]
 5495              		.loc 1 1982 24
 5496 0088 0422     		movs	r2, #4
 5497 008a 5A70     		strb	r2, [r3, #1]
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5498              		.loc 1 1983 10
 5499 008c FB68     		ldr	r3, [r7, #12]
 5500 008e 1B68     		ldr	r3, [r3]
 5501              		.loc 1 1983 30
 5502 0090 FA68     		ldr	r2, [r7, #12]
 5503 0092 1A62     		str	r2, [r3, #32]
1984:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
 5504              		.loc 1 1985 11
 5505 0094 FB68     		ldr	r3, [r7, #12]
 5506 0096 1B68     		ldr	r3, [r3]
 5507 0098 0021     		movs	r1, #0
 5508 009a 1846     		mov	r0, r3
 5509 009c FFF7FEFF 		bl	lwip_netconn_do_close_internal
 5510 00a0 0346     		mov	r3, r0
 5511              		.loc 1 1985 10
 5512 00a2 002B     		cmp	r3, #0
 5513 00a4 29D0     		beq	.L367
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5514              		.loc 1 1986 9
 5515 00a6 FB68     		ldr	r3, [r7, #12]
 5516 00a8 1B68     		ldr	r3, [r3]
 5517 00aa 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5518 00ac 042B     		cmp	r3, #4
 5519 00ae 06D0     		beq	.L365
 5520              		.loc 1 1986 9 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccRra5Gb.s 			page 136


 5521 00b0 144B     		ldr	r3, .L368
 5522 00b2 40F2C272 		movw	r2, #1986
 5523 00b6 1649     		ldr	r1, .L368+12
 5524 00b8 1448     		ldr	r0, .L368+8
 5525 00ba FFF7FEFF 		bl	printf
 5526              	.L365:
1987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5527              		.loc 1 1987 9 is_stmt 1
 5528 00be 1548     		ldr	r0, .L368+16
 5529 00c0 FFF7FEFF 		bl	sys_mutex_unlock
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 5530              		.loc 1 1988 27
 5531 00c4 FB68     		ldr	r3, [r7, #12]
 5532 00c6 1B68     		ldr	r3, [r3]
 5533              		.loc 1 1988 9
 5534 00c8 0C33     		adds	r3, r3, #12
 5535 00ca 0021     		movs	r1, #0
 5536 00cc 1846     		mov	r0, r3
 5537 00ce FFF7FEFF 		bl	sys_arch_sem_wait
1989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5538              		.loc 1 1989 9
 5539 00d2 1048     		ldr	r0, .L368+16
 5540 00d4 FFF7FEFF 		bl	sys_mutex_lock
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 5541              		.loc 1 1990 9
 5542 00d8 FB68     		ldr	r3, [r7, #12]
 5543 00da 1B68     		ldr	r3, [r3]
 5544 00dc 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5545 00de 002B     		cmp	r3, #0
 5546 00e0 0BD0     		beq	.L367
 5547              		.loc 1 1990 9 is_stmt 0 discriminator 1
 5548 00e2 084B     		ldr	r3, .L368
 5549 00e4 40F2C672 		movw	r2, #1990
 5550 00e8 0949     		ldr	r1, .L368+12
 5551 00ea 0848     		ldr	r0, .L368+8
 5552 00ec FFF7FEFF 		bl	printf
1991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1992:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(msg->conn);
1994:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* for tcp netconns, lwip_netconn_do_close_internal ACKs the message */
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 5553              		.loc 1 1996 7 is_stmt 1 discriminator 1
 5554 00f0 03E0     		b	.L367
 5555              	.L357:
1997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1999:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
2000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
2001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5556              		.loc 1 2001 14
 5557 00f2 FB68     		ldr	r3, [r7, #12]
 5558 00f4 F522     		movs	r2, #245
 5559 00f6 1A71     		strb	r2, [r3, #4]
 5560 00f8 00E0     		b	.L356
 5561              	.L367:
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
ARM GAS  /tmp/ccRra5Gb.s 			page 137


 5562              		.loc 1 1996 7
 5563 00fa 00BF     		nop
 5564              	.L356:
2002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
2004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5565              		.loc 1 2004 1
 5566 00fc 1037     		adds	r7, r7, #16
 5567              	.LCFI138:
 5568              		.cfi_def_cfa_offset 8
 5569 00fe BD46     		mov	sp, r7
 5570              	.LCFI139:
 5571              		.cfi_def_cfa_register 13
 5572              		@ sp needed
 5573 0100 80BD     		pop	{r7, pc}
 5574              	.L369:
 5575 0102 00BF     		.align	2
 5576              	.L368:
 5577 0104 00000000 		.word	.LC0
 5578 0108 A0030000 		.word	.LC29
 5579 010c 40000000 		.word	.LC2
 5580 0110 BC030000 		.word	.LC30
 5581 0114 00000000 		.word	lock_tcpip_core
 5582              		.cfi_endproc
 5583              	.LFE164:
 5585              		.section	.text.lwip_netconn_do_dns_found,"ax",%progbits
 5586              		.align	1
 5587              		.syntax unified
 5588              		.thumb
 5589              		.thumb_func
 5590              		.fpu fpv4-sp-d16
 5592              	lwip_netconn_do_dns_found:
 5593              	.LFB165:
2005:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2006:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IGMP || (LWIP_IPV6 && LWIP_IPV6_MLD)
2007:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
2008:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Join multicast groups for UDP netconns.
2009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_join_leave_group
2010:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
2011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
2012:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
2013:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
2014:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_join_leave_group(void *m)
2015:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
2016:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
2017:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2018:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_CONN;
2019:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
2020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
2021:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
2022:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV6_MLD
2023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISIPV6(msg->conn->type)) {
2024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.jl.join_or_leave == NETCONN_JOIN) {
2025:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = mld6_joingroup(ip_2_ip6(API_EXPR_REF(msg->msg.jl.netif_addr)),
2026:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     ip_2_ip6(API_EXPR_REF(msg->msg.jl.multiaddr)));
2027:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
2028:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = mld6_leavegroup(ip_2_ip6(API_EXPR_REF(msg->msg.jl.netif_addr)),
ARM GAS  /tmp/ccRra5Gb.s 			page 138


2029:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                      ip_2_ip6(API_EXPR_REF(msg->msg.jl.multiaddr)));
2030:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
2031:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else
2032:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_MLD */
2033:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
2034:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IGMP
2035:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.jl.join_or_leave == NETCONN_JOIN) {
2036:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = igmp_joingroup(ip_2_ip4(API_EXPR_REF(msg->msg.jl.netif_addr)),
2037:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     ip_2_ip4(API_EXPR_REF(msg->msg.jl.multiaddr)));
2038:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
2039:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = igmp_leavegroup(ip_2_ip4(API_EXPR_REF(msg->msg.jl.netif_addr)),
2040:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                      ip_2_ip4(API_EXPR_REF(msg->msg.jl.multiaddr)));
2041:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
2042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IGMP */
2043:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
2044:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
2045:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_TCP || LWIP_RAW)
2046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
2047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
2048:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_TCP || LWIP_RAW) */
2049:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
2050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2051:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
2052:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
2053:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
2054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Join multicast groups for UDP netconns.
2055:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_join_leave_group_netif
2056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
2057:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
2058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
2059:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
2060:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_join_leave_group_netif(void *m)
2061:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
2062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
2063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
2064:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netif = netif_get_by_index(msg->msg.jl.if_idx);
2066:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (netif == NULL) {
2067:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_IF;
2068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto done;
2069:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2070:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_CONN;
2072:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
2073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
2074:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
2075:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV6_MLD
2076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISIPV6(msg->conn->type)) {
2077:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.jl.join_or_leave == NETCONN_JOIN) {
2078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = mld6_joingroup_netif(netif,
2079:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                           ip_2_ip6(API_EXPR_REF(msg->msg.jl.multiaddr)));
2080:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
2081:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = mld6_leavegroup_netif(netif,
2082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                            ip_2_ip6(API_EXPR_REF(msg->msg.jl.multiaddr)));
2083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
2084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else
2085:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_MLD */
ARM GAS  /tmp/ccRra5Gb.s 			page 139


2086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
2087:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IGMP
2088:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.jl.join_or_leave == NETCONN_JOIN) {
2089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = igmp_joingroup_netif(netif,
2090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                           ip_2_ip4(API_EXPR_REF(msg->msg.jl.multiaddr)));
2091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
2092:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = igmp_leavegroup_netif(netif,
2093:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                            ip_2_ip4(API_EXPR_REF(msg->msg.jl.multiaddr)));
2094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
2095:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IGMP */
2096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
2097:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
2098:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_TCP || LWIP_RAW)
2099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
2100:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
2101:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_TCP || LWIP_RAW) */
2102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
2103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2104:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** done:
2106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
2107:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
2108:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IGMP || (LWIP_IPV6 && LWIP_IPV6_MLD) */
2109:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2110:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_DNS
2111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
2112:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Callback function that is called when DNS name is resolved
2113:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (or on timeout). A waiting application thread is waked up by
2114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * signaling the semaphore.
2115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
2116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
2117:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_dns_found(const char *name, const ip_addr_t *ipaddr, void *arg)
2118:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5594              		.loc 1 2118 1
 5595              		.cfi_startproc
 5596              		@ args = 0, pretend = 0, frame = 24
 5597              		@ frame_needed = 1, uses_anonymous_args = 0
 5598 0000 80B5     		push	{r7, lr}
 5599              	.LCFI140:
 5600              		.cfi_def_cfa_offset 8
 5601              		.cfi_offset 7, -8
 5602              		.cfi_offset 14, -4
 5603 0002 86B0     		sub	sp, sp, #24
 5604              	.LCFI141:
 5605              		.cfi_def_cfa_offset 32
 5606 0004 00AF     		add	r7, sp, #0
 5607              	.LCFI142:
 5608              		.cfi_def_cfa_register 7
 5609 0006 F860     		str	r0, [r7, #12]
 5610 0008 B960     		str	r1, [r7, #8]
 5611 000a 7A60     		str	r2, [r7, #4]
2119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct dns_api_msg *msg = (struct dns_api_msg *)arg;
 5612              		.loc 1 2119 23
 5613 000c 7B68     		ldr	r3, [r7, #4]
 5614 000e 7B61     		str	r3, [r7, #20]
2120:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* we trust the internal implementation to be correct :-) */
ARM GAS  /tmp/ccRra5Gb.s 			page 140


2122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(name);
2123:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ipaddr == NULL) {
 5615              		.loc 1 2124 6
 5616 0010 BB68     		ldr	r3, [r7, #8]
 5617 0012 002B     		cmp	r3, #0
 5618 0014 04D1     		bne	.L371
2125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* timeout or memory error */
2126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EXPR_DEREF(msg->err) = ERR_VAL;
 5619              		.loc 1 2126 5
 5620 0016 7B69     		ldr	r3, [r7, #20]
 5621 0018 DB68     		ldr	r3, [r3, #12]
 5622              		.loc 1 2126 30
 5623 001a FA22     		movs	r2, #250
 5624 001c 1A70     		strb	r2, [r3]
 5625 001e 08E0     		b	.L372
 5626              	.L371:
2127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
2128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* address was resolved */
2129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EXPR_DEREF(msg->err) = ERR_OK;
 5627              		.loc 1 2129 5
 5628 0020 7B69     		ldr	r3, [r7, #20]
 5629 0022 DB68     		ldr	r3, [r3, #12]
 5630              		.loc 1 2129 30
 5631 0024 0022     		movs	r2, #0
 5632 0026 1A70     		strb	r2, [r3]
2130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EXPR_DEREF(msg->addr) = *ipaddr;
 5633              		.loc 1 2130 5
 5634 0028 7B69     		ldr	r3, [r7, #20]
 5635 002a 5B68     		ldr	r3, [r3, #4]
 5636              		.loc 1 2130 31
 5637 002c BA68     		ldr	r2, [r7, #8]
 5638 002e 1268     		ldr	r2, [r2]
 5639 0030 1A60     		str	r2, [r3]
 5640              	.L372:
2131:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* wake up the application task waiting in netconn_gethostbyname */
2133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_signal(API_EXPR_REF_SEM(msg->sem));
 5641              		.loc 1 2133 3
 5642 0032 7B69     		ldr	r3, [r7, #20]
 5643 0034 9B68     		ldr	r3, [r3, #8]
 5644 0036 1846     		mov	r0, r3
 5645 0038 FFF7FEFF 		bl	sys_sem_signal
2134:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5646              		.loc 1 2134 1
 5647 003c 00BF     		nop
 5648 003e 1837     		adds	r7, r7, #24
 5649              	.LCFI143:
 5650              		.cfi_def_cfa_offset 8
 5651 0040 BD46     		mov	sp, r7
 5652              	.LCFI144:
 5653              		.cfi_def_cfa_register 13
 5654              		@ sp needed
 5655 0042 80BD     		pop	{r7, pc}
 5656              		.cfi_endproc
 5657              	.LFE165:
 5659              		.section	.rodata
ARM GAS  /tmp/ccRra5Gb.s 			page 141


 5660 0551 000000   		.align	2
 5661              	.LC42:
 5662 0554 646F5F67 		.ascii	"do_gethostbyname still in progress!!\000"
 5662      6574686F 
 5662      73746279 
 5662      6E616D65 
 5662      20737469 
 5663              		.section	.text.lwip_netconn_do_gethostbyname,"ax",%progbits
 5664              		.align	1
 5665              		.global	lwip_netconn_do_gethostbyname
 5666              		.syntax unified
 5667              		.thumb
 5668              		.thumb_func
 5669              		.fpu fpv4-sp-d16
 5671              	lwip_netconn_do_gethostbyname:
 5672              	.LFB166:
2135:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
2136:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
2137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Execute a DNS query
2138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_gethostbyname
2139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
2140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param arg the dns_api_msg pointing to the query
2141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
2142:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
2143:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_gethostbyname(void *arg)
2144:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5673              		.loc 1 2144 1
 5674              		.cfi_startproc
 5675              		@ args = 0, pretend = 0, frame = 16
 5676              		@ frame_needed = 1, uses_anonymous_args = 0
 5677 0000 90B5     		push	{r4, r7, lr}
 5678              	.LCFI145:
 5679              		.cfi_def_cfa_offset 12
 5680              		.cfi_offset 4, -12
 5681              		.cfi_offset 7, -8
 5682              		.cfi_offset 14, -4
 5683 0002 87B0     		sub	sp, sp, #28
 5684              	.LCFI146:
 5685              		.cfi_def_cfa_offset 40
 5686 0004 02AF     		add	r7, sp, #8
 5687              	.LCFI147:
 5688              		.cfi_def_cfa 7, 32
 5689 0006 7860     		str	r0, [r7, #4]
2145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct dns_api_msg *msg = (struct dns_api_msg *)arg;
 5690              		.loc 1 2145 23
 5691 0008 7B68     		ldr	r3, [r7, #4]
 5692 000a FB60     		str	r3, [r7, #12]
2146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t addrtype =
 5693              		.loc 1 2146 8
 5694 000c 0023     		movs	r3, #0
 5695 000e FB72     		strb	r3, [r7, #11]
2147:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
2148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->dns_addrtype;
2149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else
2150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DNS_ADDRTYPE_DEFAULT;
2151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
2152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  /tmp/ccRra5Gb.s 			page 142


2153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EXPR_DEREF(msg->err) = dns_gethostbyname_addrtype(msg->name,
 5696              		.loc 1 2153 30
 5697 0010 FB68     		ldr	r3, [r7, #12]
 5698 0012 1868     		ldr	r0, [r3]
 5699 0014 FB68     		ldr	r3, [r7, #12]
 5700 0016 5968     		ldr	r1, [r3, #4]
 5701              		.loc 1 2153 3
 5702 0018 FB68     		ldr	r3, [r7, #12]
 5703 001a DC68     		ldr	r4, [r3, #12]
 5704              		.loc 1 2153 30
 5705 001c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5706 001e 0093     		str	r3, [sp]
 5707 0020 FB68     		ldr	r3, [r7, #12]
 5708 0022 154A     		ldr	r2, .L376
 5709 0024 FFF7FEFF 		bl	dns_gethostbyname_addrtype
 5710 0028 0346     		mov	r3, r0
 5711              		.loc 1 2153 28
 5712 002a 2370     		strb	r3, [r4]
2154:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                              API_EXPR_REF(msg->addr), lwip_netconn_do_dns_found, msg, addrtype);
2155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
2156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For core locking, only block if we need to wait for answer/timeout */
2157:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (API_EXPR_DEREF(msg->err) == ERR_INPROGRESS) {
 5713              		.loc 1 2157 7
 5714 002c FB68     		ldr	r3, [r7, #12]
 5715 002e DB68     		ldr	r3, [r3, #12]
 5716 0030 93F90030 		ldrsb	r3, [r3]
 5717              		.loc 1 2157 6
 5718 0034 13F1050F 		cmn	r3, #5
 5719 0038 19D1     		bne	.L375
2158:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     UNLOCK_TCPIP_CORE();
 5720              		.loc 1 2158 5
 5721 003a 1048     		ldr	r0, .L376+4
 5722 003c FFF7FEFF 		bl	sys_mutex_unlock
2159:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_wait(API_EXPR_REF_SEM(msg->sem));
 5723              		.loc 1 2159 5
 5724 0040 FB68     		ldr	r3, [r7, #12]
 5725 0042 9B68     		ldr	r3, [r3, #8]
 5726 0044 0021     		movs	r1, #0
 5727 0046 1846     		mov	r0, r3
 5728 0048 FFF7FEFF 		bl	sys_arch_sem_wait
2160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LOCK_TCPIP_CORE();
 5729              		.loc 1 2160 5
 5730 004c 0B48     		ldr	r0, .L376+4
 5731 004e FFF7FEFF 		bl	sys_mutex_lock
2161:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("do_gethostbyname still in progress!!", API_EXPR_DEREF(msg->err) != ERR_INPROGRESS)
 5732              		.loc 1 2161 5
 5733 0052 FB68     		ldr	r3, [r7, #12]
 5734 0054 DB68     		ldr	r3, [r3, #12]
 5735 0056 93F90030 		ldrsb	r3, [r3]
 5736 005a 13F1050F 		cmn	r3, #5
 5737 005e 06D1     		bne	.L375
 5738              		.loc 1 2161 5 is_stmt 0 discriminator 1
 5739 0060 074B     		ldr	r3, .L376+8
 5740 0062 40F67102 		movw	r2, #2161
 5741 0066 0749     		ldr	r1, .L376+12
 5742 0068 0748     		ldr	r0, .L376+16
 5743 006a FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccRra5Gb.s 			page 143


 5744              	.L375:
2162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2163:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
2164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (API_EXPR_DEREF(msg->err) != ERR_INPROGRESS) {
2165:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* on error or immediate success, wake up the application
2166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      * task waiting in netconn_gethostbyname */
2167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(API_EXPR_REF_SEM(msg->sem));
2168:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2169:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
2170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5745              		.loc 1 2170 1 is_stmt 1
 5746 006e 00BF     		nop
 5747 0070 1437     		adds	r7, r7, #20
 5748              	.LCFI148:
 5749              		.cfi_def_cfa_offset 12
 5750 0072 BD46     		mov	sp, r7
 5751              	.LCFI149:
 5752              		.cfi_def_cfa_register 13
 5753              		@ sp needed
 5754 0074 90BD     		pop	{r4, r7, pc}
 5755              	.L377:
 5756 0076 00BF     		.align	2
 5757              	.L376:
 5758 0078 00000000 		.word	lwip_netconn_do_dns_found
 5759 007c 00000000 		.word	lock_tcpip_core
 5760 0080 00000000 		.word	.LC0
 5761 0084 54050000 		.word	.LC42
 5762 0088 40000000 		.word	.LC2
 5763              		.cfi_endproc
 5764              	.LFE166:
 5766              		.text
 5767              	.Letext0:
 5768              		.file 2 "/home/mego/microros_ws/firmware/toolchain/arm-none-eabi/include/machine/_default_types.h"
 5769              		.file 3 "/home/mego/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_stdint.h"
 5770              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 5771              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 5772              		.file 6 "/home/mego/microros_ws/firmware/toolchain/lib/gcc/arm-none-eabi/8.3.1/include/stddef.h"
 5773              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 5774              		.file 8 "/home/mego/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_types.h"
 5775              		.file 9 "/home/mego/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/reent.h"
 5776              		.file 10 "/home/mego/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/lock.h"
 5777              		.file 11 "/home/mego/microros_ws/firmware/toolchain/arm-none-eabi/include/stdlib.h"
 5778              		.file 12 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 5779              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 5780              		.file 14 "/home/mego/microros_ws/firmware/toolchain/arm-none-eabi/include/ctype.h"
 5781              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 5782              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 5783              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 5784              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 5785              		.file 19 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 5786              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 5787              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 5788              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 5789              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 5790              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 5791              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 5792              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
ARM GAS  /tmp/ccRra5Gb.s 			page 144


 5793              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 5794              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 5795              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/api_msg.h"
 5796              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 5797              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 5798              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 5799              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 5800              		.file 34 "Middlewares/Third_Party/LwIP/src/include/lwip/dns.h"
ARM GAS  /tmp/ccRra5Gb.s 			page 145


DEFINED SYMBOLS
                            *ABS*:0000000000000000 api_msg.c
     /tmp/ccRra5Gb.s:21     .rodata.netconn_aborted:0000000000000000 netconn_aborted
     /tmp/ccRra5Gb.s:22     .rodata.netconn_aborted:0000000000000000 $d
     /tmp/ccRra5Gb.s:27     .rodata.netconn_reset:0000000000000000 netconn_reset
     /tmp/ccRra5Gb.s:28     .rodata.netconn_reset:0000000000000000 $d
     /tmp/ccRra5Gb.s:33     .rodata.netconn_closed:0000000000000000 netconn_closed
     /tmp/ccRra5Gb.s:34     .rodata.netconn_closed:0000000000000000 $d
     /tmp/ccRra5Gb.s:36     .rodata:0000000000000000 $d
     /tmp/ccRra5Gb.s:46     .text.lwip_netconn_err_to_msg:0000000000000000 $t
     /tmp/ccRra5Gb.s:53     .text.lwip_netconn_err_to_msg:0000000000000000 lwip_netconn_err_to_msg
     /tmp/ccRra5Gb.s:122    .text.lwip_netconn_err_to_msg:000000000000004c $d
     /tmp/ccRra5Gb.s:136    .text.lwip_netconn_is_err_msg:0000000000000000 $t
     /tmp/ccRra5Gb.s:143    .text.lwip_netconn_is_err_msg:0000000000000000 lwip_netconn_is_err_msg
     /tmp/ccRra5Gb.s:228    .text.lwip_netconn_is_err_msg:000000000000005c $d
     /tmp/ccRra5Gb.s:248    .text.recv_udp:0000000000000000 $t
     /tmp/ccRra5Gb.s:254    .text.recv_udp:0000000000000000 recv_udp
     /tmp/ccRra5Gb.s:425    .text.recv_udp:00000000000000e8 $d
     /tmp/ccRra5Gb.s:447    .text.recv_tcp:0000000000000000 $t
     /tmp/ccRra5Gb.s:453    .text.recv_tcp:0000000000000000 recv_tcp
     /tmp/ccRra5Gb.s:622    .text.recv_tcp:00000000000000f0 $d
     /tmp/ccRra5Gb.s:637    .text.poll_tcp:0000000000000000 $t
     /tmp/ccRra5Gb.s:643    .text.poll_tcp:0000000000000000 poll_tcp
     /tmp/ccRra5Gb.s:4321   .text.lwip_netconn_do_writemore:0000000000000000 lwip_netconn_do_writemore
     /tmp/ccRra5Gb.s:2264   .text.lwip_netconn_do_close_internal:0000000000000000 lwip_netconn_do_close_internal
     /tmp/ccRra5Gb.s:787    .text.poll_tcp:00000000000000bc $d
     /tmp/ccRra5Gb.s:794    .text.sent_tcp:0000000000000000 $t
     /tmp/ccRra5Gb.s:800    .text.sent_tcp:0000000000000000 sent_tcp
     /tmp/ccRra5Gb.s:918    .text.sent_tcp:000000000000009c $d
     /tmp/ccRra5Gb.s:935    .text.err_tcp:0000000000000000 $t
     /tmp/ccRra5Gb.s:941    .text.err_tcp:0000000000000000 err_tcp
     /tmp/ccRra5Gb.s:1213   .text.err_tcp:0000000000000194 $d
     /tmp/ccRra5Gb.s:1223   .text.setup_tcp:0000000000000000 $t
     /tmp/ccRra5Gb.s:1229   .text.setup_tcp:0000000000000000 setup_tcp
     /tmp/ccRra5Gb.s:1285   .text.setup_tcp:0000000000000040 $d
     /tmp/ccRra5Gb.s:1297   .text.accept_function:0000000000000000 $t
     /tmp/ccRra5Gb.s:1303   .text.accept_function:0000000000000000 accept_function
     /tmp/ccRra5Gb.s:1785   .text.netconn_alloc:0000000000000000 netconn_alloc
     /tmp/ccRra5Gb.s:1967   .text.netconn_free:0000000000000000 netconn_free
     /tmp/ccRra5Gb.s:1534   .text.accept_function:000000000000016c $d
     /tmp/ccRra5Gb.s:1545   .text.pcb_new:0000000000000000 $t
     /tmp/ccRra5Gb.s:1551   .text.pcb_new:0000000000000000 pcb_new
     /tmp/ccRra5Gb.s:1708   .text.pcb_new:00000000000000c4 $d
     /tmp/ccRra5Gb.s:1716   .text.lwip_netconn_do_newconn:0000000000000000 $t
     /tmp/ccRra5Gb.s:1723   .text.lwip_netconn_do_newconn:0000000000000000 lwip_netconn_do_newconn
     /tmp/ccRra5Gb.s:1778   .text.netconn_alloc:0000000000000000 $t
     /tmp/ccRra5Gb.s:1941   .text.netconn_alloc:00000000000000d0 $d
     /tmp/ccRra5Gb.s:1960   .text.netconn_free:0000000000000000 $t
     /tmp/ccRra5Gb.s:2054   .text.netconn_free:0000000000000080 $d
     /tmp/ccRra5Gb.s:2063   .text.netconn_drain:0000000000000000 $t
     /tmp/ccRra5Gb.s:2069   .text.netconn_drain:0000000000000000 netconn_drain
     /tmp/ccRra5Gb.s:2258   .text.lwip_netconn_do_close_internal:0000000000000000 $t
     /tmp/ccRra5Gb.s:2707   .text.lwip_netconn_do_close_internal:000000000000029c $d
     /tmp/ccRra5Gb.s:2736   .text.lwip_netconn_do_delconn:0000000000000000 $t
     /tmp/ccRra5Gb.s:2743   .text.lwip_netconn_do_delconn:0000000000000000 lwip_netconn_do_delconn
     /tmp/ccRra5Gb.s:3032   .text.lwip_netconn_do_delconn:00000000000001ac $d
     /tmp/ccRra5Gb.s:3043   .text.lwip_netconn_do_bind:0000000000000000 $t
ARM GAS  /tmp/ccRra5Gb.s 			page 146


     /tmp/ccRra5Gb.s:3050   .text.lwip_netconn_do_bind:0000000000000000 lwip_netconn_do_bind
     /tmp/ccRra5Gb.s:3150   .text.lwip_netconn_do_bind_if:0000000000000000 $t
     /tmp/ccRra5Gb.s:3157   .text.lwip_netconn_do_bind_if:0000000000000000 lwip_netconn_do_bind_if
     /tmp/ccRra5Gb.s:3273   .text.lwip_netconn_do_connected:0000000000000000 $t
     /tmp/ccRra5Gb.s:3279   .text.lwip_netconn_do_connected:0000000000000000 lwip_netconn_do_connected
     /tmp/ccRra5Gb.s:3469   .text.lwip_netconn_do_connected:000000000000010c $d
     /tmp/ccRra5Gb.s:3482   .text.lwip_netconn_do_connect:0000000000000000 $t
     /tmp/ccRra5Gb.s:3489   .text.lwip_netconn_do_connect:0000000000000000 lwip_netconn_do_connect
     /tmp/ccRra5Gb.s:3741   .text.lwip_netconn_do_connect:0000000000000164 $d
     /tmp/ccRra5Gb.s:3751   .text.lwip_netconn_do_disconnect:0000000000000000 $t
     /tmp/ccRra5Gb.s:3758   .text.lwip_netconn_do_disconnect:0000000000000000 lwip_netconn_do_disconnect
     /tmp/ccRra5Gb.s:3820   .text.lwip_netconn_do_listen:0000000000000000 $t
     /tmp/ccRra5Gb.s:3827   .text.lwip_netconn_do_listen:0000000000000000 lwip_netconn_do_listen
     /tmp/ccRra5Gb.s:4054   .text.lwip_netconn_do_listen:000000000000012c $d
     /tmp/ccRra5Gb.s:4059   .text.lwip_netconn_do_send:0000000000000000 $t
     /tmp/ccRra5Gb.s:4066   .text.lwip_netconn_do_send:0000000000000000 lwip_netconn_do_send
     /tmp/ccRra5Gb.s:4194   .text.lwip_netconn_do_recv:0000000000000000 $t
     /tmp/ccRra5Gb.s:4201   .text.lwip_netconn_do_recv:0000000000000000 lwip_netconn_do_recv
     /tmp/ccRra5Gb.s:4315   .text.lwip_netconn_do_writemore:0000000000000000 $t
     /tmp/ccRra5Gb.s:4749   .text.lwip_netconn_do_writemore:0000000000000270 $d
     /tmp/ccRra5Gb.s:4760   .text.lwip_netconn_do_writemore:0000000000000294 $t
     /tmp/ccRra5Gb.s:4951   .text.lwip_netconn_do_write:0000000000000000 $t
     /tmp/ccRra5Gb.s:4958   .text.lwip_netconn_do_write:0000000000000000 lwip_netconn_do_write
     /tmp/ccRra5Gb.s:5138   .text.lwip_netconn_do_write:0000000000000100 $d
     /tmp/ccRra5Gb.s:5152   .text.lwip_netconn_do_getaddr:0000000000000000 $t
     /tmp/ccRra5Gb.s:5159   .text.lwip_netconn_do_getaddr:0000000000000000 lwip_netconn_do_getaddr
     /tmp/ccRra5Gb.s:5375   .text.lwip_netconn_do_getaddr:0000000000000100 $d
     /tmp/ccRra5Gb.s:5382   .text.lwip_netconn_do_close:0000000000000000 $t
     /tmp/ccRra5Gb.s:5389   .text.lwip_netconn_do_close:0000000000000000 lwip_netconn_do_close
     /tmp/ccRra5Gb.s:5577   .text.lwip_netconn_do_close:0000000000000104 $d
     /tmp/ccRra5Gb.s:5586   .text.lwip_netconn_do_dns_found:0000000000000000 $t
     /tmp/ccRra5Gb.s:5592   .text.lwip_netconn_do_dns_found:0000000000000000 lwip_netconn_do_dns_found
     /tmp/ccRra5Gb.s:5664   .text.lwip_netconn_do_gethostbyname:0000000000000000 $t
     /tmp/ccRra5Gb.s:5671   .text.lwip_netconn_do_gethostbyname:0000000000000000 lwip_netconn_do_gethostbyname
     /tmp/ccRra5Gb.s:5758   .text.lwip_netconn_do_gethostbyname:0000000000000078 $d

UNDEFINED SYMBOLS
printf
pbuf_free
sys_mbox_valid
memp_malloc
sys_mbox_trypost
netbuf_delete
tcp_recved
sys_arch_protect
sys_arch_unprotect
sys_sem_valid
sys_sem_signal
tcp_arg
tcp_recv
tcp_sent
tcp_poll
tcp_err
sys_mbox_free
sys_mbox_set_invalid
udp_new_ip_type
udp_recv
ARM GAS  /tmp/ccRra5Gb.s 			page 147


tcp_new_ip_type
sys_mbox_new
sys_sem_new
memp_free
sys_sem_free
sys_sem_set_invalid
sys_arch_mbox_tryfetch
tcp_abort
tcp_accept
tcp_close
tcp_shutdown
udp_remove
sys_mutex_unlock
sys_arch_sem_wait
sys_mutex_lock
lock_tcpip_core
udp_bind
tcp_bind
netif_get_by_index
udp_bind_netif
tcp_bind_netif
udp_connect
tcp_connect
udp_disconnect
tcp_listen_with_backlog_and_err
netconn_err
udp_send
udp_sendto
tcp_write
tcp_output
dns_gethostbyname_addrtype
