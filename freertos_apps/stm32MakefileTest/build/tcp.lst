ARM GAS  /tmp/ccFjPNuy.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tcp.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata
  18              		.align	2
  19              	.LC0:
  20 0000 434C4F53 		.ascii	"CLOSED\000"
  20      454400
  21 0007 00       		.align	2
  22              	.LC1:
  23 0008 4C495354 		.ascii	"LISTEN\000"
  23      454E00
  24 000f 00       		.align	2
  25              	.LC2:
  26 0010 53594E5F 		.ascii	"SYN_SENT\000"
  26      53454E54 
  26      00
  27 0019 000000   		.align	2
  28              	.LC3:
  29 001c 53594E5F 		.ascii	"SYN_RCVD\000"
  29      52435644 
  29      00
  30 0025 000000   		.align	2
  31              	.LC4:
  32 0028 45535441 		.ascii	"ESTABLISHED\000"
  32      424C4953 
  32      48454400 
  33              		.align	2
  34              	.LC5:
  35 0034 46494E5F 		.ascii	"FIN_WAIT_1\000"
  35      57414954 
  35      5F3100
  36 003f 00       		.align	2
  37              	.LC6:
  38 0040 46494E5F 		.ascii	"FIN_WAIT_2\000"
  38      57414954 
  38      5F3200
  39 004b 00       		.align	2
  40              	.LC7:
  41 004c 434C4F53 		.ascii	"CLOSE_WAIT\000"
  41      455F5741 
  41      495400
  42 0057 00       		.align	2
  43              	.LC8:
ARM GAS  /tmp/ccFjPNuy.s 			page 2


  44 0058 434C4F53 		.ascii	"CLOSING\000"
  44      494E4700 
  45              		.align	2
  46              	.LC9:
  47 0060 4C415354 		.ascii	"LAST_ACK\000"
  47      5F41434B 
  47      00
  48 0069 000000   		.align	2
  49              	.LC10:
  50 006c 54494D45 		.ascii	"TIME_WAIT\000"
  50      5F574149 
  50      5400
  51              		.section	.rodata.tcp_state_str,"a"
  52              		.align	2
  55              	tcp_state_str:
  56 0000 00000000 		.word	.LC0
  57 0004 08000000 		.word	.LC1
  58 0008 10000000 		.word	.LC2
  59 000c 1C000000 		.word	.LC3
  60 0010 28000000 		.word	.LC4
  61 0014 34000000 		.word	.LC5
  62 0018 40000000 		.word	.LC6
  63 001c 4C000000 		.word	.LC7
  64 0020 58000000 		.word	.LC8
  65 0024 60000000 		.word	.LC9
  66 0028 6C000000 		.word	.LC10
  67              		.section	.data.tcp_port,"aw"
  68              		.align	1
  71              	tcp_port:
  72 0000 00C0     		.short	-16384
  73              		.comm	tcp_ticks,4,4
  74              		.section	.rodata.tcp_backoff,"a"
  75              		.align	2
  78              	tcp_backoff:
  79 0000 01       		.byte	1
  80 0001 02       		.byte	2
  81 0002 03       		.byte	3
  82 0003 04       		.byte	4
  83 0004 05       		.byte	5
  84 0005 06       		.byte	6
  85 0006 07       		.byte	7
  86 0007 07       		.byte	7
  87 0008 07       		.byte	7
  88 0009 07       		.byte	7
  89 000a 07       		.byte	7
  90 000b 07       		.byte	7
  91 000c 07       		.byte	7
  92              		.section	.rodata.tcp_persist_backoff,"a"
  93              		.align	2
  96              	tcp_persist_backoff:
  97 0000 03       		.byte	3
  98 0001 06       		.byte	6
  99 0002 0C       		.byte	12
 100 0003 18       		.byte	24
 101 0004 30       		.byte	48
 102 0005 60       		.byte	96
 103 0006 78       		.byte	120
ARM GAS  /tmp/ccFjPNuy.s 			page 3


 104              		.comm	tcp_bound_pcbs,4,4
 105              		.comm	tcp_listen_pcbs,4,4
 106              		.comm	tcp_active_pcbs,4,4
 107              		.comm	tcp_tw_pcbs,4,4
 108              		.global	tcp_pcb_lists
 109              		.section	.rodata.tcp_pcb_lists,"a"
 110              		.align	2
 113              	tcp_pcb_lists:
 114 0000 00000000 		.word	tcp_listen_pcbs
 115 0004 00000000 		.word	tcp_bound_pcbs
 116 0008 00000000 		.word	tcp_active_pcbs
 117 000c 00000000 		.word	tcp_tw_pcbs
 118              		.comm	tcp_active_pcbs_changed,1,1
 119              		.section	.bss.tcp_timer,"aw",%nobits
 122              	tcp_timer:
 123 0000 00       		.space	1
 124              		.section	.bss.tcp_timer_ctr,"aw",%nobits
 127              	tcp_timer_ctr:
 128 0000 00       		.space	1
 129              		.section	.text.tcp_init,"ax",%progbits
 130              		.align	1
 131              		.global	tcp_init
 132              		.arch armv7e-m
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 136              		.fpu fpv4-sp-d16
 138              	tcp_init:
 139              	.LFB133:
 140              		.file 1 "Middlewares/Third_Party/LwIP/src/core/tcp.c"
   1:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Transmission Control Protocol for IP
   4:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * See also @ref tcp_raw
   5:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
   6:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @defgroup tcp_raw TCP
   7:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup callbackstyle_api
   8:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Transmission Control Protocol for IP\n
   9:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @see @ref api
  10:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  11:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Common functions for the TCP implementation, such as functions
  12:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * for manipulating the data structures and the TCP timer functions. TCP functions
  13:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * related to input and output is found in tcp_in.c and tcp_out.c respectively.\n
  14:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  15:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * TCP connection setup
  16:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * --------------------
  17:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The functions used for setting up connections is similar to that of
  18:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the sequential API and of the BSD socket API. A new TCP connection
  19:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * identifier (i.e., a protocol control block - PCB) is created with the
  20:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * tcp_new() function. This PCB can then be either set to listen for new
  21:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * incoming connections or be explicitly connected to another host.
  22:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_new()
  23:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_bind()
  24:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_listen() and tcp_listen_with_backlog()
  25:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_accept()
  26:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_connect()
  27:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
ARM GAS  /tmp/ccFjPNuy.s 			page 4


  28:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Sending TCP data
  29:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ----------------
  30:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * TCP data is sent by enqueueing the data with a call to tcp_write() and
  31:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * triggering to send by calling tcp_output(). When the data is successfully
  32:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * transmitted to the remote host, the application will be notified with a
  33:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * call to a specified callback function.
  34:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_write()
  35:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_output()
  36:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_sent()
  37:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  38:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Receiving TCP data
  39:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ------------------
  40:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * TCP data reception is callback based - an application specified
  41:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback function is called when new data arrives. When the
  42:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * application has taken the data, it has to call the tcp_recved()
  43:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function to indicate that TCP can advertise increase the receive
  44:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * window.
  45:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_recv()
  46:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_recved()
  47:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  48:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Application polling
  49:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * -------------------
  50:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * When a connection is idle (i.e., no data is either transmitted or
  51:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * received), lwIP will repeatedly poll the application by calling a
  52:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * specified callback function. This can be used either as a watchdog
  53:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * timer for killing connections that have stayed idle for too long, or
  54:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * as a method of waiting for memory to become available. For instance,
  55:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * if a call to tcp_write() has failed because memory wasn't available,
  56:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the application may use the polling functionality to call tcp_write()
  57:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * again when the connection has been idle for a while.
  58:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_poll()
  59:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  60:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closing and aborting connections
  61:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * --------------------------------
  62:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_close()
  63:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_abort()
  64:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * - tcp_err()
  65:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
  66:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
  67:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
  68:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /*
  69:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  70:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * All rights reserved.
  71:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  72:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Redistribution and use in source and binary forms, with or without modification,
  73:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * are permitted provided that the following conditions are met:
  74:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  75:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  76:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    this list of conditions and the following disclaimer.
  77:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  78:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    this list of conditions and the following disclaimer in the documentation
  79:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    and/or other materials provided with the distribution.
  80:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 3. The name of the author may not be used to endorse or promote products
  81:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *    derived from this software without specific prior written permission.
  82:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  83:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  84:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
ARM GAS  /tmp/ccFjPNuy.s 			page 5


  85:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  86:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  87:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  88:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  89:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  90:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  91:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  92:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OF SUCH DAMAGE.
  93:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  94:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This file is part of the lwIP TCP/IP stack.
  95:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  96:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Author: Adam Dunkels <adam@sics.se>
  97:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
  98:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
  99:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 100:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/opt.h"
 101:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 102:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP /* don't build if not configured for use in lwipopts.h */
 103:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 104:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/def.h"
 105:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/mem.h"
 106:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/memp.h"
 107:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/tcp.h"
 108:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/priv/tcp_priv.h"
 109:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/debug.h"
 110:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/stats.h"
 111:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/ip6.h"
 112:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/ip6_addr.h"
 113:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include "lwip/nd6.h"
 114:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 115:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include <string.h>
 116:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifdef LWIP_HOOK_FILENAME
 118:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #include LWIP_HOOK_FILENAME
 119:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 120:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 121:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifndef TCP_LOCAL_PORT_RANGE_START
 122:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* From http://www.iana.org/assignments/port-numbers:
 123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    "The Dynamic and/or Private Ports are those from 49152 through 65535" */
 124:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_LOCAL_PORT_RANGE_START        0xc000
 125:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_LOCAL_PORT_RANGE_END          0xffff
 126:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_ENSURE_LOCAL_PORT_RANGE(port) ((u16_t)(((port) & (u16_t)~TCP_LOCAL_PORT_RANGE_START) + 
 127:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 128:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 129:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_KEEPALIVE
 130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_DUR(pcb)   ((pcb)->keep_cnt * (pcb)->keep_intvl)
 131:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_INTVL(pcb) ((pcb)->keep_intvl)
 132:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_TCP_KEEPALIVE */
 133:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_DUR(pcb)   TCP_MAXIDLE
 134:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define TCP_KEEP_INTVL(pcb) TCP_KEEPINTVL_DEFAULT
 135:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_TCP_KEEPALIVE */
 136:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 137:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* As initial send MSS, we use TCP_MSS but limit it to 536. */
 138:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_MSS > 536
 139:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define INITIAL_MSS 536
 140:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else
 141:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #define INITIAL_MSS TCP_MSS
ARM GAS  /tmp/ccFjPNuy.s 			page 6


 142:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 143:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 144:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const char *const tcp_state_str[] = {
 145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSED",
 146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "LISTEN",
 147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "SYN_SENT",
 148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "SYN_RCVD",
 149:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "ESTABLISHED",
 150:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "FIN_WAIT_1",
 151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "FIN_WAIT_2",
 152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSE_WAIT",
 153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "CLOSING",
 154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "LAST_ACK",
 155:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   "TIME_WAIT"
 156:Middlewares/Third_Party/LwIP/src/core/tcp.c **** };
 157:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 158:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* last local TCP port */
 159:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t tcp_port = TCP_LOCAL_PORT_RANGE_START;
 160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 161:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Incremented every coarse grained timer shot (typically every 500 ms). */
 162:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t tcp_ticks;
 163:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const u8_t tcp_backoff[13] =
 164:Middlewares/Third_Party/LwIP/src/core/tcp.c **** { 1, 2, 3, 4, 5, 6, 7, 7, 7, 7, 7, 7, 7};
 165:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Times per slowtmr hits */
 166:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static const u8_t tcp_persist_backoff[7] = { 3, 6, 12, 24, 48, 96, 120 };
 167:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 168:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* The TCP PCB lists. */
 169:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 170:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs bound but not yet (connected || listening) */
 171:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_bound_pcbs;
 172:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs in LISTEN state */
 173:Middlewares/Third_Party/LwIP/src/core/tcp.c **** union tcp_listen_pcbs_t tcp_listen_pcbs;
 174:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs that are in a state in which
 175:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * they accept or send data. */
 176:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_active_pcbs;
 177:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** List of all TCP PCBs in TIME-WAIT state */
 178:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *tcp_tw_pcbs;
 179:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 180:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** An array with all (non-temporary) PCB lists, mainly used for smaller code size */
 181:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb **const tcp_pcb_lists[] = {&tcp_listen_pcbs.pcbs, &tcp_bound_pcbs,
 182:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          &tcp_active_pcbs, &tcp_tw_pcbs
 183:Middlewares/Third_Party/LwIP/src/core/tcp.c **** };
 184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 185:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u8_t tcp_active_pcbs_changed;
 186:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 187:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Timer counter to handle calling slow-timer from tcp_tmr() */
 188:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u8_t tcp_timer;
 189:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u8_t tcp_timer_ctr;
 190:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t tcp_new_port(void);
 191:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 192:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t tcp_close_shutdown_fin(struct tcp_pcb *pcb);
 193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 194:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void tcp_ext_arg_invoke_callbacks_destroyed(struct tcp_pcb_ext_args *ext_args);
 195:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 196:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 197:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 198:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Initialize this module.
ARM GAS  /tmp/ccFjPNuy.s 			page 7


 199:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 200:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 201:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_init(void)
 202:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 141              		.loc 1 202 1
 142              		.cfi_startproc
 143              		@ args = 0, pretend = 0, frame = 0
 144              		@ frame_needed = 1, uses_anonymous_args = 0
 145 0000 80B5     		push	{r7, lr}
 146              	.LCFI0:
 147              		.cfi_def_cfa_offset 8
 148              		.cfi_offset 7, -8
 149              		.cfi_offset 14, -4
 150 0002 00AF     		add	r7, sp, #0
 151              	.LCFI1:
 152              		.cfi_def_cfa_register 7
 203:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifdef LWIP_RAND
 204:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_port = TCP_ENSURE_LOCAL_PORT_RANGE(LWIP_RAND());
 153              		.loc 1 204 14
 154 0004 FFF7FEFF 		bl	rand
 155 0008 0346     		mov	r3, r0
 156 000a 9BB2     		uxth	r3, r3
 157 000c C3F30D03 		ubfx	r3, r3, #0, #14
 158 0010 9BB2     		uxth	r3, r3
 159 0012 A3F58043 		sub	r3, r3, #16384
 160 0016 9AB2     		uxth	r2, r3
 161              		.loc 1 204 12
 162 0018 014B     		ldr	r3, .L2
 163 001a 1A80     		strh	r2, [r3]	@ movhi
 205:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_RAND */
 206:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 164              		.loc 1 206 1
 165 001c 00BF     		nop
 166 001e 80BD     		pop	{r7, pc}
 167              	.L3:
 168              		.align	2
 169              	.L2:
 170 0020 00000000 		.word	tcp_port
 171              		.cfi_endproc
 172              	.LFE133:
 174              		.section	.rodata
 175 0076 0000     		.align	2
 176              	.LC11:
 177 0078 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/tcp.c\000"
 177      6C657761 
 177      7265732F 
 177      54686972 
 177      645F5061 
 178              		.align	2
 179              	.LC12:
 180 00a4 7463705F 		.ascii	"tcp_free: LISTEN\000"
 180      66726565 
 180      3A204C49 
 180      5354454E 
 180      00
 181 00b5 000000   		.align	2
 182              	.LC13:
ARM GAS  /tmp/ccFjPNuy.s 			page 8


 183 00b8 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 183      7274696F 
 183      6E202225 
 183      73222066 
 183      61696C65 
 184              		.section	.text.tcp_free,"ax",%progbits
 185              		.align	1
 186              		.global	tcp_free
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 190              		.fpu fpv4-sp-d16
 192              	tcp_free:
 193              	.LFB134:
 207:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 208:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Free a tcp pcb */
 209:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 210:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_free(struct tcp_pcb *pcb)
 211:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 194              		.loc 1 211 1
 195              		.cfi_startproc
 196              		@ args = 0, pretend = 0, frame = 8
 197              		@ frame_needed = 1, uses_anonymous_args = 0
 198 0000 80B5     		push	{r7, lr}
 199              	.LCFI2:
 200              		.cfi_def_cfa_offset 8
 201              		.cfi_offset 7, -8
 202              		.cfi_offset 14, -4
 203 0002 82B0     		sub	sp, sp, #8
 204              	.LCFI3:
 205              		.cfi_def_cfa_offset 16
 206 0004 00AF     		add	r7, sp, #0
 207              	.LCFI4:
 208              		.cfi_def_cfa_register 7
 209 0006 7860     		str	r0, [r7, #4]
 212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_free: LISTEN", pcb->state != LISTEN);
 210              		.loc 1 212 3
 211 0008 7B68     		ldr	r3, [r7, #4]
 212 000a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 213 000c 012B     		cmp	r3, #1
 214 000e 05D1     		bne	.L5
 215              		.loc 1 212 3 is_stmt 0 discriminator 1
 216 0010 064B     		ldr	r3, .L6
 217 0012 D422     		movs	r2, #212
 218 0014 0649     		ldr	r1, .L6+4
 219 0016 0748     		ldr	r0, .L6+8
 220 0018 FFF7FEFF 		bl	printf
 221              	.L5:
 213:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_ext_arg_invoke_callbacks_destroyed(pcb->ext_args);
 215:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   memp_free(MEMP_TCP_PCB, pcb);
 222              		.loc 1 216 3 is_stmt 1
 223 001c 7968     		ldr	r1, [r7, #4]
 224 001e 0120     		movs	r0, #1
 225 0020 FFF7FEFF 		bl	memp_free
 217:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
ARM GAS  /tmp/ccFjPNuy.s 			page 9


 226              		.loc 1 217 1
 227 0024 00BF     		nop
 228 0026 0837     		adds	r7, r7, #8
 229              	.LCFI5:
 230              		.cfi_def_cfa_offset 8
 231 0028 BD46     		mov	sp, r7
 232              	.LCFI6:
 233              		.cfi_def_cfa_register 13
 234              		@ sp needed
 235 002a 80BD     		pop	{r7, pc}
 236              	.L7:
 237              		.align	2
 238              	.L6:
 239 002c 78000000 		.word	.LC11
 240 0030 A4000000 		.word	.LC12
 241 0034 B8000000 		.word	.LC13
 242              		.cfi_endproc
 243              	.LFE134:
 245              		.section	.rodata
 246              		.align	2
 247              	.LC14:
 248 00e0 7463705F 		.ascii	"tcp_free_listen: !LISTEN\000"
 248      66726565 
 248      5F6C6973 
 248      74656E3A 
 248      20214C49 
 249              		.section	.text.tcp_free_listen,"ax",%progbits
 250              		.align	1
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv4-sp-d16
 256              	tcp_free_listen:
 257              	.LFB135:
 218:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 219:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Free a tcp listen pcb */
 220:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 221:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_free_listen(struct tcp_pcb *pcb)
 222:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 258              		.loc 1 222 1
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 8
 261              		@ frame_needed = 1, uses_anonymous_args = 0
 262 0000 80B5     		push	{r7, lr}
 263              	.LCFI7:
 264              		.cfi_def_cfa_offset 8
 265              		.cfi_offset 7, -8
 266              		.cfi_offset 14, -4
 267 0002 82B0     		sub	sp, sp, #8
 268              	.LCFI8:
 269              		.cfi_def_cfa_offset 16
 270 0004 00AF     		add	r7, sp, #0
 271              	.LCFI9:
 272              		.cfi_def_cfa_register 7
 273 0006 7860     		str	r0, [r7, #4]
 223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_free_listen: !LISTEN", pcb->state != LISTEN);
 274              		.loc 1 223 3
ARM GAS  /tmp/ccFjPNuy.s 			page 10


 275 0008 7B68     		ldr	r3, [r7, #4]
 276 000a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 277 000c 012B     		cmp	r3, #1
 278 000e 05D1     		bne	.L9
 279              		.loc 1 223 3 is_stmt 0 discriminator 1
 280 0010 064B     		ldr	r3, .L10
 281 0012 DF22     		movs	r2, #223
 282 0014 0649     		ldr	r1, .L10+4
 283 0016 0748     		ldr	r0, .L10+8
 284 0018 FFF7FEFF 		bl	printf
 285              	.L9:
 224:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_ext_arg_invoke_callbacks_destroyed(pcb->ext_args);
 226:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 227:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   memp_free(MEMP_TCP_PCB_LISTEN, pcb);
 286              		.loc 1 227 3 is_stmt 1
 287 001c 7968     		ldr	r1, [r7, #4]
 288 001e 0220     		movs	r0, #2
 289 0020 FFF7FEFF 		bl	memp_free
 228:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 290              		.loc 1 228 1
 291 0024 00BF     		nop
 292 0026 0837     		adds	r7, r7, #8
 293              	.LCFI10:
 294              		.cfi_def_cfa_offset 8
 295 0028 BD46     		mov	sp, r7
 296              	.LCFI11:
 297              		.cfi_def_cfa_register 13
 298              		@ sp needed
 299 002a 80BD     		pop	{r7, pc}
 300              	.L11:
 301              		.align	2
 302              	.L10:
 303 002c 78000000 		.word	.LC11
 304 0030 E0000000 		.word	.LC14
 305 0034 B8000000 		.word	.LC13
 306              		.cfi_endproc
 307              	.LFE135:
 309              		.section	.text.tcp_tmr,"ax",%progbits
 310              		.align	1
 311              		.global	tcp_tmr
 312              		.syntax unified
 313              		.thumb
 314              		.thumb_func
 315              		.fpu fpv4-sp-d16
 317              	tcp_tmr:
 318              	.LFB136:
 229:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 230:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 231:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called periodically to dispatch TCP timers.
 232:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 233:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 234:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_tmr(void)
 235:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 319              		.loc 1 235 1
 320              		.cfi_startproc
 321              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccFjPNuy.s 			page 11


 322              		@ frame_needed = 1, uses_anonymous_args = 0
 323 0000 80B5     		push	{r7, lr}
 324              	.LCFI12:
 325              		.cfi_def_cfa_offset 8
 326              		.cfi_offset 7, -8
 327              		.cfi_offset 14, -4
 328 0002 00AF     		add	r7, sp, #0
 329              	.LCFI13:
 330              		.cfi_def_cfa_register 7
 236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Call tcp_fasttmr() every 250 ms */
 237:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_fasttmr();
 331              		.loc 1 237 3
 332 0004 FFF7FEFF 		bl	tcp_fasttmr
 238:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 239:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (++tcp_timer & 1) {
 333              		.loc 1 239 7
 334 0008 074B     		ldr	r3, .L15
 335 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 336 000c 0133     		adds	r3, r3, #1
 337 000e DAB2     		uxtb	r2, r3
 338              		.loc 1 239 6
 339 0010 054B     		ldr	r3, .L15
 340 0012 1A70     		strb	r2, [r3]
 341              		.loc 1 239 7
 342 0014 044B     		ldr	r3, .L15
 343 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 344              		.loc 1 239 19
 345 0018 03F00103 		and	r3, r3, #1
 346              		.loc 1 239 6
 347 001c 002B     		cmp	r3, #0
 348 001e 01D0     		beq	.L14
 240:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Call tcp_slowtmr() every 500 ms, i.e., every other timer
 241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        tcp_tmr() is called. */
 242:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_slowtmr();
 349              		.loc 1 242 5
 350 0020 FFF7FEFF 		bl	tcp_slowtmr
 351              	.L14:
 243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 244:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 352              		.loc 1 244 1
 353 0024 00BF     		nop
 354 0026 80BD     		pop	{r7, pc}
 355              	.L16:
 356              		.align	2
 357              	.L15:
 358 0028 00000000 		.word	tcp_timer
 359              		.cfi_endproc
 360              	.LFE136:
 362              		.section	.rodata
 363 00f9 000000   		.align	2
 364              	.LC15:
 365 00fc 7463705F 		.ascii	"tcp_remove_listener: invalid listener\000"
 365      72656D6F 
 365      76655F6C 
 365      69737465 
 365      6E65723A 
 366              		.section	.text.tcp_remove_listener,"ax",%progbits
ARM GAS  /tmp/ccFjPNuy.s 			page 12


 367              		.align	1
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 371              		.fpu fpv4-sp-d16
 373              	tcp_remove_listener:
 374              	.LFB137:
 245:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 246:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 247:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Called when a listen pcb is closed. Iterates one pcb list and removes the
 248:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * closed listener pcb from pcb->listener if matching.
 249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 250:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 251:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_remove_listener(struct tcp_pcb *list, struct tcp_pcb_listen *lpcb)
 252:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 375              		.loc 1 252 1
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 16
 378              		@ frame_needed = 1, uses_anonymous_args = 0
 379 0000 80B5     		push	{r7, lr}
 380              	.LCFI14:
 381              		.cfi_def_cfa_offset 8
 382              		.cfi_offset 7, -8
 383              		.cfi_offset 14, -4
 384 0002 84B0     		sub	sp, sp, #16
 385              	.LCFI15:
 386              		.cfi_def_cfa_offset 24
 387 0004 00AF     		add	r7, sp, #0
 388              	.LCFI16:
 389              		.cfi_def_cfa_register 7
 390 0006 7860     		str	r0, [r7, #4]
 391 0008 3960     		str	r1, [r7]
 253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
 254:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_remove_listener: invalid listener", lpcb != NULL);
 392              		.loc 1 255 3
 393 000a 3B68     		ldr	r3, [r7]
 394 000c 002B     		cmp	r3, #0
 395 000e 05D1     		bne	.L18
 396              		.loc 1 255 3 is_stmt 0 discriminator 1
 397 0010 0D4B     		ldr	r3, .L22
 398 0012 FF22     		movs	r2, #255
 399 0014 0D49     		ldr	r1, .L22+4
 400 0016 0E48     		ldr	r0, .L22+8
 401 0018 FFF7FEFF 		bl	printf
 402              	.L18:
 256:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = list; pcb != NULL; pcb = pcb->next) {
 403              		.loc 1 257 12 is_stmt 1
 404 001c 7B68     		ldr	r3, [r7, #4]
 405 001e FB60     		str	r3, [r7, #12]
 406              		.loc 1 257 3
 407 0020 0AE0     		b	.L19
 408              	.L21:
 258:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener == lpcb) {
 409              		.loc 1 258 12
 410 0022 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccFjPNuy.s 			page 13


 411 0024 DB6F     		ldr	r3, [r3, #124]
 412              		.loc 1 258 8
 413 0026 3A68     		ldr	r2, [r7]
 414 0028 9A42     		cmp	r2, r3
 415 002a 02D1     		bne	.L20
 259:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener = NULL;
 416              		.loc 1 259 21
 417 002c FB68     		ldr	r3, [r7, #12]
 418 002e 0022     		movs	r2, #0
 419 0030 DA67     		str	r2, [r3, #124]
 420              	.L20:
 257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener == lpcb) {
 421              		.loc 1 257 37 discriminator 2
 422 0032 FB68     		ldr	r3, [r7, #12]
 423 0034 DB68     		ldr	r3, [r3, #12]
 424 0036 FB60     		str	r3, [r7, #12]
 425              	.L19:
 257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener == lpcb) {
 426              		.loc 1 257 3 discriminator 1
 427 0038 FB68     		ldr	r3, [r7, #12]
 428 003a 002B     		cmp	r3, #0
 429 003c F1D1     		bne	.L21
 260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 262:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 430              		.loc 1 262 1
 431 003e 00BF     		nop
 432 0040 1037     		adds	r7, r7, #16
 433              	.LCFI17:
 434              		.cfi_def_cfa_offset 8
 435 0042 BD46     		mov	sp, r7
 436              	.LCFI18:
 437              		.cfi_def_cfa_register 13
 438              		@ sp needed
 439 0044 80BD     		pop	{r7, pc}
 440              	.L23:
 441 0046 00BF     		.align	2
 442              	.L22:
 443 0048 78000000 		.word	.LC11
 444 004c FC000000 		.word	.LC15
 445 0050 B8000000 		.word	.LC13
 446              		.cfi_endproc
 447              	.LFE137:
 449              		.section	.rodata
 450 0122 0000     		.align	2
 451              	.LC16:
 452 0124 70636220 		.ascii	"pcb != NULL\000"
 452      213D204E 
 452      554C4C00 
 453              		.align	2
 454              	.LC17:
 455 0130 7063622D 		.ascii	"pcb->state == LISTEN\000"
 455      3E737461 
 455      7465203D 
 455      3D204C49 
 455      5354454E 
 456              		.section	.text.tcp_listen_closed,"ax",%progbits
ARM GAS  /tmp/ccFjPNuy.s 			page 14


 457              		.align	1
 458              		.syntax unified
 459              		.thumb
 460              		.thumb_func
 461              		.fpu fpv4-sp-d16
 463              	tcp_listen_closed:
 464              	.LFB138:
 263:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 264:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 265:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Called when a listen pcb is closed. Iterates all pcb lists and removes the
 266:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * closed listener pcb from pcb->listener if matching.
 267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 268:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
 269:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_closed(struct tcp_pcb *pcb)
 270:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 465              		.loc 1 270 1
 466              		.cfi_startproc
 467              		@ args = 0, pretend = 0, frame = 16
 468              		@ frame_needed = 1, uses_anonymous_args = 0
 469 0000 80B5     		push	{r7, lr}
 470              	.LCFI19:
 471              		.cfi_def_cfa_offset 8
 472              		.cfi_offset 7, -8
 473              		.cfi_offset 14, -4
 474 0002 84B0     		sub	sp, sp, #16
 475              	.LCFI20:
 476              		.cfi_def_cfa_offset 24
 477 0004 00AF     		add	r7, sp, #0
 478              	.LCFI21:
 479              		.cfi_def_cfa_register 7
 480 0006 7860     		str	r0, [r7, #4]
 271:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API || TCP_LISTEN_BACKLOG
 272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   size_t i;
 273:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 481              		.loc 1 273 3
 482 0008 7B68     		ldr	r3, [r7, #4]
 483 000a 002B     		cmp	r3, #0
 484 000c 06D1     		bne	.L25
 485              		.loc 1 273 3 is_stmt 0 discriminator 1
 486 000e 144B     		ldr	r3, .L29
 487 0010 40F21112 		movw	r2, #273
 488 0014 1349     		ldr	r1, .L29+4
 489 0016 1448     		ldr	r0, .L29+8
 490 0018 FFF7FEFF 		bl	printf
 491              	.L25:
 274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb->state == LISTEN", pcb->state == LISTEN);
 492              		.loc 1 274 3 is_stmt 1
 493 001c 7B68     		ldr	r3, [r7, #4]
 494 001e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 495 0020 012B     		cmp	r3, #1
 496 0022 06D0     		beq	.L26
 497              		.loc 1 274 3 is_stmt 0 discriminator 1
 498 0024 0E4B     		ldr	r3, .L29
 499 0026 4FF48972 		mov	r2, #274
 500 002a 1049     		ldr	r1, .L29+12
 501 002c 0E48     		ldr	r0, .L29+8
 502 002e FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccFjPNuy.s 			page 15


 503              	.L26:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 1; i < LWIP_ARRAYSIZE(tcp_pcb_lists); i++) {
 504              		.loc 1 275 10 is_stmt 1
 505 0032 0123     		movs	r3, #1
 506 0034 FB60     		str	r3, [r7, #12]
 507              		.loc 1 275 3
 508 0036 0BE0     		b	.L27
 509              	.L28:
 276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_remove_listener(*tcp_pcb_lists[i], (struct tcp_pcb_listen *)pcb);
 510              		.loc 1 276 39 discriminator 3
 511 0038 0D4A     		ldr	r2, .L29+16
 512 003a FB68     		ldr	r3, [r7, #12]
 513 003c 52F82330 		ldr	r3, [r2, r3, lsl #2]
 514              		.loc 1 276 5 discriminator 3
 515 0040 1B68     		ldr	r3, [r3]
 516 0042 7968     		ldr	r1, [r7, #4]
 517 0044 1846     		mov	r0, r3
 518 0046 FFF7FEFF 		bl	tcp_remove_listener
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 1; i < LWIP_ARRAYSIZE(tcp_pcb_lists); i++) {
 519              		.loc 1 275 51 discriminator 3
 520 004a FB68     		ldr	r3, [r7, #12]
 521 004c 0133     		adds	r3, r3, #1
 522 004e FB60     		str	r3, [r7, #12]
 523              	.L27:
 275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 1; i < LWIP_ARRAYSIZE(tcp_pcb_lists); i++) {
 524              		.loc 1 275 3 discriminator 1
 525 0050 FB68     		ldr	r3, [r7, #12]
 526 0052 032B     		cmp	r3, #3
 527 0054 F0D9     		bls	.L28
 277:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 278:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 279:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(pcb);
 280:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 528              		.loc 1 280 1
 529 0056 00BF     		nop
 530 0058 1037     		adds	r7, r7, #16
 531              	.LCFI22:
 532              		.cfi_def_cfa_offset 8
 533 005a BD46     		mov	sp, r7
 534              	.LCFI23:
 535              		.cfi_def_cfa_register 13
 536              		@ sp needed
 537 005c 80BD     		pop	{r7, pc}
 538              	.L30:
 539 005e 00BF     		.align	2
 540              	.L29:
 541 0060 78000000 		.word	.LC11
 542 0064 24010000 		.word	.LC16
 543 0068 B8000000 		.word	.LC13
 544 006c 30010000 		.word	.LC17
 545 0070 00000000 		.word	tcp_pcb_lists
 546              		.cfi_endproc
 547              	.LFE138:
 549              		.section	.rodata
 550 0145 000000   		.align	2
 551              	.LC18:
 552 0148 7463705F 		.ascii	"tcp_close_shutdown: invalid pcb\000"
ARM GAS  /tmp/ccFjPNuy.s 			page 16


 552      636C6F73 
 552      655F7368 
 552      7574646F 
 552      776E3A20 
 553              		.align	2
 554              	.LC19:
 555 0168 7063622D 		.ascii	"pcb->flags & TF_RXCLOSED\000"
 555      3E666C61 
 555      67732026 
 555      2054465F 
 555      5258434C 
 556              		.section	.text.tcp_close_shutdown,"ax",%progbits
 557              		.align	1
 558              		.syntax unified
 559              		.thumb
 560              		.thumb_func
 561              		.fpu fpv4-sp-d16
 563              	tcp_close_shutdown:
 564              	.LFB139:
 281:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 282:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_LISTEN_BACKLOG
 283:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** @ingroup tcp_raw
 284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Delay accepting a connection in respect to the listen backlog:
 285:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the number of outstanding connections is increased until
 286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * tcp_backlog_accepted() is called.
 287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: the caller is responsible for calling tcp_backlog_accepted()
 289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or else the backlog feature will get out of sync!
 290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 291:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the connection pcb which is not fully accepted yet
 292:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 293:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 294:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_backlog_delayed(struct tcp_pcb *pcb)
 295:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 296:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 297:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->flags & TF_BACKLOGPEND) == 0) {
 299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener != NULL) {
 300:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener->accepts_pending++;
 301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("accepts_pending != 0", pcb->listener->accepts_pending != 0);
 302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_set_flags(pcb, TF_BACKLOGPEND);
 303:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 305:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 306:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 307:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** @ingroup tcp_raw
 308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * A delayed-accept a connection is accepted (or closed/aborted): decreases
 309:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the number of outstanding connections after calling tcp_backlog_delayed().
 310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: the caller is responsible for calling tcp_backlog_accepted()
 312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or else the backlog feature will get out of sync!
 313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the connection pcb which is now fully accepted (or closed/aborted)
 315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 316:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 317:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_backlog_accepted(struct tcp_pcb *pcb)
 318:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
ARM GAS  /tmp/ccFjPNuy.s 			page 17


 319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->flags & TF_BACKLOGPEND) != 0) {
 322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->listener != NULL) {
 323:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("accepts_pending != 0", pcb->listener->accepts_pending != 0);
 324:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->listener->accepts_pending--;
 325:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_clear_flags(pcb, TF_BACKLOGPEND);
 326:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 327:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 328:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 329:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_LISTEN_BACKLOG */
 330:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 331:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closes the TX side of a connection held by the PCB.
 333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * For tcp_close(), a RST is sent if the application didn't receive all data
 334:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (tcp_recved() not called for all data passed to recv callback).
 335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Listening pcbs are freed and may not be referenced any more.
 337:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connection pcbs are freed if not yet connected and may not be referenced
 338:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any more. If a connection is established (at least SYN received or in
 339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a closing state), the connection is closed, and put in a closing state.
 340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is then automatically freed in tcp_slowtmr(). It is therefore
 341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * unsafe to reference it.
 342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to close
 344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if connection has been closed
 345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t if closing failed and pcb is not freed
 346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 347:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 348:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close_shutdown(struct tcp_pcb *pcb, u8_t rst_on_unacked_data)
 349:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 565              		.loc 1 349 1
 566              		.cfi_startproc
 567              		@ args = 0, pretend = 0, frame = 16
 568              		@ frame_needed = 1, uses_anonymous_args = 0
 569 0000 B0B5     		push	{r4, r5, r7, lr}
 570              	.LCFI24:
 571              		.cfi_def_cfa_offset 16
 572              		.cfi_offset 4, -16
 573              		.cfi_offset 5, -12
 574              		.cfi_offset 7, -8
 575              		.cfi_offset 14, -4
 576 0002 88B0     		sub	sp, sp, #32
 577              	.LCFI25:
 578              		.cfi_def_cfa_offset 48
 579 0004 04AF     		add	r7, sp, #16
 580              	.LCFI26:
 581              		.cfi_def_cfa 7, 32
 582 0006 7860     		str	r0, [r7, #4]
 583 0008 0B46     		mov	r3, r1
 584 000a FB70     		strb	r3, [r7, #3]
 350:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_close_shutdown: invalid pcb", pcb != NULL);
 585              		.loc 1 350 3
 586 000c 7B68     		ldr	r3, [r7, #4]
 587 000e 002B     		cmp	r3, #0
 588 0010 06D1     		bne	.L32
 589              		.loc 1 350 3 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccFjPNuy.s 			page 18


 590 0012 614B     		ldr	r3, .L55
 591 0014 4FF4AF72 		mov	r2, #350
 592 0018 6049     		ldr	r1, .L55+4
 593 001a 6148     		ldr	r0, .L55+8
 594 001c FFF7FEFF 		bl	printf
 595              	.L32:
 351:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (rst_on_unacked_data && ((pcb->state == ESTABLISHED) || (pcb->state == CLOSE_WAIT))) {
 596              		.loc 1 352 6 is_stmt 1
 597 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 598 0022 002B     		cmp	r3, #0
 599 0024 66D0     		beq	.L33
 600              		.loc 1 352 35 discriminator 1
 601 0026 7B68     		ldr	r3, [r7, #4]
 602 0028 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 603              		.loc 1 352 27 discriminator 1
 604 002a 042B     		cmp	r3, #4
 605 002c 03D0     		beq	.L34
 606              		.loc 1 352 66 discriminator 2
 607 002e 7B68     		ldr	r3, [r7, #4]
 608 0030 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 609              		.loc 1 352 59 discriminator 2
 610 0032 072B     		cmp	r3, #7
 611 0034 5ED1     		bne	.L33
 612              	.L34:
 353:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->refused_data != NULL) || (pcb->rcv_wnd != TCP_WND_MAX(pcb))) {
 613              		.loc 1 353 13
 614 0036 7B68     		ldr	r3, [r7, #4]
 615 0038 9B6F     		ldr	r3, [r3, #120]
 616              		.loc 1 353 8
 617 003a 002B     		cmp	r3, #0
 618 003c 04D1     		bne	.L35
 619              		.loc 1 353 44 discriminator 1
 620 003e 7B68     		ldr	r3, [r7, #4]
 621 0040 1B8D     		ldrh	r3, [r3, #40]
 622              		.loc 1 353 37 discriminator 1
 623 0042 B3F5066F 		cmp	r3, #2144
 624 0046 55D0     		beq	.L33
 625              	.L35:
 354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Not all data received by application, send RST to tell the remote
 355:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          side about this. */
 356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("pcb->flags & TF_RXCLOSED", pcb->flags & TF_RXCLOSED);
 626              		.loc 1 356 7
 627 0048 7B68     		ldr	r3, [r7, #4]
 628 004a 5B8B     		ldrh	r3, [r3, #26]
 629 004c 03F01003 		and	r3, r3, #16
 630 0050 002B     		cmp	r3, #0
 631 0052 06D1     		bne	.L36
 632              		.loc 1 356 7 is_stmt 0 discriminator 1
 633 0054 504B     		ldr	r3, .L55
 634 0056 4FF4B272 		mov	r2, #356
 635 005a 5249     		ldr	r1, .L55+12
 636 005c 5048     		ldr	r0, .L55+8
 637 005e FFF7FEFF 		bl	printf
 638              	.L36:
 357:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 358:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* don't call tcp_abort here: we must not deallocate the pcb since
ARM GAS  /tmp/ccFjPNuy.s 			page 19


 359:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          that might not be expected when calling tcp_close */
 360:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_rst(pcb, pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
 639              		.loc 1 360 7 is_stmt 1
 640 0062 7B68     		ldr	r3, [r7, #4]
 641 0064 186D     		ldr	r0, [r3, #80]
 642 0066 7B68     		ldr	r3, [r7, #4]
 643 0068 5C6A     		ldr	r4, [r3, #36]
 644              		.loc 1 360 48
 645 006a 7D68     		ldr	r5, [r7, #4]
 646              		.loc 1 360 64
 647 006c 7B68     		ldr	r3, [r7, #4]
 648 006e 0433     		adds	r3, r3, #4
 649              		.loc 1 360 7
 650 0070 7A68     		ldr	r2, [r7, #4]
 651 0072 D28A     		ldrh	r2, [r2, #22]
 652 0074 7968     		ldr	r1, [r7, #4]
 653 0076 098B     		ldrh	r1, [r1, #24]
 654 0078 0291     		str	r1, [sp, #8]
 655 007a 0192     		str	r2, [sp, #4]
 656 007c 0093     		str	r3, [sp]
 657 007e 2B46     		mov	r3, r5
 658 0080 2246     		mov	r2, r4
 659 0082 0146     		mov	r1, r0
 660 0084 7868     		ldr	r0, [r7, #4]
 661 0086 FFF7FEFF 		bl	tcp_rst
 361:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->local_port, pcb->remote_port);
 362:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
 662              		.loc 1 363 7
 663 008a 7868     		ldr	r0, [r7, #4]
 664 008c FFF7FEFF 		bl	tcp_pcb_purge
 364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV_ACTIVE(pcb);
 665              		.loc 1 364 7
 666 0090 454B     		ldr	r3, .L55+16
 667 0092 1B68     		ldr	r3, [r3]
 668 0094 7A68     		ldr	r2, [r7, #4]
 669 0096 9A42     		cmp	r2, r3
 670 0098 05D1     		bne	.L37
 671              		.loc 1 364 7 is_stmt 0 discriminator 1
 672 009a 434B     		ldr	r3, .L55+16
 673 009c 1B68     		ldr	r3, [r3]
 674 009e DB68     		ldr	r3, [r3, #12]
 675 00a0 414A     		ldr	r2, .L55+16
 676 00a2 1360     		str	r3, [r2]
 677 00a4 13E0     		b	.L38
 678              	.L37:
 679              	.LBB2:
 680              		.loc 1 364 7 discriminator 2
 681 00a6 404B     		ldr	r3, .L55+16
 682 00a8 1B68     		ldr	r3, [r3]
 683 00aa FB60     		str	r3, [r7, #12]
 684 00ac 0CE0     		b	.L39
 685              	.L41:
 686              		.loc 1 364 7 discriminator 9
 687 00ae FB68     		ldr	r3, [r7, #12]
 688 00b0 DB68     		ldr	r3, [r3, #12]
 689 00b2 7A68     		ldr	r2, [r7, #4]
ARM GAS  /tmp/ccFjPNuy.s 			page 20


 690 00b4 9A42     		cmp	r2, r3
 691 00b6 04D1     		bne	.L40
 692              		.loc 1 364 7 discriminator 5
 693 00b8 7B68     		ldr	r3, [r7, #4]
 694 00ba DA68     		ldr	r2, [r3, #12]
 695 00bc FB68     		ldr	r3, [r7, #12]
 696 00be DA60     		str	r2, [r3, #12]
 697 00c0 05E0     		b	.L38
 698              	.L40:
 699              		.loc 1 364 7 discriminator 6
 700 00c2 FB68     		ldr	r3, [r7, #12]
 701 00c4 DB68     		ldr	r3, [r3, #12]
 702 00c6 FB60     		str	r3, [r7, #12]
 703              	.L39:
 704              		.loc 1 364 7 discriminator 8
 705 00c8 FB68     		ldr	r3, [r7, #12]
 706 00ca 002B     		cmp	r3, #0
 707 00cc EFD1     		bne	.L41
 708              	.L38:
 709              	.LBE2:
 710              		.loc 1 364 7 discriminator 10
 711 00ce 7B68     		ldr	r3, [r7, #4]
 712 00d0 0022     		movs	r2, #0
 713 00d2 DA60     		str	r2, [r3, #12]
 714 00d4 354B     		ldr	r3, .L55+20
 715 00d6 0122     		movs	r2, #1
 716 00d8 1A70     		strb	r2, [r3]
 365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Deallocate the pcb since we already sent a RST for it */
 366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_input_pcb == pcb) {
 717              		.loc 1 366 25 is_stmt 1 discriminator 10
 718 00da 354B     		ldr	r3, .L55+24
 719 00dc 1B68     		ldr	r3, [r3]
 720              		.loc 1 366 10 discriminator 10
 721 00de 7A68     		ldr	r2, [r7, #4]
 722 00e0 9A42     		cmp	r2, r3
 723 00e2 02D1     		bne	.L42
 367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* prevent using a deallocated pcb: free it from tcp_input later */
 368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_trigger_input_pcb_close();
 724              		.loc 1 368 9
 725 00e4 FFF7FEFF 		bl	tcp_trigger_input_pcb_close
 726 00e8 02E0     		b	.L43
 727              	.L42:
 369:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
 370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_free(pcb);
 728              		.loc 1 370 9
 729 00ea 7868     		ldr	r0, [r7, #4]
 730 00ec FFF7FEFF 		bl	tcp_free
 731              	.L43:
 371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_OK;
 732              		.loc 1 372 14
 733 00f0 0023     		movs	r3, #0
 734 00f2 4DE0     		b	.L44
 735              	.L33:
 373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 375:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccFjPNuy.s 			page 21


 376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* - states which free the pcb are handled here,
 377:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      - states which send FIN and change state are handled in tcp_close_shutdown_fin() */
 378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   switch (pcb->state) {
 736              		.loc 1 378 14
 737 00f4 7B68     		ldr	r3, [r7, #4]
 738 00f6 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 739              		.loc 1 378 3
 740 00f8 012B     		cmp	r3, #1
 741 00fa 2DD0     		beq	.L45
 742 00fc 022B     		cmp	r3, #2
 743 00fe 36D0     		beq	.L46
 744 0100 002B     		cmp	r3, #0
 745 0102 3FD1     		bne	.L47
 379:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case CLOSED:
 380:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Closing a pcb in the CLOSED state might seem erroneous,
 381:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * however, it is in this state once allocated and as yet unused
 382:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * and the user needs some way to free it should the need arise.
 383:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * Calling tcp_close() with a pcb that has already been closed, (i.e. twice)
 384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * or for a pcb that has been used and then entered the CLOSED state
 385:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * is erroneous, but this should never happen as the pcb has in those cases
 386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * been freed, and so any remaining handles are bogus. */
 387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port != 0) {
 746              		.loc 1 387 14
 747 0104 7B68     		ldr	r3, [r7, #4]
 748 0106 DB8A     		ldrh	r3, [r3, #22]
 749              		.loc 1 387 10
 750 0108 002B     		cmp	r3, #0
 751 010a 21D0     		beq	.L48
 388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_RMV(&tcp_bound_pcbs, pcb);
 752              		.loc 1 388 9
 753 010c 294B     		ldr	r3, .L55+28
 754 010e 1B68     		ldr	r3, [r3]
 755 0110 7A68     		ldr	r2, [r7, #4]
 756 0112 9A42     		cmp	r2, r3
 757 0114 05D1     		bne	.L49
 758              		.loc 1 388 9 is_stmt 0 discriminator 1
 759 0116 274B     		ldr	r3, .L55+28
 760 0118 1B68     		ldr	r3, [r3]
 761 011a DB68     		ldr	r3, [r3, #12]
 762 011c 254A     		ldr	r2, .L55+28
 763 011e 1360     		str	r3, [r2]
 764 0120 13E0     		b	.L50
 765              	.L49:
 766              	.LBB3:
 767              		.loc 1 388 9 discriminator 2
 768 0122 244B     		ldr	r3, .L55+28
 769 0124 1B68     		ldr	r3, [r3]
 770 0126 BB60     		str	r3, [r7, #8]
 771 0128 0CE0     		b	.L51
 772              	.L53:
 773              		.loc 1 388 9 discriminator 9
 774 012a BB68     		ldr	r3, [r7, #8]
 775 012c DB68     		ldr	r3, [r3, #12]
 776 012e 7A68     		ldr	r2, [r7, #4]
 777 0130 9A42     		cmp	r2, r3
 778 0132 04D1     		bne	.L52
 779              		.loc 1 388 9 discriminator 5
ARM GAS  /tmp/ccFjPNuy.s 			page 22


 780 0134 7B68     		ldr	r3, [r7, #4]
 781 0136 DA68     		ldr	r2, [r3, #12]
 782 0138 BB68     		ldr	r3, [r7, #8]
 783 013a DA60     		str	r2, [r3, #12]
 784 013c 05E0     		b	.L50
 785              	.L52:
 786              		.loc 1 388 9 discriminator 6
 787 013e BB68     		ldr	r3, [r7, #8]
 788 0140 DB68     		ldr	r3, [r3, #12]
 789 0142 BB60     		str	r3, [r7, #8]
 790              	.L51:
 791              		.loc 1 388 9 discriminator 8
 792 0144 BB68     		ldr	r3, [r7, #8]
 793 0146 002B     		cmp	r3, #0
 794 0148 EFD1     		bne	.L53
 795              	.L50:
 796              	.LBE3:
 797              		.loc 1 388 9 discriminator 10
 798 014a 7B68     		ldr	r3, [r7, #4]
 799 014c 0022     		movs	r2, #0
 800 014e DA60     		str	r2, [r3, #12]
 801              	.L48:
 389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb);
 802              		.loc 1 390 7 is_stmt 1
 803 0150 7868     		ldr	r0, [r7, #4]
 804 0152 FFF7FEFF 		bl	tcp_free
 391:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 805              		.loc 1 391 7
 806 0156 1AE0     		b	.L54
 807              	.L45:
 392:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case LISTEN:
 393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_listen_closed(pcb);
 808              		.loc 1 393 7
 809 0158 7868     		ldr	r0, [r7, #4]
 810 015a FFF7FEFF 		bl	tcp_listen_closed
 394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_remove(&tcp_listen_pcbs.pcbs, pcb);
 811              		.loc 1 394 7
 812 015e 7968     		ldr	r1, [r7, #4]
 813 0160 1548     		ldr	r0, .L55+32
 814 0162 FFF7FEFF 		bl	tcp_pcb_remove
 395:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free_listen(pcb);
 815              		.loc 1 395 7
 816 0166 7868     		ldr	r0, [r7, #4]
 817 0168 FFF7FEFF 		bl	tcp_free_listen
 396:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 818              		.loc 1 396 7
 819 016c 0FE0     		b	.L54
 820              	.L46:
 397:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_SENT:
 398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_PCB_REMOVE_ACTIVE(pcb);
 821              		.loc 1 398 7
 822 016e 7968     		ldr	r1, [r7, #4]
 823 0170 0D48     		ldr	r0, .L55+16
 824 0172 FFF7FEFF 		bl	tcp_pcb_remove
 825 0176 0D4B     		ldr	r3, .L55+20
 826 0178 0122     		movs	r2, #1
ARM GAS  /tmp/ccFjPNuy.s 			page 23


 827 017a 1A70     		strb	r2, [r3]
 399:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb);
 828              		.loc 1 399 7
 829 017c 7868     		ldr	r0, [r7, #4]
 830 017e FFF7FEFF 		bl	tcp_free
 400:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MIB2_STATS_INC(mib2.tcpattemptfails);
 401:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 831              		.loc 1 401 7
 832 0182 04E0     		b	.L54
 833              	.L47:
 402:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 403:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return tcp_close_shutdown_fin(pcb);
 834              		.loc 1 403 14
 835 0184 7868     		ldr	r0, [r7, #4]
 836 0186 FFF7FEFF 		bl	tcp_close_shutdown_fin
 837 018a 0346     		mov	r3, r0
 838 018c 00E0     		b	.L44
 839              	.L54:
 404:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 405:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 840              		.loc 1 405 10
 841 018e 0023     		movs	r3, #0
 842              	.L44:
 406:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 843              		.loc 1 406 1
 844 0190 1846     		mov	r0, r3
 845 0192 1037     		adds	r7, r7, #16
 846              	.LCFI27:
 847              		.cfi_def_cfa_offset 16
 848 0194 BD46     		mov	sp, r7
 849              	.LCFI28:
 850              		.cfi_def_cfa_register 13
 851              		@ sp needed
 852 0196 B0BD     		pop	{r4, r5, r7, pc}
 853              	.L56:
 854              		.align	2
 855              	.L55:
 856 0198 78000000 		.word	.LC11
 857 019c 48010000 		.word	.LC18
 858 01a0 B8000000 		.word	.LC13
 859 01a4 68010000 		.word	.LC19
 860 01a8 00000000 		.word	tcp_active_pcbs
 861 01ac 00000000 		.word	tcp_active_pcbs_changed
 862 01b0 00000000 		.word	tcp_input_pcb
 863 01b4 00000000 		.word	tcp_bound_pcbs
 864 01b8 00000000 		.word	tcp_listen_pcbs
 865              		.cfi_endproc
 866              	.LFE139:
 868              		.section	.text.tcp_close_shutdown_fin,"ax",%progbits
 869              		.align	1
 870              		.syntax unified
 871              		.thumb
 872              		.thumb_func
 873              		.fpu fpv4-sp-d16
 875              	tcp_close_shutdown_fin:
 876              	.LFB140:
 407:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccFjPNuy.s 			page 24


 408:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 409:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close_shutdown_fin(struct tcp_pcb *pcb)
 410:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 877              		.loc 1 410 1
 878              		.cfi_startproc
 879              		@ args = 0, pretend = 0, frame = 16
 880              		@ frame_needed = 1, uses_anonymous_args = 0
 881 0000 80B5     		push	{r7, lr}
 882              	.LCFI29:
 883              		.cfi_def_cfa_offset 8
 884              		.cfi_offset 7, -8
 885              		.cfi_offset 14, -4
 886 0002 84B0     		sub	sp, sp, #16
 887              	.LCFI30:
 888              		.cfi_def_cfa_offset 24
 889 0004 00AF     		add	r7, sp, #0
 890              	.LCFI31:
 891              		.cfi_def_cfa_register 7
 892 0006 7860     		str	r0, [r7, #4]
 411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
 412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("pcb != NULL", pcb != NULL);
 893              		.loc 1 412 3
 894 0008 7B68     		ldr	r3, [r7, #4]
 895 000a 002B     		cmp	r3, #0
 896 000c 06D1     		bne	.L58
 897              		.loc 1 412 3 is_stmt 0 discriminator 1
 898 000e 2C4B     		ldr	r3, .L72
 899 0010 4FF4CE72 		mov	r2, #412
 900 0014 2B49     		ldr	r1, .L72+4
 901 0016 2C48     		ldr	r0, .L72+8
 902 0018 FFF7FEFF 		bl	printf
 903              	.L58:
 413:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   switch (pcb->state) {
 904              		.loc 1 414 14 is_stmt 1
 905 001c 7B68     		ldr	r3, [r7, #4]
 906 001e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 907              		.loc 1 414 3
 908 0020 042B     		cmp	r3, #4
 909 0022 10D0     		beq	.L59
 910 0024 072B     		cmp	r3, #7
 911 0026 1BD0     		beq	.L60
 912 0028 032B     		cmp	r3, #3
 913 002a 26D1     		bne	.L61
 415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case SYN_RCVD:
 416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err = tcp_send_fin(pcb);
 914              		.loc 1 416 13
 915 002c 7868     		ldr	r0, [r7, #4]
 916 002e FFF7FEFF 		bl	tcp_send_fin
 917 0032 0346     		mov	r3, r0
 918 0034 FB73     		strb	r3, [r7, #15]
 417:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 919              		.loc 1 417 10
 920 0036 97F90F30 		ldrsb	r3, [r7, #15]
 921 003a 002B     		cmp	r3, #0
 922 003c 1FD1     		bne	.L69
 418:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_backlog_accepted(pcb);
ARM GAS  /tmp/ccFjPNuy.s 			page 25


 419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpattemptfails);
 420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->state = FIN_WAIT_1;
 923              		.loc 1 420 20
 924 003e 7B68     		ldr	r3, [r7, #4]
 925 0040 0522     		movs	r2, #5
 926 0042 1A75     		strb	r2, [r3, #20]
 421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 927              		.loc 1 422 7
 928 0044 1BE0     		b	.L69
 929              	.L59:
 423:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case ESTABLISHED:
 424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err = tcp_send_fin(pcb);
 930              		.loc 1 424 13
 931 0046 7868     		ldr	r0, [r7, #4]
 932 0048 FFF7FEFF 		bl	tcp_send_fin
 933 004c 0346     		mov	r3, r0
 934 004e FB73     		strb	r3, [r7, #15]
 425:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 935              		.loc 1 425 10
 936 0050 97F90F30 		ldrsb	r3, [r7, #15]
 937 0054 002B     		cmp	r3, #0
 938 0056 14D1     		bne	.L70
 426:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpestabresets);
 427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->state = FIN_WAIT_1;
 939              		.loc 1 427 20
 940 0058 7B68     		ldr	r3, [r7, #4]
 941 005a 0522     		movs	r2, #5
 942 005c 1A75     		strb	r2, [r3, #20]
 428:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 943              		.loc 1 429 7
 944 005e 10E0     		b	.L70
 945              	.L60:
 430:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case CLOSE_WAIT:
 431:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err = tcp_send_fin(pcb);
 946              		.loc 1 431 13
 947 0060 7868     		ldr	r0, [r7, #4]
 948 0062 FFF7FEFF 		bl	tcp_send_fin
 949 0066 0346     		mov	r3, r0
 950 0068 FB73     		strb	r3, [r7, #15]
 432:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (err == ERR_OK) {
 951              		.loc 1 432 10
 952 006a 97F90F30 		ldrsb	r3, [r7, #15]
 953 006e 002B     		cmp	r3, #0
 954 0070 09D1     		bne	.L71
 433:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MIB2_STATS_INC(mib2.tcpestabresets);
 434:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb->state = LAST_ACK;
 955              		.loc 1 434 20
 956 0072 7B68     		ldr	r3, [r7, #4]
 957 0074 0922     		movs	r2, #9
 958 0076 1A75     		strb	r2, [r3, #20]
 435:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 436:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       break;
 959              		.loc 1 436 7
 960 0078 05E0     		b	.L71
 961              	.L61:
ARM GAS  /tmp/ccFjPNuy.s 			page 26


 437:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 438:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Has already been closed, do nothing. */
 439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_OK;
 962              		.loc 1 439 14
 963 007a 0023     		movs	r3, #0
 964 007c 1CE0     		b	.L66
 965              	.L69:
 422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case ESTABLISHED:
 966              		.loc 1 422 7
 967 007e 00BF     		nop
 968 0080 02E0     		b	.L63
 969              	.L70:
 429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     case CLOSE_WAIT:
 970              		.loc 1 429 7
 971 0082 00BF     		nop
 972 0084 00E0     		b	.L63
 973              	.L71:
 436:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     default:
 974              		.loc 1 436 7
 975 0086 00BF     		nop
 976              	.L63:
 440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 441:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (err == ERR_OK) {
 977              		.loc 1 442 6
 978 0088 97F90F30 		ldrsb	r3, [r7, #15]
 979 008c 002B     		cmp	r3, #0
 980 008e 03D1     		bne	.L67
 443:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* To ensure all data has been sent when tcp_close returns, we have
 444:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        to make sure tcp_output doesn't fail.
 445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        Since we don't really have to ensure all data has been sent when tcp_close
 446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        returns (unsent data is sent from tcp timer functions, also), we don't care
 447:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        for the return value of tcp_output for now. */
 448:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 981              		.loc 1 448 5
 982 0090 7868     		ldr	r0, [r7, #4]
 983 0092 FFF7FEFF 		bl	tcp_output
 984 0096 0DE0     		b	.L68
 985              	.L67:
 449:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_MEM) {
 986              		.loc 1 449 13
 987 0098 97F90F30 		ldrsb	r3, [r7, #15]
 988 009c B3F1FF3F 		cmp	r3, #-1
 989 00a0 08D1     		bne	.L68
 450:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Mark this pcb for closing. Closing is retried from tcp_tmr. */
 451:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_set_flags(pcb, TF_CLOSEPEND);
 990              		.loc 1 451 5
 991 00a2 7B68     		ldr	r3, [r7, #4]
 992 00a4 5B8B     		ldrh	r3, [r3, #26]
 993 00a6 43F00803 		orr	r3, r3, #8
 994 00aa 9AB2     		uxth	r2, r3
 995 00ac 7B68     		ldr	r3, [r7, #4]
 996 00ae 5A83     		strh	r2, [r3, #26]	@ movhi
 452:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* We have to return ERR_OK from here to indicate to the callers that this
 453:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        pcb should not be used any more as it will be freed soon via tcp_tmr.
 454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        This is OK here since sending FIN does not guarantee a time frime for
 455:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        actually freeing the pcb, either (it is left in closure states for
ARM GAS  /tmp/ccFjPNuy.s 			page 27


 456:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        remote ACK or timeout) */
 457:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_OK;
 997              		.loc 1 457 12
 998 00b0 0023     		movs	r3, #0
 999 00b2 01E0     		b	.L66
 1000              	.L68:
 458:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return err;
 1001              		.loc 1 459 10
 1002 00b4 97F90F30 		ldrsb	r3, [r7, #15]
 1003              	.L66:
 460:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1004              		.loc 1 460 1
 1005 00b8 1846     		mov	r0, r3
 1006 00ba 1037     		adds	r7, r7, #16
 1007              	.LCFI32:
 1008              		.cfi_def_cfa_offset 8
 1009 00bc BD46     		mov	sp, r7
 1010              	.LCFI33:
 1011              		.cfi_def_cfa_register 13
 1012              		@ sp needed
 1013 00be 80BD     		pop	{r7, pc}
 1014              	.L73:
 1015              		.align	2
 1016              	.L72:
 1017 00c0 78000000 		.word	.LC11
 1018 00c4 24010000 		.word	.LC16
 1019 00c8 B8000000 		.word	.LC13
 1020              		.cfi_endproc
 1021              	.LFE140:
 1023              		.section	.rodata
 1024 0181 000000   		.align	2
 1025              	.LC20:
 1026 0184 7463705F 		.ascii	"tcp_close: invalid pcb\000"
 1026      636C6F73 
 1026      653A2069 
 1026      6E76616C 
 1026      69642070 
 1027              		.section	.text.tcp_close,"ax",%progbits
 1028              		.align	1
 1029              		.global	tcp_close
 1030              		.syntax unified
 1031              		.thumb
 1032              		.thumb_func
 1033              		.fpu fpv4-sp-d16
 1035              	tcp_close:
 1036              	.LFB141:
 461:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 462:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 463:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Closes the connection held by the PCB.
 465:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Listening pcbs are freed and may not be referenced any more.
 467:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connection pcbs are freed if not yet connected and may not be referenced
 468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any more. If a connection is established (at least SYN received or in
 469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a closing state), the connection is closed, and put in a closing state.
 470:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is then automatically freed in tcp_slowtmr(). It is therefore
ARM GAS  /tmp/ccFjPNuy.s 			page 28


 471:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * unsafe to reference it (unless an error is returned).
 472:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
 473:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The function may return ERR_MEM if no memory
 474:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * was available for closing the connection. If so, the application
 475:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * should wait and try again either by using the acknowledgment
 476:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback or the polling functionality. If the close succeeds, the
 477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function returns ERR_OK.
 478:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 479:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to close
 480:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if connection has been closed
 481:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t if closing failed and pcb is not freed
 482:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 483:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 484:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_close(struct tcp_pcb *pcb)
 485:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1037              		.loc 1 485 1
 1038              		.cfi_startproc
 1039              		@ args = 0, pretend = 0, frame = 8
 1040              		@ frame_needed = 1, uses_anonymous_args = 0
 1041 0000 80B5     		push	{r7, lr}
 1042              	.LCFI34:
 1043              		.cfi_def_cfa_offset 8
 1044              		.cfi_offset 7, -8
 1045              		.cfi_offset 14, -4
 1046 0002 82B0     		sub	sp, sp, #8
 1047              	.LCFI35:
 1048              		.cfi_def_cfa_offset 16
 1049 0004 00AF     		add	r7, sp, #0
 1050              	.LCFI36:
 1051              		.cfi_def_cfa_register 7
 1052 0006 7860     		str	r0, [r7, #4]
 486:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 487:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_close: invalid pcb", pcb != NULL, return ERR_ARG);
 1053              		.loc 1 488 3
 1054 0008 7B68     		ldr	r3, [r7, #4]
 1055 000a 002B     		cmp	r3, #0
 1056 000c 09D1     		bne	.L75
 1057              		.loc 1 488 3 is_stmt 0 discriminator 1
 1058 000e 0F4B     		ldr	r3, .L78
 1059 0010 4FF4F472 		mov	r2, #488
 1060 0014 0E49     		ldr	r1, .L78+4
 1061 0016 0F48     		ldr	r0, .L78+8
 1062 0018 FFF7FEFF 		bl	printf
 1063 001c 6FF00F03 		mvn	r3, #15
 1064 0020 0FE0     		b	.L76
 1065              	.L75:
 489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_close: closing in "));
 490:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 491:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_debug_print_state(pcb->state);
 492:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != LISTEN) {
 1066              		.loc 1 493 10 is_stmt 1
 1067 0022 7B68     		ldr	r3, [r7, #4]
 1068 0024 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1069              		.loc 1 493 6
 1070 0026 012B     		cmp	r3, #1
ARM GAS  /tmp/ccFjPNuy.s 			page 29


 1071 0028 06D0     		beq	.L77
 494:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Set a flag not to receive any more data... */
 495:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_set_flags(pcb, TF_RXCLOSED);
 1072              		.loc 1 495 5
 1073 002a 7B68     		ldr	r3, [r7, #4]
 1074 002c 5B8B     		ldrh	r3, [r3, #26]
 1075 002e 43F01003 		orr	r3, r3, #16
 1076 0032 9AB2     		uxth	r2, r3
 1077 0034 7B68     		ldr	r3, [r7, #4]
 1078 0036 5A83     		strh	r2, [r3, #26]	@ movhi
 1079              	.L77:
 496:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* ... and close */
 498:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_close_shutdown(pcb, 1);
 1080              		.loc 1 498 10
 1081 0038 0121     		movs	r1, #1
 1082 003a 7868     		ldr	r0, [r7, #4]
 1083 003c FFF7FEFF 		bl	tcp_close_shutdown
 1084 0040 0346     		mov	r3, r0
 1085              	.L76:
 499:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1086              		.loc 1 499 1
 1087 0042 1846     		mov	r0, r3
 1088 0044 0837     		adds	r7, r7, #8
 1089              	.LCFI37:
 1090              		.cfi_def_cfa_offset 8
 1091 0046 BD46     		mov	sp, r7
 1092              	.LCFI38:
 1093              		.cfi_def_cfa_register 13
 1094              		@ sp needed
 1095 0048 80BD     		pop	{r7, pc}
 1096              	.L79:
 1097 004a 00BF     		.align	2
 1098              	.L78:
 1099 004c 78000000 		.word	.LC11
 1100 0050 84010000 		.word	.LC20
 1101 0054 B8000000 		.word	.LC13
 1102              		.cfi_endproc
 1103              	.LFE141:
 1105              		.section	.rodata
 1106 019b 00       		.align	2
 1107              	.LC21:
 1108 019c 7463705F 		.ascii	"tcp_shutdown: invalid pcb\000"
 1108      73687574 
 1108      646F776E 
 1108      3A20696E 
 1108      76616C69 
 1109              		.section	.text.tcp_shutdown,"ax",%progbits
 1110              		.align	1
 1111              		.global	tcp_shutdown
 1112              		.syntax unified
 1113              		.thumb
 1114              		.thumb_func
 1115              		.fpu fpv4-sp-d16
 1117              	tcp_shutdown:
 1118              	.LFB142:
 500:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccFjPNuy.s 			page 30


 501:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Causes all or part of a full-duplex connection of this PCB to be shut down.
 504:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This doesn't deallocate the PCB unless shutting down both sides!
 505:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Shutting down both sides is the same as calling tcp_close, so if it succeds
 506:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (i.e. returns ER_OK), the PCB must not be referenced any more!
 507:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 508:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb PCB to shutdown
 509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param shut_rx shut down receive side if this is != 0
 510:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param shut_tx shut down send side if this is != 0
 511:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_OK if shutdown succeeded (or the PCB has already been shut down)
 512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         another err_t on error.
 513:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 514:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 515:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_shutdown(struct tcp_pcb *pcb, int shut_rx, int shut_tx)
 516:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1119              		.loc 1 516 1
 1120              		.cfi_startproc
 1121              		@ args = 0, pretend = 0, frame = 16
 1122              		@ frame_needed = 1, uses_anonymous_args = 0
 1123 0000 80B5     		push	{r7, lr}
 1124              	.LCFI39:
 1125              		.cfi_def_cfa_offset 8
 1126              		.cfi_offset 7, -8
 1127              		.cfi_offset 14, -4
 1128 0002 84B0     		sub	sp, sp, #16
 1129              	.LCFI40:
 1130              		.cfi_def_cfa_offset 24
 1131 0004 00AF     		add	r7, sp, #0
 1132              	.LCFI41:
 1133              		.cfi_def_cfa_register 7
 1134 0006 F860     		str	r0, [r7, #12]
 1135 0008 B960     		str	r1, [r7, #8]
 1136 000a 7A60     		str	r2, [r7, #4]
 517:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 518:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 519:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_shutdown: invalid pcb", pcb != NULL, return ERR_ARG);
 1137              		.loc 1 519 3
 1138 000c FB68     		ldr	r3, [r7, #12]
 1139 000e 002B     		cmp	r3, #0
 1140 0010 09D1     		bne	.L81
 1141              		.loc 1 519 3 is_stmt 0 discriminator 1
 1142 0012 254B     		ldr	r3, .L89
 1143 0014 40F20722 		movw	r2, #519
 1144 0018 2449     		ldr	r1, .L89+4
 1145 001a 2548     		ldr	r0, .L89+8
 1146 001c FFF7FEFF 		bl	printf
 1147 0020 6FF00F03 		mvn	r3, #15
 1148 0024 3CE0     		b	.L82
 1149              	.L81:
 520:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 521:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 1150              		.loc 1 521 10 is_stmt 1
 1151 0026 FB68     		ldr	r3, [r7, #12]
 1152 0028 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1153              		.loc 1 521 6
 1154 002a 012B     		cmp	r3, #1
ARM GAS  /tmp/ccFjPNuy.s 			page 31


 1155 002c 02D1     		bne	.L83
 522:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_CONN;
 1156              		.loc 1 522 12
 1157 002e 6FF00A03 		mvn	r3, #10
 1158 0032 35E0     		b	.L82
 1159              	.L83:
 523:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 524:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (shut_rx) {
 1160              		.loc 1 524 6
 1161 0034 BB68     		ldr	r3, [r7, #8]
 1162 0036 002B     		cmp	r3, #0
 1163 0038 1BD0     		beq	.L84
 525:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* shut down the receive side: set a flag not to receive any more data... */
 526:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_set_flags(pcb, TF_RXCLOSED);
 1164              		.loc 1 526 5
 1165 003a FB68     		ldr	r3, [r7, #12]
 1166 003c 5B8B     		ldrh	r3, [r3, #26]
 1167 003e 43F01003 		orr	r3, r3, #16
 1168 0042 9AB2     		uxth	r2, r3
 1169 0044 FB68     		ldr	r3, [r7, #12]
 1170 0046 5A83     		strh	r2, [r3, #26]	@ movhi
 527:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (shut_tx) {
 1171              		.loc 1 527 8
 1172 0048 7B68     		ldr	r3, [r7, #4]
 1173 004a 002B     		cmp	r3, #0
 1174 004c 05D0     		beq	.L85
 528:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* shutting down the tx AND rx side is the same as closing for the raw API */
 529:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return tcp_close_shutdown(pcb, 1);
 1175              		.loc 1 529 14
 1176 004e 0121     		movs	r1, #1
 1177 0050 F868     		ldr	r0, [r7, #12]
 1178 0052 FFF7FEFF 		bl	tcp_close_shutdown
 1179 0056 0346     		mov	r3, r0
 1180 0058 22E0     		b	.L82
 1181              	.L85:
 530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 531:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* ... and free buffered data */
 532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->refused_data != NULL) {
 1182              		.loc 1 532 12
 1183 005a FB68     		ldr	r3, [r7, #12]
 1184 005c 9B6F     		ldr	r3, [r3, #120]
 1185              		.loc 1 532 8
 1186 005e 002B     		cmp	r3, #0
 1187 0060 07D0     		beq	.L84
 533:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
 1188              		.loc 1 533 7
 1189 0062 FB68     		ldr	r3, [r7, #12]
 1190 0064 9B6F     		ldr	r3, [r3, #120]
 1191 0066 1846     		mov	r0, r3
 1192 0068 FFF7FEFF 		bl	pbuf_free
 534:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 1193              		.loc 1 534 25
 1194 006c FB68     		ldr	r3, [r7, #12]
 1195 006e 0022     		movs	r2, #0
 1196 0070 9A67     		str	r2, [r3, #120]
 1197              	.L84:
 535:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
ARM GAS  /tmp/ccFjPNuy.s 			page 32


 536:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 537:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (shut_tx) {
 1198              		.loc 1 537 6
 1199 0072 7B68     		ldr	r3, [r7, #4]
 1200 0074 002B     		cmp	r3, #0
 1201 0076 12D0     		beq	.L86
 538:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* This can't happen twice since if it succeeds, the pcb's state is changed.
 539:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        Only close in these states as the others directly deallocate the PCB */
 540:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     switch (pcb->state) {
 1202              		.loc 1 540 16
 1203 0078 FB68     		ldr	r3, [r7, #12]
 1204 007a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1205              		.loc 1 540 5
 1206 007c 032B     		cmp	r3, #3
 1207 007e 0BDB     		blt	.L87
 1208 0080 042B     		cmp	r3, #4
 1209 0082 01DD     		ble	.L88
 1210 0084 072B     		cmp	r3, #7
 1211 0086 07D1     		bne	.L87
 1212              	.L88:
 541:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       case SYN_RCVD:
 542:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       case ESTABLISHED:
 543:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       case CLOSE_WAIT:
 544:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         return tcp_close_shutdown(pcb, (u8_t)shut_rx);
 1213              		.loc 1 544 16
 1214 0088 BB68     		ldr	r3, [r7, #8]
 1215 008a DBB2     		uxtb	r3, r3
 1216 008c 1946     		mov	r1, r3
 1217 008e F868     		ldr	r0, [r7, #12]
 1218 0090 FFF7FEFF 		bl	tcp_close_shutdown
 1219 0094 0346     		mov	r3, r0
 1220 0096 03E0     		b	.L82
 1221              	.L87:
 545:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       default:
 546:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Not (yet?) connected, cannot shutdown the TX side as that would bring us
 547:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           into CLOSED state, where the PCB is deallocated. */
 548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         return ERR_CONN;
 1222              		.loc 1 548 16
 1223 0098 6FF00A03 		mvn	r3, #10
 1224 009c 00E0     		b	.L82
 1225              	.L86:
 549:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 550:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 551:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 1226              		.loc 1 551 10
 1227 009e 0023     		movs	r3, #0
 1228              	.L82:
 552:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1229              		.loc 1 552 1
 1230 00a0 1846     		mov	r0, r3
 1231 00a2 1037     		adds	r7, r7, #16
 1232              	.LCFI42:
 1233              		.cfi_def_cfa_offset 8
 1234 00a4 BD46     		mov	sp, r7
 1235              	.LCFI43:
 1236              		.cfi_def_cfa_register 13
 1237              		@ sp needed
ARM GAS  /tmp/ccFjPNuy.s 			page 33


 1238 00a6 80BD     		pop	{r7, pc}
 1239              	.L90:
 1240              		.align	2
 1241              	.L89:
 1242 00a8 78000000 		.word	.LC11
 1243 00ac 9C010000 		.word	.LC21
 1244 00b0 B8000000 		.word	.LC13
 1245              		.cfi_endproc
 1246              	.LFE142:
 1248              		.section	.rodata
 1249 01b6 0000     		.align	2
 1250              	.LC22:
 1251 01b8 7463705F 		.ascii	"tcp_abandon: invalid pcb\000"
 1251      6162616E 
 1251      646F6E3A 
 1251      20696E76 
 1251      616C6964 
 1252 01d1 000000   		.align	2
 1253              	.LC23:
 1254 01d4 646F6E27 		.ascii	"don't call tcp_abort/tcp_abandon for listen-pcbs\000"
 1254      74206361 
 1254      6C6C2074 
 1254      63705F61 
 1254      626F7274 
 1255              		.section	.text.tcp_abandon,"ax",%progbits
 1256              		.align	1
 1257              		.global	tcp_abandon
 1258              		.syntax unified
 1259              		.thumb
 1260              		.thumb_func
 1261              		.fpu fpv4-sp-d16
 1263              	tcp_abandon:
 1264              	.LFB143:
 553:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Abandons a connection and optionally sends a RST to the remote
 556:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host.  Deletes the local protocol control block. This is done when
 557:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a connection is killed because of shortage of memory.
 558:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 559:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to abort
 560:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param reset boolean to indicate whether a reset should be sent
 561:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 562:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 563:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_abandon(struct tcp_pcb *pcb, int reset)
 564:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1265              		.loc 1 564 1
 1266              		.cfi_startproc
 1267              		@ args = 0, pretend = 0, frame = 40
 1268              		@ frame_needed = 1, uses_anonymous_args = 0
 1269 0000 80B5     		push	{r7, lr}
 1270              	.LCFI44:
 1271              		.cfi_def_cfa_offset 8
 1272              		.cfi_offset 7, -8
 1273              		.cfi_offset 14, -4
 1274 0002 8EB0     		sub	sp, sp, #56
 1275              	.LCFI45:
 1276              		.cfi_def_cfa_offset 64
ARM GAS  /tmp/ccFjPNuy.s 			page 34


 1277 0004 04AF     		add	r7, sp, #16
 1278              	.LCFI46:
 1279              		.cfi_def_cfa 7, 48
 1280 0006 7860     		str	r0, [r7, #4]
 1281 0008 3960     		str	r1, [r7]
 565:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t seqno, ackno;
 566:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 567:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_err_fn errf;
 568:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 569:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   void *errf_arg;
 570:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 571:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 572:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 573:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_abandon: invalid pcb", pcb != NULL, return);
 1282              		.loc 1 573 3
 1283 000a 7B68     		ldr	r3, [r7, #4]
 1284 000c 002B     		cmp	r3, #0
 1285 000e 07D1     		bne	.L92
 1286              		.loc 1 573 3 is_stmt 0 discriminator 1
 1287 0010 524B     		ldr	r3, .L108
 1288 0012 40F23D22 		movw	r2, #573
 1289 0016 5249     		ldr	r1, .L108+4
 1290 0018 5248     		ldr	r0, .L108+8
 1291 001a FFF7FEFF 		bl	printf
 1292 001e 99E0     		b	.L91
 1293              	.L92:
 574:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* pcb->state LISTEN not allowed here */
 576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("don't call tcp_abort/tcp_abandon for listen-pcbs",
 1294              		.loc 1 576 3 is_stmt 1
 1295 0020 7B68     		ldr	r3, [r7, #4]
 1296 0022 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1297 0024 012B     		cmp	r3, #1
 1298 0026 06D1     		bne	.L94
 1299              		.loc 1 576 3 is_stmt 0 discriminator 1
 1300 0028 4C4B     		ldr	r3, .L108
 1301 002a 40F24122 		movw	r2, #577
 1302 002e 4E49     		ldr	r1, .L108+12
 1303 0030 4C48     		ldr	r0, .L108+8
 1304 0032 FFF7FEFF 		bl	printf
 1305              	.L94:
 577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
 578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Figure out on which TCP PCB list we are, and remove us. If we
 579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      are in an active state, call the receive function associated with
 580:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      the PCB with a NULL argument, and send an RST to the remote end. */
 581:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == TIME_WAIT) {
 1306              		.loc 1 581 10 is_stmt 1
 1307 0036 7B68     		ldr	r3, [r7, #4]
 1308 0038 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1309              		.loc 1 581 6
 1310 003a 0A2B     		cmp	r3, #10
 1311 003c 07D1     		bne	.L95
 582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_pcb_remove(&tcp_tw_pcbs, pcb);
 1312              		.loc 1 582 5
 1313 003e 7968     		ldr	r1, [r7, #4]
 1314 0040 4A48     		ldr	r0, .L108+16
 1315 0042 FFF7FEFF 		bl	tcp_pcb_remove
ARM GAS  /tmp/ccFjPNuy.s 			page 35


 583:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_free(pcb);
 1316              		.loc 1 583 5
 1317 0046 7868     		ldr	r0, [r7, #4]
 1318 0048 FFF7FEFF 		bl	tcp_free
 1319 004c 82E0     		b	.L91
 1320              	.L95:
 1321              	.LBB4:
 584:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 585:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     int send_rst = 0;
 1322              		.loc 1 585 9
 1323 004e 0023     		movs	r3, #0
 1324 0050 7B62     		str	r3, [r7, #36]
 586:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u16_t local_port = 0;
 1325              		.loc 1 586 11
 1326 0052 0023     		movs	r3, #0
 1327 0054 7B84     		strh	r3, [r7, #34]	@ movhi
 587:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     enum tcp_state last_state;
 588:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seqno = pcb->snd_nxt;
 1328              		.loc 1 588 11
 1329 0056 7B68     		ldr	r3, [r7, #4]
 1330 0058 1B6D     		ldr	r3, [r3, #80]
 1331 005a BB61     		str	r3, [r7, #24]
 589:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ackno = pcb->rcv_nxt;
 1332              		.loc 1 589 11
 1333 005c 7B68     		ldr	r3, [r7, #4]
 1334 005e 5B6A     		ldr	r3, [r3, #36]
 1335 0060 7B61     		str	r3, [r7, #20]
 590:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     errf = pcb->errf;
 1336              		.loc 1 591 10
 1337 0062 7B68     		ldr	r3, [r7, #4]
 1338 0064 D3F89030 		ldr	r3, [r3, #144]
 1339 0068 3B61     		str	r3, [r7, #16]
 592:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 593:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     errf_arg = pcb->callback_arg;
 1340              		.loc 1 593 14
 1341 006a 7B68     		ldr	r3, [r7, #4]
 1342 006c 1B69     		ldr	r3, [r3, #16]
 1343 006e FB60     		str	r3, [r7, #12]
 594:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == CLOSED) {
 1344              		.loc 1 594 12
 1345 0070 7B68     		ldr	r3, [r7, #4]
 1346 0072 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1347              		.loc 1 594 8
 1348 0074 002B     		cmp	r3, #0
 1349 0076 26D1     		bne	.L96
 595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port != 0) {
 1350              		.loc 1 595 14
 1351 0078 7B68     		ldr	r3, [r7, #4]
 1352 007a DB8A     		ldrh	r3, [r3, #22]
 1353              		.loc 1 595 10
 1354 007c 002B     		cmp	r3, #0
 1355 007e 2ED0     		beq	.L103
 596:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* bound, not yet opened */
 597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_RMV(&tcp_bound_pcbs, pcb);
 1356              		.loc 1 597 9
 1357 0080 3B4B     		ldr	r3, .L108+20
ARM GAS  /tmp/ccFjPNuy.s 			page 36


 1358 0082 1B68     		ldr	r3, [r3]
 1359 0084 7A68     		ldr	r2, [r7, #4]
 1360 0086 9A42     		cmp	r2, r3
 1361 0088 05D1     		bne	.L98
 1362              		.loc 1 597 9 is_stmt 0 discriminator 1
 1363 008a 394B     		ldr	r3, .L108+20
 1364 008c 1B68     		ldr	r3, [r3]
 1365 008e DB68     		ldr	r3, [r3, #12]
 1366 0090 374A     		ldr	r2, .L108+20
 1367 0092 1360     		str	r3, [r2]
 1368 0094 13E0     		b	.L99
 1369              	.L98:
 1370              	.LBB5:
 1371              		.loc 1 597 9 discriminator 2
 1372 0096 364B     		ldr	r3, .L108+20
 1373 0098 1B68     		ldr	r3, [r3]
 1374 009a FB61     		str	r3, [r7, #28]
 1375 009c 0CE0     		b	.L100
 1376              	.L102:
 1377              		.loc 1 597 9 discriminator 9
 1378 009e FB69     		ldr	r3, [r7, #28]
 1379 00a0 DB68     		ldr	r3, [r3, #12]
 1380 00a2 7A68     		ldr	r2, [r7, #4]
 1381 00a4 9A42     		cmp	r2, r3
 1382 00a6 04D1     		bne	.L101
 1383              		.loc 1 597 9 discriminator 5
 1384 00a8 7B68     		ldr	r3, [r7, #4]
 1385 00aa DA68     		ldr	r2, [r3, #12]
 1386 00ac FB69     		ldr	r3, [r7, #28]
 1387 00ae DA60     		str	r2, [r3, #12]
 1388 00b0 05E0     		b	.L99
 1389              	.L101:
 1390              		.loc 1 597 9 discriminator 6
 1391 00b2 FB69     		ldr	r3, [r7, #28]
 1392 00b4 DB68     		ldr	r3, [r3, #12]
 1393 00b6 FB61     		str	r3, [r7, #28]
 1394              	.L100:
 1395              		.loc 1 597 9 discriminator 8
 1396 00b8 FB69     		ldr	r3, [r7, #28]
 1397 00ba 002B     		cmp	r3, #0
 1398 00bc EFD1     		bne	.L102
 1399              	.L99:
 1400              	.LBE5:
 1401              		.loc 1 597 9 discriminator 10
 1402 00be 7B68     		ldr	r3, [r7, #4]
 1403 00c0 0022     		movs	r2, #0
 1404 00c2 DA60     		str	r2, [r3, #12]
 1405 00c4 0BE0     		b	.L103
 1406              	.L96:
 598:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 599:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 600:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       send_rst = reset;
 1407              		.loc 1 600 16 is_stmt 1
 1408 00c6 3B68     		ldr	r3, [r7]
 1409 00c8 7B62     		str	r3, [r7, #36]
 601:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       local_port = pcb->local_port;
 1410              		.loc 1 601 18
ARM GAS  /tmp/ccFjPNuy.s 			page 37


 1411 00ca 7B68     		ldr	r3, [r7, #4]
 1412 00cc DB8A     		ldrh	r3, [r3, #22]	@ movhi
 1413 00ce 7B84     		strh	r3, [r7, #34]	@ movhi
 602:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_PCB_REMOVE_ACTIVE(pcb);
 1414              		.loc 1 602 7
 1415 00d0 7968     		ldr	r1, [r7, #4]
 1416 00d2 2848     		ldr	r0, .L108+24
 1417 00d4 FFF7FEFF 		bl	tcp_pcb_remove
 1418 00d8 274B     		ldr	r3, .L108+28
 1419 00da 0122     		movs	r2, #1
 1420 00dc 1A70     		strb	r2, [r3]
 1421              	.L103:
 603:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 604:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unacked != NULL) {
 1422              		.loc 1 604 12
 1423 00de 7B68     		ldr	r3, [r7, #4]
 1424 00e0 1B6F     		ldr	r3, [r3, #112]
 1425              		.loc 1 604 8
 1426 00e2 002B     		cmp	r3, #0
 1427 00e4 04D0     		beq	.L104
 605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unacked);
 1428              		.loc 1 605 7
 1429 00e6 7B68     		ldr	r3, [r7, #4]
 1430 00e8 1B6F     		ldr	r3, [r3, #112]
 1431 00ea 1846     		mov	r0, r3
 1432 00ec FFF7FEFF 		bl	tcp_segs_free
 1433              	.L104:
 606:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 607:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unsent != NULL) {
 1434              		.loc 1 607 12
 1435 00f0 7B68     		ldr	r3, [r7, #4]
 1436 00f2 DB6E     		ldr	r3, [r3, #108]
 1437              		.loc 1 607 8
 1438 00f4 002B     		cmp	r3, #0
 1439 00f6 04D0     		beq	.L105
 608:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->unsent);
 1440              		.loc 1 608 7
 1441 00f8 7B68     		ldr	r3, [r7, #4]
 1442 00fa DB6E     		ldr	r3, [r3, #108]
 1443 00fc 1846     		mov	r0, r3
 1444 00fe FFF7FEFF 		bl	tcp_segs_free
 1445              	.L105:
 609:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 610:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
 611:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL) {
 1446              		.loc 1 611 12
 1447 0102 7B68     		ldr	r3, [r7, #4]
 1448 0104 5B6F     		ldr	r3, [r3, #116]
 1449              		.loc 1 611 8
 1450 0106 002B     		cmp	r3, #0
 1451 0108 04D0     		beq	.L106
 612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_segs_free(pcb->ooseq);
 1452              		.loc 1 612 7
 1453 010a 7B68     		ldr	r3, [r7, #4]
 1454 010c 5B6F     		ldr	r3, [r3, #116]
 1455 010e 1846     		mov	r0, r3
 1456 0110 FFF7FEFF 		bl	tcp_segs_free
ARM GAS  /tmp/ccFjPNuy.s 			page 38


 1457              	.L106:
 613:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 614:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
 615:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_backlog_accepted(pcb);
 616:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (send_rst) {
 1458              		.loc 1 616 8
 1459 0114 7B6A     		ldr	r3, [r7, #36]
 1460 0116 002B     		cmp	r3, #0
 1461 0118 0ED0     		beq	.L107
 617:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_RST_DEBUG, ("tcp_abandon: sending RST\n"));
 618:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_rst(pcb, seqno, ackno, &pcb->local_ip, &pcb->remote_ip, local_port, pcb->remote_port);
 1462              		.loc 1 618 34
 1463 011a 7968     		ldr	r1, [r7, #4]
 1464              		.loc 1 618 50
 1465 011c 7B68     		ldr	r3, [r7, #4]
 1466 011e 0433     		adds	r3, r3, #4
 1467              		.loc 1 618 7
 1468 0120 7A68     		ldr	r2, [r7, #4]
 1469 0122 128B     		ldrh	r2, [r2, #24]
 1470 0124 0292     		str	r2, [sp, #8]
 1471 0126 7A8C     		ldrh	r2, [r7, #34]
 1472 0128 0192     		str	r2, [sp, #4]
 1473 012a 0093     		str	r3, [sp]
 1474 012c 0B46     		mov	r3, r1
 1475 012e 7A69     		ldr	r2, [r7, #20]
 1476 0130 B969     		ldr	r1, [r7, #24]
 1477 0132 7868     		ldr	r0, [r7, #4]
 1478 0134 FFF7FEFF 		bl	tcp_rst
 1479              	.L107:
 619:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 620:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     last_state = pcb->state;
 1480              		.loc 1 620 16
 1481 0138 7B68     		ldr	r3, [r7, #4]
 1482 013a 1B7D     		ldrb	r3, [r3, #20]
 1483 013c FB72     		strb	r3, [r7, #11]
 621:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_free(pcb);
 1484              		.loc 1 621 5
 1485 013e 7868     		ldr	r0, [r7, #4]
 1486 0140 FFF7FEFF 		bl	tcp_free
 622:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_ERR(last_state, errf, errf_arg, ERR_ABRT);
 1487              		.loc 1 622 5
 1488 0144 3B69     		ldr	r3, [r7, #16]
 1489 0146 002B     		cmp	r3, #0
 1490 0148 04D0     		beq	.L91
 1491              		.loc 1 622 5 is_stmt 0 discriminator 1
 1492 014a 3B69     		ldr	r3, [r7, #16]
 1493 014c 6FF00C01 		mvn	r1, #12
 1494 0150 F868     		ldr	r0, [r7, #12]
 1495 0152 9847     		blx	r3
 1496              	.LVL0:
 1497              	.L91:
 1498              	.LBE4:
 623:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1499              		.loc 1 624 1 is_stmt 1
 1500 0154 2837     		adds	r7, r7, #40
 1501              	.LCFI47:
ARM GAS  /tmp/ccFjPNuy.s 			page 39


 1502              		.cfi_def_cfa_offset 8
 1503 0156 BD46     		mov	sp, r7
 1504              	.LCFI48:
 1505              		.cfi_def_cfa_register 13
 1506              		@ sp needed
 1507 0158 80BD     		pop	{r7, pc}
 1508              	.L109:
 1509 015a 00BF     		.align	2
 1510              	.L108:
 1511 015c 78000000 		.word	.LC11
 1512 0160 B8010000 		.word	.LC22
 1513 0164 B8000000 		.word	.LC13
 1514 0168 D4010000 		.word	.LC23
 1515 016c 00000000 		.word	tcp_tw_pcbs
 1516 0170 00000000 		.word	tcp_bound_pcbs
 1517 0174 00000000 		.word	tcp_active_pcbs
 1518 0178 00000000 		.word	tcp_active_pcbs_changed
 1519              		.cfi_endproc
 1520              	.LFE143:
 1522              		.section	.text.tcp_abort,"ax",%progbits
 1523              		.align	1
 1524              		.global	tcp_abort
 1525              		.syntax unified
 1526              		.thumb
 1527              		.thumb_func
 1528              		.fpu fpv4-sp-d16
 1530              	tcp_abort:
 1531              	.LFB144:
 625:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 626:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 627:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 628:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Aborts the connection by sending a RST (reset) segment to the remote
 629:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host. The pcb is deallocated. This function never fails.
 630:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 631:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * ATTENTION: When calling this from one of the TCP callbacks, make
 632:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * sure you always return ERR_ABRT (and never return ERR_ABRT otherwise
 633:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * or you will risk accessing deallocated memory or memory leaks!
 634:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 635:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp pcb to abort
 636:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 637:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 638:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_abort(struct tcp_pcb *pcb)
 639:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1532              		.loc 1 639 1
 1533              		.cfi_startproc
 1534              		@ args = 0, pretend = 0, frame = 8
 1535              		@ frame_needed = 1, uses_anonymous_args = 0
 1536 0000 80B5     		push	{r7, lr}
 1537              	.LCFI49:
 1538              		.cfi_def_cfa_offset 8
 1539              		.cfi_offset 7, -8
 1540              		.cfi_offset 14, -4
 1541 0002 82B0     		sub	sp, sp, #8
 1542              	.LCFI50:
 1543              		.cfi_def_cfa_offset 16
 1544 0004 00AF     		add	r7, sp, #0
 1545              	.LCFI51:
ARM GAS  /tmp/ccFjPNuy.s 			page 40


 1546              		.cfi_def_cfa_register 7
 1547 0006 7860     		str	r0, [r7, #4]
 640:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abandon(pcb, 1);
 1548              		.loc 1 640 3
 1549 0008 0121     		movs	r1, #1
 1550 000a 7868     		ldr	r0, [r7, #4]
 1551 000c FFF7FEFF 		bl	tcp_abandon
 641:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1552              		.loc 1 641 1
 1553 0010 00BF     		nop
 1554 0012 0837     		adds	r7, r7, #8
 1555              	.LCFI52:
 1556              		.cfi_def_cfa_offset 8
 1557 0014 BD46     		mov	sp, r7
 1558              	.LCFI53:
 1559              		.cfi_def_cfa_register 13
 1560              		@ sp needed
 1561 0016 80BD     		pop	{r7, pc}
 1562              		.cfi_endproc
 1563              	.LFE144:
 1565              		.section	.rodata
 1566 0205 000000   		.align	2
 1567              	.LC24:
 1568 0208 7463705F 		.ascii	"tcp_bind: invalid pcb\000"
 1568      62696E64 
 1568      3A20696E 
 1568      76616C69 
 1568      64207063 
 1569 021e 0000     		.align	2
 1570              	.LC25:
 1571 0220 7463705F 		.ascii	"tcp_bind: can only bind in state CLOSED\000"
 1571      62696E64 
 1571      3A206361 
 1571      6E206F6E 
 1571      6C792062 
 1572              		.section	.text.tcp_bind,"ax",%progbits
 1573              		.align	1
 1574              		.global	tcp_bind
 1575              		.syntax unified
 1576              		.thumb
 1577              		.thumb_func
 1578              		.fpu fpv4-sp-d16
 1580              	tcp_bind:
 1581              	.LFB145:
 642:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 643:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 644:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 645:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Binds the connection to a local port number and IP address. If the
 646:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * IP address is not given (i.e., ipaddr == IP_ANY_TYPE), the connection is
 647:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * bound to all local IP addresses.
 648:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If another connection is bound to the same port, the function will
 649:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * return ERR_USE, otherwise ERR_OK is returned.
 650:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 651:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to bind (no check is done whether this pcb is
 652:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        already bound!)
 653:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param ipaddr the local ip address to bind to (use IPx_ADDR_ANY to bind
 654:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        to any local address
ARM GAS  /tmp/ccFjPNuy.s 			page 41


 655:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param port the local port to bind to
 656:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_USE if the port is already in use
 657:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_VAL if bind failed because the PCB is not in a valid state
 658:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_OK if bound
 659:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 660:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
 661:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_bind(struct tcp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port)
 662:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1582              		.loc 1 662 1
 1583              		.cfi_startproc
 1584              		@ args = 0, pretend = 0, frame = 32
 1585              		@ frame_needed = 1, uses_anonymous_args = 0
 1586 0000 80B5     		push	{r7, lr}
 1587              	.LCFI54:
 1588              		.cfi_def_cfa_offset 8
 1589              		.cfi_offset 7, -8
 1590              		.cfi_offset 14, -4
 1591 0002 88B0     		sub	sp, sp, #32
 1592              	.LCFI55:
 1593              		.cfi_def_cfa_offset 40
 1594 0004 00AF     		add	r7, sp, #0
 1595              	.LCFI56:
 1596              		.cfi_def_cfa_register 7
 1597 0006 F860     		str	r0, [r7, #12]
 1598 0008 B960     		str	r1, [r7, #8]
 1599 000a 1346     		mov	r3, r2
 1600 000c FB80     		strh	r3, [r7, #6]	@ movhi
 663:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int i;
 664:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   int max_pcb_list = NUM_TCP_PCB_LISTS;
 1601              		.loc 1 664 7
 1602 000e 0423     		movs	r3, #4
 1603 0010 7B61     		str	r3, [r7, #20]
 665:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *cpcb;
 666:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6 && LWIP_IPV6_SCOPES
 667:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_t zoned_ipaddr;
 668:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_SCOPES */
 669:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 670:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 671:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 672:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
 673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Don't propagate NULL pointer (IPv4 ANY) to subsequent functions */
 674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ipaddr == NULL) {
 1604              		.loc 1 674 6
 1605 0012 BB68     		ldr	r3, [r7, #8]
 1606 0014 002B     		cmp	r3, #0
 1607 0016 01D1     		bne	.L112
 675:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ipaddr = IP4_ADDR_ANY;
 1608              		.loc 1 675 12
 1609 0018 3E4B     		ldr	r3, .L127
 1610 001a BB60     		str	r3, [r7, #8]
 1611              	.L112:
 676:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 677:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_IPV4 */
 678:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_bind: invalid ipaddr", ipaddr != NULL, return ERR_ARG);
 679:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
 680:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 681:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_bind: invalid pcb", pcb != NULL, return ERR_ARG);
ARM GAS  /tmp/ccFjPNuy.s 			page 42


 1612              		.loc 1 681 3
 1613 001c FB68     		ldr	r3, [r7, #12]
 1614 001e 002B     		cmp	r3, #0
 1615 0020 09D1     		bne	.L113
 1616              		.loc 1 681 3 is_stmt 0 discriminator 1
 1617 0022 3D4B     		ldr	r3, .L127+4
 1618 0024 40F2A922 		movw	r2, #681
 1619 0028 3C49     		ldr	r1, .L127+8
 1620 002a 3D48     		ldr	r0, .L127+12
 1621 002c FFF7FEFF 		bl	printf
 1622 0030 6FF00F03 		mvn	r3, #15
 1623 0034 6AE0     		b	.L114
 1624              	.L113:
 682:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 683:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_bind: can only bind in state CLOSED", pcb->state == CLOSED, return ERR_VAL);
 1625              		.loc 1 683 3 is_stmt 1
 1626 0036 FB68     		ldr	r3, [r7, #12]
 1627 0038 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 1628 003a 002B     		cmp	r3, #0
 1629 003c 09D0     		beq	.L115
 1630              		.loc 1 683 3 is_stmt 0 discriminator 1
 1631 003e 364B     		ldr	r3, .L127+4
 1632 0040 40F2AB22 		movw	r2, #683
 1633 0044 3749     		ldr	r1, .L127+16
 1634 0046 3648     		ldr	r0, .L127+12
 1635 0048 FFF7FEFF 		bl	printf
 1636 004c 6FF00503 		mvn	r3, #5
 1637 0050 5CE0     		b	.L114
 1638              	.L115:
 684:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 685:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 686:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Unless the REUSEADDR flag is set,
 687:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      we have to check the pcbs in TIME-WAIT state, also.
 688:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      We do not dump TIME_WAIT pcb's; they can still be matched by incoming
 689:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      packets using both local and remote IP addresses and ports to distinguish.
 690:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    */
 691:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_get_option(pcb, SOF_REUSEADDR)) {
 692:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     max_pcb_list = NUM_TCP_PCB_LISTS_NO_TIME_WAIT;
 693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 694:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 695:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 696:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6 && LWIP_IPV6_SCOPES
 697:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* If the given IP address should have a zone but doesn't, assign one now.
 698:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * This is legacy support: scope-aware callers should always provide properly
 699:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * zoned source addresses. Do the zone selection before the address-in-use
 700:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * check below; as such we have to make a temporary copy of the address. */
 701:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (IP_IS_V6(ipaddr) && ip6_addr_lacks_zone(ip_2_ip6(ipaddr), IP6_UNICAST)) {
 702:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_copy(zoned_ipaddr, *ipaddr);
 703:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip6_addr_select_zone(ip_2_ip6(&zoned_ipaddr), ip_2_ip6(&zoned_ipaddr));
 704:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ipaddr = &zoned_ipaddr;
 705:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 706:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_SCOPES */
 707:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (port == 0) {
 1639              		.loc 1 708 6 is_stmt 1
 1640 0052 FB88     		ldrh	r3, [r7, #6]
 1641 0054 002B     		cmp	r3, #0
ARM GAS  /tmp/ccFjPNuy.s 			page 43


 1642 0056 09D1     		bne	.L116
 709:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     port = tcp_new_port();
 1643              		.loc 1 709 12
 1644 0058 FFF7FEFF 		bl	tcp_new_port
 1645 005c 0346     		mov	r3, r0
 1646 005e FB80     		strh	r3, [r7, #6]	@ movhi
 710:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (port == 0) {
 1647              		.loc 1 710 8
 1648 0060 FB88     		ldrh	r3, [r7, #6]
 1649 0062 002B     		cmp	r3, #0
 1650 0064 35D1     		bne	.L117
 711:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 1651              		.loc 1 711 14
 1652 0066 6FF00103 		mvn	r3, #1
 1653 006a 4FE0     		b	.L114
 1654              	.L116:
 712:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 713:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 714:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if the address already is in use (on all lists) */
 715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (i = 0; i < max_pcb_list; i++) {
 1655              		.loc 1 715 12
 1656 006c 0023     		movs	r3, #0
 1657 006e FB61     		str	r3, [r7, #28]
 1658              		.loc 1 715 5
 1659 0070 2BE0     		b	.L118
 1660              	.L123:
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 1661              		.loc 1 716 33
 1662 0072 2D4A     		ldr	r2, .L127+20
 1663 0074 FB69     		ldr	r3, [r7, #28]
 1664 0076 52F82330 		ldr	r3, [r2, r3, lsl #2]
 1665              		.loc 1 716 17
 1666 007a 1B68     		ldr	r3, [r3]
 1667 007c BB61     		str	r3, [r7, #24]
 1668              		.loc 1 716 7
 1669 007e 1EE0     		b	.L119
 1670              	.L122:
 717:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 1671              		.loc 1 717 17
 1672 0080 BB69     		ldr	r3, [r7, #24]
 1673 0082 DB8A     		ldrh	r3, [r3, #22]
 1674              		.loc 1 717 12
 1675 0084 FA88     		ldrh	r2, [r7, #6]
 1676 0086 9A42     		cmp	r2, r3
 1677 0088 16D1     		bne	.L120
 718:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 719:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Omit checking for the same port if both pcbs have REUSEADDR set.
 720:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              For SO_REUSEADDR, the duplicate-check for a 5-tuple is done in
 721:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              tcp_connect. */
 722:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (!ip_get_option(pcb, SOF_REUSEADDR) ||
 723:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               !ip_get_option(cpcb, SOF_REUSEADDR))
 724:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           {
 726:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* @todo: check accept_any_ip_version */
 727:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if ((IP_IS_V6(ipaddr) == IP_IS_V6_VAL(cpcb->local_ip)) &&
 728:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 1678              		.loc 1 728 18
ARM GAS  /tmp/ccFjPNuy.s 			page 44


 1679 008a BB69     		ldr	r3, [r7, #24]
 727:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 1680              		.loc 1 727 16
 1681 008c 002B     		cmp	r3, #0
 1682 008e 10D0     		beq	.L121
 1683              		.loc 1 728 18
 1684 0090 BB69     		ldr	r3, [r7, #24]
 1685 0092 1B68     		ldr	r3, [r3]
 1686 0094 002B     		cmp	r3, #0
 1687 0096 0CD0     		beq	.L121
 1688              		.loc 1 728 49 discriminator 1
 1689 0098 BB68     		ldr	r3, [r7, #8]
 1690 009a 002B     		cmp	r3, #0
 1691 009c 09D0     		beq	.L121
 729:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  ip_addr_isany(ipaddr) ||
 1692              		.loc 1 729 18
 1693 009e BB68     		ldr	r3, [r7, #8]
 1694 00a0 1B68     		ldr	r3, [r3]
 1695 00a2 002B     		cmp	r3, #0
 1696 00a4 05D0     		beq	.L121
 730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  ip_addr_cmp(&cpcb->local_ip, ipaddr))) {
 1697              		.loc 1 730 18
 1698 00a6 BB69     		ldr	r3, [r7, #24]
 1699 00a8 1A68     		ldr	r2, [r3]
 1700 00aa BB68     		ldr	r3, [r7, #8]
 1701 00ac 1B68     		ldr	r3, [r3]
 727:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 (ip_addr_isany(&cpcb->local_ip) ||
 1702              		.loc 1 727 68
 1703 00ae 9A42     		cmp	r2, r3
 1704 00b0 02D1     		bne	.L120
 1705              	.L121:
 731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               return ERR_USE;
 1706              		.loc 1 731 22
 1707 00b2 6FF00703 		mvn	r3, #7
 1708 00b6 29E0     		b	.L114
 1709              	.L120:
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 1710              		.loc 1 716 57 discriminator 2
 1711 00b8 BB69     		ldr	r3, [r7, #24]
 1712 00ba DB68     		ldr	r3, [r3, #12]
 1713 00bc BB61     		str	r3, [r7, #24]
 1714              	.L119:
 716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (cpcb->local_port == port) {
 1715              		.loc 1 716 7 discriminator 1
 1716 00be BB69     		ldr	r3, [r7, #24]
 1717 00c0 002B     		cmp	r3, #0
 1718 00c2 DDD1     		bne	.L122
 715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 1719              		.loc 1 715 36 discriminator 2
 1720 00c4 FB69     		ldr	r3, [r7, #28]
 1721 00c6 0133     		adds	r3, r3, #1
 1722 00c8 FB61     		str	r3, [r7, #28]
 1723              	.L118:
 715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
 1724              		.loc 1 715 5 discriminator 1
 1725 00ca FA69     		ldr	r2, [r7, #28]
 1726 00cc 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccFjPNuy.s 			page 45


 1727 00ce 9A42     		cmp	r2, r3
 1728 00d0 CFDB     		blt	.L123
 1729              	.L117:
 732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
 733:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
 734:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
 735:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 736:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 737:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 738:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (!ip_addr_isany(ipaddr)
 1730              		.loc 1 739 6
 1731 00d2 BB68     		ldr	r3, [r7, #8]
 1732 00d4 002B     		cmp	r3, #0
 1733 00d6 0CD0     		beq	.L124
 1734              		.loc 1 739 8 discriminator 1
 1735 00d8 BB68     		ldr	r3, [r7, #8]
 1736 00da 1B68     		ldr	r3, [r3]
 1737              		.loc 1 739 7 discriminator 1
 1738 00dc 002B     		cmp	r3, #0
 1739 00de 08D0     		beq	.L124
 740:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 741:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       || (IP_GET_TYPE(ipaddr) != IP_GET_TYPE(&pcb->local_ip))
 742:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 743:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      ) {
 744:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_set(&pcb->local_ip, ipaddr);
 1740              		.loc 1 744 5
 1741 00e0 BB68     		ldr	r3, [r7, #8]
 1742 00e2 002B     		cmp	r3, #0
 1743 00e4 02D0     		beq	.L125
 1744              		.loc 1 744 5 is_stmt 0 discriminator 1
 1745 00e6 BB68     		ldr	r3, [r7, #8]
 1746 00e8 1B68     		ldr	r3, [r3]
 1747 00ea 00E0     		b	.L126
 1748              	.L125:
 1749              		.loc 1 744 5 discriminator 2
 1750 00ec 0023     		movs	r3, #0
 1751              	.L126:
 1752              		.loc 1 744 5 discriminator 4
 1753 00ee FA68     		ldr	r2, [r7, #12]
 1754 00f0 1360     		str	r3, [r2]
 1755              	.L124:
 745:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 746:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->local_port = port;
 1756              		.loc 1 746 19 is_stmt 1
 1757 00f2 FB68     		ldr	r3, [r7, #12]
 1758 00f4 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1759 00f6 DA82     		strh	r2, [r3, #22]	@ movhi
 747:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_bound_pcbs, pcb);
 1760              		.loc 1 747 3
 1761 00f8 0C4B     		ldr	r3, .L127+24
 1762 00fa 1A68     		ldr	r2, [r3]
 1763 00fc FB68     		ldr	r3, [r7, #12]
 1764 00fe DA60     		str	r2, [r3, #12]
 1765 0100 0A4A     		ldr	r2, .L127+24
 1766 0102 FB68     		ldr	r3, [r7, #12]
 1767 0104 1360     		str	r3, [r2]
ARM GAS  /tmp/ccFjPNuy.s 			page 46


 1768 0106 FFF7FEFF 		bl	tcp_timer_needed
 748:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_bind: bind to port %"U16_F"\n", port));
 749:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 1769              		.loc 1 749 10
 1770 010a 0023     		movs	r3, #0
 1771              	.L114:
 750:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1772              		.loc 1 750 1
 1773 010c 1846     		mov	r0, r3
 1774 010e 2037     		adds	r7, r7, #32
 1775              	.LCFI57:
 1776              		.cfi_def_cfa_offset 8
 1777 0110 BD46     		mov	sp, r7
 1778              	.LCFI58:
 1779              		.cfi_def_cfa_register 13
 1780              		@ sp needed
 1781 0112 80BD     		pop	{r7, pc}
 1782              	.L128:
 1783              		.align	2
 1784              	.L127:
 1785 0114 00000000 		.word	ip_addr_any
 1786 0118 78000000 		.word	.LC11
 1787 011c 08020000 		.word	.LC24
 1788 0120 B8000000 		.word	.LC13
 1789 0124 20020000 		.word	.LC25
 1790 0128 00000000 		.word	tcp_pcb_lists
 1791 012c 00000000 		.word	tcp_bound_pcbs
 1792              		.cfi_endproc
 1793              	.LFE145:
 1795              		.section	.text.tcp_bind_netif,"ax",%progbits
 1796              		.align	1
 1797              		.global	tcp_bind_netif
 1798              		.syntax unified
 1799              		.thumb
 1800              		.thumb_func
 1801              		.fpu fpv4-sp-d16
 1803              	tcp_bind_netif:
 1804              	.LFB146:
 751:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 752:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 753:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 754:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Binds the connection to a netif and IP address.
 755:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * After calling this function, all packets received via this PCB
 756:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * are guaranteed to have come in via the specified netif, and all
 757:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * outgoing packets will go out via the specified netif.
 758:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 759:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to bind.
 760:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param netif the netif to bind to. Can be NULL.
 761:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 762:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 763:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_bind_netif(struct tcp_pcb *pcb, const struct netif *netif)
 764:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1805              		.loc 1 764 1
 1806              		.cfi_startproc
 1807              		@ args = 0, pretend = 0, frame = 8
 1808              		@ frame_needed = 1, uses_anonymous_args = 0
 1809              		@ link register save eliminated.
ARM GAS  /tmp/ccFjPNuy.s 			page 47


 1810 0000 80B4     		push	{r7}
 1811              	.LCFI59:
 1812              		.cfi_def_cfa_offset 4
 1813              		.cfi_offset 7, -4
 1814 0002 83B0     		sub	sp, sp, #12
 1815              	.LCFI60:
 1816              		.cfi_def_cfa_offset 16
 1817 0004 00AF     		add	r7, sp, #0
 1818              	.LCFI61:
 1819              		.cfi_def_cfa_register 7
 1820 0006 7860     		str	r0, [r7, #4]
 1821 0008 3960     		str	r1, [r7]
 765:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 766:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (netif != NULL) {
 1822              		.loc 1 766 6
 1823 000a 3B68     		ldr	r3, [r7]
 1824 000c 002B     		cmp	r3, #0
 1825 000e 07D0     		beq	.L130
 767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->netif_idx = netif_get_index(netif);
 1826              		.loc 1 767 22
 1827 0010 3B68     		ldr	r3, [r7]
 1828 0012 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 1829 0016 0133     		adds	r3, r3, #1
 1830 0018 DAB2     		uxtb	r2, r3
 1831              		.loc 1 767 20
 1832 001a 7B68     		ldr	r3, [r7, #4]
 1833 001c 1A72     		strb	r2, [r3, #8]
 768:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->netif_idx = NETIF_NO_INDEX;
 770:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 771:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1834              		.loc 1 771 1
 1835 001e 02E0     		b	.L132
 1836              	.L130:
 769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 1837              		.loc 1 769 20
 1838 0020 7B68     		ldr	r3, [r7, #4]
 1839 0022 0022     		movs	r2, #0
 1840 0024 1A72     		strb	r2, [r3, #8]
 1841              	.L132:
 1842              		.loc 1 771 1
 1843 0026 00BF     		nop
 1844 0028 0C37     		adds	r7, r7, #12
 1845              	.LCFI62:
 1846              		.cfi_def_cfa_offset 4
 1847 002a BD46     		mov	sp, r7
 1848              	.LCFI63:
 1849              		.cfi_def_cfa_register 13
 1850              		@ sp needed
 1851 002c 5DF8047B 		ldr	r7, [sp], #4
 1852              	.LCFI64:
 1853              		.cfi_restore 7
 1854              		.cfi_def_cfa_offset 0
 1855 0030 7047     		bx	lr
 1856              		.cfi_endproc
 1857              	.LFE146:
 1859              		.section	.rodata
ARM GAS  /tmp/ccFjPNuy.s 			page 48


 1860              		.align	2
 1861              	.LC26:
 1862 0248 7463705F 		.ascii	"tcp_accept_null: invalid pcb\000"
 1862      61636365 
 1862      70745F6E 
 1862      756C6C3A 
 1862      20696E76 
 1863              		.section	.text.tcp_accept_null,"ax",%progbits
 1864              		.align	1
 1865              		.syntax unified
 1866              		.thumb
 1867              		.thumb_func
 1868              		.fpu fpv4-sp-d16
 1870              	tcp_accept_null:
 1871              	.LFB147:
 772:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 773:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 774:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 775:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Default accept callback if no accept callback is specified by the user.
 776:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 777:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static err_t
 778:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_accept_null(void *arg, struct tcp_pcb *pcb, err_t err)
 779:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1872              		.loc 1 779 1
 1873              		.cfi_startproc
 1874              		@ args = 0, pretend = 0, frame = 16
 1875              		@ frame_needed = 1, uses_anonymous_args = 0
 1876 0000 80B5     		push	{r7, lr}
 1877              	.LCFI65:
 1878              		.cfi_def_cfa_offset 8
 1879              		.cfi_offset 7, -8
 1880              		.cfi_offset 14, -4
 1881 0002 84B0     		sub	sp, sp, #16
 1882              	.LCFI66:
 1883              		.cfi_def_cfa_offset 24
 1884 0004 00AF     		add	r7, sp, #0
 1885              	.LCFI67:
 1886              		.cfi_def_cfa_register 7
 1887 0006 F860     		str	r0, [r7, #12]
 1888 0008 B960     		str	r1, [r7, #8]
 1889 000a 1346     		mov	r3, r2
 1890 000c FB71     		strb	r3, [r7, #7]
 780:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
 781:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(err);
 782:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 783:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_accept_null: invalid pcb", pcb != NULL);
 1891              		.loc 1 783 3
 1892 000e BB68     		ldr	r3, [r7, #8]
 1893 0010 002B     		cmp	r3, #0
 1894 0012 06D1     		bne	.L134
 1895              		.loc 1 783 3 is_stmt 0 discriminator 1
 1896 0014 074B     		ldr	r3, .L136
 1897 0016 40F20F32 		movw	r2, #783
 1898 001a 0749     		ldr	r1, .L136+4
 1899 001c 0748     		ldr	r0, .L136+8
 1900 001e FFF7FEFF 		bl	printf
 1901              	.L134:
ARM GAS  /tmp/ccFjPNuy.s 			page 49


 784:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 785:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_abort(pcb);
 1902              		.loc 1 785 3 is_stmt 1
 1903 0022 B868     		ldr	r0, [r7, #8]
 1904 0024 FFF7FEFF 		bl	tcp_abort
 786:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 787:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_ABRT;
 1905              		.loc 1 787 10
 1906 0028 6FF00C03 		mvn	r3, #12
 788:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1907              		.loc 1 788 1
 1908 002c 1846     		mov	r0, r3
 1909 002e 1037     		adds	r7, r7, #16
 1910              	.LCFI68:
 1911              		.cfi_def_cfa_offset 8
 1912 0030 BD46     		mov	sp, r7
 1913              	.LCFI69:
 1914              		.cfi_def_cfa_register 13
 1915              		@ sp needed
 1916 0032 80BD     		pop	{r7, pc}
 1917              	.L137:
 1918              		.align	2
 1919              	.L136:
 1920 0034 78000000 		.word	.LC11
 1921 0038 48020000 		.word	.LC26
 1922 003c B8000000 		.word	.LC13
 1923              		.cfi_endproc
 1924              	.LFE147:
 1926              		.section	.text.tcp_listen_with_backlog,"ax",%progbits
 1927              		.align	1
 1928              		.global	tcp_listen_with_backlog
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1932              		.fpu fpv4-sp-d16
 1934              	tcp_listen_with_backlog:
 1935              	.LFB148:
 789:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 790:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 791:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 793:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Set the state of the connection to be LISTEN, which means that it
 794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is able to accept incoming connections. The protocol control block
 795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is reallocated in order to consume less memory. Setting the
 796:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection to LISTEN is an irreversible process.
 797:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * When an incoming connection is accepted, the function specified with
 798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the tcp_accept() function will be called. The pcb has to be bound
 799:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * to a local port with the tcp_bind() function.
 800:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
 801:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The tcp_listen() function returns a new connection identifier, and
 802:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the one passed as an argument to the function will be
 803:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * deallocated. The reason for this behavior is that less memory is
 804:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * needed for a connection that is listening, so tcp_listen() will
 805:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * reclaim the memory needed for the original connection and allocate a
 806:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * new smaller memory block for the listening connection.
 807:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 808:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * tcp_listen() may return NULL if no memory was available for the
ARM GAS  /tmp/ccFjPNuy.s 			page 50


 809:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * listening connection. If so, the memory associated with the pcb
 810:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * passed as an argument to tcp_listen() will not be deallocated.
 811:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 812:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The backlog limits the number of outstanding connections
 813:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * in the listen queue to the value specified by the backlog argument.
 814:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * To use it, your need to set TCP_LISTEN_BACKLOG=1 in your lwipopts.h.
 815:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
 816:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the original tcp_pcb
 817:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param backlog the incoming connections queue limit
 818:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return tcp_pcb used for listening, consumes less memory.
 819:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 820:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The original tcp_pcb is freed. This function therefore has to be
 821:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *       called like this:
 822:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *             tpcb = tcp_listen_with_backlog(tpcb, backlog);
 823:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 824:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
 825:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_with_backlog(struct tcp_pcb *pcb, u8_t backlog)
 826:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1936              		.loc 1 826 1
 1937              		.cfi_startproc
 1938              		@ args = 0, pretend = 0, frame = 8
 1939              		@ frame_needed = 1, uses_anonymous_args = 0
 1940 0000 80B5     		push	{r7, lr}
 1941              	.LCFI70:
 1942              		.cfi_def_cfa_offset 8
 1943              		.cfi_offset 7, -8
 1944              		.cfi_offset 14, -4
 1945 0002 82B0     		sub	sp, sp, #8
 1946              	.LCFI71:
 1947              		.cfi_def_cfa_offset 16
 1948 0004 00AF     		add	r7, sp, #0
 1949              	.LCFI72:
 1950              		.cfi_def_cfa_register 7
 1951 0006 7860     		str	r0, [r7, #4]
 1952 0008 0B46     		mov	r3, r1
 1953 000a FB70     		strb	r3, [r7, #3]
 827:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 828:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_listen_with_backlog_and_err(pcb, backlog, NULL);
 1954              		.loc 1 828 10
 1955 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1956 000e 0022     		movs	r2, #0
 1957 0010 1946     		mov	r1, r3
 1958 0012 7868     		ldr	r0, [r7, #4]
 1959 0014 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 1960 0018 0346     		mov	r3, r0
 829:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 1961              		.loc 1 829 1
 1962 001a 1846     		mov	r0, r3
 1963 001c 0837     		adds	r7, r7, #8
 1964              	.LCFI73:
 1965              		.cfi_def_cfa_offset 8
 1966 001e BD46     		mov	sp, r7
 1967              	.LCFI74:
 1968              		.cfi_def_cfa_register 13
 1969              		@ sp needed
 1970 0020 80BD     		pop	{r7, pc}
 1971              		.cfi_endproc
ARM GAS  /tmp/ccFjPNuy.s 			page 51


 1972              	.LFE148:
 1974              		.section	.rodata
 1975 0265 000000   		.align	2
 1976              	.LC27:
 1977 0268 7463705F 		.ascii	"tcp_listen_with_backlog_and_err: invalid pcb\000"
 1977      6C697374 
 1977      656E5F77 
 1977      6974685F 
 1977      6261636B 
 1978 0295 000000   		.align	2
 1979              	.LC28:
 1980 0298 7463705F 		.ascii	"tcp_listen_with_backlog_and_err: pcb already connec"
 1980      6C697374 
 1980      656E5F77 
 1980      6974685F 
 1980      6261636B 
 1981 02cb 74656400 		.ascii	"ted\000"
 1982              		.section	.text.tcp_listen_with_backlog_and_err,"ax",%progbits
 1983              		.align	1
 1984              		.global	tcp_listen_with_backlog_and_err
 1985              		.syntax unified
 1986              		.thumb
 1987              		.thumb_func
 1988              		.fpu fpv4-sp-d16
 1990              	tcp_listen_with_backlog_and_err:
 1991              	.LFB149:
 830:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 831:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 832:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 833:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Set the state of the connection to be LISTEN, which means that it
 834:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is able to accept incoming connections. The protocol control block
 835:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * is reallocated in order to consume less memory. Setting the
 836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection to LISTEN is an irreversible process.
 837:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 838:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the original tcp_pcb
 839:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param backlog the incoming connections queue limit
 840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param err when NULL is returned, this contains the error reason
 841:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return tcp_pcb used for listening, consumes less memory.
 842:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 843:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The original tcp_pcb is freed. This function therefore has to be
 844:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *       called like this:
 845:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *             tpcb = tcp_listen_with_backlog_and_err(tpcb, backlog, &err);
 846:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 847:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
 848:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_listen_with_backlog_and_err(struct tcp_pcb *pcb, u8_t backlog, err_t *err)
 849:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 1992              		.loc 1 849 1
 1993              		.cfi_startproc
 1994              		@ args = 0, pretend = 0, frame = 32
 1995              		@ frame_needed = 1, uses_anonymous_args = 0
 1996 0000 80B5     		push	{r7, lr}
 1997              	.LCFI75:
 1998              		.cfi_def_cfa_offset 8
 1999              		.cfi_offset 7, -8
 2000              		.cfi_offset 14, -4
 2001 0002 88B0     		sub	sp, sp, #32
 2002              	.LCFI76:
ARM GAS  /tmp/ccFjPNuy.s 			page 52


 2003              		.cfi_def_cfa_offset 40
 2004 0004 00AF     		add	r7, sp, #0
 2005              	.LCFI77:
 2006              		.cfi_def_cfa_register 7
 2007 0006 F860     		str	r0, [r7, #12]
 2008 0008 0B46     		mov	r3, r1
 2009 000a 7A60     		str	r2, [r7, #4]
 2010 000c FB72     		strb	r3, [r7, #11]
 850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb = NULL;
 2011              		.loc 1 850 26
 2012 000e 0023     		movs	r3, #0
 2013 0010 FB61     		str	r3, [r7, #28]
 851:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t res;
 852:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 853:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(backlog);
 854:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 855:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 856:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen_with_backlog_and_err: invalid pcb", pcb != NULL, res = ERR_ARG; goto done)
 2014              		.loc 1 857 3
 2015 0012 FB68     		ldr	r3, [r7, #12]
 2016 0014 002B     		cmp	r3, #0
 2017 0016 09D1     		bne	.L141
 2018              		.loc 1 857 3 is_stmt 0 discriminator 1
 2019 0018 474B     		ldr	r3, .L154
 2020 001a 40F25932 		movw	r2, #857
 2021 001e 4749     		ldr	r1, .L154+4
 2022 0020 4748     		ldr	r0, .L154+8
 2023 0022 FFF7FEFF 		bl	printf
 2024 0026 F023     		movs	r3, #240
 2025 0028 FB76     		strb	r3, [r7, #27]
 2026 002a 79E0     		b	.L142
 2027              	.L141:
 858:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_listen_with_backlog_and_err: pcb already connected", pcb->state == CLOSED, res = 
 2028              		.loc 1 858 3 is_stmt 1
 2029 002c FB68     		ldr	r3, [r7, #12]
 2030 002e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2031 0030 002B     		cmp	r3, #0
 2032 0032 09D0     		beq	.L143
 2033              		.loc 1 858 3 is_stmt 0 discriminator 1
 2034 0034 404B     		ldr	r3, .L154
 2035 0036 40F25A32 		movw	r2, #858
 2036 003a 4249     		ldr	r1, .L154+12
 2037 003c 4048     		ldr	r0, .L154+8
 2038 003e FFF7FEFF 		bl	printf
 2039 0042 F123     		movs	r3, #241
 2040 0044 FB76     		strb	r3, [r7, #27]
 2041 0046 6BE0     		b	.L142
 2042              	.L143:
 859:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 860:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* already listening? */
 861:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state == LISTEN) {
 2043              		.loc 1 861 10 is_stmt 1
 2044 0048 FB68     		ldr	r3, [r7, #12]
 2045 004a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2046              		.loc 1 861 6
 2047 004c 012B     		cmp	r3, #1
ARM GAS  /tmp/ccFjPNuy.s 			page 53


 2048 004e 04D1     		bne	.L144
 862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     lpcb = (struct tcp_pcb_listen *)pcb;
 2049              		.loc 1 862 10
 2050 0050 FB68     		ldr	r3, [r7, #12]
 2051 0052 FB61     		str	r3, [r7, #28]
 863:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     res = ERR_ALREADY;
 2052              		.loc 1 863 9
 2053 0054 F723     		movs	r3, #247
 2054 0056 FB76     		strb	r3, [r7, #27]
 864:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     goto done;
 2055              		.loc 1 864 5
 2056 0058 62E0     		b	.L142
 2057              	.L144:
 865:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 866:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
 867:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_get_option(pcb, SOF_REUSEADDR)) {
 868:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Since SOF_REUSEADDR allows reusing a local address before the pcb's usage
 869:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        is declared (listen-/connection-pcb), we have to make sure now that
 870:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        this port is only used once for every local IP. */
 871:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 872:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((lpcb->local_port == pcb->local_port) &&
 873:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ip_addr_cmp(&lpcb->local_ip, &pcb->local_ip)) {
 874:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* this address/port is already used */
 875:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         lpcb = NULL;
 876:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         res = ERR_USE;
 877:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto done;
 878:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
 879:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 880:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 881:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
 882:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb = (struct tcp_pcb_listen *)memp_malloc(MEMP_TCP_PCB_LISTEN);
 2058              		.loc 1 882 35
 2059 005a 0220     		movs	r0, #2
 2060 005c FFF7FEFF 		bl	memp_malloc
 2061 0060 F861     		str	r0, [r7, #28]
 883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (lpcb == NULL) {
 2062              		.loc 1 883 6
 2063 0062 FB69     		ldr	r3, [r7, #28]
 2064 0064 002B     		cmp	r3, #0
 2065 0066 02D1     		bne	.L145
 884:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     res = ERR_MEM;
 2066              		.loc 1 884 9
 2067 0068 FF23     		movs	r3, #255
 2068 006a FB76     		strb	r3, [r7, #27]
 885:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     goto done;
 2069              		.loc 1 885 5
 2070 006c 58E0     		b	.L142
 2071              	.L145:
 886:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 887:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->callback_arg = pcb->callback_arg;
 2072              		.loc 1 887 27
 2073 006e FB68     		ldr	r3, [r7, #12]
 2074 0070 1A69     		ldr	r2, [r3, #16]
 2075              		.loc 1 887 22
 2076 0072 FB69     		ldr	r3, [r7, #28]
 2077 0074 1A61     		str	r2, [r3, #16]
 888:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->local_port = pcb->local_port;
ARM GAS  /tmp/ccFjPNuy.s 			page 54


 2078              		.loc 1 888 25
 2079 0076 FB68     		ldr	r3, [r7, #12]
 2080 0078 DA8A     		ldrh	r2, [r3, #22]
 2081              		.loc 1 888 20
 2082 007a FB69     		ldr	r3, [r7, #28]
 2083 007c DA82     		strh	r2, [r3, #22]	@ movhi
 889:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->state = LISTEN;
 2084              		.loc 1 889 15
 2085 007e FB69     		ldr	r3, [r7, #28]
 2086 0080 0122     		movs	r2, #1
 2087 0082 1A75     		strb	r2, [r3, #20]
 890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->prio = pcb->prio;
 2088              		.loc 1 890 19
 2089 0084 FB68     		ldr	r3, [r7, #12]
 2090 0086 5A7D     		ldrb	r2, [r3, #21]	@ zero_extendqisi2
 2091              		.loc 1 890 14
 2092 0088 FB69     		ldr	r3, [r7, #28]
 2093 008a 5A75     		strb	r2, [r3, #21]
 891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->so_options = pcb->so_options;
 2094              		.loc 1 891 25
 2095 008c FB68     		ldr	r3, [r7, #12]
 2096 008e 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 2097              		.loc 1 891 20
 2098 0090 FB69     		ldr	r3, [r7, #28]
 2099 0092 5A72     		strb	r2, [r3, #9]
 892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->netif_idx = NETIF_NO_INDEX;
 2100              		.loc 1 892 19
 2101 0094 FB69     		ldr	r3, [r7, #28]
 2102 0096 0022     		movs	r2, #0
 2103 0098 1A72     		strb	r2, [r3, #8]
 893:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->ttl = pcb->ttl;
 2104              		.loc 1 893 18
 2105 009a FB68     		ldr	r3, [r7, #12]
 2106 009c DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 2107              		.loc 1 893 13
 2108 009e FB69     		ldr	r3, [r7, #28]
 2109 00a0 DA72     		strb	r2, [r3, #11]
 894:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->tos = pcb->tos;
 2110              		.loc 1 894 18
 2111 00a2 FB68     		ldr	r3, [r7, #12]
 2112 00a4 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 2113              		.loc 1 894 13
 2114 00a6 FB69     		ldr	r3, [r7, #28]
 2115 00a8 9A72     		strb	r2, [r3, #10]
 895:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
 896:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   IP_SET_TYPE_VAL(lpcb->remote_ip, pcb->local_ip.type);
 897:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 898:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_copy(lpcb->local_ip, pcb->local_ip);
 2116              		.loc 1 898 3
 2117 00aa FB68     		ldr	r3, [r7, #12]
 2118 00ac 1A68     		ldr	r2, [r3]
 2119 00ae FB69     		ldr	r3, [r7, #28]
 2120 00b0 1A60     		str	r2, [r3]
 899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port != 0) {
 2121              		.loc 1 899 10
 2122 00b2 FB68     		ldr	r3, [r7, #12]
 2123 00b4 DB8A     		ldrh	r3, [r3, #22]
ARM GAS  /tmp/ccFjPNuy.s 			page 55


 2124              		.loc 1 899 6
 2125 00b6 002B     		cmp	r3, #0
 2126 00b8 21D0     		beq	.L146
 900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_RMV(&tcp_bound_pcbs, pcb);
 2127              		.loc 1 900 5
 2128 00ba 234B     		ldr	r3, .L154+16
 2129 00bc 1B68     		ldr	r3, [r3]
 2130 00be FA68     		ldr	r2, [r7, #12]
 2131 00c0 9A42     		cmp	r2, r3
 2132 00c2 05D1     		bne	.L147
 2133              		.loc 1 900 5 is_stmt 0 discriminator 1
 2134 00c4 204B     		ldr	r3, .L154+16
 2135 00c6 1B68     		ldr	r3, [r3]
 2136 00c8 DB68     		ldr	r3, [r3, #12]
 2137 00ca 1F4A     		ldr	r2, .L154+16
 2138 00cc 1360     		str	r3, [r2]
 2139 00ce 13E0     		b	.L148
 2140              	.L147:
 2141              	.LBB6:
 2142              		.loc 1 900 5 discriminator 2
 2143 00d0 1D4B     		ldr	r3, .L154+16
 2144 00d2 1B68     		ldr	r3, [r3]
 2145 00d4 7B61     		str	r3, [r7, #20]
 2146 00d6 0CE0     		b	.L149
 2147              	.L151:
 2148              		.loc 1 900 5 discriminator 9
 2149 00d8 7B69     		ldr	r3, [r7, #20]
 2150 00da DB68     		ldr	r3, [r3, #12]
 2151 00dc FA68     		ldr	r2, [r7, #12]
 2152 00de 9A42     		cmp	r2, r3
 2153 00e0 04D1     		bne	.L150
 2154              		.loc 1 900 5 discriminator 5
 2155 00e2 FB68     		ldr	r3, [r7, #12]
 2156 00e4 DA68     		ldr	r2, [r3, #12]
 2157 00e6 7B69     		ldr	r3, [r7, #20]
 2158 00e8 DA60     		str	r2, [r3, #12]
 2159 00ea 05E0     		b	.L148
 2160              	.L150:
 2161              		.loc 1 900 5 discriminator 6
 2162 00ec 7B69     		ldr	r3, [r7, #20]
 2163 00ee DB68     		ldr	r3, [r3, #12]
 2164 00f0 7B61     		str	r3, [r7, #20]
 2165              	.L149:
 2166              		.loc 1 900 5 discriminator 8
 2167 00f2 7B69     		ldr	r3, [r7, #20]
 2168 00f4 002B     		cmp	r3, #0
 2169 00f6 EFD1     		bne	.L151
 2170              	.L148:
 2171              	.LBE6:
 2172              		.loc 1 900 5 discriminator 10
 2173 00f8 FB68     		ldr	r3, [r7, #12]
 2174 00fa 0022     		movs	r2, #0
 2175 00fc DA60     		str	r2, [r3, #12]
 2176              	.L146:
 901:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 902:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_PCB_NUM_EXT_ARGS
 903:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* copy over ext_args to listening pcb  */
ARM GAS  /tmp/ccFjPNuy.s 			page 56


 904:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   memcpy(&lpcb->ext_args, &pcb->ext_args, sizeof(pcb->ext_args));
 905:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 906:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_free(pcb);
 2177              		.loc 1 906 3 is_stmt 1
 2178 00fe F868     		ldr	r0, [r7, #12]
 2179 0100 FFF7FEFF 		bl	tcp_free
 907:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
 908:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->accept = tcp_accept_null;
 2180              		.loc 1 908 16
 2181 0104 FB69     		ldr	r3, [r7, #28]
 2182 0106 114A     		ldr	r2, .L154+20
 2183 0108 9A61     		str	r2, [r3, #24]
 909:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
 910:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_LISTEN_BACKLOG
 911:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   lpcb->accepts_pending = 0;
 912:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_backlog_set(lpcb, backlog);
 913:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_LISTEN_BACKLOG */
 914:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_REG(&tcp_listen_pcbs.pcbs, (struct tcp_pcb *)lpcb);
 2184              		.loc 1 914 3
 2185 010a 114B     		ldr	r3, .L154+24
 2186 010c 1A68     		ldr	r2, [r3]
 2187 010e FB69     		ldr	r3, [r7, #28]
 2188 0110 DA60     		str	r2, [r3, #12]
 2189 0112 0F4A     		ldr	r2, .L154+24
 2190 0114 FB69     		ldr	r3, [r7, #28]
 2191 0116 1360     		str	r3, [r2]
 2192 0118 FFF7FEFF 		bl	tcp_timer_needed
 915:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   res = ERR_OK;
 2193              		.loc 1 915 7
 2194 011c 0023     		movs	r3, #0
 2195 011e FB76     		strb	r3, [r7, #27]
 2196              	.L142:
 916:Middlewares/Third_Party/LwIP/src/core/tcp.c **** done:
 917:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (err != NULL) {
 2197              		.loc 1 917 6
 2198 0120 7B68     		ldr	r3, [r7, #4]
 2199 0122 002B     		cmp	r3, #0
 2200 0124 02D0     		beq	.L152
 918:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     *err = res;
 2201              		.loc 1 918 10
 2202 0126 7B68     		ldr	r3, [r7, #4]
 2203 0128 FA7E     		ldrb	r2, [r7, #27]
 2204 012a 1A70     		strb	r2, [r3]
 2205              	.L152:
 919:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 920:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return (struct tcp_pcb *)lpcb;
 2206              		.loc 1 920 10
 2207 012c FB69     		ldr	r3, [r7, #28]
 921:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2208              		.loc 1 921 1
 2209 012e 1846     		mov	r0, r3
 2210 0130 2037     		adds	r7, r7, #32
 2211              	.LCFI78:
 2212              		.cfi_def_cfa_offset 8
 2213 0132 BD46     		mov	sp, r7
 2214              	.LCFI79:
 2215              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccFjPNuy.s 			page 57


 2216              		@ sp needed
 2217 0134 80BD     		pop	{r7, pc}
 2218              	.L155:
 2219 0136 00BF     		.align	2
 2220              	.L154:
 2221 0138 78000000 		.word	.LC11
 2222 013c 68020000 		.word	.LC27
 2223 0140 B8000000 		.word	.LC13
 2224 0144 98020000 		.word	.LC28
 2225 0148 00000000 		.word	tcp_bound_pcbs
 2226 014c 00000000 		.word	tcp_accept_null
 2227 0150 00000000 		.word	tcp_listen_pcbs
 2228              		.cfi_endproc
 2229              	.LFE149:
 2231              		.section	.rodata
 2232 02cf 00       		.align	2
 2233              	.LC29:
 2234 02d0 7463705F 		.ascii	"tcp_update_rcv_ann_wnd: invalid pcb\000"
 2234      75706461 
 2234      74655F72 
 2234      63765F61 
 2234      6E6E5F77 
 2235              		.align	2
 2236              	.LC30:
 2237 02f4 6E65775F 		.ascii	"new_rcv_ann_wnd <= 0xffff\000"
 2237      7263765F 
 2237      616E6E5F 
 2237      776E6420 
 2237      3C3D2030 
 2238              		.section	.text.tcp_update_rcv_ann_wnd,"ax",%progbits
 2239              		.align	1
 2240              		.global	tcp_update_rcv_ann_wnd
 2241              		.syntax unified
 2242              		.thumb
 2243              		.thumb_func
 2244              		.fpu fpv4-sp-d16
 2246              	tcp_update_rcv_ann_wnd:
 2247              	.LFB150:
 922:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 923:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 924:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Update the state that tracks the available window space to advertise.
 925:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 926:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Returns how much extra window would be advertised if we sent an
 927:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * update now.
 928:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 929:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t
 930:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_update_rcv_ann_wnd(struct tcp_pcb *pcb)
 931:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 2248              		.loc 1 931 1
 2249              		.cfi_startproc
 2250              		@ args = 0, pretend = 0, frame = 16
 2251              		@ frame_needed = 1, uses_anonymous_args = 0
 2252 0000 80B5     		push	{r7, lr}
 2253              	.LCFI80:
 2254              		.cfi_def_cfa_offset 8
 2255              		.cfi_offset 7, -8
 2256              		.cfi_offset 14, -4
ARM GAS  /tmp/ccFjPNuy.s 			page 58


 2257 0002 84B0     		sub	sp, sp, #16
 2258              	.LCFI81:
 2259              		.cfi_def_cfa_offset 24
 2260 0004 00AF     		add	r7, sp, #0
 2261              	.LCFI82:
 2262              		.cfi_def_cfa_register 7
 2263 0006 7860     		str	r0, [r7, #4]
 932:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t new_right_edge;
 933:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 934:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_update_rcv_ann_wnd: invalid pcb", pcb != NULL);
 2264              		.loc 1 934 3
 2265 0008 7B68     		ldr	r3, [r7, #4]
 2266 000a 002B     		cmp	r3, #0
 2267 000c 06D1     		bne	.L157
 2268              		.loc 1 934 3 is_stmt 0 discriminator 1
 2269 000e 254B     		ldr	r3, .L163
 2270 0010 40F2A632 		movw	r2, #934
 2271 0014 2449     		ldr	r1, .L163+4
 2272 0016 2548     		ldr	r0, .L163+8
 2273 0018 FFF7FEFF 		bl	printf
 2274              	.L157:
 935:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   new_right_edge = pcb->rcv_nxt + pcb->rcv_wnd;
 2275              		.loc 1 935 23 is_stmt 1
 2276 001c 7B68     		ldr	r3, [r7, #4]
 2277 001e 5B6A     		ldr	r3, [r3, #36]
 2278              		.loc 1 935 38
 2279 0020 7A68     		ldr	r2, [r7, #4]
 2280 0022 128D     		ldrh	r2, [r2, #40]
 2281              		.loc 1 935 18
 2282 0024 1344     		add	r3, r3, r2
 2283 0026 FB60     		str	r3, [r7, #12]
 936:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 937:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (TCP_SEQ_GEQ(new_right_edge, pcb->rcv_ann_right_edge + LWIP_MIN((TCP_WND / 2), pcb->mss))) {
 2284              		.loc 1 937 7
 2285 0028 7B68     		ldr	r3, [r7, #4]
 2286 002a DB6A     		ldr	r3, [r3, #44]
 2287 002c 7A68     		ldr	r2, [r7, #4]
 2288 002e 528E     		ldrh	r2, [r2, #50]
 2289 0030 B2F5866F 		cmp	r2, #1072
 2290 0034 28BF     		it	cs
 2291 0036 4FF48662 		movcs	r2, #1072
 2292 003a 92B2     		uxth	r2, r2
 2293 003c 1344     		add	r3, r3, r2
 2294 003e FA68     		ldr	r2, [r7, #12]
 2295 0040 D31A     		subs	r3, r2, r3
 2296              		.loc 1 937 6
 2297 0042 002B     		cmp	r3, #0
 2298 0044 08DB     		blt	.L158
 938:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* we can advertise more window */
 939:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_ann_wnd = pcb->rcv_wnd;
 2299              		.loc 1 939 27
 2300 0046 7B68     		ldr	r3, [r7, #4]
 2301 0048 1A8D     		ldrh	r2, [r3, #40]
 2302              		.loc 1 939 22
 2303 004a 7B68     		ldr	r3, [r7, #4]
 2304 004c 5A85     		strh	r2, [r3, #42]	@ movhi
 940:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return new_right_edge - pcb->rcv_ann_right_edge;
ARM GAS  /tmp/ccFjPNuy.s 			page 59


 2305              		.loc 1 940 32
 2306 004e 7B68     		ldr	r3, [r7, #4]
 2307 0050 DB6A     		ldr	r3, [r3, #44]
 2308              		.loc 1 940 27
 2309 0052 FA68     		ldr	r2, [r7, #12]
 2310 0054 D31A     		subs	r3, r2, r3
 2311 0056 20E0     		b	.L159
 2312              	.L158:
 941:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
 942:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (TCP_SEQ_GT(pcb->rcv_nxt, pcb->rcv_ann_right_edge)) {
 2313              		.loc 1 942 9
 2314 0058 7B68     		ldr	r3, [r7, #4]
 2315 005a 5A6A     		ldr	r2, [r3, #36]
 2316 005c 7B68     		ldr	r3, [r7, #4]
 2317 005e DB6A     		ldr	r3, [r3, #44]
 2318 0060 D31A     		subs	r3, r2, r3
 2319              		.loc 1 942 8
 2320 0062 002B     		cmp	r3, #0
 2321 0064 03DD     		ble	.L160
 943:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Can happen due to other end sending out of advertised window,
 944:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        * but within actual available (but not yet advertised) window */
 945:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->rcv_ann_wnd = 0;
 2322              		.loc 1 945 24
 2323 0066 7B68     		ldr	r3, [r7, #4]
 2324 0068 0022     		movs	r2, #0
 2325 006a 5A85     		strh	r2, [r3, #42]	@ movhi
 2326 006c 14E0     		b	.L161
 2327              	.L160:
 2328              	.LBB7:
 946:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
 947:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* keep the right edge of window constant */
 948:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       u32_t new_rcv_ann_wnd = pcb->rcv_ann_right_edge - pcb->rcv_nxt;
 2329              		.loc 1 948 34
 2330 006e 7B68     		ldr	r3, [r7, #4]
 2331 0070 DA6A     		ldr	r2, [r3, #44]
 2332              		.loc 1 948 60
 2333 0072 7B68     		ldr	r3, [r7, #4]
 2334 0074 5B6A     		ldr	r3, [r3, #36]
 2335              		.loc 1 948 13
 2336 0076 D31A     		subs	r3, r2, r3
 2337 0078 BB60     		str	r3, [r7, #8]
 949:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if !LWIP_WND_SCALE
 950:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_ASSERT("new_rcv_ann_wnd <= 0xffff", new_rcv_ann_wnd <= 0xffff);
 2338              		.loc 1 950 7
 2339 007a BB68     		ldr	r3, [r7, #8]
 2340 007c B3F5803F 		cmp	r3, #65536
 2341 0080 06D3     		bcc	.L162
 2342              		.loc 1 950 7 is_stmt 0 discriminator 1
 2343 0082 084B     		ldr	r3, .L163
 2344 0084 40F2B632 		movw	r2, #950
 2345 0088 0949     		ldr	r1, .L163+12
 2346 008a 0848     		ldr	r0, .L163+8
 2347 008c FFF7FEFF 		bl	printf
 2348              	.L162:
 951:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif
 952:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->rcv_ann_wnd = (tcpwnd_size_t)new_rcv_ann_wnd;
 2349              		.loc 1 952 26 is_stmt 1
ARM GAS  /tmp/ccFjPNuy.s 			page 60


 2350 0090 BB68     		ldr	r3, [r7, #8]
 2351 0092 9AB2     		uxth	r2, r3
 2352              		.loc 1 952 24
 2353 0094 7B68     		ldr	r3, [r7, #4]
 2354 0096 5A85     		strh	r2, [r3, #42]	@ movhi
 2355              	.L161:
 2356              	.LBE7:
 953:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
 954:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return 0;
 2357              		.loc 1 954 12
 2358 0098 0023     		movs	r3, #0
 2359              	.L159:
 955:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 956:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2360              		.loc 1 956 1
 2361 009a 1846     		mov	r0, r3
 2362 009c 1037     		adds	r7, r7, #16
 2363              	.LCFI83:
 2364              		.cfi_def_cfa_offset 8
 2365 009e BD46     		mov	sp, r7
 2366              	.LCFI84:
 2367              		.cfi_def_cfa_register 13
 2368              		@ sp needed
 2369 00a0 80BD     		pop	{r7, pc}
 2370              	.L164:
 2371 00a2 00BF     		.align	2
 2372              	.L163:
 2373 00a4 78000000 		.word	.LC11
 2374 00a8 D0020000 		.word	.LC29
 2375 00ac B8000000 		.word	.LC13
 2376 00b0 F4020000 		.word	.LC30
 2377              		.cfi_endproc
 2378              	.LFE150:
 2380              		.section	.rodata
 2381 030e 0000     		.align	2
 2382              	.LC31:
 2383 0310 7463705F 		.ascii	"tcp_recved: invalid pcb\000"
 2383      72656376 
 2383      65643A20 
 2383      696E7661 
 2383      6C696420 
 2384              		.align	2
 2385              	.LC32:
 2386 0328 646F6E27 		.ascii	"don't call tcp_recved for listen-pcbs\000"
 2386      74206361 
 2386      6C6C2074 
 2386      63705F72 
 2386      65637665 
 2387              		.section	.text.tcp_recved,"ax",%progbits
 2388              		.align	1
 2389              		.global	tcp_recved
 2390              		.syntax unified
 2391              		.thumb
 2392              		.thumb_func
 2393              		.fpu fpv4-sp-d16
 2395              	tcp_recved:
 2396              	.LFB151:
ARM GAS  /tmp/ccFjPNuy.s 			page 61


 957:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 958:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
 959:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
 960:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * This function should be called by the application when it has
 961:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * processed the data. The purpose is to advertise a larger window
 962:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * when the data has been processed.
 963:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
 964:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb for which data is read
 965:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param len the amount of bytes that have been read by the application
 966:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
 967:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
 968:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recved(struct tcp_pcb *pcb, u16_t len)
 969:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 2397              		.loc 1 969 1
 2398              		.cfi_startproc
 2399              		@ args = 0, pretend = 0, frame = 16
 2400              		@ frame_needed = 1, uses_anonymous_args = 0
 2401 0000 80B5     		push	{r7, lr}
 2402              	.LCFI85:
 2403              		.cfi_def_cfa_offset 8
 2404              		.cfi_offset 7, -8
 2405              		.cfi_offset 14, -4
 2406 0002 84B0     		sub	sp, sp, #16
 2407              	.LCFI86:
 2408              		.cfi_def_cfa_offset 24
 2409 0004 00AF     		add	r7, sp, #0
 2410              	.LCFI87:
 2411              		.cfi_def_cfa_register 7
 2412 0006 7860     		str	r0, [r7, #4]
 2413 0008 0B46     		mov	r3, r1
 2414 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 970:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t wnd_inflation;
 971:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcpwnd_size_t rcv_wnd;
 972:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 973:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
 974:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 975:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_recved: invalid pcb", pcb != NULL, return);
 2415              		.loc 1 975 3
 2416 000c 7B68     		ldr	r3, [r7, #4]
 2417 000e 002B     		cmp	r3, #0
 2418 0010 07D1     		bne	.L166
 2419              		.loc 1 975 3 is_stmt 0 discriminator 1
 2420 0012 1F4B     		ldr	r3, .L172
 2421 0014 40F2CF32 		movw	r2, #975
 2422 0018 1E49     		ldr	r1, .L172+4
 2423 001a 1F48     		ldr	r0, .L172+8
 2424 001c FFF7FEFF 		bl	printf
 2425 0020 32E0     		b	.L165
 2426              	.L166:
 976:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 977:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* pcb->state LISTEN not allowed here */
 978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("don't call tcp_recved for listen-pcbs",
 2427              		.loc 1 978 3 is_stmt 1
 2428 0022 7B68     		ldr	r3, [r7, #4]
 2429 0024 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2430 0026 012B     		cmp	r3, #1
 2431 0028 06D1     		bne	.L168
ARM GAS  /tmp/ccFjPNuy.s 			page 62


 2432              		.loc 1 978 3 is_stmt 0 discriminator 1
 2433 002a 194B     		ldr	r3, .L172
 2434 002c 40F2D332 		movw	r2, #979
 2435 0030 1A49     		ldr	r1, .L172+12
 2436 0032 1948     		ldr	r0, .L172+8
 2437 0034 FFF7FEFF 		bl	printf
 2438              	.L168:
 979:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->state != LISTEN);
 980:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 981:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   rcv_wnd = (tcpwnd_size_t)(pcb->rcv_wnd + len);
 2439              		.loc 1 981 32 is_stmt 1
 2440 0038 7B68     		ldr	r3, [r7, #4]
 2441 003a 1A8D     		ldrh	r2, [r3, #40]
 2442              		.loc 1 981 11
 2443 003c 7B88     		ldrh	r3, [r7, #2]	@ movhi
 2444 003e 1344     		add	r3, r3, r2
 2445 0040 FB81     		strh	r3, [r7, #14]	@ movhi
 982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((rcv_wnd > TCP_WND_MAX(pcb)) || (rcv_wnd < pcb->rcv_wnd)) {
 2446              		.loc 1 982 6
 2447 0042 FB89     		ldrh	r3, [r7, #14]
 2448 0044 B3F5066F 		cmp	r3, #2144
 2449 0048 04D8     		bhi	.L169
 2450              		.loc 1 982 53 discriminator 1
 2451 004a 7B68     		ldr	r3, [r7, #4]
 2452 004c 1B8D     		ldrh	r3, [r3, #40]
 2453              		.loc 1 982 36 discriminator 1
 2454 004e FA89     		ldrh	r2, [r7, #14]
 2455 0050 9A42     		cmp	r2, r3
 2456 0052 04D2     		bcs	.L170
 2457              	.L169:
 983:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* window got too big or tcpwnd_size_t overflow */
 984:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_recved: window got too big or tcpwnd_size_t overflow\n"));
 985:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = TCP_WND_MAX(pcb);
 2458              		.loc 1 985 18
 2459 0054 7B68     		ldr	r3, [r7, #4]
 2460 0056 4FF40662 		mov	r2, #2144
 2461 005a 1A85     		strh	r2, [r3, #40]	@ movhi
 2462 005c 02E0     		b	.L171
 2463              	.L170:
 986:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else  {
 987:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = rcv_wnd;
 2464              		.loc 1 987 18
 2465 005e 7B68     		ldr	r3, [r7, #4]
 2466 0060 FA89     		ldrh	r2, [r7, #14]	@ movhi
 2467 0062 1A85     		strh	r2, [r3, #40]	@ movhi
 2468              	.L171:
 988:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 989:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 990:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   wnd_inflation = tcp_update_rcv_ann_wnd(pcb);
 2469              		.loc 1 990 19
 2470 0064 7868     		ldr	r0, [r7, #4]
 2471 0066 FFF7FEFF 		bl	tcp_update_rcv_ann_wnd
 2472 006a B860     		str	r0, [r7, #8]
 991:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
 992:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* If the change in the right edge of window is significant (default
 993:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * watermark is TCP_WND/4), then send an explicit update now.
 994:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * Otherwise wait for a packet to be sent in the normal course of
ARM GAS  /tmp/ccFjPNuy.s 			page 63


 995:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * events (or more window to be available later) */
 996:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (wnd_inflation >= TCP_WND_UPDATE_THRESHOLD) {
 2473              		.loc 1 996 6
 2474 006c BB68     		ldr	r3, [r7, #8]
 2475 006e B3F5067F 		cmp	r3, #536
 2476 0072 09D3     		bcc	.L165
 997:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
 2477              		.loc 1 997 5
 2478 0074 7B68     		ldr	r3, [r7, #4]
 2479 0076 5B8B     		ldrh	r3, [r3, #26]
 2480 0078 43F00203 		orr	r3, r3, #2
 2481 007c 9AB2     		uxth	r2, r3
 2482 007e 7B68     		ldr	r3, [r7, #4]
 2483 0080 5A83     		strh	r2, [r3, #26]	@ movhi
 998:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 2484              		.loc 1 998 5
 2485 0082 7868     		ldr	r0, [r7, #4]
 2486 0084 FFF7FEFF 		bl	tcp_output
 2487              	.L165:
 999:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1000:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1001:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_recved: received %"U16_F" bytes, wnd %"TCPWNDSIZE_F" (%"TCPWNDSIZE_F
1002:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                           len, pcb->rcv_wnd, (u16_t)(TCP_WND_MAX(pcb) - pcb->rcv_wnd)));
1003:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2488              		.loc 1 1003 1
 2489 0088 1037     		adds	r7, r7, #16
 2490              	.LCFI88:
 2491              		.cfi_def_cfa_offset 8
 2492 008a BD46     		mov	sp, r7
 2493              	.LCFI89:
 2494              		.cfi_def_cfa_register 13
 2495              		@ sp needed
 2496 008c 80BD     		pop	{r7, pc}
 2497              	.L173:
 2498 008e 00BF     		.align	2
 2499              	.L172:
 2500 0090 78000000 		.word	.LC11
 2501 0094 10030000 		.word	.LC31
 2502 0098 B8000000 		.word	.LC13
 2503 009c 28030000 		.word	.LC32
 2504              		.cfi_endproc
 2505              	.LFE151:
 2507              		.section	.text.tcp_new_port,"ax",%progbits
 2508              		.align	1
 2509              		.syntax unified
 2510              		.thumb
 2511              		.thumb_func
 2512              		.fpu fpv4-sp-d16
 2514              	tcp_new_port:
 2515              	.LFB152:
1004:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1005:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1006:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Allocate a new local TCP port.
1007:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1008:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new (free) local TCP port number
1009:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1010:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static u16_t
ARM GAS  /tmp/ccFjPNuy.s 			page 64


1011:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new_port(void)
1012:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 2516              		.loc 1 1012 1
 2517              		.cfi_startproc
 2518              		@ args = 0, pretend = 0, frame = 8
 2519              		@ frame_needed = 1, uses_anonymous_args = 0
 2520              		@ link register save eliminated.
 2521 0000 80B4     		push	{r7}
 2522              	.LCFI90:
 2523              		.cfi_def_cfa_offset 4
 2524              		.cfi_offset 7, -4
 2525 0002 83B0     		sub	sp, sp, #12
 2526              	.LCFI91:
 2527              		.cfi_def_cfa_offset 16
 2528 0004 00AF     		add	r7, sp, #0
 2529              	.LCFI92:
 2530              		.cfi_def_cfa_register 7
1013:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t i;
1014:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t n = 0;
 2531              		.loc 1 1014 9
 2532 0006 0023     		movs	r3, #0
 2533 0008 BB80     		strh	r3, [r7, #4]	@ movhi
 2534              	.L175:
1015:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1016:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1017:Middlewares/Third_Party/LwIP/src/core/tcp.c **** again:
1018:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_port++;
 2535              		.loc 1 1018 11
 2536 000a 1E4B     		ldr	r3, .L184
 2537 000c 1B88     		ldrh	r3, [r3]
 2538 000e 0133     		adds	r3, r3, #1
 2539 0010 9AB2     		uxth	r2, r3
 2540 0012 1C4B     		ldr	r3, .L184
 2541 0014 1A80     		strh	r2, [r3]	@ movhi
1019:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (tcp_port == TCP_LOCAL_PORT_RANGE_END) {
 2542              		.loc 1 1019 16
 2543 0016 1B4B     		ldr	r3, .L184
 2544 0018 1B88     		ldrh	r3, [r3]
 2545              		.loc 1 1019 6
 2546 001a 4FF6FF72 		movw	r2, #65535
 2547 001e 9342     		cmp	r3, r2
 2548 0020 03D1     		bne	.L176
1020:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_port = TCP_LOCAL_PORT_RANGE_START;
 2549              		.loc 1 1020 14
 2550 0022 184B     		ldr	r3, .L184
 2551 0024 4FF44042 		mov	r2, #49152
 2552 0028 1A80     		strh	r2, [r3]	@ movhi
 2553              	.L176:
1021:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1022:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Check all PCB lists. */
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (i = 0; i < NUM_TCP_PCB_LISTS; i++) {
 2554              		.loc 1 1023 10
 2555 002a 0023     		movs	r3, #0
 2556 002c FB71     		strb	r3, [r7, #7]
 2557              		.loc 1 1023 3
 2558 002e 1EE0     		b	.L177
 2559              	.L183:
ARM GAS  /tmp/ccFjPNuy.s 			page 65


1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
 2560              		.loc 1 1024 30
 2561 0030 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2562 0032 154A     		ldr	r2, .L184+4
 2563 0034 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2564              		.loc 1 1024 14
 2565 0038 1B68     		ldr	r3, [r3]
 2566 003a 3B60     		str	r3, [r7]
 2567              		.loc 1 1024 5
 2568 003c 11E0     		b	.L178
 2569              	.L182:
1025:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
 2570              		.loc 1 1025 14
 2571 003e 3B68     		ldr	r3, [r7]
 2572 0040 DA8A     		ldrh	r2, [r3, #22]
 2573              		.loc 1 1025 27
 2574 0042 104B     		ldr	r3, .L184
 2575 0044 1B88     		ldrh	r3, [r3]
 2576              		.loc 1 1025 10
 2577 0046 9A42     		cmp	r2, r3
 2578 0048 08D1     		bne	.L179
1026:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         n++;
 2579              		.loc 1 1026 10
 2580 004a BB88     		ldrh	r3, [r7, #4]
 2581 004c 0133     		adds	r3, r3, #1
 2582 004e BB80     		strh	r3, [r7, #4]	@ movhi
1027:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (n > (TCP_LOCAL_PORT_RANGE_END - TCP_LOCAL_PORT_RANGE_START)) {
 2583              		.loc 1 1027 12
 2584 0050 BB88     		ldrh	r3, [r7, #4]
 2585 0052 B3F5804F 		cmp	r3, #16384
 2586 0056 D8D3     		bcc	.L175
1028:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return 0;
 2587              		.loc 1 1028 18
 2588 0058 0023     		movs	r3, #0
 2589 005a 0DE0     		b	.L181
 2590              	.L179:
1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
 2591              		.loc 1 1024 52 discriminator 2
 2592 005c 3B68     		ldr	r3, [r7]
 2593 005e DB68     		ldr	r3, [r3, #12]
 2594 0060 3B60     		str	r3, [r7]
 2595              	.L178:
1024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->local_port == tcp_port) {
 2596              		.loc 1 1024 5 discriminator 1
 2597 0062 3B68     		ldr	r3, [r7]
 2598 0064 002B     		cmp	r3, #0
 2599 0066 EAD1     		bne	.L182
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
 2600              		.loc 1 1023 39 discriminator 2
 2601 0068 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2602 006a 0133     		adds	r3, r3, #1
 2603 006c FB71     		strb	r3, [r7, #7]
 2604              	.L177:
1023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     for (pcb = *tcp_pcb_lists[i]; pcb != NULL; pcb = pcb->next) {
 2605              		.loc 1 1023 3 discriminator 1
 2606 006e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2607 0070 032B     		cmp	r3, #3
ARM GAS  /tmp/ccFjPNuy.s 			page 66


 2608 0072 DDD9     		bls	.L183
1029:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1030:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto again;
1031:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1032:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1033:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1034:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_port;
 2609              		.loc 1 1034 10
 2610 0074 034B     		ldr	r3, .L184
 2611 0076 1B88     		ldrh	r3, [r3]
 2612              	.L181:
1035:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2613              		.loc 1 1035 1
 2614 0078 1846     		mov	r0, r3
 2615 007a 0C37     		adds	r7, r7, #12
 2616              	.LCFI93:
 2617              		.cfi_def_cfa_offset 4
 2618 007c BD46     		mov	sp, r7
 2619              	.LCFI94:
 2620              		.cfi_def_cfa_register 13
 2621              		@ sp needed
 2622 007e 5DF8047B 		ldr	r7, [sp], #4
 2623              	.LCFI95:
 2624              		.cfi_restore 7
 2625              		.cfi_def_cfa_offset 0
 2626 0082 7047     		bx	lr
 2627              	.L185:
 2628              		.align	2
 2629              	.L184:
 2630 0084 00000000 		.word	tcp_port
 2631 0088 00000000 		.word	tcp_pcb_lists
 2632              		.cfi_endproc
 2633              	.LFE152:
 2635              		.section	.rodata
 2636 034e 0000     		.align	2
 2637              	.LC33:
 2638 0350 7463705F 		.ascii	"tcp_connect: invalid pcb\000"
 2638      636F6E6E 
 2638      6563743A 
 2638      20696E76 
 2638      616C6964 
 2639 0369 000000   		.align	2
 2640              	.LC34:
 2641 036c 7463705F 		.ascii	"tcp_connect: invalid ipaddr\000"
 2641      636F6E6E 
 2641      6563743A 
 2641      20696E76 
 2641      616C6964 
 2642              		.align	2
 2643              	.LC35:
 2644 0388 7463705F 		.ascii	"tcp_connect: can only connect from state CLOSED\000"
 2644      636F6E6E 
 2644      6563743A 
 2644      2063616E 
 2644      206F6E6C 
 2645              		.section	.text.tcp_connect,"ax",%progbits
 2646              		.align	1
ARM GAS  /tmp/ccFjPNuy.s 			page 67


 2647              		.global	tcp_connect
 2648              		.syntax unified
 2649              		.thumb
 2650              		.thumb_func
 2651              		.fpu fpv4-sp-d16
 2653              	tcp_connect:
 2654              	.LFB153:
1036:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1038:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1039:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Connects to another host. The function given as the "connected"
1040:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * argument will be called when the connection has been established.
1041:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *  Sets up the pcb to connect to the remote host and sends the
1042:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * initial SYN segment which opens the connection. 
1043:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1044:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The tcp_connect() function returns immediately; it does not wait for
1045:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the connection to be properly setup. Instead, it will call the
1046:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function specified as the fourth argument (the "connected" argument)
1047:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * when the connection is established. If the connection could not be
1048:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * properly established, either because the other host refused the
1049:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection or because the other host didn't answer, the "err"
1050:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback function of this pcb (registered with tcp_err, see below)
1051:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * will be called.
1052:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1053:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The tcp_connect() function can return ERR_MEM if no memory is
1054:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * available for enqueueing the SYN segment. If the SYN indeed was
1055:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * enqueued successfully, the tcp_connect() function returns ERR_OK.
1056:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1057:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb used to establish the connection
1058:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param ipaddr the remote ip address to connect to
1059:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param port the remote tcp port to connect to
1060:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param connected callback function to call when connected (on error,
1061:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                     the err calback will be called)
1062:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return ERR_VAL if invalid arguments are given
1063:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         ERR_OK if connect request has been sent
1064:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *         other err_t values if connect request couldn't be sent
1065:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1066:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1067:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_connect(struct tcp_pcb *pcb, const ip_addr_t *ipaddr, u16_t port,
1068:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             tcp_connected_fn connected)
1069:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 2655              		.loc 1 1069 1
 2656              		.cfi_startproc
 2657              		@ args = 0, pretend = 0, frame = 40
 2658              		@ frame_needed = 1, uses_anonymous_args = 0
 2659 0000 80B5     		push	{r7, lr}
 2660              	.LCFI96:
 2661              		.cfi_def_cfa_offset 8
 2662              		.cfi_offset 7, -8
 2663              		.cfi_offset 14, -4
 2664 0002 8AB0     		sub	sp, sp, #40
 2665              	.LCFI97:
 2666              		.cfi_def_cfa_offset 48
 2667 0004 00AF     		add	r7, sp, #0
 2668              	.LCFI98:
 2669              		.cfi_def_cfa_register 7
 2670 0006 F860     		str	r0, [r7, #12]
ARM GAS  /tmp/ccFjPNuy.s 			page 68


 2671 0008 B960     		str	r1, [r7, #8]
 2672 000a 3B60     		str	r3, [r7]
 2673 000c 1346     		mov	r3, r2	@ movhi
 2674 000e FB80     		strh	r3, [r7, #6]	@ movhi
1070:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct netif *netif = NULL;
 2675              		.loc 1 1070 17
 2676 0010 0023     		movs	r3, #0
 2677 0012 7B62     		str	r3, [r7, #36]
1071:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t ret;
1072:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t iss;
1073:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t old_local_port;
1074:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1075:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
1076:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1077:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: invalid pcb", pcb != NULL, return ERR_ARG);
 2678              		.loc 1 1077 3
 2679 0014 FB68     		ldr	r3, [r7, #12]
 2680 0016 002B     		cmp	r3, #0
 2681 0018 09D1     		bne	.L187
 2682              		.loc 1 1077 3 is_stmt 0 discriminator 1
 2683 001a 7D4B     		ldr	r3, .L209
 2684 001c 40F23542 		movw	r2, #1077
 2685 0020 7C49     		ldr	r1, .L209+4
 2686 0022 7D48     		ldr	r0, .L209+8
 2687 0024 FFF7FEFF 		bl	printf
 2688 0028 6FF00F03 		mvn	r3, #15
 2689 002c ECE0     		b	.L188
 2690              	.L187:
1078:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: invalid ipaddr", ipaddr != NULL, return ERR_ARG);
 2691              		.loc 1 1078 3 is_stmt 1
 2692 002e BB68     		ldr	r3, [r7, #8]
 2693 0030 002B     		cmp	r3, #0
 2694 0032 09D1     		bne	.L189
 2695              		.loc 1 1078 3 is_stmt 0 discriminator 1
 2696 0034 764B     		ldr	r3, .L209
 2697 0036 40F23642 		movw	r2, #1078
 2698 003a 7849     		ldr	r1, .L209+12
 2699 003c 7648     		ldr	r0, .L209+8
 2700 003e FFF7FEFF 		bl	printf
 2701 0042 6FF00F03 		mvn	r3, #15
 2702 0046 DFE0     		b	.L188
 2703              	.L189:
1079:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1080:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_connect: can only connect from state CLOSED", pcb->state == CLOSED, return ERR_IS
 2704              		.loc 1 1080 3 is_stmt 1
 2705 0048 FB68     		ldr	r3, [r7, #12]
 2706 004a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2707 004c 002B     		cmp	r3, #0
 2708 004e 09D0     		beq	.L190
 2709              		.loc 1 1080 3 is_stmt 0 discriminator 1
 2710 0050 6F4B     		ldr	r3, .L209
 2711 0052 4FF48762 		mov	r2, #1080
 2712 0056 7249     		ldr	r1, .L209+16
 2713 0058 6F48     		ldr	r0, .L209+8
 2714 005a FFF7FEFF 		bl	printf
 2715 005e 6FF00903 		mvn	r3, #9
 2716 0062 D1E0     		b	.L188
ARM GAS  /tmp/ccFjPNuy.s 			page 69


 2717              	.L190:
1081:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1082:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_DEBUGF(TCP_DEBUG, ("tcp_connect to port %"U16_F"\n", port));
1083:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ip_addr_set(&pcb->remote_ip, ipaddr);
 2718              		.loc 1 1083 3 is_stmt 1
 2719 0064 BB68     		ldr	r3, [r7, #8]
 2720 0066 002B     		cmp	r3, #0
 2721 0068 02D0     		beq	.L191
 2722              		.loc 1 1083 3 is_stmt 0 discriminator 1
 2723 006a BB68     		ldr	r3, [r7, #8]
 2724 006c 1B68     		ldr	r3, [r3]
 2725 006e 00E0     		b	.L192
 2726              	.L191:
 2727              		.loc 1 1083 3 discriminator 2
 2728 0070 0023     		movs	r3, #0
 2729              	.L192:
 2730              		.loc 1 1083 3 discriminator 4
 2731 0072 FA68     		ldr	r2, [r7, #12]
 2732 0074 5360     		str	r3, [r2, #4]
1084:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->remote_port = port;
 2733              		.loc 1 1084 20 is_stmt 1 discriminator 4
 2734 0076 FB68     		ldr	r3, [r7, #12]
 2735 0078 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2736 007a 1A83     		strh	r2, [r3, #24]	@ movhi
1085:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1086:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->netif_idx != NETIF_NO_INDEX) {
 2737              		.loc 1 1086 10 discriminator 4
 2738 007c FB68     		ldr	r3, [r7, #12]
 2739 007e 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2740              		.loc 1 1086 6 discriminator 4
 2741 0080 002B     		cmp	r3, #0
 2742 0082 06D0     		beq	.L193
1087:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     netif = netif_get_by_index(pcb->netif_idx);
 2743              		.loc 1 1087 13
 2744 0084 FB68     		ldr	r3, [r7, #12]
 2745 0086 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2746 0088 1846     		mov	r0, r3
 2747 008a FFF7FEFF 		bl	netif_get_by_index
 2748 008e 7862     		str	r0, [r7, #36]
 2749 0090 05E0     		b	.L194
 2750              	.L193:
1088:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
1089:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* check if we have a route to the remote host */
1090:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     netif = ip_route(&pcb->local_ip, &pcb->remote_ip);
 2751              		.loc 1 1090 13
 2752 0092 FB68     		ldr	r3, [r7, #12]
 2753 0094 0433     		adds	r3, r3, #4
 2754 0096 1846     		mov	r0, r3
 2755 0098 FFF7FEFF 		bl	ip4_route
 2756 009c 7862     		str	r0, [r7, #36]
 2757              	.L194:
1091:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1092:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (netif == NULL) {
 2758              		.loc 1 1092 6
 2759 009e 7B6A     		ldr	r3, [r7, #36]
 2760 00a0 002B     		cmp	r3, #0
 2761 00a2 02D1     		bne	.L195
ARM GAS  /tmp/ccFjPNuy.s 			page 70


1093:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Don't even try to send a SYN packet if we have no route since that will fail. */
1094:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_RTE;
 2762              		.loc 1 1094 12
 2763 00a4 6FF00303 		mvn	r3, #3
 2764 00a8 AEE0     		b	.L188
 2765              	.L195:
1095:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1096:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1097:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* check if local IP has been assigned to pcb, if not, get one */
1098:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ip_addr_isany(&pcb->local_ip)) {
 2766              		.loc 1 1098 7
 2767 00aa FB68     		ldr	r3, [r7, #12]
 2768              		.loc 1 1098 6
 2769 00ac 002B     		cmp	r3, #0
 2770 00ae 03D0     		beq	.L196
 2771              		.loc 1 1098 7 discriminator 1
 2772 00b0 FB68     		ldr	r3, [r7, #12]
 2773 00b2 1B68     		ldr	r3, [r3]
 2774 00b4 002B     		cmp	r3, #0
 2775 00b6 11D1     		bne	.L197
 2776              	.L196:
 2777              	.LBB8:
1099:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     const ip_addr_t *local_ip = ip_netif_get_local_ip(netif, ipaddr);
 2778              		.loc 1 1099 33
 2779 00b8 7B6A     		ldr	r3, [r7, #36]
 2780 00ba 002B     		cmp	r3, #0
 2781 00bc 02D0     		beq	.L198
 2782              		.loc 1 1099 33 is_stmt 0 discriminator 1
 2783 00be 7B6A     		ldr	r3, [r7, #36]
 2784 00c0 0433     		adds	r3, r3, #4
 2785 00c2 00E0     		b	.L199
 2786              	.L198:
 2787              		.loc 1 1099 33 discriminator 2
 2788 00c4 0023     		movs	r3, #0
 2789              	.L199:
 2790              		.loc 1 1099 22 is_stmt 1 discriminator 4
 2791 00c6 FB61     		str	r3, [r7, #28]
1100:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (local_ip == NULL) {
 2792              		.loc 1 1100 8 discriminator 4
 2793 00c8 FB69     		ldr	r3, [r7, #28]
 2794 00ca 002B     		cmp	r3, #0
 2795 00cc 02D1     		bne	.L200
1101:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_RTE;
 2796              		.loc 1 1101 14
 2797 00ce 6FF00303 		mvn	r3, #3
 2798 00d2 99E0     		b	.L188
 2799              	.L200:
1102:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1103:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip_addr_copy(pcb->local_ip, *local_ip);
 2800              		.loc 1 1103 5
 2801 00d4 FB69     		ldr	r3, [r7, #28]
 2802 00d6 1A68     		ldr	r2, [r3]
 2803 00d8 FB68     		ldr	r3, [r7, #12]
 2804 00da 1A60     		str	r2, [r3]
 2805              	.L197:
 2806              	.LBE8:
1104:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
ARM GAS  /tmp/ccFjPNuy.s 			page 71


1105:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1106:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6 && LWIP_IPV6_SCOPES
1107:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* If the given IP address should have a zone but doesn't, assign one now.
1108:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * Given that we already have the target netif, this is easy and cheap. */
1109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (IP_IS_V6(&pcb->remote_ip) &&
1110:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ip6_addr_lacks_zone(ip_2_ip6(&pcb->remote_ip), IP6_UNICAST)) {
1111:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     ip6_addr_assign_zone(ip_2_ip6(&pcb->remote_ip), IP6_UNICAST, netif);
1112:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1113:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 && LWIP_IPV6_SCOPES */
1114:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1115:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   old_local_port = pcb->local_port;
 2807              		.loc 1 1115 18
 2808 00dc FB68     		ldr	r3, [r7, #12]
 2809 00de DB8A     		ldrh	r3, [r3, #22]	@ movhi
 2810 00e0 7B83     		strh	r3, [r7, #26]	@ movhi
1116:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->local_port == 0) {
 2811              		.loc 1 1116 10
 2812 00e2 FB68     		ldr	r3, [r7, #12]
 2813 00e4 DB8A     		ldrh	r3, [r3, #22]
 2814              		.loc 1 1116 6
 2815 00e6 002B     		cmp	r3, #0
 2816 00e8 0CD1     		bne	.L201
1117:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->local_port = tcp_new_port();
 2817              		.loc 1 1117 23
 2818 00ea FFF7FEFF 		bl	tcp_new_port
 2819 00ee 0346     		mov	r3, r0
 2820 00f0 1A46     		mov	r2, r3
 2821              		.loc 1 1117 21
 2822 00f2 FB68     		ldr	r3, [r7, #12]
 2823 00f4 DA82     		strh	r2, [r3, #22]	@ movhi
1118:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->local_port == 0) {
 2824              		.loc 1 1118 12
 2825 00f6 FB68     		ldr	r3, [r7, #12]
 2826 00f8 DB8A     		ldrh	r3, [r3, #22]
 2827              		.loc 1 1118 8
 2828 00fa 002B     		cmp	r3, #0
 2829 00fc 02D1     		bne	.L201
1119:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_BUF;
 2830              		.loc 1 1119 14
 2831 00fe 6FF00103 		mvn	r3, #1
 2832 0102 81E0     		b	.L188
 2833              	.L201:
1120:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1121:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else {
1122:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if SO_REUSE
1123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_get_option(pcb, SOF_REUSEADDR)) {
1124:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Since SOF_REUSEADDR allows reusing a local address, we have to make sure
1125:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          now that the 5-tuple is unique. */
1126:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *cpcb;
1127:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       int i;
1128:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Don't check listen- and bound-PCBs, check active- and TIME-WAIT PCBs. */
1129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (i = 2; i < NUM_TCP_PCB_LISTS; i++) {
1130:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         for (cpcb = *tcp_pcb_lists[i]; cpcb != NULL; cpcb = cpcb->next) {
1131:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if ((cpcb->local_port == pcb->local_port) &&
1132:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               (cpcb->remote_port == port) &&
1133:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               ip_addr_cmp(&cpcb->local_ip, &pcb->local_ip) &&
1134:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               ip_addr_cmp(&cpcb->remote_ip, ipaddr)) {
ARM GAS  /tmp/ccFjPNuy.s 			page 72


1135:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* linux returns EISCONN here, but ERR_USE should be OK for us */
1136:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             return ERR_USE;
1137:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1138:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1139:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1140:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1141:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* SO_REUSE */
1142:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1143:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1144:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   iss = tcp_next_iss(pcb);
 2834              		.loc 1 1144 9
 2835 0104 F868     		ldr	r0, [r7, #12]
 2836 0106 FFF7FEFF 		bl	tcp_next_iss
 2837 010a 7861     		str	r0, [r7, #20]
1145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_nxt = 0;
 2838              		.loc 1 1145 16
 2839 010c FB68     		ldr	r3, [r7, #12]
 2840 010e 0022     		movs	r2, #0
 2841 0110 5A62     		str	r2, [r3, #36]
1146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_nxt = iss;
 2842              		.loc 1 1146 16
 2843 0112 FB68     		ldr	r3, [r7, #12]
 2844 0114 7A69     		ldr	r2, [r7, #20]
 2845 0116 1A65     		str	r2, [r3, #80]
1147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->lastack = iss - 1;
 2846              		.loc 1 1147 22
 2847 0118 7B69     		ldr	r3, [r7, #20]
 2848 011a 5A1E     		subs	r2, r3, #1
 2849              		.loc 1 1147 16
 2850 011c FB68     		ldr	r3, [r7, #12]
 2851 011e 5A64     		str	r2, [r3, #68]
1148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wl2 = iss - 1;
 2852              		.loc 1 1148 22
 2853 0120 7B69     		ldr	r3, [r7, #20]
 2854 0122 5A1E     		subs	r2, r3, #1
 2855              		.loc 1 1148 16
 2856 0124 FB68     		ldr	r3, [r7, #12]
 2857 0126 9A65     		str	r2, [r3, #88]
1149:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_lbb = iss - 1;
 2858              		.loc 1 1149 22
 2859 0128 7B69     		ldr	r3, [r7, #20]
 2860 012a 5A1E     		subs	r2, r3, #1
 2861              		.loc 1 1149 16
 2862 012c FB68     		ldr	r3, [r7, #12]
 2863 012e DA65     		str	r2, [r3, #92]
1150:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Start with a window that does not need scaling. When window scaling is
1151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      enabled and used, the window is enlarged when both sides agree on scaling. */
1152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_wnd = pcb->rcv_ann_wnd = TCPWND_MIN16(TCP_WND);
 2864              		.loc 1 1152 35
 2865 0130 FB68     		ldr	r3, [r7, #12]
 2866 0132 4FF40662 		mov	r2, #2144
 2867 0136 5A85     		strh	r2, [r3, #42]	@ movhi
 2868              		.loc 1 1152 21
 2869 0138 FB68     		ldr	r3, [r7, #12]
 2870 013a 5A8D     		ldrh	r2, [r3, #42]
 2871              		.loc 1 1152 16
 2872 013c FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccFjPNuy.s 			page 73


 2873 013e 1A85     		strh	r2, [r3, #40]	@ movhi
1153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->rcv_ann_right_edge = pcb->rcv_nxt;
 2874              		.loc 1 1153 32
 2875 0140 FB68     		ldr	r3, [r7, #12]
 2876 0142 5A6A     		ldr	r2, [r3, #36]
 2877              		.loc 1 1153 27
 2878 0144 FB68     		ldr	r3, [r7, #12]
 2879 0146 DA62     		str	r2, [r3, #44]
1154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->snd_wnd = TCP_WND;
 2880              		.loc 1 1154 16
 2881 0148 FB68     		ldr	r3, [r7, #12]
 2882 014a 4FF40662 		mov	r2, #2144
 2883 014e A3F86020 		strh	r2, [r3, #96]	@ movhi
1155:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* As initial send MSS, we use TCP_MSS but limit it to 536.
1156:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      The send MSS is updated when an MSS option is received. */
1157:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->mss = INITIAL_MSS;
 2884              		.loc 1 1157 12
 2885 0152 FB68     		ldr	r3, [r7, #12]
 2886 0154 4FF40672 		mov	r2, #536
 2887 0158 5A86     		strh	r2, [r3, #50]	@ movhi
1158:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
1159:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->mss = tcp_eff_send_mss_netif(pcb->mss, netif, &pcb->remote_ip);
 2888              		.loc 1 1159 14
 2889 015a FB68     		ldr	r3, [r7, #12]
 2890 015c 588E     		ldrh	r0, [r3, #50]
 2891              		.loc 1 1159 54
 2892 015e FB68     		ldr	r3, [r7, #12]
 2893 0160 0433     		adds	r3, r3, #4
 2894              		.loc 1 1159 14
 2895 0162 1A46     		mov	r2, r3
 2896 0164 796A     		ldr	r1, [r7, #36]
 2897 0166 FFF7FEFF 		bl	tcp_eff_send_mss_netif
 2898 016a 0346     		mov	r3, r0
 2899 016c 1A46     		mov	r2, r3
 2900              		.loc 1 1159 12
 2901 016e FB68     		ldr	r3, [r7, #12]
 2902 0170 5A86     		strh	r2, [r3, #50]	@ movhi
1160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
1161:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->cwnd = 1;
 2903              		.loc 1 1161 13
 2904 0172 FB68     		ldr	r3, [r7, #12]
 2905 0174 0122     		movs	r2, #1
 2906 0176 A3F84820 		strh	r2, [r3, #72]	@ movhi
1162:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1163:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->connected = connected;
 2907              		.loc 1 1163 18
 2908 017a FB68     		ldr	r3, [r7, #12]
 2909 017c 3A68     		ldr	r2, [r7]
 2910 017e C3F88820 		str	r2, [r3, #136]
1164:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
1165:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(connected);
1166:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1167:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1168:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Send a SYN together with the MSS option. */
1169:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ret = tcp_enqueue_flags(pcb, TCP_SYN);
 2911              		.loc 1 1169 9
 2912 0182 0221     		movs	r1, #2
ARM GAS  /tmp/ccFjPNuy.s 			page 74


 2913 0184 F868     		ldr	r0, [r7, #12]
 2914 0186 FFF7FEFF 		bl	tcp_enqueue_flags
 2915 018a 0346     		mov	r3, r0
 2916 018c FB74     		strb	r3, [r7, #19]
1170:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (ret == ERR_OK) {
 2917              		.loc 1 1170 6
 2918 018e 97F91330 		ldrsb	r3, [r7, #19]
 2919 0192 002B     		cmp	r3, #0
 2920 0194 36D1     		bne	.L202
1171:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* SYN segment was enqueued, changed the pcbs state now */
1172:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->state = SYN_SENT;
 2921              		.loc 1 1172 16
 2922 0196 FB68     		ldr	r3, [r7, #12]
 2923 0198 0222     		movs	r2, #2
 2924 019a 1A75     		strb	r2, [r3, #20]
1173:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (old_local_port != 0) {
 2925              		.loc 1 1173 8
 2926 019c 7B8B     		ldrh	r3, [r7, #26]
 2927 019e 002B     		cmp	r3, #0
 2928 01a0 21D0     		beq	.L203
1174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_RMV(&tcp_bound_pcbs, pcb);
 2929              		.loc 1 1174 7
 2930 01a2 204B     		ldr	r3, .L209+20
 2931 01a4 1B68     		ldr	r3, [r3]
 2932 01a6 FA68     		ldr	r2, [r7, #12]
 2933 01a8 9A42     		cmp	r2, r3
 2934 01aa 05D1     		bne	.L204
 2935              		.loc 1 1174 7 is_stmt 0 discriminator 1
 2936 01ac 1D4B     		ldr	r3, .L209+20
 2937 01ae 1B68     		ldr	r3, [r3]
 2938 01b0 DB68     		ldr	r3, [r3, #12]
 2939 01b2 1C4A     		ldr	r2, .L209+20
 2940 01b4 1360     		str	r3, [r2]
 2941 01b6 13E0     		b	.L205
 2942              	.L204:
 2943              	.LBB9:
 2944              		.loc 1 1174 7 discriminator 2
 2945 01b8 1A4B     		ldr	r3, .L209+20
 2946 01ba 1B68     		ldr	r3, [r3]
 2947 01bc 3B62     		str	r3, [r7, #32]
 2948 01be 0CE0     		b	.L206
 2949              	.L208:
 2950              		.loc 1 1174 7 discriminator 9
 2951 01c0 3B6A     		ldr	r3, [r7, #32]
 2952 01c2 DB68     		ldr	r3, [r3, #12]
 2953 01c4 FA68     		ldr	r2, [r7, #12]
 2954 01c6 9A42     		cmp	r2, r3
 2955 01c8 04D1     		bne	.L207
 2956              		.loc 1 1174 7 discriminator 5
 2957 01ca FB68     		ldr	r3, [r7, #12]
 2958 01cc DA68     		ldr	r2, [r3, #12]
 2959 01ce 3B6A     		ldr	r3, [r7, #32]
 2960 01d0 DA60     		str	r2, [r3, #12]
 2961 01d2 05E0     		b	.L205
 2962              	.L207:
 2963              		.loc 1 1174 7 discriminator 6
 2964 01d4 3B6A     		ldr	r3, [r7, #32]
ARM GAS  /tmp/ccFjPNuy.s 			page 75


 2965 01d6 DB68     		ldr	r3, [r3, #12]
 2966 01d8 3B62     		str	r3, [r7, #32]
 2967              	.L206:
 2968              		.loc 1 1174 7 discriminator 8
 2969 01da 3B6A     		ldr	r3, [r7, #32]
 2970 01dc 002B     		cmp	r3, #0
 2971 01de EFD1     		bne	.L208
 2972              	.L205:
 2973              	.LBE9:
 2974              		.loc 1 1174 7 discriminator 10
 2975 01e0 FB68     		ldr	r3, [r7, #12]
 2976 01e2 0022     		movs	r2, #0
 2977 01e4 DA60     		str	r2, [r3, #12]
 2978              	.L203:
1175:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1176:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_REG_ACTIVE(pcb);
 2979              		.loc 1 1176 5 is_stmt 1
 2980 01e6 104B     		ldr	r3, .L209+24
 2981 01e8 1A68     		ldr	r2, [r3]
 2982 01ea FB68     		ldr	r3, [r7, #12]
 2983 01ec DA60     		str	r2, [r3, #12]
 2984 01ee 0E4A     		ldr	r2, .L209+24
 2985 01f0 FB68     		ldr	r3, [r7, #12]
 2986 01f2 1360     		str	r3, [r2]
 2987 01f4 FFF7FEFF 		bl	tcp_timer_needed
 2988 01f8 0C4B     		ldr	r3, .L209+28
 2989 01fa 0122     		movs	r2, #1
 2990 01fc 1A70     		strb	r2, [r3]
1177:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     MIB2_STATS_INC(mib2.tcpactiveopens);
1178:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 2991              		.loc 1 1179 5
 2992 01fe F868     		ldr	r0, [r7, #12]
 2993 0200 FFF7FEFF 		bl	tcp_output
 2994              	.L202:
1180:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1181:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ret;
 2995              		.loc 1 1181 10
 2996 0204 97F91330 		ldrsb	r3, [r7, #19]
 2997              	.L188:
1182:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 2998              		.loc 1 1182 1
 2999 0208 1846     		mov	r0, r3
 3000 020a 2837     		adds	r7, r7, #40
 3001              	.LCFI99:
 3002              		.cfi_def_cfa_offset 8
 3003 020c BD46     		mov	sp, r7
 3004              	.LCFI100:
 3005              		.cfi_def_cfa_register 13
 3006              		@ sp needed
 3007 020e 80BD     		pop	{r7, pc}
 3008              	.L210:
 3009              		.align	2
 3010              	.L209:
 3011 0210 78000000 		.word	.LC11
 3012 0214 50030000 		.word	.LC33
 3013 0218 B8000000 		.word	.LC13
ARM GAS  /tmp/ccFjPNuy.s 			page 76


 3014 021c 6C030000 		.word	.LC34
 3015 0220 88030000 		.word	.LC35
 3016 0224 00000000 		.word	tcp_bound_pcbs
 3017 0228 00000000 		.word	tcp_active_pcbs
 3018 022c 00000000 		.word	tcp_active_pcbs_changed
 3019              		.cfi_endproc
 3020              	.LFE153:
 3022              		.section	.rodata
 3023              		.align	2
 3024              	.LC36:
 3025 03b8 7463705F 		.ascii	"tcp_slowtmr: active pcb->state != CLOSED\012\000"
 3025      736C6F77 
 3025      746D723A 
 3025      20616374 
 3025      69766520 
 3026 03e2 0000     		.align	2
 3027              	.LC37:
 3028 03e4 7463705F 		.ascii	"tcp_slowtmr: active pcb->state != LISTEN\012\000"
 3028      736C6F77 
 3028      746D723A 
 3028      20616374 
 3028      69766520 
 3029 040e 0000     		.align	2
 3030              	.LC38:
 3031 0410 7463705F 		.ascii	"tcp_slowtmr: active pcb->state != TIME-WAIT\012\000"
 3031      736C6F77 
 3031      746D723A 
 3031      20616374 
 3031      69766520 
 3032 043d 000000   		.align	2
 3033              	.LC39:
 3034 0440 7463705F 		.ascii	"tcp_slowtimr: persist ticking with in-flight data\000"
 3034      736C6F77 
 3034      74696D72 
 3034      3A207065 
 3034      72736973 
 3035 0472 0000     		.align	2
 3036              	.LC40:
 3037 0474 7463705F 		.ascii	"tcp_slowtimr: persist ticking with empty send buffe"
 3037      736C6F77 
 3037      74696D72 
 3037      3A207065 
 3037      72736973 
 3038 04a7 7200     		.ascii	"r\000"
 3039 04a9 000000   		.align	2
 3040              	.LC41:
 3041 04ac 7463705F 		.ascii	"tcp_slowtmr: middle tcp != tcp_active_pcbs\000"
 3041      736C6F77 
 3041      746D723A 
 3041      206D6964 
 3041      646C6520 
 3042 04d7 00       		.align	2
 3043              	.LC42:
 3044 04d8 7463705F 		.ascii	"tcp_slowtmr: first pcb == tcp_active_pcbs\000"
 3044      736C6F77 
 3044      746D723A 
 3044      20666972 
ARM GAS  /tmp/ccFjPNuy.s 			page 77


 3044      73742070 
 3045 0502 0000     		.align	2
 3046              	.LC43:
 3047 0504 7463705F 		.ascii	"tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT\000"
 3047      736C6F77 
 3047      746D723A 
 3047      2054494D 
 3047      452D5741 
 3048 0533 00       		.align	2
 3049              	.LC44:
 3050 0534 7463705F 		.ascii	"tcp_slowtmr: middle tcp != tcp_tw_pcbs\000"
 3050      736C6F77 
 3050      746D723A 
 3050      206D6964 
 3050      646C6520 
 3051 055b 00       		.align	2
 3052              	.LC45:
 3053 055c 7463705F 		.ascii	"tcp_slowtmr: first pcb == tcp_tw_pcbs\000"
 3053      736C6F77 
 3053      746D723A 
 3053      20666972 
 3053      73742070 
 3054              		.section	.text.tcp_slowtmr,"ax",%progbits
 3055              		.align	1
 3056              		.global	tcp_slowtmr
 3057              		.syntax unified
 3058              		.thumb
 3059              		.thumb_func
 3060              		.fpu fpv4-sp-d16
 3062              	tcp_slowtmr:
 3063              	.LFB154:
1183:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1184:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1185:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called every 500 ms and implements the retransmission timer and the timer that
1186:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * removes PCBs that have been in TIME-WAIT for enough time. It also increments
1187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * various timers such as the inactivity timer in each PCB.
1188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1189:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Automatically called from tcp_tmr().
1190:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1191:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1192:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_slowtmr(void)
1193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 3064              		.loc 1 1193 1
 3065              		.cfi_startproc
 3066              		@ args = 0, pretend = 0, frame = 48
 3067              		@ frame_needed = 1, uses_anonymous_args = 0
 3068 0000 B0B5     		push	{r4, r5, r7, lr}
 3069              	.LCFI101:
 3070              		.cfi_def_cfa_offset 16
 3071              		.cfi_offset 4, -16
 3072              		.cfi_offset 5, -12
 3073              		.cfi_offset 7, -8
 3074              		.cfi_offset 14, -4
 3075 0002 90B0     		sub	sp, sp, #64
 3076              	.LCFI102:
 3077              		.cfi_def_cfa_offset 80
 3078 0004 04AF     		add	r7, sp, #16
ARM GAS  /tmp/ccFjPNuy.s 			page 78


 3079              	.LCFI103:
 3080              		.cfi_def_cfa 7, 64
1194:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *prev;
1195:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcpwnd_size_t eff_wnd;
1196:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t pcb_remove;      /* flag if a PCB should be removed */
1197:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t pcb_reset;       /* flag if a RST should be sent when removing */
1198:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err_t err;
1199:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1200:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   err = ERR_OK;
 3081              		.loc 1 1200 7
 3082 0006 0023     		movs	r3, #0
 3083 0008 87F82530 		strb	r3, [r7, #37]
1201:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_ticks;
 3084              		.loc 1 1202 3
 3085 000c 944B     		ldr	r3, .L264
 3086 000e 1B68     		ldr	r3, [r3]
 3087 0010 0133     		adds	r3, r3, #1
 3088 0012 934A     		ldr	r2, .L264
 3089 0014 1360     		str	r3, [r2]
1203:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
 3090              		.loc 1 1203 3
 3091 0016 934B     		ldr	r3, .L264+4
 3092 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3093 001a 0133     		adds	r3, r3, #1
 3094 001c DAB2     		uxtb	r2, r3
 3095 001e 914B     		ldr	r3, .L264+4
 3096 0020 1A70     		strb	r2, [r3]
 3097              	.L212:
1204:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1205:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_slowtmr_start:
1206:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Steps through all of the active PCBs. */
1207:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   prev = NULL;
 3098              		.loc 1 1207 8
 3099 0022 0023     		movs	r3, #0
 3100 0024 BB62     		str	r3, [r7, #40]
1208:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
 3101              		.loc 1 1208 7
 3102 0026 904B     		ldr	r3, .L264+8
 3103 0028 1B68     		ldr	r3, [r3]
 3104 002a FB62     		str	r3, [r7, #44]
1209:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
1210:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: no active pcbs\n"));
1211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 3105              		.loc 1 1212 9
 3106 002c 9FE2     		b	.L213
 3107              	.L254:
1213:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
1214:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != CLOSED\n", pcb->state != CLOSED);
 3108              		.loc 1 1214 5
 3109 002e FB6A     		ldr	r3, [r7, #44]
 3110 0030 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3111 0032 002B     		cmp	r3, #0
 3112 0034 06D1     		bne	.L214
 3113              		.loc 1 1214 5 is_stmt 0 discriminator 1
 3114 0036 8D4B     		ldr	r3, .L264+12
ARM GAS  /tmp/ccFjPNuy.s 			page 79


 3115 0038 40F2BE42 		movw	r2, #1214
 3116 003c 8C49     		ldr	r1, .L264+16
 3117 003e 8D48     		ldr	r0, .L264+20
 3118 0040 FFF7FEFF 		bl	printf
 3119              	.L214:
1215:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != LISTEN\n", pcb->state != LISTEN);
 3120              		.loc 1 1215 5 is_stmt 1
 3121 0044 FB6A     		ldr	r3, [r7, #44]
 3122 0046 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3123 0048 012B     		cmp	r3, #1
 3124 004a 06D1     		bne	.L215
 3125              		.loc 1 1215 5 is_stmt 0 discriminator 1
 3126 004c 874B     		ldr	r3, .L264+12
 3127 004e 40F2BF42 		movw	r2, #1215
 3128 0052 8949     		ldr	r1, .L264+24
 3129 0054 8748     		ldr	r0, .L264+20
 3130 0056 FFF7FEFF 		bl	printf
 3131              	.L215:
1216:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: active pcb->state != TIME-WAIT\n", pcb->state != TIME_WAIT);
 3132              		.loc 1 1216 5 is_stmt 1
 3133 005a FB6A     		ldr	r3, [r7, #44]
 3134 005c 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3135 005e 0A2B     		cmp	r3, #10
 3136 0060 06D1     		bne	.L216
 3137              		.loc 1 1216 5 is_stmt 0 discriminator 1
 3138 0062 824B     		ldr	r3, .L264+12
 3139 0064 4FF49862 		mov	r2, #1216
 3140 0068 8449     		ldr	r1, .L264+28
 3141 006a 8248     		ldr	r0, .L264+20
 3142 006c FFF7FEFF 		bl	printf
 3143              	.L216:
1217:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer == tcp_timer_ctr) {
 3144              		.loc 1 1217 12 is_stmt 1
 3145 0070 FB6A     		ldr	r3, [r7, #44]
 3146 0072 9A7F     		ldrb	r2, [r3, #30]	@ zero_extendqisi2
 3147              		.loc 1 1217 25
 3148 0074 7B4B     		ldr	r3, .L264+4
 3149 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3150              		.loc 1 1217 8
 3151 0078 9A42     		cmp	r2, r3
 3152 007a 05D1     		bne	.L217
1218:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* skip this pcb, we have already processed it */
1219:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
 3153              		.loc 1 1219 12
 3154 007c FB6A     		ldr	r3, [r7, #44]
 3155 007e BB62     		str	r3, [r7, #40]
1220:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 3156              		.loc 1 1220 11
 3157 0080 FB6A     		ldr	r3, [r7, #44]
 3158 0082 DB68     		ldr	r3, [r3, #12]
 3159 0084 FB62     		str	r3, [r7, #44]
1221:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       continue;
 3160              		.loc 1 1221 7
 3161 0086 72E2     		b	.L213
 3162              	.L217:
1222:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
ARM GAS  /tmp/ccFjPNuy.s 			page 80


 3163              		.loc 1 1223 21
 3164 0088 764B     		ldr	r3, .L264+4
 3165 008a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3166 008c FB6A     		ldr	r3, [r7, #44]
 3167 008e 9A77     		strb	r2, [r3, #30]
1224:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1225:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
 3168              		.loc 1 1225 16
 3169 0090 0023     		movs	r3, #0
 3170 0092 87F82730 		strb	r3, [r7, #39]
1226:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_reset = 0;
 3171              		.loc 1 1226 15
 3172 0096 0023     		movs	r3, #0
 3173 0098 87F82630 		strb	r3, [r7, #38]
1227:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1228:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == SYN_SENT && pcb->nrtx >= TCP_SYNMAXRTX) {
 3174              		.loc 1 1228 12
 3175 009c FB6A     		ldr	r3, [r7, #44]
 3176 009e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3177              		.loc 1 1228 8
 3178 00a0 022B     		cmp	r3, #2
 3179 00a2 0AD1     		bne	.L218
 3180              		.loc 1 1228 38 discriminator 1
 3181 00a4 FB6A     		ldr	r3, [r7, #44]
 3182 00a6 93F84230 		ldrb	r3, [r3, #66]	@ zero_extendqisi2
 3183              		.loc 1 1228 32 discriminator 1
 3184 00aa 052B     		cmp	r3, #5
 3185 00ac 05D9     		bls	.L218
1229:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 3186              		.loc 1 1229 7
 3187 00ae 97F82730 		ldrb	r3, [r7, #39]
 3188 00b2 0133     		adds	r3, r3, #1
 3189 00b4 87F82730 		strb	r3, [r7, #39]
 3190 00b8 1EE1     		b	.L219
 3191              	.L218:
1230:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max SYN retries reached\n"));
1231:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else if (pcb->nrtx >= TCP_MAXRTX) {
 3192              		.loc 1 1231 19
 3193 00ba FB6A     		ldr	r3, [r7, #44]
 3194 00bc 93F84230 		ldrb	r3, [r3, #66]	@ zero_extendqisi2
 3195              		.loc 1 1231 15
 3196 00c0 0B2B     		cmp	r3, #11
 3197 00c2 05D9     		bls	.L220
1232:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 3198              		.loc 1 1232 7
 3199 00c4 97F82730 		ldrb	r3, [r7, #39]
 3200 00c8 0133     		adds	r3, r3, #1
 3201 00ca 87F82730 		strb	r3, [r7, #39]
 3202 00ce 13E1     		b	.L219
 3203              	.L220:
1233:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: max DATA retries reached\n"));
1234:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1235:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->persist_backoff > 0) {
 3204              		.loc 1 1235 14
 3205 00d0 FB6A     		ldr	r3, [r7, #44]
 3206 00d2 93F89930 		ldrb	r3, [r3, #153]	@ zero_extendqisi2
 3207              		.loc 1 1235 10
ARM GAS  /tmp/ccFjPNuy.s 			page 81


 3208 00d6 002B     		cmp	r3, #0
 3209 00d8 75D0     		beq	.L221
1236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtimr: persist ticking with in-flight data", pcb->unacked == NULL);
 3210              		.loc 1 1236 9
 3211 00da FB6A     		ldr	r3, [r7, #44]
 3212 00dc 1B6F     		ldr	r3, [r3, #112]
 3213 00de 002B     		cmp	r3, #0
 3214 00e0 06D0     		beq	.L222
 3215              		.loc 1 1236 9 is_stmt 0 discriminator 1
 3216 00e2 624B     		ldr	r3, .L264+12
 3217 00e4 40F2D442 		movw	r2, #1236
 3218 00e8 6549     		ldr	r1, .L264+32
 3219 00ea 6248     		ldr	r0, .L264+20
 3220 00ec FFF7FEFF 		bl	printf
 3221              	.L222:
1237:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtimr: persist ticking with empty send buffer", pcb->unsent != NULL);
 3222              		.loc 1 1237 9 is_stmt 1
 3223 00f0 FB6A     		ldr	r3, [r7, #44]
 3224 00f2 DB6E     		ldr	r3, [r3, #108]
 3225 00f4 002B     		cmp	r3, #0
 3226 00f6 06D1     		bne	.L223
 3227              		.loc 1 1237 9 is_stmt 0 discriminator 1
 3228 00f8 5C4B     		ldr	r3, .L264+12
 3229 00fa 40F2D542 		movw	r2, #1237
 3230 00fe 6149     		ldr	r1, .L264+36
 3231 0100 5C48     		ldr	r0, .L264+20
 3232 0102 FFF7FEFF 		bl	printf
 3233              	.L223:
1238:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->persist_probe >= TCP_MAXRTX) {
 3234              		.loc 1 1238 16 is_stmt 1
 3235 0106 FB6A     		ldr	r3, [r7, #44]
 3236 0108 93F89A30 		ldrb	r3, [r3, #154]	@ zero_extendqisi2
 3237              		.loc 1 1238 12
 3238 010c 0B2B     		cmp	r3, #11
 3239 010e 05D9     		bls	.L224
1239:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb_remove; /* max probes reached */
 3240              		.loc 1 1239 11
 3241 0110 97F82730 		ldrb	r3, [r7, #39]
 3242 0114 0133     		adds	r3, r3, #1
 3243 0116 87F82730 		strb	r3, [r7, #39]
 3244 011a EDE0     		b	.L219
 3245              	.L224:
 3246              	.LBB10:
1240:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         } else {
1241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           u8_t backoff_cnt = tcp_persist_backoff[pcb->persist_backoff - 1];
 3247              		.loc 1 1241 53
 3248 011c FB6A     		ldr	r3, [r7, #44]
 3249 011e 93F89930 		ldrb	r3, [r3, #153]	@ zero_extendqisi2
 3250              		.loc 1 1241 71
 3251 0122 013B     		subs	r3, r3, #1
 3252              		.loc 1 1241 16
 3253 0124 584A     		ldr	r2, .L264+40
 3254 0126 D35C     		ldrb	r3, [r2, r3]
 3255 0128 FB77     		strb	r3, [r7, #31]
1242:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->persist_cnt < backoff_cnt) {
 3256              		.loc 1 1242 18
 3257 012a FB6A     		ldr	r3, [r7, #44]
ARM GAS  /tmp/ccFjPNuy.s 			page 82


 3258 012c 93F89830 		ldrb	r3, [r3, #152]	@ zero_extendqisi2
 3259              		.loc 1 1242 14
 3260 0130 FA7F     		ldrb	r2, [r7, #31]	@ zero_extendqisi2
 3261 0132 9A42     		cmp	r2, r3
 3262 0134 07D9     		bls	.L226
1243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->persist_cnt++;
 3263              		.loc 1 1243 16
 3264 0136 FB6A     		ldr	r3, [r7, #44]
 3265 0138 93F89830 		ldrb	r3, [r3, #152]	@ zero_extendqisi2
 3266              		.loc 1 1243 29
 3267 013c 0133     		adds	r3, r3, #1
 3268 013e DAB2     		uxtb	r2, r3
 3269 0140 FB6A     		ldr	r3, [r7, #44]
 3270 0142 83F89820 		strb	r2, [r3, #152]
 3271              	.L226:
1244:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1245:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb->persist_cnt >= backoff_cnt) {
 3272              		.loc 1 1245 18
 3273 0146 FB6A     		ldr	r3, [r7, #44]
 3274 0148 93F89830 		ldrb	r3, [r3, #152]	@ zero_extendqisi2
 3275              		.loc 1 1245 14
 3276 014c FA7F     		ldrb	r2, [r7, #31]	@ zero_extendqisi2
 3277 014e 9A42     		cmp	r2, r3
 3278 0150 00F2D280 		bhi	.L219
 3279              	.LBB11:
1246:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             int next_slot = 1; /* increment timer to next slot */
 3280              		.loc 1 1246 17
 3281 0154 0123     		movs	r3, #1
 3282 0156 3B62     		str	r3, [r7, #32]
1247:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* If snd_wnd is zero, send 1 byte probes */
1248:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->snd_wnd == 0) {
 3283              		.loc 1 1248 20
 3284 0158 FB6A     		ldr	r3, [r7, #44]
 3285 015a B3F86030 		ldrh	r3, [r3, #96]
 3286              		.loc 1 1248 16
 3287 015e 002B     		cmp	r3, #0
 3288 0160 08D1     		bne	.L227
1249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (tcp_zero_window_probe(pcb) != ERR_OK) {
 3289              		.loc 1 1249 19
 3290 0162 F86A     		ldr	r0, [r7, #44]
 3291 0164 FFF7FEFF 		bl	tcp_zero_window_probe
 3292 0168 0346     		mov	r3, r0
 3293              		.loc 1 1249 18
 3294 016a 002B     		cmp	r3, #0
 3295 016c 14D0     		beq	.L229
1250:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 next_slot = 0; /* try probe again with current slot */
 3296              		.loc 1 1250 27
 3297 016e 0023     		movs	r3, #0
 3298 0170 3B62     		str	r3, [r7, #32]
 3299 0172 11E0     		b	.L229
 3300              	.L227:
1251:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
1252:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               /* snd_wnd not fully closed, split unsent head and fill window */
1253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             } else {
1254:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (tcp_split_unsent_seg(pcb, (u16_t)pcb->snd_wnd) == ERR_OK) {
 3301              		.loc 1 1254 55
 3302 0174 FB6A     		ldr	r3, [r7, #44]
ARM GAS  /tmp/ccFjPNuy.s 			page 83


 3303 0176 B3F86030 		ldrh	r3, [r3, #96]
 3304              		.loc 1 1254 19
 3305 017a 1946     		mov	r1, r3
 3306 017c F86A     		ldr	r0, [r7, #44]
 3307 017e FFF7FEFF 		bl	tcp_split_unsent_seg
 3308 0182 0346     		mov	r3, r0
 3309              		.loc 1 1254 18
 3310 0184 002B     		cmp	r3, #0
 3311 0186 07D1     		bne	.L229
1255:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 if (tcp_output(pcb) == ERR_OK) {
 3312              		.loc 1 1255 21
 3313 0188 F86A     		ldr	r0, [r7, #44]
 3314 018a FFF7FEFF 		bl	tcp_output
 3315 018e 0346     		mov	r3, r0
 3316              		.loc 1 1255 20
 3317 0190 002B     		cmp	r3, #0
 3318 0192 01D1     		bne	.L229
1256:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                   /* sending will cancel persist timer, else retry with current slot */
1257:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                   next_slot = 0;
 3319              		.loc 1 1257 29
 3320 0194 0023     		movs	r3, #0
 3321 0196 3B62     		str	r3, [r7, #32]
 3322              	.L229:
1258:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 }
1259:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
1260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (next_slot) {
 3323              		.loc 1 1261 16
 3324 0198 3B6A     		ldr	r3, [r7, #32]
 3325 019a 002B     		cmp	r3, #0
 3326 019c 00F0AC80 		beq	.L219
1262:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->persist_cnt = 0;
 3327              		.loc 1 1262 32
 3328 01a0 FB6A     		ldr	r3, [r7, #44]
 3329 01a2 0022     		movs	r2, #0
 3330 01a4 83F89820 		strb	r2, [r3, #152]
1263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               if (pcb->persist_backoff < sizeof(tcp_persist_backoff)) {
 3331              		.loc 1 1263 22
 3332 01a8 FB6A     		ldr	r3, [r7, #44]
 3333 01aa 93F89930 		ldrb	r3, [r3, #153]	@ zero_extendqisi2
 3334              		.loc 1 1263 18
 3335 01ae 062B     		cmp	r3, #6
 3336 01b0 00F2A280 		bhi	.L219
1264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 pcb->persist_backoff++;
 3337              		.loc 1 1264 20
 3338 01b4 FB6A     		ldr	r3, [r7, #44]
 3339 01b6 93F89930 		ldrb	r3, [r3, #153]	@ zero_extendqisi2
 3340              		.loc 1 1264 37
 3341 01ba 0133     		adds	r3, r3, #1
 3342 01bc DAB2     		uxtb	r2, r3
 3343 01be FB6A     		ldr	r3, [r7, #44]
 3344 01c0 83F89920 		strb	r2, [r3, #153]
 3345 01c4 98E0     		b	.L219
 3346              	.L221:
 3347              	.LBE11:
 3348              	.LBE10:
1265:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               }
ARM GAS  /tmp/ccFjPNuy.s 			page 84


1266:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1267:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1268:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1269:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1270:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Increase the retransmission timer if it is running */
1271:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if ((pcb->rtime >= 0) && (pcb->rtime < 0x7FFF)) {
 3349              		.loc 1 1271 17
 3350 01c6 FB6A     		ldr	r3, [r7, #44]
 3351 01c8 B3F93030 		ldrsh	r3, [r3, #48]
 3352              		.loc 1 1271 12
 3353 01cc 002B     		cmp	r3, #0
 3354 01ce 0FDB     		blt	.L230
 3355              		.loc 1 1271 38 discriminator 1
 3356 01d0 FB6A     		ldr	r3, [r7, #44]
 3357 01d2 B3F93030 		ldrsh	r3, [r3, #48]
 3358              		.loc 1 1271 31 discriminator 1
 3359 01d6 47F6FF72 		movw	r2, #32767
 3360 01da 9342     		cmp	r3, r2
 3361 01dc 08D0     		beq	.L230
1272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb->rtime;
 3362              		.loc 1 1272 16
 3363 01de FB6A     		ldr	r3, [r7, #44]
 3364 01e0 B3F93030 		ldrsh	r3, [r3, #48]
 3365              		.loc 1 1272 11
 3366 01e4 9BB2     		uxth	r3, r3
 3367 01e6 0133     		adds	r3, r3, #1
 3368 01e8 9BB2     		uxth	r3, r3
 3369 01ea 1AB2     		sxth	r2, r3
 3370 01ec FB6A     		ldr	r3, [r7, #44]
 3371 01ee 1A86     		strh	r2, [r3, #48]	@ movhi
 3372              	.L230:
1273:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1274:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->rtime >= pcb->rto) {
 3373              		.loc 1 1275 16
 3374 01f0 FB6A     		ldr	r3, [r7, #44]
 3375 01f2 B3F93020 		ldrsh	r2, [r3, #48]
 3376              		.loc 1 1275 30
 3377 01f6 FB6A     		ldr	r3, [r7, #44]
 3378 01f8 B3F94030 		ldrsh	r3, [r3, #64]
 3379              		.loc 1 1275 12
 3380 01fc 9A42     		cmp	r2, r3
 3381 01fe 7BDB     		blt	.L219
1276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Time for a retransmission. */
1277:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_RTO_DEBUG, ("tcp_slowtmr: rtime %"S16_F
1278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                       " pcb->rto %"S16_F"\n",
1279:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                       pcb->rtime, pcb->rto));
1280:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* If prepare phase fails but we have unsent data but no unacked data,
1281:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              still execute the backoff calculations below, as this means we somehow
1282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              failed to send segment. */
1283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if ((tcp_rexmit_rto_prepare(pcb) == ERR_OK) || ((pcb->unacked == NULL) && (pcb->unsent !=
 3382              		.loc 1 1283 16
 3383 0200 F86A     		ldr	r0, [r7, #44]
 3384 0202 FFF7FEFF 		bl	tcp_rexmit_rto_prepare
 3385 0206 0346     		mov	r3, r0
 3386              		.loc 1 1283 14
 3387 0208 002B     		cmp	r3, #0
ARM GAS  /tmp/ccFjPNuy.s 			page 85


 3388 020a 07D0     		beq	.L231
 3389              		.loc 1 1283 63 discriminator 1
 3390 020c FB6A     		ldr	r3, [r7, #44]
 3391 020e 1B6F     		ldr	r3, [r3, #112]
 3392              		.loc 1 1283 55 discriminator 1
 3393 0210 002B     		cmp	r3, #0
 3394 0212 71D1     		bne	.L219
 3395              		.loc 1 1283 89 discriminator 2
 3396 0214 FB6A     		ldr	r3, [r7, #44]
 3397 0216 DB6E     		ldr	r3, [r3, #108]
 3398              		.loc 1 1283 82 discriminator 2
 3399 0218 002B     		cmp	r3, #0
 3400 021a 6DD0     		beq	.L219
 3401              	.L231:
1284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Double retransmission time-out unless we are trying to
1285:Middlewares/Third_Party/LwIP/src/core/tcp.c ****              * connect to somebody (i.e., we are in SYN_SENT). */
1286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->state != SYN_SENT) {
 3402              		.loc 1 1286 20
 3403 021c FB6A     		ldr	r3, [r7, #44]
 3404 021e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3405              		.loc 1 1286 16
 3406 0220 022B     		cmp	r3, #2
 3407 0222 3AD0     		beq	.L232
 3408              	.LBB12:
1287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               u8_t backoff_idx = LWIP_MIN(pcb->nrtx, sizeof(tcp_backoff) - 1);
 3409              		.loc 1 1287 34
 3410 0224 FB6A     		ldr	r3, [r7, #44]
 3411 0226 93F84230 		ldrb	r3, [r3, #66]	@ zero_extendqisi2
 3412              		.loc 1 1287 20
 3413 022a 0C2B     		cmp	r3, #12
 3414 022c 28BF     		it	cs
 3415 022e 0C23     		movcs	r3, #12
 3416 0230 BB77     		strb	r3, [r7, #30]
1288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               int calc_rto = ((pcb->sa >> 3) + pcb->sv) << tcp_backoff[backoff_idx];
 3417              		.loc 1 1288 35
 3418 0232 FB6A     		ldr	r3, [r7, #44]
 3419 0234 B3F93C30 		ldrsh	r3, [r3, #60]
 3420              		.loc 1 1288 40
 3421 0238 DB10     		asrs	r3, r3, #3
 3422 023a 1BB2     		sxth	r3, r3
 3423 023c 1A46     		mov	r2, r3
 3424              		.loc 1 1288 51
 3425 023e FB6A     		ldr	r3, [r7, #44]
 3426 0240 B3F93E30 		ldrsh	r3, [r3, #62]
 3427              		.loc 1 1288 46
 3428 0244 1344     		add	r3, r3, r2
 3429              		.loc 1 1288 71
 3430 0246 BA7F     		ldrb	r2, [r7, #30]	@ zero_extendqisi2
 3431 0248 1049     		ldr	r1, .L264+44
 3432 024a 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 3433              		.loc 1 1288 19
 3434 024c 9340     		lsls	r3, r3, r2
 3435 024e BB61     		str	r3, [r7, #24]
1289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->rto = (s16_t)LWIP_MIN(calc_rto, 0x7FFF);
 3436              		.loc 1 1289 26
 3437 0250 BB69     		ldr	r3, [r7, #24]
 3438 0252 47F6FE72 		movw	r2, #32766
ARM GAS  /tmp/ccFjPNuy.s 			page 86


 3439 0256 9342     		cmp	r3, r2
 3440 0258 1ADC     		bgt	.L233
 3441              		.loc 1 1289 26 is_stmt 0 discriminator 1
 3442 025a BB69     		ldr	r3, [r7, #24]
 3443 025c 1AB2     		sxth	r2, r3
 3444 025e 19E0     		b	.L234
 3445              	.L265:
 3446              		.align	2
 3447              	.L264:
 3448 0260 00000000 		.word	tcp_ticks
 3449 0264 00000000 		.word	tcp_timer_ctr
 3450 0268 00000000 		.word	tcp_active_pcbs
 3451 026c 78000000 		.word	.LC11
 3452 0270 B8030000 		.word	.LC36
 3453 0274 B8000000 		.word	.LC13
 3454 0278 E4030000 		.word	.LC37
 3455 027c 10040000 		.word	.LC38
 3456 0280 40040000 		.word	.LC39
 3457 0284 74040000 		.word	.LC40
 3458 0288 00000000 		.word	tcp_persist_backoff
 3459 028c 00000000 		.word	tcp_backoff
 3460              	.L233:
 3461              		.loc 1 1289 26 discriminator 2
 3462 0290 47F6FF72 		movw	r2, #32767
 3463              	.L234:
 3464              		.loc 1 1289 24 is_stmt 1 discriminator 4
 3465 0294 FB6A     		ldr	r3, [r7, #44]
 3466 0296 A3F84020 		strh	r2, [r3, #64]	@ movhi
 3467              	.L232:
 3468              	.LBE12:
1290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1291:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1292:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Reset the retransmission timer. */
1293:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->rtime = 0;
 3469              		.loc 1 1293 24
 3470 029a FB6A     		ldr	r3, [r7, #44]
 3471 029c 0022     		movs	r2, #0
 3472 029e 1A86     		strh	r2, [r3, #48]	@ movhi
1294:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1295:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* Reduce congestion window and ssthresh. */
1296:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             eff_wnd = LWIP_MIN(pcb->cwnd, pcb->snd_wnd);
 3473              		.loc 1 1296 23
 3474 02a0 FB6A     		ldr	r3, [r7, #44]
 3475 02a2 B3F86020 		ldrh	r2, [r3, #96]
 3476 02a6 FB6A     		ldr	r3, [r7, #44]
 3477 02a8 B3F84830 		ldrh	r3, [r3, #72]
 3478              		.loc 1 1296 21
 3479 02ac 9342     		cmp	r3, r2
 3480 02ae 28BF     		it	cs
 3481 02b0 1346     		movcs	r3, r2
 3482 02b2 FB82     		strh	r3, [r7, #22]	@ movhi
1297:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->ssthresh = eff_wnd >> 1;
 3483              		.loc 1 1297 27
 3484 02b4 FB8A     		ldrh	r3, [r7, #22]
 3485 02b6 5B08     		lsrs	r3, r3, #1
 3486 02b8 9AB2     		uxth	r2, r3
 3487 02ba FB6A     		ldr	r3, [r7, #44]
ARM GAS  /tmp/ccFjPNuy.s 			page 87


 3488 02bc A3F84A20 		strh	r2, [r3, #74]	@ movhi
1298:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             if (pcb->ssthresh < (tcpwnd_size_t)(pcb->mss << 1)) {
 3489              		.loc 1 1298 20
 3490 02c0 FB6A     		ldr	r3, [r7, #44]
 3491 02c2 B3F84A20 		ldrh	r2, [r3, #74]
 3492              		.loc 1 1298 52
 3493 02c6 FB6A     		ldr	r3, [r7, #44]
 3494 02c8 5B8E     		ldrh	r3, [r3, #50]
 3495              		.loc 1 1298 33
 3496 02ca 5B00     		lsls	r3, r3, #1
 3497 02cc 9BB2     		uxth	r3, r3
 3498              		.loc 1 1298 16
 3499 02ce 9A42     		cmp	r2, r3
 3500 02d0 06D2     		bcs	.L235
1299:Middlewares/Third_Party/LwIP/src/core/tcp.c ****               pcb->ssthresh = (tcpwnd_size_t)(pcb->mss << 1);
 3501              		.loc 1 1299 50
 3502 02d2 FB6A     		ldr	r3, [r7, #44]
 3503 02d4 5B8E     		ldrh	r3, [r3, #50]
 3504              		.loc 1 1299 31
 3505 02d6 5B00     		lsls	r3, r3, #1
 3506 02d8 9AB2     		uxth	r2, r3
 3507              		.loc 1 1299 29
 3508 02da FB6A     		ldr	r3, [r7, #44]
 3509 02dc A3F84A20 		strh	r2, [r3, #74]	@ movhi
 3510              	.L235:
1300:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             }
1301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->cwnd = pcb->mss;
 3511              		.loc 1 1301 28
 3512 02e0 FB6A     		ldr	r3, [r7, #44]
 3513 02e2 5A8E     		ldrh	r2, [r3, #50]
 3514              		.loc 1 1301 23
 3515 02e4 FB6A     		ldr	r3, [r7, #44]
 3516 02e6 A3F84820 		strh	r2, [r3, #72]	@ movhi
1302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: cwnd %"TCPWNDSIZE_F
1303:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                          " ssthresh %"TCPWNDSIZE_F"\n",
1304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                                          pcb->cwnd, pcb->ssthresh));
1305:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             pcb->bytes_acked = 0;
 3517              		.loc 1 1305 30
 3518 02ea FB6A     		ldr	r3, [r7, #44]
 3519 02ec 0022     		movs	r2, #0
 3520 02ee A3F86A20 		strh	r2, [r3, #106]	@ movhi
1306:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1307:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* The following needs to be called AFTER cwnd is set to one
1308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                mss - STJ */
1309:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             tcp_rexmit_rto_commit(pcb);
 3521              		.loc 1 1309 13
 3522 02f2 F86A     		ldr	r0, [r7, #44]
 3523 02f4 FFF7FEFF 		bl	tcp_rexmit_rto_commit
 3524              	.L219:
1310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1312:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in FIN-WAIT-2 */
1315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == FIN_WAIT_2) {
 3525              		.loc 1 1315 12
 3526 02f8 FB6A     		ldr	r3, [r7, #44]
ARM GAS  /tmp/ccFjPNuy.s 			page 88


 3527 02fa 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3528              		.loc 1 1315 8
 3529 02fc 062B     		cmp	r3, #6
 3530 02fe 11D1     		bne	.L236
1316:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If this PCB is in FIN_WAIT_2 because of SHUT_WR don't let it time out. */
1317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_RXCLOSED) {
 3531              		.loc 1 1317 14
 3532 0300 FB6A     		ldr	r3, [r7, #44]
 3533 0302 5B8B     		ldrh	r3, [r3, #26]
 3534              		.loc 1 1317 22
 3535 0304 03F01003 		and	r3, r3, #16
 3536              		.loc 1 1317 10
 3537 0308 002B     		cmp	r3, #0
 3538 030a 0BD0     		beq	.L236
1318:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB was fully closed (either through close() or SHUT_RDWR):
1319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            normal FIN-WAIT timeout handling. */
1320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if ((u32_t)(tcp_ticks - pcb->tmr) >
 3539              		.loc 1 1320 31
 3540 030c 9D4B     		ldr	r3, .L266
 3541 030e 1A68     		ldr	r2, [r3]
 3542              		.loc 1 1320 36
 3543 0310 FB6A     		ldr	r3, [r7, #44]
 3544 0312 1B6A     		ldr	r3, [r3, #32]
 3545              		.loc 1 1320 31
 3546 0314 D31A     		subs	r3, r2, r3
 3547              		.loc 1 1320 12
 3548 0316 282B     		cmp	r3, #40
 3549 0318 04D9     		bls	.L236
1321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             TCP_FIN_WAIT_TIMEOUT / TCP_SLOW_INTERVAL) {
1322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ++pcb_remove;
 3550              		.loc 1 1322 11
 3551 031a 97F82730 		ldrb	r3, [r7, #39]
 3552 031e 0133     		adds	r3, r3, #1
 3553 0320 87F82730 		strb	r3, [r7, #39]
 3554              	.L236:
1323:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in FIN-WAIT-2\n"));
1324:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1325:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1326:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1327:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1328:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if KEEPALIVE should be sent */
1329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_get_option(pcb, SOF_KEEPALIVE) &&
 3555              		.loc 1 1329 9
 3556 0324 FB6A     		ldr	r3, [r7, #44]
 3557 0326 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 3558 0328 03F00803 		and	r3, r3, #8
 3559              		.loc 1 1329 8
 3560 032c 002B     		cmp	r3, #0
 3561 032e 4CD0     		beq	.L237
1330:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->state == ESTABLISHED) ||
 3562              		.loc 1 1330 14 discriminator 1
 3563 0330 FB6A     		ldr	r3, [r7, #44]
 3564 0332 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->state == ESTABLISHED) ||
 3565              		.loc 1 1329 43 discriminator 1
 3566 0334 042B     		cmp	r3, #4
 3567 0336 03D0     		beq	.L238
ARM GAS  /tmp/ccFjPNuy.s 			page 89


1331:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          (pcb->state == CLOSE_WAIT))) {
 3568              		.loc 1 1331 14
 3569 0338 FB6A     		ldr	r3, [r7, #44]
 3570 033a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1330:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->state == ESTABLISHED) ||
 3571              		.loc 1 1330 38
 3572 033c 072B     		cmp	r3, #7
 3573 033e 44D1     		bne	.L237
 3574              	.L238:
1332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
 3575              		.loc 1 1332 11
 3576 0340 904B     		ldr	r3, .L266
 3577 0342 1A68     		ldr	r2, [r3]
 3578              		.loc 1 1332 34
 3579 0344 FB6A     		ldr	r3, [r7, #44]
 3580 0346 1B6A     		ldr	r3, [r3, #32]
 3581              		.loc 1 1332 29
 3582 0348 D21A     		subs	r2, r2, r3
1333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           (pcb->keep_idle + TCP_KEEP_DUR(pcb)) / TCP_SLOW_INTERVAL) {
 3583              		.loc 1 1333 15
 3584 034a FB6A     		ldr	r3, [r7, #44]
 3585 034c D3F89430 		ldr	r3, [r3, #148]
 3586              		.loc 1 1333 27
 3587 0350 03F52423 		add	r3, r3, #671744
 3588 0354 03F6B843 		addw	r3, r3, #3256
 3589              		.loc 1 1333 48
 3590 0358 8B49     		ldr	r1, .L266+4
 3591 035a A1FB0313 		umull	r1, r3, r1, r3
 3592 035e 5B09     		lsrs	r3, r3, #5
1332:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
 3593              		.loc 1 1332 10
 3594 0360 9A42     		cmp	r2, r3
 3595 0362 0AD9     		bls	.L239
1334:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: KEEPALIVE timeout. Aborting connection to "));
1335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ip_addr_debug_print_val(TCP_DEBUG, pcb->remote_ip);
1336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("\n"));
1337:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1338:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
 3596              		.loc 1 1338 9
 3597 0364 97F82730 		ldrb	r3, [r7, #39]
 3598 0368 0133     		adds	r3, r3, #1
 3599 036a 87F82730 		strb	r3, [r7, #39]
1339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_reset;
 3600              		.loc 1 1339 9
 3601 036e 97F82630 		ldrb	r3, [r7, #38]
 3602 0372 0133     		adds	r3, r3, #1
 3603 0374 87F82630 		strb	r3, [r7, #38]
 3604 0378 27E0     		b	.L237
 3605              	.L239:
1340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else if ((u32_t)(tcp_ticks - pcb->tmr) >
 3606              		.loc 1 1340 18
 3607 037a 824B     		ldr	r3, .L266
 3608 037c 1A68     		ldr	r2, [r3]
 3609              		.loc 1 1340 41
 3610 037e FB6A     		ldr	r3, [r7, #44]
 3611 0380 1B6A     		ldr	r3, [r3, #32]
 3612              		.loc 1 1340 36
ARM GAS  /tmp/ccFjPNuy.s 			page 90


 3613 0382 D21A     		subs	r2, r2, r3
1341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  (pcb->keep_idle + pcb->keep_cnt_sent * TCP_KEEP_INTVL(pcb))
 3614              		.loc 1 1341 22
 3615 0384 FB6A     		ldr	r3, [r7, #44]
 3616 0386 D3F89410 		ldr	r1, [r3, #148]
 3617              		.loc 1 1341 39
 3618 038a FB6A     		ldr	r3, [r7, #44]
 3619 038c 93F89B30 		ldrb	r3, [r3, #155]	@ zero_extendqisi2
 3620 0390 1846     		mov	r0, r3
 3621              		.loc 1 1341 55
 3622 0392 7E4B     		ldr	r3, .L266+8
 3623 0394 03FB00F3 		mul	r3, r3, r0
 3624              		.loc 1 1341 34
 3625 0398 0B44     		add	r3, r3, r1
1342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                  / TCP_SLOW_INTERVAL) {
 3626              		.loc 1 1342 18
 3627 039a 7B49     		ldr	r1, .L266+4
 3628 039c A1FB0313 		umull	r1, r3, r1, r3
 3629 03a0 5B09     		lsrs	r3, r3, #5
1340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else if ((u32_t)(tcp_ticks - pcb->tmr) >
 3630              		.loc 1 1340 17
 3631 03a2 9A42     		cmp	r2, r3
 3632 03a4 11D9     		bls	.L237
1343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         err = tcp_keepalive(pcb);
 3633              		.loc 1 1343 15
 3634 03a6 F86A     		ldr	r0, [r7, #44]
 3635 03a8 FFF7FEFF 		bl	tcp_keepalive
 3636 03ac 0346     		mov	r3, r0
 3637 03ae 87F82530 		strb	r3, [r7, #37]
1344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
 3638              		.loc 1 1344 12
 3639 03b2 97F92530 		ldrsb	r3, [r7, #37]
 3640 03b6 002B     		cmp	r3, #0
 3641 03b8 07D1     		bne	.L237
1345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->keep_cnt_sent++;
 3642              		.loc 1 1345 14
 3643 03ba FB6A     		ldr	r3, [r7, #44]
 3644 03bc 93F89B30 		ldrb	r3, [r3, #155]	@ zero_extendqisi2
 3645              		.loc 1 1345 29
 3646 03c0 0133     		adds	r3, r3, #1
 3647 03c2 DAB2     		uxtb	r2, r3
 3648 03c4 FB6A     		ldr	r3, [r7, #44]
 3649 03c6 83F89B20 		strb	r2, [r3, #155]
 3650              	.L237:
1346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1347:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1348:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1349:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1350:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If this PCB has queued out of sequence data, but has been
1351:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        inactive for too long, will drop the data (it will eventually
1352:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        be retransmitted). */
1353:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL &&
 3651              		.loc 1 1354 12
 3652 03ca FB6A     		ldr	r3, [r7, #44]
 3653 03cc 5B6F     		ldr	r3, [r3, #116]
 3654              		.loc 1 1354 8
ARM GAS  /tmp/ccFjPNuy.s 			page 91


 3655 03ce 002B     		cmp	r3, #0
 3656 03d0 11D0     		beq	.L240
1355:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (tcp_ticks - pcb->tmr >= (u32_t)pcb->rto * TCP_OOSEQ_TIMEOUT)) {
 3657              		.loc 1 1355 20 discriminator 1
 3658 03d2 6C4B     		ldr	r3, .L266
 3659 03d4 1A68     		ldr	r2, [r3]
 3660              		.loc 1 1355 25 discriminator 1
 3661 03d6 FB6A     		ldr	r3, [r7, #44]
 3662 03d8 1B6A     		ldr	r3, [r3, #32]
 3663              		.loc 1 1355 20 discriminator 1
 3664 03da D21A     		subs	r2, r2, r3
 3665              		.loc 1 1355 44 discriminator 1
 3666 03dc FB6A     		ldr	r3, [r7, #44]
 3667 03de B3F94030 		ldrsh	r3, [r3, #64]
 3668              		.loc 1 1355 34 discriminator 1
 3669 03e2 1946     		mov	r1, r3
 3670              		.loc 1 1355 50 discriminator 1
 3671 03e4 0B46     		mov	r3, r1
 3672 03e6 5B00     		lsls	r3, r3, #1
 3673 03e8 0B44     		add	r3, r3, r1
 3674 03ea 5B00     		lsls	r3, r3, #1
1354:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         (tcp_ticks - pcb->tmr >= (u32_t)pcb->rto * TCP_OOSEQ_TIMEOUT)) {
 3675              		.loc 1 1354 28 discriminator 1
 3676 03ec 9A42     		cmp	r2, r3
 3677 03ee 02D3     		bcc	.L240
1356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_CWND_DEBUG, ("tcp_slowtmr: dropping OOSEQ queued data\n"));
1357:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free_ooseq(pcb);
 3678              		.loc 1 1357 7
 3679 03f0 F86A     		ldr	r0, [r7, #44]
 3680 03f2 FFF7FEFF 		bl	tcp_free_ooseq
 3681              	.L240:
1358:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1359:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1360:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1361:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in SYN-RCVD */
1362:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == SYN_RCVD) {
 3682              		.loc 1 1362 12
 3683 03f6 FB6A     		ldr	r3, [r7, #44]
 3684 03f8 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3685              		.loc 1 1362 8
 3686 03fa 032B     		cmp	r3, #3
 3687 03fc 0BD1     		bne	.L241
1363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >
 3688              		.loc 1 1363 29
 3689 03fe 614B     		ldr	r3, .L266
 3690 0400 1A68     		ldr	r2, [r3]
 3691              		.loc 1 1363 34
 3692 0402 FB6A     		ldr	r3, [r7, #44]
 3693 0404 1B6A     		ldr	r3, [r3, #32]
 3694              		.loc 1 1363 29
 3695 0406 D31A     		subs	r3, r2, r3
 3696              		.loc 1 1363 10
 3697 0408 282B     		cmp	r3, #40
 3698 040a 04D9     		bls	.L241
1364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           TCP_SYN_RCVD_TIMEOUT / TCP_SLOW_INTERVAL) {
1365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
 3699              		.loc 1 1365 9
ARM GAS  /tmp/ccFjPNuy.s 			page 92


 3700 040c 97F82730 		ldrb	r3, [r7, #39]
 3701 0410 0133     		adds	r3, r3, #1
 3702 0412 87F82730 		strb	r3, [r7, #39]
 3703              	.L241:
1366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in SYN-RCVD\n"));
1367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1369:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed too long in LAST-ACK */
1371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == LAST_ACK) {
 3704              		.loc 1 1371 12
 3705 0416 FB6A     		ldr	r3, [r7, #44]
 3706 0418 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3707              		.loc 1 1371 8
 3708 041a 092B     		cmp	r3, #9
 3709 041c 0BD1     		bne	.L242
1372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
 3710              		.loc 1 1372 29
 3711 041e 594B     		ldr	r3, .L266
 3712 0420 1A68     		ldr	r2, [r3]
 3713              		.loc 1 1372 34
 3714 0422 FB6A     		ldr	r3, [r7, #44]
 3715 0424 1B6A     		ldr	r3, [r3, #32]
 3716              		.loc 1 1372 29
 3717 0426 D31A     		subs	r3, r2, r3
 3718              		.loc 1 1372 10
 3719 0428 F02B     		cmp	r3, #240
 3720 042a 04D9     		bls	.L242
1373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ++pcb_remove;
 3721              		.loc 1 1373 9
 3722 042c 97F82730 		ldrb	r3, [r7, #39]
 3723 0430 0133     		adds	r3, r3, #1
 3724 0432 87F82730 		strb	r3, [r7, #39]
 3725              	.L242:
1374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: removing pcb stuck in LAST-ACK\n"));
1375:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1377:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If the PCB should be removed, do it. */
1379:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb_remove) {
 3726              		.loc 1 1379 8
 3727 0436 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 3728 043a 002B     		cmp	r3, #0
 3729 043c 60D0     		beq	.L243
 3730              	.LBB13:
1380:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
1381:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1382:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_err_fn err_fn = pcb->errf;
 3731              		.loc 1 1382 18
 3732 043e FB6A     		ldr	r3, [r7, #44]
 3733 0440 D3F89030 		ldr	r3, [r3, #144]
 3734 0444 3B61     		str	r3, [r7, #16]
1383:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1384:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       void *err_arg;
1385:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       enum tcp_state last_state;
1386:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
 3735              		.loc 1 1386 7
ARM GAS  /tmp/ccFjPNuy.s 			page 93


 3736 0446 F86A     		ldr	r0, [r7, #44]
 3737 0448 FFF7FEFF 		bl	tcp_pcb_purge
1387:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_active_pcbs list. */
1388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev != NULL) {
 3738              		.loc 1 1388 10
 3739 044c BB6A     		ldr	r3, [r7, #40]
 3740 044e 002B     		cmp	r3, #0
 3741 0450 10D0     		beq	.L244
1389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_active_pcbs", pcb != tcp_active_pcbs);
 3742              		.loc 1 1389 9
 3743 0452 4F4B     		ldr	r3, .L266+12
 3744 0454 1B68     		ldr	r3, [r3]
 3745 0456 FA6A     		ldr	r2, [r7, #44]
 3746 0458 9A42     		cmp	r2, r3
 3747 045a 06D1     		bne	.L245
 3748              		.loc 1 1389 9 is_stmt 0 discriminator 1
 3749 045c 4D4B     		ldr	r3, .L266+16
 3750 045e 40F26D52 		movw	r2, #1389
 3751 0462 4D49     		ldr	r1, .L266+20
 3752 0464 4D48     		ldr	r0, .L266+24
 3753 0466 FFF7FEFF 		bl	printf
 3754              	.L245:
1390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
 3755              		.loc 1 1390 25 is_stmt 1
 3756 046a FB6A     		ldr	r3, [r7, #44]
 3757 046c DA68     		ldr	r2, [r3, #12]
 3758              		.loc 1 1390 20
 3759 046e BB6A     		ldr	r3, [r7, #40]
 3760 0470 DA60     		str	r2, [r3, #12]
 3761 0472 0FE0     		b	.L246
 3762              	.L244:
1391:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1392:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* This PCB was the first. */
1393:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: first pcb == tcp_active_pcbs", tcp_active_pcbs == pcb);
 3763              		.loc 1 1393 9
 3764 0474 464B     		ldr	r3, .L266+12
 3765 0476 1B68     		ldr	r3, [r3]
 3766 0478 FA6A     		ldr	r2, [r7, #44]
 3767 047a 9A42     		cmp	r2, r3
 3768 047c 06D0     		beq	.L247
 3769              		.loc 1 1393 9 is_stmt 0 discriminator 1
 3770 047e 454B     		ldr	r3, .L266+16
 3771 0480 40F27152 		movw	r2, #1393
 3772 0484 4649     		ldr	r1, .L266+28
 3773 0486 4548     		ldr	r0, .L266+24
 3774 0488 FFF7FEFF 		bl	printf
 3775              	.L247:
1394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs = pcb->next;
 3776              		.loc 1 1394 30 is_stmt 1
 3777 048c FB6A     		ldr	r3, [r7, #44]
 3778 048e DB68     		ldr	r3, [r3, #12]
 3779              		.loc 1 1394 25
 3780 0490 3F4A     		ldr	r2, .L266+12
 3781 0492 1360     		str	r3, [r2]
 3782              	.L246:
1395:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1396:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccFjPNuy.s 			page 94


1397:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb_reset) {
 3783              		.loc 1 1397 10
 3784 0494 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 3785 0498 002B     		cmp	r3, #0
 3786 049a 13D0     		beq	.L248
1398:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_rst(pcb, pcb->snd_nxt, pcb->rcv_nxt, &pcb->local_ip, &pcb->remote_ip,
 3787              		.loc 1 1398 9
 3788 049c FB6A     		ldr	r3, [r7, #44]
 3789 049e 186D     		ldr	r0, [r3, #80]
 3790 04a0 FB6A     		ldr	r3, [r7, #44]
 3791 04a2 5C6A     		ldr	r4, [r3, #36]
 3792              		.loc 1 1398 50
 3793 04a4 FD6A     		ldr	r5, [r7, #44]
 3794              		.loc 1 1398 66
 3795 04a6 FB6A     		ldr	r3, [r7, #44]
 3796 04a8 0433     		adds	r3, r3, #4
 3797              		.loc 1 1398 9
 3798 04aa FA6A     		ldr	r2, [r7, #44]
 3799 04ac D28A     		ldrh	r2, [r2, #22]
 3800 04ae F96A     		ldr	r1, [r7, #44]
 3801 04b0 098B     		ldrh	r1, [r1, #24]
 3802 04b2 0291     		str	r1, [sp, #8]
 3803 04b4 0192     		str	r2, [sp, #4]
 3804 04b6 0093     		str	r3, [sp]
 3805 04b8 2B46     		mov	r3, r5
 3806 04ba 2246     		mov	r2, r4
 3807 04bc 0146     		mov	r1, r0
 3808 04be F86A     		ldr	r0, [r7, #44]
 3809 04c0 FFF7FEFF 		bl	tcp_rst
 3810              	.L248:
1399:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                 pcb->local_port, pcb->remote_port);
1400:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1401:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1402:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       err_arg = pcb->callback_arg;
 3811              		.loc 1 1402 15
 3812 04c4 FB6A     		ldr	r3, [r7, #44]
 3813 04c6 1B69     		ldr	r3, [r3, #16]
 3814 04c8 FB60     		str	r3, [r7, #12]
1403:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       last_state = pcb->state;
 3815              		.loc 1 1403 18
 3816 04ca FB6A     		ldr	r3, [r7, #44]
 3817 04cc 1B7D     		ldrb	r3, [r3, #20]
 3818 04ce FB72     		strb	r3, [r7, #11]
1404:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb2 = pcb;
 3819              		.loc 1 1404 12
 3820 04d0 FB6A     		ldr	r3, [r7, #44]
 3821 04d2 7B60     		str	r3, [r7, #4]
1405:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 3822              		.loc 1 1405 11
 3823 04d4 FB6A     		ldr	r3, [r7, #44]
 3824 04d6 DB68     		ldr	r3, [r3, #12]
 3825 04d8 FB62     		str	r3, [r7, #44]
1406:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
 3826              		.loc 1 1406 7
 3827 04da 7868     		ldr	r0, [r7, #4]
 3828 04dc FFF7FEFF 		bl	tcp_free
1407:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccFjPNuy.s 			page 95


1408:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_active_pcbs_changed = 0;
 3829              		.loc 1 1408 31
 3830 04e0 304B     		ldr	r3, .L266+32
 3831 04e2 0022     		movs	r2, #0
 3832 04e4 1A70     		strb	r2, [r3]
1409:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       TCP_EVENT_ERR(last_state, err_fn, err_arg, ERR_ABRT);
 3833              		.loc 1 1409 7
 3834 04e6 3B69     		ldr	r3, [r7, #16]
 3835 04e8 002B     		cmp	r3, #0
 3836 04ea 04D0     		beq	.L249
 3837              		.loc 1 1409 7 is_stmt 0 discriminator 1
 3838 04ec 3B69     		ldr	r3, [r7, #16]
 3839 04ee 6FF00C01 		mvn	r1, #12
 3840 04f2 F868     		ldr	r0, [r7, #12]
 3841 04f4 9847     		blx	r3
 3842              	.LVL1:
 3843              	.L249:
1410:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (tcp_active_pcbs_changed) {
 3844              		.loc 1 1410 11 is_stmt 1
 3845 04f6 2B4B     		ldr	r3, .L266+32
 3846 04f8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3847              		.loc 1 1410 10
 3848 04fa 002B     		cmp	r3, #0
 3849 04fc 37D0     		beq	.L213
1411:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         goto tcp_slowtmr_start;
 3850              		.loc 1 1411 9
 3851 04fe 90E5     		b	.L212
 3852              	.L243:
 3853              	.LBE13:
1412:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1413:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1414:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* get the 'next' element now and work with 'prev' below (in case of abort) */
1415:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
 3854              		.loc 1 1415 12
 3855 0500 FB6A     		ldr	r3, [r7, #44]
 3856 0502 BB62     		str	r3, [r7, #40]
1416:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 3857              		.loc 1 1416 11
 3858 0504 FB6A     		ldr	r3, [r7, #44]
 3859 0506 DB68     		ldr	r3, [r3, #12]
 3860 0508 FB62     		str	r3, [r7, #44]
1417:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1418:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* We check if we should poll the connection. */
1419:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++prev->polltmr;
 3861              		.loc 1 1419 13
 3862 050a BB6A     		ldr	r3, [r7, #40]
 3863 050c 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3864              		.loc 1 1419 7
 3865 050e 0133     		adds	r3, r3, #1
 3866 0510 DAB2     		uxtb	r2, r3
 3867 0512 BB6A     		ldr	r3, [r7, #40]
 3868 0514 1A77     		strb	r2, [r3, #28]
1420:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev->polltmr >= prev->pollinterval) {
 3869              		.loc 1 1420 15
 3870 0516 BB6A     		ldr	r3, [r7, #40]
 3871 0518 1A7F     		ldrb	r2, [r3, #28]	@ zero_extendqisi2
 3872              		.loc 1 1420 32
ARM GAS  /tmp/ccFjPNuy.s 			page 96


 3873 051a BB6A     		ldr	r3, [r7, #40]
 3874 051c 5B7F     		ldrb	r3, [r3, #29]	@ zero_extendqisi2
 3875              		.loc 1 1420 10
 3876 051e 9A42     		cmp	r2, r3
 3877 0520 25D3     		bcc	.L213
1421:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->polltmr = 0;
 3878              		.loc 1 1421 23
 3879 0522 BB6A     		ldr	r3, [r7, #40]
 3880 0524 0022     		movs	r2, #0
 3881 0526 1A77     		strb	r2, [r3, #28]
1422:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: polling application\n"));
1423:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
 3882              		.loc 1 1423 33
 3883 0528 1E4B     		ldr	r3, .L266+32
 3884 052a 0022     		movs	r2, #0
 3885 052c 1A70     		strb	r2, [r3]
1424:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_POLL(prev, err);
 3886              		.loc 1 1424 9
 3887 052e BB6A     		ldr	r3, [r7, #40]
 3888 0530 D3F88C30 		ldr	r3, [r3, #140]
 3889 0534 002B     		cmp	r3, #0
 3890 0536 0BD0     		beq	.L251
 3891              		.loc 1 1424 9 is_stmt 0 discriminator 1
 3892 0538 BB6A     		ldr	r3, [r7, #40]
 3893 053a D3F88C30 		ldr	r3, [r3, #140]
 3894 053e BA6A     		ldr	r2, [r7, #40]
 3895 0540 1269     		ldr	r2, [r2, #16]
 3896 0542 B96A     		ldr	r1, [r7, #40]
 3897 0544 1046     		mov	r0, r2
 3898 0546 9847     		blx	r3
 3899              	.LVL2:
 3900 0548 0346     		mov	r3, r0
 3901 054a 87F82530 		strb	r3, [r7, #37]
 3902 054e 02E0     		b	.L252
 3903              	.L251:
 3904              		.loc 1 1424 9 discriminator 2
 3905 0550 0023     		movs	r3, #0
 3906 0552 87F82530 		strb	r3, [r7, #37]
 3907              	.L252:
1425:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 3908              		.loc 1 1425 13 is_stmt 1
 3909 0556 134B     		ldr	r3, .L266+32
 3910 0558 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3911              		.loc 1 1425 12
 3912 055a 002B     		cmp	r3, #0
 3913 055c 00D0     		beq	.L253
1426:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_slowtmr_start;
 3914              		.loc 1 1426 11
 3915 055e 60E5     		b	.L212
 3916              	.L253:
1427:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1428:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* if err == ERR_ABRT, 'prev' is already deallocated */
1429:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_OK) {
 3917              		.loc 1 1429 12
 3918 0560 97F92530 		ldrsb	r3, [r7, #37]
 3919 0564 002B     		cmp	r3, #0
 3920 0566 02D1     		bne	.L213
ARM GAS  /tmp/ccFjPNuy.s 			page 97


1430:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_output(prev);
 3921              		.loc 1 1430 11
 3922 0568 B86A     		ldr	r0, [r7, #40]
 3923 056a FFF7FEFF 		bl	tcp_output
 3924              	.L213:
1212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_slowtmr: processing active pcb\n"));
 3925              		.loc 1 1212 9
 3926 056e FB6A     		ldr	r3, [r7, #44]
 3927 0570 002B     		cmp	r3, #0
 3928 0572 7FF45CAD 		bne	.L254
1431:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1432:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1433:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1434:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1435:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1436:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1437:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Steps through all of the TIME-WAIT PCBs. */
1438:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   prev = NULL;
 3929              		.loc 1 1438 8
 3930 0576 0023     		movs	r3, #0
 3931 0578 BB62     		str	r3, [r7, #40]
1439:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_tw_pcbs;
 3932              		.loc 1 1439 7
 3933 057a 0B4B     		ldr	r3, .L266+36
 3934 057c 1B68     		ldr	r3, [r3]
 3935 057e FB62     		str	r3, [r7, #44]
1440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 3936              		.loc 1 1440 9
 3937 0580 67E0     		b	.L255
 3938              	.L267:
 3939 0582 00BF     		.align	2
 3940              	.L266:
 3941 0584 00000000 		.word	tcp_ticks
 3942 0588 D34D6210 		.word	274877907
 3943 058c F8240100 		.word	75000
 3944 0590 00000000 		.word	tcp_active_pcbs
 3945 0594 78000000 		.word	.LC11
 3946 0598 AC040000 		.word	.LC41
 3947 059c B8000000 		.word	.LC13
 3948 05a0 D8040000 		.word	.LC42
 3949 05a4 00000000 		.word	tcp_active_pcbs_changed
 3950 05a8 00000000 		.word	tcp_tw_pcbs
 3951              	.L263:
1441:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 3952              		.loc 1 1441 5
 3953 05ac FB6A     		ldr	r3, [r7, #44]
 3954 05ae 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 3955 05b0 0A2B     		cmp	r3, #10
 3956 05b2 06D0     		beq	.L256
 3957              		.loc 1 1441 5 is_stmt 0 discriminator 1
 3958 05b4 2A4B     		ldr	r3, .L268
 3959 05b6 40F2A152 		movw	r2, #1441
 3960 05ba 2A49     		ldr	r1, .L268+4
 3961 05bc 2A48     		ldr	r0, .L268+8
 3962 05be FFF7FEFF 		bl	printf
 3963              	.L256:
1442:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb_remove = 0;
ARM GAS  /tmp/ccFjPNuy.s 			page 98


 3964              		.loc 1 1442 16 is_stmt 1
 3965 05c2 0023     		movs	r3, #0
 3966 05c4 87F82730 		strb	r3, [r7, #39]
1443:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1444:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Check if this PCB has stayed long enough in TIME-WAIT */
1445:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) > 2 * TCP_MSL / TCP_SLOW_INTERVAL) {
 3967              		.loc 1 1445 27
 3968 05c8 284B     		ldr	r3, .L268+12
 3969 05ca 1A68     		ldr	r2, [r3]
 3970              		.loc 1 1445 32
 3971 05cc FB6A     		ldr	r3, [r7, #44]
 3972 05ce 1B6A     		ldr	r3, [r3, #32]
 3973              		.loc 1 1445 27
 3974 05d0 D31A     		subs	r3, r2, r3
 3975              		.loc 1 1445 8
 3976 05d2 F02B     		cmp	r3, #240
 3977 05d4 04D9     		bls	.L257
1446:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       ++pcb_remove;
 3978              		.loc 1 1446 7
 3979 05d6 97F82730 		ldrb	r3, [r7, #39]
 3980 05da 0133     		adds	r3, r3, #1
 3981 05dc 87F82730 		strb	r3, [r7, #39]
 3982              	.L257:
1447:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1448:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1449:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* If the PCB should be removed, do it. */
1450:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb_remove) {
 3983              		.loc 1 1450 8
 3984 05e0 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 3985 05e4 002B     		cmp	r3, #0
 3986 05e6 2FD0     		beq	.L258
 3987              	.LBB14:
1451:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *pcb2;
1452:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_pcb_purge(pcb);
 3988              		.loc 1 1452 7
 3989 05e8 F86A     		ldr	r0, [r7, #44]
 3990 05ea FFF7FEFF 		bl	tcp_pcb_purge
1453:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Remove PCB from tcp_tw_pcbs list. */
1454:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (prev != NULL) {
 3991              		.loc 1 1454 10
 3992 05ee BB6A     		ldr	r3, [r7, #40]
 3993 05f0 002B     		cmp	r3, #0
 3994 05f2 10D0     		beq	.L259
1455:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: middle tcp != tcp_tw_pcbs", pcb != tcp_tw_pcbs);
 3995              		.loc 1 1455 9
 3996 05f4 1E4B     		ldr	r3, .L268+16
 3997 05f6 1B68     		ldr	r3, [r3]
 3998 05f8 FA6A     		ldr	r2, [r7, #44]
 3999 05fa 9A42     		cmp	r2, r3
 4000 05fc 06D1     		bne	.L260
 4001              		.loc 1 1455 9 is_stmt 0 discriminator 1
 4002 05fe 184B     		ldr	r3, .L268
 4003 0600 40F2AF52 		movw	r2, #1455
 4004 0604 1B49     		ldr	r1, .L268+20
 4005 0606 1848     		ldr	r0, .L268+8
 4006 0608 FFF7FEFF 		bl	printf
 4007              	.L260:
ARM GAS  /tmp/ccFjPNuy.s 			page 99


1456:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         prev->next = pcb->next;
 4008              		.loc 1 1456 25 is_stmt 1
 4009 060c FB6A     		ldr	r3, [r7, #44]
 4010 060e DA68     		ldr	r2, [r3, #12]
 4011              		.loc 1 1456 20
 4012 0610 BB6A     		ldr	r3, [r7, #40]
 4013 0612 DA60     		str	r2, [r3, #12]
 4014 0614 0FE0     		b	.L261
 4015              	.L259:
1457:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       } else {
1458:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* This PCB was the first. */
1459:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_ASSERT("tcp_slowtmr: first pcb == tcp_tw_pcbs", tcp_tw_pcbs == pcb);
 4016              		.loc 1 1459 9
 4017 0616 164B     		ldr	r3, .L268+16
 4018 0618 1B68     		ldr	r3, [r3]
 4019 061a FA6A     		ldr	r2, [r7, #44]
 4020 061c 9A42     		cmp	r2, r3
 4021 061e 06D0     		beq	.L262
 4022              		.loc 1 1459 9 is_stmt 0 discriminator 1
 4023 0620 0F4B     		ldr	r3, .L268
 4024 0622 40F2B352 		movw	r2, #1459
 4025 0626 1449     		ldr	r1, .L268+24
 4026 0628 0F48     		ldr	r0, .L268+8
 4027 062a FFF7FEFF 		bl	printf
 4028              	.L262:
1460:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_tw_pcbs = pcb->next;
 4029              		.loc 1 1460 26 is_stmt 1
 4030 062e FB6A     		ldr	r3, [r7, #44]
 4031 0630 DB68     		ldr	r3, [r3, #12]
 4032              		.loc 1 1460 21
 4033 0632 0F4A     		ldr	r2, .L268+16
 4034 0634 1360     		str	r3, [r2]
 4035              	.L261:
1461:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1462:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb2 = pcb;
 4036              		.loc 1 1462 12
 4037 0636 FB6A     		ldr	r3, [r7, #44]
 4038 0638 3B60     		str	r3, [r7]
1463:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 4039              		.loc 1 1463 11
 4040 063a FB6A     		ldr	r3, [r7, #44]
 4041 063c DB68     		ldr	r3, [r3, #12]
 4042 063e FB62     		str	r3, [r7, #44]
1464:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free(pcb2);
 4043              		.loc 1 1464 7
 4044 0640 3868     		ldr	r0, [r7]
 4045 0642 FFF7FEFF 		bl	tcp_free
 4046              	.LBE14:
 4047 0646 04E0     		b	.L255
 4048              	.L258:
1465:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1466:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       prev = pcb;
 4049              		.loc 1 1466 12
 4050 0648 FB6A     		ldr	r3, [r7, #44]
 4051 064a BB62     		str	r3, [r7, #40]
1467:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 4052              		.loc 1 1467 11
ARM GAS  /tmp/ccFjPNuy.s 			page 100


 4053 064c FB6A     		ldr	r3, [r7, #44]
 4054 064e DB68     		ldr	r3, [r3, #12]
 4055 0650 FB62     		str	r3, [r7, #44]
 4056              	.L255:
1440:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("tcp_slowtmr: TIME-WAIT pcb->state == TIME-WAIT", pcb->state == TIME_WAIT);
 4057              		.loc 1 1440 9
 4058 0652 FB6A     		ldr	r3, [r7, #44]
 4059 0654 002B     		cmp	r3, #0
 4060 0656 A9D1     		bne	.L263
1468:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1469:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1470:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4061              		.loc 1 1470 1
 4062 0658 00BF     		nop
 4063 065a 3037     		adds	r7, r7, #48
 4064              	.LCFI104:
 4065              		.cfi_def_cfa_offset 16
 4066 065c BD46     		mov	sp, r7
 4067              	.LCFI105:
 4068              		.cfi_def_cfa_register 13
 4069              		@ sp needed
 4070 065e B0BD     		pop	{r4, r5, r7, pc}
 4071              	.L269:
 4072              		.align	2
 4073              	.L268:
 4074 0660 78000000 		.word	.LC11
 4075 0664 04050000 		.word	.LC43
 4076 0668 B8000000 		.word	.LC13
 4077 066c 00000000 		.word	tcp_ticks
 4078 0670 00000000 		.word	tcp_tw_pcbs
 4079 0674 34050000 		.word	.LC44
 4080 0678 5C050000 		.word	.LC45
 4081              		.cfi_endproc
 4082              	.LFE154:
 4084              		.section	.text.tcp_fasttmr,"ax",%progbits
 4085              		.align	1
 4086              		.global	tcp_fasttmr
 4087              		.syntax unified
 4088              		.thumb
 4089              		.thumb_func
 4090              		.fpu fpv4-sp-d16
 4092              	tcp_fasttmr:
 4093              	.LFB155:
1471:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1472:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1473:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Is called every TCP_FAST_INTERVAL (250 ms) and process data previously
1474:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * "refused" by upper layer (application) and sends delayed ACKs or pending FINs.
1475:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1476:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Automatically called from tcp_tmr().
1477:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1478:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1479:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_fasttmr(void)
1480:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4094              		.loc 1 1480 1
 4095              		.cfi_startproc
 4096              		@ args = 0, pretend = 0, frame = 8
 4097              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccFjPNuy.s 			page 101


 4098 0000 80B5     		push	{r7, lr}
 4099              	.LCFI106:
 4100              		.cfi_def_cfa_offset 8
 4101              		.cfi_offset 7, -8
 4102              		.cfi_offset 14, -4
 4103 0002 82B0     		sub	sp, sp, #8
 4104              	.LCFI107:
 4105              		.cfi_def_cfa_offset 16
 4106 0004 00AF     		add	r7, sp, #0
 4107              	.LCFI108:
 4108              		.cfi_def_cfa_register 7
1481:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1482:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1483:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   ++tcp_timer_ctr;
 4109              		.loc 1 1483 3
 4110 0006 2D4B     		ldr	r3, .L278
 4111 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4112 000a 0133     		adds	r3, r3, #1
 4113 000c DAB2     		uxtb	r2, r3
 4114 000e 2B4B     		ldr	r3, .L278
 4115 0010 1A70     		strb	r2, [r3]
 4116              	.L271:
1484:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1485:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_fasttmr_start:
1486:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_active_pcbs;
 4117              		.loc 1 1486 7
 4118 0012 2B4B     		ldr	r3, .L278+4
 4119 0014 1B68     		ldr	r3, [r3]
 4120 0016 7B60     		str	r3, [r7, #4]
1487:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 4121              		.loc 1 1488 9
 4122 0018 48E0     		b	.L272
 4123              	.L277:
1489:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
 4124              		.loc 1 1489 12
 4125 001a 7B68     		ldr	r3, [r7, #4]
 4126 001c 9A7F     		ldrb	r2, [r3, #30]	@ zero_extendqisi2
 4127              		.loc 1 1489 25
 4128 001e 274B     		ldr	r3, .L278
 4129 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4130              		.loc 1 1489 8
 4131 0022 9A42     		cmp	r2, r3
 4132 0024 3FD0     		beq	.L273
 4133              	.LBB15:
1490:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next;
1491:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->last_timer = tcp_timer_ctr;
 4134              		.loc 1 1491 23
 4135 0026 254B     		ldr	r3, .L278
 4136 0028 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4137 002a 7B68     		ldr	r3, [r7, #4]
 4138 002c 9A77     		strb	r2, [r3, #30]
1492:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* send delayed ACKs */
1493:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_ACK_DELAY) {
 4139              		.loc 1 1493 14
 4140 002e 7B68     		ldr	r3, [r7, #4]
 4141 0030 5B8B     		ldrh	r3, [r3, #26]
ARM GAS  /tmp/ccFjPNuy.s 			page 102


 4142              		.loc 1 1493 22
 4143 0032 03F00103 		and	r3, r3, #1
 4144              		.loc 1 1493 10
 4145 0036 002B     		cmp	r3, #0
 4146 0038 10D0     		beq	.L274
1494:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: delayed ACK\n"));
1495:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_ack_now(pcb);
 4147              		.loc 1 1495 9
 4148 003a 7B68     		ldr	r3, [r7, #4]
 4149 003c 5B8B     		ldrh	r3, [r3, #26]
 4150 003e 43F00203 		orr	r3, r3, #2
 4151 0042 9AB2     		uxth	r2, r3
 4152 0044 7B68     		ldr	r3, [r7, #4]
 4153 0046 5A83     		strh	r2, [r3, #26]	@ movhi
1496:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_output(pcb);
 4154              		.loc 1 1496 9
 4155 0048 7868     		ldr	r0, [r7, #4]
 4156 004a FFF7FEFF 		bl	tcp_output
1497:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_clear_flags(pcb, TF_ACK_DELAY | TF_ACK_NOW);
 4157              		.loc 1 1497 9
 4158 004e 7B68     		ldr	r3, [r7, #4]
 4159 0050 5B8B     		ldrh	r3, [r3, #26]
 4160 0052 23F00303 		bic	r3, r3, #3
 4161 0056 9AB2     		uxth	r2, r3
 4162 0058 7B68     		ldr	r3, [r7, #4]
 4163 005a 5A83     		strh	r2, [r3, #26]	@ movhi
 4164              	.L274:
1498:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1499:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* send pending FIN */
1500:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->flags & TF_CLOSEPEND) {
 4165              		.loc 1 1500 14
 4166 005c 7B68     		ldr	r3, [r7, #4]
 4167 005e 5B8B     		ldrh	r3, [r3, #26]
 4168              		.loc 1 1500 22
 4169 0060 03F00803 		and	r3, r3, #8
 4170              		.loc 1 1500 10
 4171 0064 002B     		cmp	r3, #0
 4172 0066 09D0     		beq	.L275
1501:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_fasttmr: pending FIN\n"));
1502:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_clear_flags(pcb, TF_CLOSEPEND);
 4173              		.loc 1 1502 9
 4174 0068 7B68     		ldr	r3, [r7, #4]
 4175 006a 5B8B     		ldrh	r3, [r3, #26]
 4176 006c 23F00803 		bic	r3, r3, #8
 4177 0070 9AB2     		uxth	r2, r3
 4178 0072 7B68     		ldr	r3, [r7, #4]
 4179 0074 5A83     		strh	r2, [r3, #26]	@ movhi
1503:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_close_shutdown_fin(pcb);
 4180              		.loc 1 1503 9
 4181 0076 7868     		ldr	r0, [r7, #4]
 4182 0078 FFF7FEFF 		bl	tcp_close_shutdown_fin
 4183              	.L275:
1504:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1505:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1506:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       next = pcb->next;
 4184              		.loc 1 1506 12
 4185 007c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccFjPNuy.s 			page 103


 4186 007e DB68     		ldr	r3, [r3, #12]
 4187 0080 3B60     		str	r3, [r7]
1507:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1508:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* If there is data which was previously "refused" by upper layer */
1509:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb->refused_data != NULL) {
 4188              		.loc 1 1509 14
 4189 0082 7B68     		ldr	r3, [r7, #4]
 4190 0084 9B6F     		ldr	r3, [r3, #120]
 4191              		.loc 1 1509 10
 4192 0086 002B     		cmp	r3, #0
 4193 0088 0AD0     		beq	.L276
1510:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_active_pcbs_changed = 0;
 4194              		.loc 1 1510 33
 4195 008a 0E4B     		ldr	r3, .L278+8
 4196 008c 0022     		movs	r2, #0
 4197 008e 1A70     		strb	r2, [r3]
1511:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_process_refused_data(pcb);
 4198              		.loc 1 1511 9
 4199 0090 7868     		ldr	r0, [r7, #4]
 4200 0092 FFF7FEFF 		bl	tcp_process_refused_data
1512:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (tcp_active_pcbs_changed) {
 4201              		.loc 1 1512 13
 4202 0096 0B4B     		ldr	r3, .L278+8
 4203 0098 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4204              		.loc 1 1512 12
 4205 009a 002B     		cmp	r3, #0
 4206 009c 00D0     		beq	.L276
1513:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* application callback has changed the pcb list: restart the loop */
1514:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           goto tcp_fasttmr_start;
 4207              		.loc 1 1514 11
 4208 009e B8E7     		b	.L271
 4209              	.L276:
1515:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1516:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1517:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = next;
 4210              		.loc 1 1517 11
 4211 00a0 3B68     		ldr	r3, [r7]
 4212 00a2 7B60     		str	r3, [r7, #4]
 4213              	.LBE15:
 4214 00a4 02E0     		b	.L272
 4215              	.L273:
1518:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1519:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 4216              		.loc 1 1519 11
 4217 00a6 7B68     		ldr	r3, [r7, #4]
 4218 00a8 DB68     		ldr	r3, [r3, #12]
 4219 00aa 7B60     		str	r3, [r7, #4]
 4220              	.L272:
1488:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->last_timer != tcp_timer_ctr) {
 4221              		.loc 1 1488 9
 4222 00ac 7B68     		ldr	r3, [r7, #4]
 4223 00ae 002B     		cmp	r3, #0
 4224 00b0 B3D1     		bne	.L277
1520:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1521:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1522:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4225              		.loc 1 1522 1
ARM GAS  /tmp/ccFjPNuy.s 			page 104


 4226 00b2 00BF     		nop
 4227 00b4 0837     		adds	r7, r7, #8
 4228              	.LCFI109:
 4229              		.cfi_def_cfa_offset 8
 4230 00b6 BD46     		mov	sp, r7
 4231              	.LCFI110:
 4232              		.cfi_def_cfa_register 13
 4233              		@ sp needed
 4234 00b8 80BD     		pop	{r7, pc}
 4235              	.L279:
 4236 00ba 00BF     		.align	2
 4237              	.L278:
 4238 00bc 00000000 		.word	tcp_timer_ctr
 4239 00c0 00000000 		.word	tcp_active_pcbs
 4240 00c4 00000000 		.word	tcp_active_pcbs_changed
 4241              		.cfi_endproc
 4242              	.LFE155:
 4244              		.section	.text.tcp_txnow,"ax",%progbits
 4245              		.align	1
 4246              		.global	tcp_txnow
 4247              		.syntax unified
 4248              		.thumb
 4249              		.thumb_func
 4250              		.fpu fpv4-sp-d16
 4252              	tcp_txnow:
 4253              	.LFB156:
1523:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1524:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Call tcp_output for all active pcbs that have TF_NAGLEMEMERR set */
1525:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1526:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_txnow(void)
1527:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4254              		.loc 1 1527 1
 4255              		.cfi_startproc
 4256              		@ args = 0, pretend = 0, frame = 8
 4257              		@ frame_needed = 1, uses_anonymous_args = 0
 4258 0000 80B5     		push	{r7, lr}
 4259              	.LCFI111:
 4260              		.cfi_def_cfa_offset 8
 4261              		.cfi_offset 7, -8
 4262              		.cfi_offset 14, -4
 4263 0002 82B0     		sub	sp, sp, #8
 4264              	.LCFI112:
 4265              		.cfi_def_cfa_offset 16
 4266 0004 00AF     		add	r7, sp, #0
 4267              	.LCFI113:
 4268              		.cfi_def_cfa_register 7
1528:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1529:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 4269              		.loc 1 1530 12
 4270 0006 0B4B     		ldr	r3, .L284
 4271 0008 1B68     		ldr	r3, [r3]
 4272 000a 7B60     		str	r3, [r7, #4]
 4273              		.loc 1 1530 3
 4274 000c 0BE0     		b	.L281
 4275              	.L283:
1531:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
ARM GAS  /tmp/ccFjPNuy.s 			page 105


 4276              		.loc 1 1531 12
 4277 000e 7B68     		ldr	r3, [r7, #4]
 4278 0010 5B8B     		ldrh	r3, [r3, #26]
 4279              		.loc 1 1531 20
 4280 0012 03F08003 		and	r3, r3, #128
 4281              		.loc 1 1531 8
 4282 0016 002B     		cmp	r3, #0
 4283 0018 02D0     		beq	.L282
1532:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_output(pcb);
 4284              		.loc 1 1532 7
 4285 001a 7868     		ldr	r0, [r7, #4]
 4286 001c FFF7FEFF 		bl	tcp_output
 4287              	.L282:
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
 4288              		.loc 1 1530 48 discriminator 2
 4289 0020 7B68     		ldr	r3, [r7, #4]
 4290 0022 DB68     		ldr	r3, [r3, #12]
 4291 0024 7B60     		str	r3, [r7, #4]
 4292              	.L281:
1530:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_NAGLEMEMERR) {
 4293              		.loc 1 1530 3 discriminator 1
 4294 0026 7B68     		ldr	r3, [r7, #4]
 4295 0028 002B     		cmp	r3, #0
 4296 002a F0D1     		bne	.L283
1533:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1534:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1535:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4297              		.loc 1 1535 1
 4298 002c 00BF     		nop
 4299 002e 0837     		adds	r7, r7, #8
 4300              	.LCFI114:
 4301              		.cfi_def_cfa_offset 8
 4302 0030 BD46     		mov	sp, r7
 4303              	.LCFI115:
 4304              		.cfi_def_cfa_register 13
 4305              		@ sp needed
 4306 0032 80BD     		pop	{r7, pc}
 4307              	.L285:
 4308              		.align	2
 4309              	.L284:
 4310 0034 00000000 		.word	tcp_active_pcbs
 4311              		.cfi_endproc
 4312              	.LFE156:
 4314              		.section	.rodata
 4315 0582 0000     		.align	2
 4316              	.LC46:
 4317 0584 7463705F 		.ascii	"tcp_process_refused_data: invalid pcb\000"
 4317      70726F63 
 4317      6573735F 
 4317      72656675 
 4317      7365645F 
 4318              		.section	.text.tcp_process_refused_data,"ax",%progbits
 4319              		.align	1
 4320              		.global	tcp_process_refused_data
 4321              		.syntax unified
 4322              		.thumb
 4323              		.thumb_func
ARM GAS  /tmp/ccFjPNuy.s 			page 106


 4324              		.fpu fpv4-sp-d16
 4326              	tcp_process_refused_data:
 4327              	.LFB157:
1536:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1537:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Pass pcb->refused_data to the recv callback */
1538:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1539:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_process_refused_data(struct tcp_pcb *pcb)
1540:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4328              		.loc 1 1540 1
 4329              		.cfi_startproc
 4330              		@ args = 0, pretend = 0, frame = 16
 4331              		@ frame_needed = 1, uses_anonymous_args = 0
 4332 0000 90B5     		push	{r4, r7, lr}
 4333              	.LCFI116:
 4334              		.cfi_def_cfa_offset 12
 4335              		.cfi_offset 4, -12
 4336              		.cfi_offset 7, -8
 4337              		.cfi_offset 14, -4
 4338 0002 85B0     		sub	sp, sp, #20
 4339              	.LCFI117:
 4340              		.cfi_def_cfa_offset 32
 4341 0004 00AF     		add	r7, sp, #0
 4342              	.LCFI118:
 4343              		.cfi_def_cfa_register 7
 4344 0006 7860     		str	r0, [r7, #4]
1541:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1542:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct pbuf *rest;
1543:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1544:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1545:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_process_refused_data: invalid pcb", pcb != NULL, return ERR_ARG);
 4345              		.loc 1 1545 3
 4346 0008 7B68     		ldr	r3, [r7, #4]
 4347 000a 002B     		cmp	r3, #0
 4348 000c 09D1     		bne	.L287
 4349              		.loc 1 1545 3 is_stmt 0 discriminator 1
 4350 000e 374B     		ldr	r3, .L297
 4351 0010 40F20962 		movw	r2, #1545
 4352 0014 3649     		ldr	r1, .L297+4
 4353 0016 3748     		ldr	r0, .L297+8
 4354 0018 FFF7FEFF 		bl	printf
 4355 001c 6FF00F03 		mvn	r3, #15
 4356 0020 60E0     		b	.L288
 4357              	.L287:
 4358              	.LBB16:
1546:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1547:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1548:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb->refused_data != NULL)
1549:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1550:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
1551:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     err_t err;
1552:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u8_t refused_flags = pcb->refused_data->flags;
 4359              		.loc 1 1552 29 is_stmt 1
 4360 0022 7B68     		ldr	r3, [r7, #4]
 4361 0024 9B6F     		ldr	r3, [r3, #120]
 4362              		.loc 1 1552 10
 4363 0026 5B7B     		ldrb	r3, [r3, #13]
 4364 0028 BB73     		strb	r3, [r7, #14]
ARM GAS  /tmp/ccFjPNuy.s 			page 107


1553:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* set pcb->refused_data to NULL in case the callback frees it and then
1554:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        closes the pcb */
1555:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct pbuf *refused_data = pcb->refused_data;
 4365              		.loc 1 1555 18
 4366 002a 7B68     		ldr	r3, [r7, #4]
 4367 002c 9B6F     		ldr	r3, [r3, #120]
 4368 002e BB60     		str	r3, [r7, #8]
1556:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1557:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_split_64k(refused_data, &rest);
1558:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->refused_data = rest;
1559:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1560:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->refused_data = NULL;
 4369              		.loc 1 1560 23
 4370 0030 7B68     		ldr	r3, [r7, #4]
 4371 0032 0022     		movs	r2, #0
 4372 0034 9A67     		str	r2, [r3, #120]
1561:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1562:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Notify again application with data previously received. */
1563:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: notify kept packet\n"));
1564:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     TCP_EVENT_RECV(pcb, refused_data, ERR_OK, err);
 4373              		.loc 1 1564 5
 4374 0036 7B68     		ldr	r3, [r7, #4]
 4375 0038 D3F88430 		ldr	r3, [r3, #132]
 4376 003c 002B     		cmp	r3, #0
 4377 003e 0BD0     		beq	.L289
 4378              		.loc 1 1564 5 is_stmt 0 discriminator 1
 4379 0040 7B68     		ldr	r3, [r7, #4]
 4380 0042 D3F88440 		ldr	r4, [r3, #132]
 4381 0046 7B68     		ldr	r3, [r7, #4]
 4382 0048 1869     		ldr	r0, [r3, #16]
 4383 004a 0023     		movs	r3, #0
 4384 004c BA68     		ldr	r2, [r7, #8]
 4385 004e 7968     		ldr	r1, [r7, #4]
 4386 0050 A047     		blx	r4
 4387              	.LVL3:
 4388 0052 0346     		mov	r3, r0
 4389 0054 FB73     		strb	r3, [r7, #15]
 4390 0056 07E0     		b	.L290
 4391              	.L289:
 4392              		.loc 1 1564 5 discriminator 2
 4393 0058 0023     		movs	r3, #0
 4394 005a BA68     		ldr	r2, [r7, #8]
 4395 005c 7968     		ldr	r1, [r7, #4]
 4396 005e 0020     		movs	r0, #0
 4397 0060 FFF7FEFF 		bl	tcp_recv_null
 4398 0064 0346     		mov	r3, r0
 4399 0066 FB73     		strb	r3, [r7, #15]
 4400              	.L290:
1565:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (err == ERR_OK) {
 4401              		.loc 1 1565 8 is_stmt 1
 4402 0068 97F90F30 		ldrsb	r3, [r7, #15]
 4403 006c 002B     		cmp	r3, #0
 4404 006e 2AD1     		bne	.L291
1566:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* did refused_data include a FIN? */
1567:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((refused_flags & PBUF_FLAG_TCP_FIN)
 4405              		.loc 1 1567 26
 4406 0070 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
ARM GAS  /tmp/ccFjPNuy.s 			page 108


 4407 0072 03F02003 		and	r3, r3, #32
 4408              		.loc 1 1567 10
 4409 0076 002B     		cmp	r3, #0
 4410 0078 33D0     		beq	.L292
1568:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1569:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           && (rest == NULL)
1570:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1571:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          ) {
1572:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* correct rcv_wnd as the application won't call tcp_recved()
1573:Middlewares/Third_Party/LwIP/src/core/tcp.c ****            for the FIN's seqno */
1574:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb->rcv_wnd != TCP_WND_MAX(pcb)) {
 4411              		.loc 1 1574 16
 4412 007a 7B68     		ldr	r3, [r7, #4]
 4413 007c 1B8D     		ldrh	r3, [r3, #40]
 4414              		.loc 1 1574 12
 4415 007e B3F5066F 		cmp	r3, #2144
 4416 0082 05D0     		beq	.L293
1575:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb->rcv_wnd++;
 4417              		.loc 1 1575 14
 4418 0084 7B68     		ldr	r3, [r7, #4]
 4419 0086 1B8D     		ldrh	r3, [r3, #40]
 4420              		.loc 1 1575 23
 4421 0088 0133     		adds	r3, r3, #1
 4422 008a 9AB2     		uxth	r2, r3
 4423 008c 7B68     		ldr	r3, [r7, #4]
 4424 008e 1A85     		strh	r2, [r3, #40]	@ movhi
 4425              	.L293:
1576:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1577:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         TCP_EVENT_CLOSED(pcb, err);
 4426              		.loc 1 1577 9
 4427 0090 7B68     		ldr	r3, [r7, #4]
 4428 0092 D3F88430 		ldr	r3, [r3, #132]
 4429 0096 002B     		cmp	r3, #0
 4430 0098 0BD0     		beq	.L294
 4431              		.loc 1 1577 9 is_stmt 0 discriminator 1
 4432 009a 7B68     		ldr	r3, [r7, #4]
 4433 009c D3F88440 		ldr	r4, [r3, #132]
 4434 00a0 7B68     		ldr	r3, [r7, #4]
 4435 00a2 1869     		ldr	r0, [r3, #16]
 4436 00a4 0023     		movs	r3, #0
 4437 00a6 0022     		movs	r2, #0
 4438 00a8 7968     		ldr	r1, [r7, #4]
 4439 00aa A047     		blx	r4
 4440              	.LVL4:
 4441 00ac 0346     		mov	r3, r0
 4442 00ae FB73     		strb	r3, [r7, #15]
 4443 00b0 01E0     		b	.L295
 4444              	.L294:
 4445              		.loc 1 1577 9 discriminator 2
 4446 00b2 0023     		movs	r3, #0
 4447 00b4 FB73     		strb	r3, [r7, #15]
 4448              	.L295:
1578:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (err == ERR_ABRT) {
 4449              		.loc 1 1578 12 is_stmt 1
 4450 00b6 97F90F30 		ldrsb	r3, [r7, #15]
 4451 00ba 13F10D0F 		cmn	r3, #13
 4452 00be 10D1     		bne	.L292
ARM GAS  /tmp/ccFjPNuy.s 			page 109


1579:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           return ERR_ABRT;
 4453              		.loc 1 1579 18
 4454 00c0 6FF00C03 		mvn	r3, #12
 4455 00c4 0EE0     		b	.L288
 4456              	.L291:
1580:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1581:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1582:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else if (err == ERR_ABRT) {
 4457              		.loc 1 1582 15
 4458 00c6 97F90F30 		ldrsb	r3, [r7, #15]
 4459 00ca 13F10D0F 		cmn	r3, #13
 4460 00ce 02D1     		bne	.L296
1583:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* if err == ERR_ABRT, 'pcb' is already deallocated */
1584:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Drop incoming packets because pcb is "full" (only if the incoming
1585:Middlewares/Third_Party/LwIP/src/core/tcp.c ****          segment contains data). */
1586:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_INPUT_DEBUG, ("tcp_input: drop incoming packets, because pcb is \"full\"\n"))
1587:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_ABRT;
 4461              		.loc 1 1587 14
 4462 00d0 6FF00C03 		mvn	r3, #12
 4463 00d4 06E0     		b	.L288
 4464              	.L296:
1588:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
1589:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* data is still refused, pbuf is still valid (go on for ACK-only packets) */
1590:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1591:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (rest != NULL) {
1592:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pbuf_cat(refused_data, rest);
1593:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1594:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1595:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = refused_data;
 4465              		.loc 1 1595 25
 4466 00d6 7B68     		ldr	r3, [r7, #4]
 4467 00d8 BA68     		ldr	r2, [r7, #8]
 4468 00da 9A67     		str	r2, [r3, #120]
1596:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return ERR_INPROGRESS;
 4469              		.loc 1 1596 14
 4470 00dc 6FF00403 		mvn	r3, #4
 4471 00e0 00E0     		b	.L288
 4472              	.L292:
 4473              	.LBE16:
1597:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1598:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1599:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 4474              		.loc 1 1599 10
 4475 00e2 0023     		movs	r3, #0
 4476              	.L288:
1600:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4477              		.loc 1 1600 1
 4478 00e4 1846     		mov	r0, r3
 4479 00e6 1437     		adds	r7, r7, #20
 4480              	.LCFI119:
 4481              		.cfi_def_cfa_offset 12
 4482 00e8 BD46     		mov	sp, r7
 4483              	.LCFI120:
 4484              		.cfi_def_cfa_register 13
 4485              		@ sp needed
 4486 00ea 90BD     		pop	{r4, r7, pc}
 4487              	.L298:
ARM GAS  /tmp/ccFjPNuy.s 			page 110


 4488              		.align	2
 4489              	.L297:
 4490 00ec 78000000 		.word	.LC11
 4491 00f0 84050000 		.word	.LC46
 4492 00f4 B8000000 		.word	.LC13
 4493              		.cfi_endproc
 4494              	.LFE157:
 4496              		.section	.text.tcp_segs_free,"ax",%progbits
 4497              		.align	1
 4498              		.global	tcp_segs_free
 4499              		.syntax unified
 4500              		.thumb
 4501              		.thumb_func
 4502              		.fpu fpv4-sp-d16
 4504              	tcp_segs_free:
 4505              	.LFB158:
1601:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1602:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1603:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Deallocates a list of TCP segments (tcp_seg structures).
1604:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1605:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg tcp_seg list of TCP segments to free
1606:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1607:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1608:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_segs_free(struct tcp_seg *seg)
1609:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4506              		.loc 1 1609 1
 4507              		.cfi_startproc
 4508              		@ args = 0, pretend = 0, frame = 16
 4509              		@ frame_needed = 1, uses_anonymous_args = 0
 4510 0000 80B5     		push	{r7, lr}
 4511              	.LCFI121:
 4512              		.cfi_def_cfa_offset 8
 4513              		.cfi_offset 7, -8
 4514              		.cfi_offset 14, -4
 4515 0002 84B0     		sub	sp, sp, #16
 4516              	.LCFI122:
 4517              		.cfi_def_cfa_offset 24
 4518 0004 00AF     		add	r7, sp, #0
 4519              	.LCFI123:
 4520              		.cfi_def_cfa_register 7
 4521 0006 7860     		str	r0, [r7, #4]
1610:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (seg != NULL) {
 4522              		.loc 1 1610 9
 4523 0008 07E0     		b	.L300
 4524              	.L301:
 4525              	.LBB17:
1611:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
 4526              		.loc 1 1611 21
 4527 000a 7B68     		ldr	r3, [r7, #4]
 4528 000c 1B68     		ldr	r3, [r3]
 4529 000e FB60     		str	r3, [r7, #12]
1612:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_seg_free(seg);
 4530              		.loc 1 1612 5
 4531 0010 7868     		ldr	r0, [r7, #4]
 4532 0012 FFF7FEFF 		bl	tcp_seg_free
1613:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     seg = next;
 4533              		.loc 1 1613 9
ARM GAS  /tmp/ccFjPNuy.s 			page 111


 4534 0016 FB68     		ldr	r3, [r7, #12]
 4535 0018 7B60     		str	r3, [r7, #4]
 4536              	.L300:
 4537              	.LBE17:
1610:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_seg *next = seg->next;
 4538              		.loc 1 1610 9
 4539 001a 7B68     		ldr	r3, [r7, #4]
 4540 001c 002B     		cmp	r3, #0
 4541 001e F4D1     		bne	.L301
1614:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1615:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4542              		.loc 1 1615 1
 4543 0020 00BF     		nop
 4544 0022 1037     		adds	r7, r7, #16
 4545              	.LCFI124:
 4546              		.cfi_def_cfa_offset 8
 4547 0024 BD46     		mov	sp, r7
 4548              	.LCFI125:
 4549              		.cfi_def_cfa_register 13
 4550              		@ sp needed
 4551 0026 80BD     		pop	{r7, pc}
 4552              		.cfi_endproc
 4553              	.LFE158:
 4555              		.section	.text.tcp_seg_free,"ax",%progbits
 4556              		.align	1
 4557              		.global	tcp_seg_free
 4558              		.syntax unified
 4559              		.thumb
 4560              		.thumb_func
 4561              		.fpu fpv4-sp-d16
 4563              	tcp_seg_free:
 4564              	.LFB159:
1616:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1617:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1618:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Frees a TCP segment (tcp_seg structure).
1619:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1620:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg single tcp_seg to free
1621:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1622:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1623:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_seg_free(struct tcp_seg *seg)
1624:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4565              		.loc 1 1624 1
 4566              		.cfi_startproc
 4567              		@ args = 0, pretend = 0, frame = 8
 4568              		@ frame_needed = 1, uses_anonymous_args = 0
 4569 0000 80B5     		push	{r7, lr}
 4570              	.LCFI126:
 4571              		.cfi_def_cfa_offset 8
 4572              		.cfi_offset 7, -8
 4573              		.cfi_offset 14, -4
 4574 0002 82B0     		sub	sp, sp, #8
 4575              	.LCFI127:
 4576              		.cfi_def_cfa_offset 16
 4577 0004 00AF     		add	r7, sp, #0
 4578              	.LCFI128:
 4579              		.cfi_def_cfa_register 7
 4580 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccFjPNuy.s 			page 112


1625:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (seg != NULL) {
 4581              		.loc 1 1625 6
 4582 0008 7B68     		ldr	r3, [r7, #4]
 4583 000a 002B     		cmp	r3, #0
 4584 000c 0CD0     		beq	.L305
1626:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (seg->p != NULL) {
 4585              		.loc 1 1626 12
 4586 000e 7B68     		ldr	r3, [r7, #4]
 4587 0010 5B68     		ldr	r3, [r3, #4]
 4588              		.loc 1 1626 8
 4589 0012 002B     		cmp	r3, #0
 4590 0014 04D0     		beq	.L304
1627:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(seg->p);
 4591              		.loc 1 1627 7
 4592 0016 7B68     		ldr	r3, [r7, #4]
 4593 0018 5B68     		ldr	r3, [r3, #4]
 4594 001a 1846     		mov	r0, r3
 4595 001c FFF7FEFF 		bl	pbuf_free
 4596              	.L304:
1628:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_DEBUG
1629:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       seg->p = NULL;
1630:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_DEBUG */
1631:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1632:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memp_free(MEMP_TCP_SEG, seg);
 4597              		.loc 1 1632 5
 4598 0020 7968     		ldr	r1, [r7, #4]
 4599 0022 0320     		movs	r0, #3
 4600 0024 FFF7FEFF 		bl	memp_free
 4601              	.L305:
1633:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1634:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4602              		.loc 1 1634 1
 4603 0028 00BF     		nop
 4604 002a 0837     		adds	r7, r7, #8
 4605              	.LCFI129:
 4606              		.cfi_def_cfa_offset 8
 4607 002c BD46     		mov	sp, r7
 4608              	.LCFI130:
 4609              		.cfi_def_cfa_register 13
 4610              		@ sp needed
 4611 002e 80BD     		pop	{r7, pc}
 4612              		.cfi_endproc
 4613              	.LFE159:
 4615              		.section	.rodata
 4616 05aa 0000     		.align	2
 4617              	.LC47:
 4618 05ac 7463705F 		.ascii	"tcp_setprio: invalid pcb\000"
 4618      73657470 
 4618      72696F3A 
 4618      20696E76 
 4618      616C6964 
 4619              		.section	.text.tcp_setprio,"ax",%progbits
 4620              		.align	1
 4621              		.global	tcp_setprio
 4622              		.syntax unified
 4623              		.thumb
 4624              		.thumb_func
ARM GAS  /tmp/ccFjPNuy.s 			page 113


 4625              		.fpu fpv4-sp-d16
 4627              	tcp_setprio:
 4628              	.LFB160:
1635:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1636:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1637:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp
1638:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Sets the priority of a connection.
1639:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1640:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb the tcp_pcb to manipulate
1641:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio new priority
1642:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1643:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1644:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_setprio(struct tcp_pcb *pcb, u8_t prio)
1645:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4629              		.loc 1 1645 1
 4630              		.cfi_startproc
 4631              		@ args = 0, pretend = 0, frame = 8
 4632              		@ frame_needed = 1, uses_anonymous_args = 0
 4633 0000 80B5     		push	{r7, lr}
 4634              	.LCFI131:
 4635              		.cfi_def_cfa_offset 8
 4636              		.cfi_offset 7, -8
 4637              		.cfi_offset 14, -4
 4638 0002 82B0     		sub	sp, sp, #8
 4639              	.LCFI132:
 4640              		.cfi_def_cfa_offset 16
 4641 0004 00AF     		add	r7, sp, #0
 4642              	.LCFI133:
 4643              		.cfi_def_cfa_register 7
 4644 0006 7860     		str	r0, [r7, #4]
 4645 0008 0B46     		mov	r3, r1
 4646 000a FB70     		strb	r3, [r7, #3]
1646:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
1647:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1648:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_setprio: invalid pcb", pcb != NULL, return);
 4647              		.loc 1 1648 3
 4648 000c 7B68     		ldr	r3, [r7, #4]
 4649 000e 002B     		cmp	r3, #0
 4650 0010 07D1     		bne	.L307
 4651              		.loc 1 1648 3 is_stmt 0 discriminator 1
 4652 0012 074B     		ldr	r3, .L309
 4653 0014 4FF4CE62 		mov	r2, #1648
 4654 0018 0649     		ldr	r1, .L309+4
 4655 001a 0748     		ldr	r0, .L309+8
 4656 001c FFF7FEFF 		bl	printf
 4657 0020 02E0     		b	.L306
 4658              	.L307:
1649:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1650:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->prio = prio;
 4659              		.loc 1 1650 13 is_stmt 1
 4660 0022 7B68     		ldr	r3, [r7, #4]
 4661 0024 FA78     		ldrb	r2, [r7, #3]
 4662 0026 5A75     		strb	r2, [r3, #21]
 4663              	.L306:
1651:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4664              		.loc 1 1651 1
 4665 0028 0837     		adds	r7, r7, #8
ARM GAS  /tmp/ccFjPNuy.s 			page 114


 4666              	.LCFI134:
 4667              		.cfi_def_cfa_offset 8
 4668 002a BD46     		mov	sp, r7
 4669              	.LCFI135:
 4670              		.cfi_def_cfa_register 13
 4671              		@ sp needed
 4672 002c 80BD     		pop	{r7, pc}
 4673              	.L310:
 4674 002e 00BF     		.align	2
 4675              	.L309:
 4676 0030 78000000 		.word	.LC11
 4677 0034 AC050000 		.word	.LC47
 4678 0038 B8000000 		.word	.LC13
 4679              		.cfi_endproc
 4680              	.LFE160:
 4682              		.section	.rodata
 4683 05c5 000000   		.align	2
 4684              	.LC48:
 4685 05c8 7463705F 		.ascii	"tcp_seg_copy: invalid seg\000"
 4685      7365675F 
 4685      636F7079 
 4685      3A20696E 
 4685      76616C69 
 4686              		.section	.text.tcp_seg_copy,"ax",%progbits
 4687              		.align	1
 4688              		.global	tcp_seg_copy
 4689              		.syntax unified
 4690              		.thumb
 4691              		.thumb_func
 4692              		.fpu fpv4-sp-d16
 4694              	tcp_seg_copy:
 4695              	.LFB161:
1652:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1653:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
1654:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1655:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Returns a copy of the given TCP segment.
1656:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pbuf and data are not copied, only the pointers
1657:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1658:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param seg the old tcp_seg
1659:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a copy of seg
1660:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1661:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_seg *
1662:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_seg_copy(struct tcp_seg *seg)
1663:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4696              		.loc 1 1663 1
 4697              		.cfi_startproc
 4698              		@ args = 0, pretend = 0, frame = 16
 4699              		@ frame_needed = 1, uses_anonymous_args = 0
 4700 0000 80B5     		push	{r7, lr}
 4701              	.LCFI136:
 4702              		.cfi_def_cfa_offset 8
 4703              		.cfi_offset 7, -8
 4704              		.cfi_offset 14, -4
 4705 0002 84B0     		sub	sp, sp, #16
 4706              	.LCFI137:
 4707              		.cfi_def_cfa_offset 24
 4708 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccFjPNuy.s 			page 115


 4709              	.LCFI138:
 4710              		.cfi_def_cfa_register 7
 4711 0006 7860     		str	r0, [r7, #4]
1664:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_seg *cseg;
1665:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1666:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_seg_copy: invalid seg", seg != NULL);
 4712              		.loc 1 1666 3
 4713 0008 7B68     		ldr	r3, [r7, #4]
 4714 000a 002B     		cmp	r3, #0
 4715 000c 06D1     		bne	.L312
 4716              		.loc 1 1666 3 is_stmt 0 discriminator 1
 4717 000e 0F4B     		ldr	r3, .L315
 4718 0010 40F28262 		movw	r2, #1666
 4719 0014 0E49     		ldr	r1, .L315+4
 4720 0016 0F48     		ldr	r0, .L315+8
 4721 0018 FFF7FEFF 		bl	printf
 4722              	.L312:
1667:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1668:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   cseg = (struct tcp_seg *)memp_malloc(MEMP_TCP_SEG);
 4723              		.loc 1 1668 28 is_stmt 1
 4724 001c 0320     		movs	r0, #3
 4725 001e FFF7FEFF 		bl	memp_malloc
 4726 0022 F860     		str	r0, [r7, #12]
1669:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (cseg == NULL) {
 4727              		.loc 1 1669 6
 4728 0024 FB68     		ldr	r3, [r7, #12]
 4729 0026 002B     		cmp	r3, #0
 4730 0028 01D1     		bne	.L313
1670:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return NULL;
 4731              		.loc 1 1670 12
 4732 002a 0023     		movs	r3, #0
 4733 002c 0AE0     		b	.L314
 4734              	.L313:
1671:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1672:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   SMEMCPY((u8_t *)cseg, (const u8_t *)seg, sizeof(struct tcp_seg));
 4735              		.loc 1 1672 3
 4736 002e 1022     		movs	r2, #16
 4737 0030 7968     		ldr	r1, [r7, #4]
 4738 0032 F868     		ldr	r0, [r7, #12]
 4739 0034 FFF7FEFF 		bl	memcpy
1673:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pbuf_ref(cseg->p);
 4740              		.loc 1 1673 3
 4741 0038 FB68     		ldr	r3, [r7, #12]
 4742 003a 5B68     		ldr	r3, [r3, #4]
 4743 003c 1846     		mov	r0, r3
 4744 003e FFF7FEFF 		bl	pbuf_ref
1674:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return cseg;
 4745              		.loc 1 1674 10
 4746 0042 FB68     		ldr	r3, [r7, #12]
 4747              	.L314:
1675:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4748              		.loc 1 1675 1
 4749 0044 1846     		mov	r0, r3
 4750 0046 1037     		adds	r7, r7, #16
 4751              	.LCFI139:
 4752              		.cfi_def_cfa_offset 8
 4753 0048 BD46     		mov	sp, r7
ARM GAS  /tmp/ccFjPNuy.s 			page 116


 4754              	.LCFI140:
 4755              		.cfi_def_cfa_register 13
 4756              		@ sp needed
 4757 004a 80BD     		pop	{r7, pc}
 4758              	.L316:
 4759              		.align	2
 4760              	.L315:
 4761 004c 78000000 		.word	.LC11
 4762 0050 C8050000 		.word	.LC48
 4763 0054 B8000000 		.word	.LC13
 4764              		.cfi_endproc
 4765              	.LFE161:
 4767              		.section	.rodata
 4768 05e2 0000     		.align	2
 4769              	.LC49:
 4770 05e4 7463705F 		.ascii	"tcp_recv_null: invalid pcb\000"
 4770      72656376 
 4770      5F6E756C 
 4770      6C3A2069 
 4770      6E76616C 
 4771              		.section	.text.tcp_recv_null,"ax",%progbits
 4772              		.align	1
 4773              		.global	tcp_recv_null
 4774              		.syntax unified
 4775              		.thumb
 4776              		.thumb_func
 4777              		.fpu fpv4-sp-d16
 4779              	tcp_recv_null:
 4780              	.LFB162:
1676:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
1677:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1678:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1679:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1680:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Default receive callback that is called if the user didn't register
1681:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * a recv callback for the pcb.
1682:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1683:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
1684:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recv_null(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
1685:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4781              		.loc 1 1685 1
 4782              		.cfi_startproc
 4783              		@ args = 0, pretend = 0, frame = 16
 4784              		@ frame_needed = 1, uses_anonymous_args = 0
 4785 0000 80B5     		push	{r7, lr}
 4786              	.LCFI141:
 4787              		.cfi_def_cfa_offset 8
 4788              		.cfi_offset 7, -8
 4789              		.cfi_offset 14, -4
 4790 0002 84B0     		sub	sp, sp, #16
 4791              	.LCFI142:
 4792              		.cfi_def_cfa_offset 24
 4793 0004 00AF     		add	r7, sp, #0
 4794              	.LCFI143:
 4795              		.cfi_def_cfa_register 7
 4796 0006 F860     		str	r0, [r7, #12]
 4797 0008 B960     		str	r1, [r7, #8]
 4798 000a 7A60     		str	r2, [r7, #4]
ARM GAS  /tmp/ccFjPNuy.s 			page 117


 4799 000c FB70     		strb	r3, [r7, #3]
1686:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(arg);
1687:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1688:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_recv_null: invalid pcb", pcb != NULL, return ERR_ARG);
 4800              		.loc 1 1688 3
 4801 000e BB68     		ldr	r3, [r7, #8]
 4802 0010 002B     		cmp	r3, #0
 4803 0012 09D1     		bne	.L318
 4804              		.loc 1 1688 3 is_stmt 0 discriminator 1
 4805 0014 124B     		ldr	r3, .L322
 4806 0016 4FF4D362 		mov	r2, #1688
 4807 001a 1249     		ldr	r1, .L322+4
 4808 001c 1248     		ldr	r0, .L322+8
 4809 001e FFF7FEFF 		bl	printf
 4810 0022 6FF00F03 		mvn	r3, #15
 4811 0026 16E0     		b	.L319
 4812              	.L318:
1689:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1690:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (p != NULL) {
 4813              		.loc 1 1690 6 is_stmt 1
 4814 0028 7B68     		ldr	r3, [r7, #4]
 4815 002a 002B     		cmp	r3, #0
 4816 002c 09D0     		beq	.L320
1691:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_recved(pcb, p->tot_len);
 4817              		.loc 1 1691 5
 4818 002e 7B68     		ldr	r3, [r7, #4]
 4819 0030 1B89     		ldrh	r3, [r3, #8]
 4820 0032 1946     		mov	r1, r3
 4821 0034 B868     		ldr	r0, [r7, #8]
 4822 0036 FFF7FEFF 		bl	tcp_recved
1692:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pbuf_free(p);
 4823              		.loc 1 1692 5
 4824 003a 7868     		ldr	r0, [r7, #4]
 4825 003c FFF7FEFF 		bl	pbuf_free
 4826 0040 08E0     		b	.L321
 4827              	.L320:
1693:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   } else if (err == ERR_OK) {
 4828              		.loc 1 1693 13
 4829 0042 97F90330 		ldrsb	r3, [r7, #3]
 4830 0046 002B     		cmp	r3, #0
 4831 0048 04D1     		bne	.L321
1694:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return tcp_close(pcb);
 4832              		.loc 1 1694 12
 4833 004a B868     		ldr	r0, [r7, #8]
 4834 004c FFF7FEFF 		bl	tcp_close
 4835 0050 0346     		mov	r3, r0
 4836 0052 00E0     		b	.L319
 4837              	.L321:
1695:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1696:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_OK;
 4838              		.loc 1 1696 10
 4839 0054 0023     		movs	r3, #0
 4840              	.L319:
1697:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4841              		.loc 1 1697 1
 4842 0056 1846     		mov	r0, r3
 4843 0058 1037     		adds	r7, r7, #16
ARM GAS  /tmp/ccFjPNuy.s 			page 118


 4844              	.LCFI144:
 4845              		.cfi_def_cfa_offset 8
 4846 005a BD46     		mov	sp, r7
 4847              	.LCFI145:
 4848              		.cfi_def_cfa_register 13
 4849              		@ sp needed
 4850 005c 80BD     		pop	{r7, pc}
 4851              	.L323:
 4852 005e 00BF     		.align	2
 4853              	.L322:
 4854 0060 78000000 		.word	.LC11
 4855 0064 E4050000 		.word	.LC49
 4856 0068 B8000000 		.word	.LC13
 4857              		.cfi_endproc
 4858              	.LFE162:
 4860              		.section	.text.tcp_kill_prio,"ax",%progbits
 4861              		.align	1
 4862              		.syntax unified
 4863              		.thumb
 4864              		.thumb_func
 4865              		.fpu fpv4-sp-d16
 4867              	tcp_kill_prio:
 4868              	.LFB163:
1698:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1699:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1700:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1701:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest active connection that has a lower priority than 'prio'.
1702:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1703:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio minimum priority
1704:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1705:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1706:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_prio(u8_t prio)
1707:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 4869              		.loc 1 1707 1
 4870              		.cfi_startproc
 4871              		@ args = 0, pretend = 0, frame = 24
 4872              		@ frame_needed = 1, uses_anonymous_args = 0
 4873 0000 80B5     		push	{r7, lr}
 4874              	.LCFI146:
 4875              		.cfi_def_cfa_offset 8
 4876              		.cfi_offset 7, -8
 4877              		.cfi_offset 14, -4
 4878 0002 86B0     		sub	sp, sp, #24
 4879              	.LCFI147:
 4880              		.cfi_def_cfa_offset 32
 4881 0004 00AF     		add	r7, sp, #0
 4882              	.LCFI148:
 4883              		.cfi_def_cfa_register 7
 4884 0006 0346     		mov	r3, r0
 4885 0008 FB71     		strb	r3, [r7, #7]
1708:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1709:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1710:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u8_t mprio;
1711:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1712:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   mprio = LWIP_MIN(TCP_PRIO_MAX, prio);
 4886              		.loc 1 1712 11
 4887 000a 97F90730 		ldrsb	r3, [r7, #7]
ARM GAS  /tmp/ccFjPNuy.s 			page 119


 4888              		.loc 1 1712 9
 4889 000e 002B     		cmp	r3, #0
 4890 0010 01DB     		blt	.L325
 4891              		.loc 1 1712 9 is_stmt 0 discriminator 1
 4892 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 4893 0014 00E0     		b	.L326
 4894              	.L325:
 4895              		.loc 1 1712 9 discriminator 2
 4896 0016 7F23     		movs	r3, #127
 4897              	.L326:
 4898              		.loc 1 1712 9 discriminator 4
 4899 0018 FB72     		strb	r3, [r7, #11]
1713:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1714:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* We want to kill connections with a lower prio, so bail out if 
1715:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * supplied prio is 0 - there can never be a lower prio
1716:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    */
1717:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (mprio == 0) {
 4900              		.loc 1 1717 6 is_stmt 1 discriminator 4
 4901 001a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4902 001c 002B     		cmp	r3, #0
 4903 001e 34D0     		beq	.L333
1718:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return;
1719:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1720:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1721:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* We only want kill connections with a lower prio, so decrement prio by one 
1722:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * and start searching for oldest connection with same or lower priority than mprio.
1723:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * We want to find the connections with the lowest possible prio, and among
1724:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    * these the one with the longest inactivity time.
1725:Middlewares/Third_Party/LwIP/src/core/tcp.c ****    */
1726:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   mprio--;
 4904              		.loc 1 1726 8
 4905 0020 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4906 0022 013B     		subs	r3, r3, #1
 4907 0024 FB72     		strb	r3, [r7, #11]
1727:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1728:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
 4908              		.loc 1 1728 14
 4909 0026 0023     		movs	r3, #0
 4910 0028 FB60     		str	r3, [r7, #12]
1729:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 4911              		.loc 1 1729 12
 4912 002a 0023     		movs	r3, #0
 4913 002c 3B61     		str	r3, [r7, #16]
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 4914              		.loc 1 1730 12
 4915 002e 194B     		ldr	r3, .L334
 4916 0030 1B68     		ldr	r3, [r3]
 4917 0032 7B61     		str	r3, [r7, #20]
 4918              		.loc 1 1730 3
 4919 0034 1FE0     		b	.L329
 4920              	.L332:
1731:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* lower prio is always a kill candidate */
1732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((pcb->prio < mprio) ||
 4921              		.loc 1 1732 13
 4922 0036 7B69     		ldr	r3, [r7, #20]
 4923 0038 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
 4924              		.loc 1 1732 8
ARM GAS  /tmp/ccFjPNuy.s 			page 120


 4925 003a FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 4926 003c 9A42     		cmp	r2, r3
 4927 003e 0CD8     		bhi	.L330
1733:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* longer inactivity is also a kill candidate */
1734:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         ((pcb->prio == mprio) && ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity))) {
 4928              		.loc 1 1734 14 discriminator 1
 4929 0040 7B69     		ldr	r3, [r7, #20]
 4930 0042 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
1732:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* longer inactivity is also a kill candidate */
 4931              		.loc 1 1732 29 discriminator 1
 4932 0044 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 4933 0046 9A42     		cmp	r2, r3
 4934 0048 12D1     		bne	.L331
 4935              		.loc 1 1734 53
 4936 004a 134B     		ldr	r3, .L334+4
 4937 004c 1A68     		ldr	r2, [r3]
 4938              		.loc 1 1734 58
 4939 004e 7B69     		ldr	r3, [r7, #20]
 4940 0050 1B6A     		ldr	r3, [r3, #32]
 4941              		.loc 1 1734 53
 4942 0052 D31A     		subs	r3, r2, r3
 4943              		.loc 1 1734 31
 4944 0054 FA68     		ldr	r2, [r7, #12]
 4945 0056 9A42     		cmp	r2, r3
 4946 0058 0AD8     		bhi	.L331
 4947              	.L330:
1735:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
 4948              		.loc 1 1735 30
 4949 005a 0F4B     		ldr	r3, .L334+4
 4950 005c 1A68     		ldr	r2, [r3]
 4951              		.loc 1 1735 35
 4952 005e 7B69     		ldr	r3, [r7, #20]
 4953 0060 1B6A     		ldr	r3, [r3, #32]
 4954              		.loc 1 1735 18
 4955 0062 D31A     		subs	r3, r2, r3
 4956 0064 FB60     		str	r3, [r7, #12]
1736:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive   = pcb;
 4957              		.loc 1 1736 18
 4958 0066 7B69     		ldr	r3, [r7, #20]
 4959 0068 3B61     		str	r3, [r7, #16]
1737:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       mprio      = pcb->prio;
 4960              		.loc 1 1737 18
 4961 006a 7B69     		ldr	r3, [r7, #20]
 4962 006c 5B7D     		ldrb	r3, [r3, #21]
 4963 006e FB72     		strb	r3, [r7, #11]
 4964              	.L331:
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* lower prio is always a kill candidate */
 4965              		.loc 1 1730 48 discriminator 2
 4966 0070 7B69     		ldr	r3, [r7, #20]
 4967 0072 DB68     		ldr	r3, [r3, #12]
 4968 0074 7B61     		str	r3, [r7, #20]
 4969              	.L329:
1730:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* lower prio is always a kill candidate */
 4970              		.loc 1 1730 3 discriminator 1
 4971 0076 7B69     		ldr	r3, [r7, #20]
 4972 0078 002B     		cmp	r3, #0
 4973 007a DCD1     		bne	.L332
ARM GAS  /tmp/ccFjPNuy.s 			page 121


1738:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1739:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1740:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
 4974              		.loc 1 1740 6
 4975 007c 3B69     		ldr	r3, [r7, #16]
 4976 007e 002B     		cmp	r3, #0
 4977 0080 04D0     		beq	.L324
1741:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_prio: killing oldest PCB %p (%"S32_F")\n",
1742:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                             (void *)inactive, inactivity));
1743:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abort(inactive);
 4978              		.loc 1 1743 5
 4979 0082 3869     		ldr	r0, [r7, #16]
 4980 0084 FFF7FEFF 		bl	tcp_abort
 4981 0088 00E0     		b	.L324
 4982              	.L333:
1718:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
 4983              		.loc 1 1718 5
 4984 008a 00BF     		nop
 4985              	.L324:
1744:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1745:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 4986              		.loc 1 1745 1
 4987 008c 1837     		adds	r7, r7, #24
 4988              	.LCFI149:
 4989              		.cfi_def_cfa_offset 8
 4990 008e BD46     		mov	sp, r7
 4991              	.LCFI150:
 4992              		.cfi_def_cfa_register 13
 4993              		@ sp needed
 4994 0090 80BD     		pop	{r7, pc}
 4995              	.L335:
 4996 0092 00BF     		.align	2
 4997              	.L334:
 4998 0094 00000000 		.word	tcp_active_pcbs
 4999 0098 00000000 		.word	tcp_ticks
 5000              		.cfi_endproc
 5001              	.LFE163:
 5003              		.section	.rodata
 5004 05ff 00       		.align	2
 5005              	.LC50:
 5006 0600 696E7661 		.ascii	"invalid state\000"
 5006      6C696420 
 5006      73746174 
 5006      6500
 5007              		.section	.text.tcp_kill_state,"ax",%progbits
 5008              		.align	1
 5009              		.syntax unified
 5010              		.thumb
 5011              		.thumb_func
 5012              		.fpu fpv4-sp-d16
 5014              	tcp_kill_state:
 5015              	.LFB164:
1746:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1747:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1748:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest connection that is in specific state.
1749:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called from tcp_alloc() for LAST_ACK and CLOSING if no more connections are available.
1750:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
ARM GAS  /tmp/ccFjPNuy.s 			page 122


1751:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1752:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_state(enum tcp_state state)
1753:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5016              		.loc 1 1753 1
 5017              		.cfi_startproc
 5018              		@ args = 0, pretend = 0, frame = 24
 5019              		@ frame_needed = 1, uses_anonymous_args = 0
 5020 0000 80B5     		push	{r7, lr}
 5021              	.LCFI151:
 5022              		.cfi_def_cfa_offset 8
 5023              		.cfi_offset 7, -8
 5024              		.cfi_offset 14, -4
 5025 0002 86B0     		sub	sp, sp, #24
 5026              	.LCFI152:
 5027              		.cfi_def_cfa_offset 32
 5028 0004 00AF     		add	r7, sp, #0
 5029              	.LCFI153:
 5030              		.cfi_def_cfa_register 7
 5031 0006 0346     		mov	r3, r0
 5032 0008 FB71     		strb	r3, [r7, #7]
1754:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1755:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1756:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1757:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("invalid state", (state == CLOSING) || (state == LAST_ACK));
 5033              		.loc 1 1757 3
 5034 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5035 000c 082B     		cmp	r3, #8
 5036 000e 09D0     		beq	.L337
 5037              		.loc 1 1757 3 is_stmt 0 discriminator 1
 5038 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5039 0012 092B     		cmp	r3, #9
 5040 0014 06D0     		beq	.L337
 5041              		.loc 1 1757 3 discriminator 2
 5042 0016 1A4B     		ldr	r3, .L343
 5043 0018 40F2DD62 		movw	r2, #1757
 5044 001c 1949     		ldr	r1, .L343+4
 5045 001e 1A48     		ldr	r0, .L343+8
 5046 0020 FFF7FEFF 		bl	printf
 5047              	.L337:
1758:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1759:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
 5048              		.loc 1 1759 14 is_stmt 1
 5049 0024 0023     		movs	r3, #0
 5050 0026 FB60     		str	r3, [r7, #12]
1760:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 5051              		.loc 1 1760 12
 5052 0028 0023     		movs	r3, #0
 5053 002a 3B61     		str	r3, [r7, #16]
1761:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of active pcbs and get the oldest pcb that is in state
1762:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      CLOSING/LAST_ACK. */
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_active_pcbs; pcb != NULL; pcb = pcb->next) {
 5054              		.loc 1 1763 12
 5055 002c 174B     		ldr	r3, .L343+12
 5056 002e 1B68     		ldr	r3, [r3]
 5057 0030 7B61     		str	r3, [r7, #20]
 5058              		.loc 1 1763 3
 5059 0032 17E0     		b	.L338
ARM GAS  /tmp/ccFjPNuy.s 			page 123


 5060              	.L340:
1764:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 5061              		.loc 1 1764 12
 5062 0034 7B69     		ldr	r3, [r7, #20]
 5063 0036 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 5064              		.loc 1 1764 8
 5065 0038 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 5066 003a 9A42     		cmp	r2, r3
 5067 003c 0FD1     		bne	.L339
1765:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 5068              		.loc 1 1765 29
 5069 003e 144B     		ldr	r3, .L343+16
 5070 0040 1A68     		ldr	r2, [r3]
 5071              		.loc 1 1765 34
 5072 0042 7B69     		ldr	r3, [r7, #20]
 5073 0044 1B6A     		ldr	r3, [r3, #32]
 5074              		.loc 1 1765 29
 5075 0046 D31A     		subs	r3, r2, r3
 5076              		.loc 1 1765 10
 5077 0048 FA68     		ldr	r2, [r7, #12]
 5078 004a 9A42     		cmp	r2, r3
 5079 004c 07D8     		bhi	.L339
1766:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactivity = tcp_ticks - pcb->tmr;
 5080              		.loc 1 1766 32
 5081 004e 104B     		ldr	r3, .L343+16
 5082 0050 1A68     		ldr	r2, [r3]
 5083              		.loc 1 1766 37
 5084 0052 7B69     		ldr	r3, [r7, #20]
 5085 0054 1B6A     		ldr	r3, [r3, #32]
 5086              		.loc 1 1766 20
 5087 0056 D31A     		subs	r3, r2, r3
 5088 0058 FB60     		str	r3, [r7, #12]
1767:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         inactive = pcb;
 5089              		.loc 1 1767 18
 5090 005a 7B69     		ldr	r3, [r7, #20]
 5091 005c 3B61     		str	r3, [r7, #16]
 5092              	.L339:
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 5093              		.loc 1 1763 48 discriminator 2
 5094 005e 7B69     		ldr	r3, [r7, #20]
 5095 0060 DB68     		ldr	r3, [r3, #12]
 5096 0062 7B61     		str	r3, [r7, #20]
 5097              	.L338:
1763:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->state == state) {
 5098              		.loc 1 1763 3 discriminator 1
 5099 0064 7B69     		ldr	r3, [r7, #20]
 5100 0066 002B     		cmp	r3, #0
 5101 0068 E4D1     		bne	.L340
1768:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1769:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1770:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1771:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
 5102              		.loc 1 1771 6
 5103 006a 3B69     		ldr	r3, [r7, #16]
 5104 006c 002B     		cmp	r3, #0
 5105 006e 03D0     		beq	.L342
1772:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_closing: killing oldest %s PCB %p (%"S32_F")\n",
ARM GAS  /tmp/ccFjPNuy.s 			page 124


1773:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                             tcp_state_str[state], (void *)inactive, inactivity));
1774:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Don't send a RST, since no data is lost. */
1775:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abandon(inactive, 0);
 5106              		.loc 1 1775 5
 5107 0070 0021     		movs	r1, #0
 5108 0072 3869     		ldr	r0, [r7, #16]
 5109 0074 FFF7FEFF 		bl	tcp_abandon
 5110              	.L342:
1776:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1777:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5111              		.loc 1 1777 1
 5112 0078 00BF     		nop
 5113 007a 1837     		adds	r7, r7, #24
 5114              	.LCFI154:
 5115              		.cfi_def_cfa_offset 8
 5116 007c BD46     		mov	sp, r7
 5117              	.LCFI155:
 5118              		.cfi_def_cfa_register 13
 5119              		@ sp needed
 5120 007e 80BD     		pop	{r7, pc}
 5121              	.L344:
 5122              		.align	2
 5123              	.L343:
 5124 0080 78000000 		.word	.LC11
 5125 0084 00060000 		.word	.LC50
 5126 0088 B8000000 		.word	.LC13
 5127 008c 00000000 		.word	tcp_active_pcbs
 5128 0090 00000000 		.word	tcp_ticks
 5129              		.cfi_endproc
 5130              	.LFE164:
 5132              		.section	.text.tcp_kill_timewait,"ax",%progbits
 5133              		.align	1
 5134              		.syntax unified
 5135              		.thumb
 5136              		.thumb_func
 5137              		.fpu fpv4-sp-d16
 5139              	tcp_kill_timewait:
 5140              	.LFB165:
1778:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1779:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1780:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Kills the oldest connection that is in TIME_WAIT state.
1781:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Called from tcp_alloc() if no more connections are available.
1782:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1783:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1784:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_kill_timewait(void)
1785:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5141              		.loc 1 1785 1
 5142              		.cfi_startproc
 5143              		@ args = 0, pretend = 0, frame = 16
 5144              		@ frame_needed = 1, uses_anonymous_args = 0
 5145 0000 80B5     		push	{r7, lr}
 5146              	.LCFI156:
 5147              		.cfi_def_cfa_offset 8
 5148              		.cfi_offset 7, -8
 5149              		.cfi_offset 14, -4
 5150 0002 84B0     		sub	sp, sp, #16
 5151              	.LCFI157:
ARM GAS  /tmp/ccFjPNuy.s 			page 125


 5152              		.cfi_def_cfa_offset 24
 5153 0004 00AF     		add	r7, sp, #0
 5154              	.LCFI158:
 5155              		.cfi_def_cfa_register 7
1786:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb, *inactive;
1787:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u32_t inactivity;
1788:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1789:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactivity = 0;
 5156              		.loc 1 1789 14
 5157 0006 0023     		movs	r3, #0
 5158 0008 7B60     		str	r3, [r7, #4]
1790:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   inactive = NULL;
 5159              		.loc 1 1790 12
 5160 000a 0023     		movs	r3, #0
 5161 000c BB60     		str	r3, [r7, #8]
1791:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* Go through the list of TIME_WAIT pcbs and get the oldest pcb. */
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   for (pcb = tcp_tw_pcbs; pcb != NULL; pcb = pcb->next) {
 5162              		.loc 1 1792 12
 5163 000e 124B     		ldr	r3, .L351
 5164 0010 1B68     		ldr	r3, [r3]
 5165 0012 FB60     		str	r3, [r7, #12]
 5166              		.loc 1 1792 3
 5167 0014 12E0     		b	.L346
 5168              	.L348:
1793:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 5169              		.loc 1 1793 27
 5170 0016 114B     		ldr	r3, .L351+4
 5171 0018 1A68     		ldr	r2, [r3]
 5172              		.loc 1 1793 32
 5173 001a FB68     		ldr	r3, [r7, #12]
 5174 001c 1B6A     		ldr	r3, [r3, #32]
 5175              		.loc 1 1793 27
 5176 001e D31A     		subs	r3, r2, r3
 5177              		.loc 1 1793 8
 5178 0020 7A68     		ldr	r2, [r7, #4]
 5179 0022 9A42     		cmp	r2, r3
 5180 0024 07D8     		bhi	.L347
1794:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactivity = tcp_ticks - pcb->tmr;
 5181              		.loc 1 1794 30
 5182 0026 0D4B     		ldr	r3, .L351+4
 5183 0028 1A68     		ldr	r2, [r3]
 5184              		.loc 1 1794 35
 5185 002a FB68     		ldr	r3, [r7, #12]
 5186 002c 1B6A     		ldr	r3, [r3, #32]
 5187              		.loc 1 1794 18
 5188 002e D31A     		subs	r3, r2, r3
 5189 0030 7B60     		str	r3, [r7, #4]
1795:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       inactive = pcb;
 5190              		.loc 1 1795 16
 5191 0032 FB68     		ldr	r3, [r7, #12]
 5192 0034 BB60     		str	r3, [r7, #8]
 5193              	.L347:
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 5194              		.loc 1 1792 44 discriminator 2
 5195 0036 FB68     		ldr	r3, [r7, #12]
 5196 0038 DB68     		ldr	r3, [r3, #12]
 5197 003a FB60     		str	r3, [r7, #12]
ARM GAS  /tmp/ccFjPNuy.s 			page 126


 5198              	.L346:
1792:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if ((u32_t)(tcp_ticks - pcb->tmr) >= inactivity) {
 5199              		.loc 1 1792 3 discriminator 1
 5200 003c FB68     		ldr	r3, [r7, #12]
 5201 003e 002B     		cmp	r3, #0
 5202 0040 E9D1     		bne	.L348
1796:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1797:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1798:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (inactive != NULL) {
 5203              		.loc 1 1798 6
 5204 0042 BB68     		ldr	r3, [r7, #8]
 5205 0044 002B     		cmp	r3, #0
 5206 0046 02D0     		beq	.L350
1799:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_kill_timewait: killing oldest TIME-WAIT PCB %p (%"S32_F")\n",
1800:Middlewares/Third_Party/LwIP/src/core/tcp.c ****                             (void *)inactive, inactivity));
1801:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_abort(inactive);
 5207              		.loc 1 1801 5
 5208 0048 B868     		ldr	r0, [r7, #8]
 5209 004a FFF7FEFF 		bl	tcp_abort
 5210              	.L350:
1802:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1803:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5211              		.loc 1 1803 1
 5212 004e 00BF     		nop
 5213 0050 1037     		adds	r7, r7, #16
 5214              	.LCFI159:
 5215              		.cfi_def_cfa_offset 8
 5216 0052 BD46     		mov	sp, r7
 5217              	.LCFI160:
 5218              		.cfi_def_cfa_register 13
 5219              		@ sp needed
 5220 0054 80BD     		pop	{r7, pc}
 5221              	.L352:
 5222 0056 00BF     		.align	2
 5223              	.L351:
 5224 0058 00000000 		.word	tcp_tw_pcbs
 5225 005c 00000000 		.word	tcp_ticks
 5226              		.cfi_endproc
 5227              	.LFE165:
 5229              		.section	.text.tcp_handle_closepend,"ax",%progbits
 5230              		.align	1
 5231              		.syntax unified
 5232              		.thumb
 5233              		.thumb_func
 5234              		.fpu fpv4-sp-d16
 5236              	tcp_handle_closepend:
 5237              	.LFB166:
1804:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1805:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Called when allocating a pcb fails.
1806:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * In this case, we want to handle all pcbs that want to close first: if we can
1807:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * now send the FIN (which failed before), the pcb might be in a state that is
1808:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * OK for us to now free it.
1809:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1810:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
1811:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_handle_closepend(void)
1812:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5238              		.loc 1 1812 1
ARM GAS  /tmp/ccFjPNuy.s 			page 127


 5239              		.cfi_startproc
 5240              		@ args = 0, pretend = 0, frame = 8
 5241              		@ frame_needed = 1, uses_anonymous_args = 0
 5242 0000 80B5     		push	{r7, lr}
 5243              	.LCFI161:
 5244              		.cfi_def_cfa_offset 8
 5245              		.cfi_offset 7, -8
 5246              		.cfi_offset 14, -4
 5247 0002 82B0     		sub	sp, sp, #8
 5248              	.LCFI162:
 5249              		.cfi_def_cfa_offset 16
 5250 0004 00AF     		add	r7, sp, #0
 5251              	.LCFI163:
 5252              		.cfi_def_cfa_register 7
1813:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb = tcp_active_pcbs;
 5253              		.loc 1 1813 19
 5254 0006 104B     		ldr	r3, .L357
 5255 0008 1B68     		ldr	r3, [r3]
 5256 000a 7B60     		str	r3, [r7, #4]
1814:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1815:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 5257              		.loc 1 1815 9
 5258 000c 14E0     		b	.L354
 5259              	.L356:
 5260              	.LBB18:
1816:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_pcb *next = pcb->next;
 5261              		.loc 1 1816 21
 5262 000e 7B68     		ldr	r3, [r7, #4]
 5263 0010 DB68     		ldr	r3, [r3, #12]
 5264 0012 3B60     		str	r3, [r7]
1817:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* send pending FIN */
1818:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->flags & TF_CLOSEPEND) {
 5265              		.loc 1 1818 12
 5266 0014 7B68     		ldr	r3, [r7, #4]
 5267 0016 5B8B     		ldrh	r3, [r3, #26]
 5268              		.loc 1 1818 20
 5269 0018 03F00803 		and	r3, r3, #8
 5270              		.loc 1 1818 8
 5271 001c 002B     		cmp	r3, #0
 5272 001e 09D0     		beq	.L355
1819:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_handle_closepend: pending FIN\n"));
1820:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_clear_flags(pcb, TF_CLOSEPEND);
 5273              		.loc 1 1820 7
 5274 0020 7B68     		ldr	r3, [r7, #4]
 5275 0022 5B8B     		ldrh	r3, [r3, #26]
 5276 0024 23F00803 		bic	r3, r3, #8
 5277 0028 9AB2     		uxth	r2, r3
 5278 002a 7B68     		ldr	r3, [r7, #4]
 5279 002c 5A83     		strh	r2, [r3, #26]	@ movhi
1821:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_close_shutdown_fin(pcb);
 5280              		.loc 1 1821 7
 5281 002e 7868     		ldr	r0, [r7, #4]
 5282 0030 FFF7FEFF 		bl	tcp_close_shutdown_fin
 5283              	.L355:
1822:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1823:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = next;
 5284              		.loc 1 1823 9
ARM GAS  /tmp/ccFjPNuy.s 			page 128


 5285 0034 3B68     		ldr	r3, [r7]
 5286 0036 7B60     		str	r3, [r7, #4]
 5287              	.L354:
 5288              	.LBE18:
1815:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_pcb *next = pcb->next;
 5289              		.loc 1 1815 9
 5290 0038 7B68     		ldr	r3, [r7, #4]
 5291 003a 002B     		cmp	r3, #0
 5292 003c E7D1     		bne	.L356
1824:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1825:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5293              		.loc 1 1825 1
 5294 003e 00BF     		nop
 5295 0040 0837     		adds	r7, r7, #8
 5296              	.LCFI164:
 5297              		.cfi_def_cfa_offset 8
 5298 0042 BD46     		mov	sp, r7
 5299              	.LCFI165:
 5300              		.cfi_def_cfa_register 13
 5301              		@ sp needed
 5302 0044 80BD     		pop	{r7, pc}
 5303              	.L358:
 5304 0046 00BF     		.align	2
 5305              	.L357:
 5306 0048 00000000 		.word	tcp_active_pcbs
 5307              		.cfi_endproc
 5308              	.LFE166:
 5310              		.section	.text.tcp_alloc,"ax",%progbits
 5311              		.align	1
 5312              		.global	tcp_alloc
 5313              		.syntax unified
 5314              		.thumb
 5315              		.thumb_func
 5316              		.fpu fpv4-sp-d16
 5318              	tcp_alloc:
 5319              	.LFB167:
1826:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1827:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1828:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Allocate a new tcp_pcb structure.
1829:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1830:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param prio priority for the new pcb
1831:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1832:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1833:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1834:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_alloc(u8_t prio)
1835:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5320              		.loc 1 1835 1
 5321              		.cfi_startproc
 5322              		@ args = 0, pretend = 0, frame = 16
 5323              		@ frame_needed = 1, uses_anonymous_args = 0
 5324 0000 80B5     		push	{r7, lr}
 5325              	.LCFI166:
 5326              		.cfi_def_cfa_offset 8
 5327              		.cfi_offset 7, -8
 5328              		.cfi_offset 14, -4
 5329 0002 84B0     		sub	sp, sp, #16
 5330              	.LCFI167:
ARM GAS  /tmp/ccFjPNuy.s 			page 129


 5331              		.cfi_def_cfa_offset 24
 5332 0004 00AF     		add	r7, sp, #0
 5333              	.LCFI168:
 5334              		.cfi_def_cfa_register 7
 5335 0006 0346     		mov	r3, r0
 5336 0008 FB71     		strb	r3, [r7, #7]
1836:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1837:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1838:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
1839:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1840:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
 5337              		.loc 1 1840 27
 5338 000a 0120     		movs	r0, #1
 5339 000c FFF7FEFF 		bl	memp_malloc
 5340 0010 F860     		str	r0, [r7, #12]
1841:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb == NULL) {
 5341              		.loc 1 1841 6
 5342 0012 FB68     		ldr	r3, [r7, #12]
 5343 0014 002B     		cmp	r3, #0
 5344 0016 26D1     		bne	.L360
1842:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to send FIN for all pcbs stuck in TF_CLOSEPEND first */
1843:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_handle_closepend();
 5345              		.loc 1 1843 5
 5346 0018 FFF7FEFF 		bl	tcp_handle_closepend
1844:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1845:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try killing oldest connection in TIME-WAIT. */
1846:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest TIME-WAIT connection\n"));
1847:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_kill_timewait();
 5347              		.loc 1 1847 5
 5348 001c FFF7FEFF 		bl	tcp_kill_timewait
1848:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Try to allocate a tcp_pcb again. */
1849:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
 5349              		.loc 1 1849 29
 5350 0020 0120     		movs	r0, #1
 5351 0022 FFF7FEFF 		bl	memp_malloc
 5352 0026 F860     		str	r0, [r7, #12]
1850:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb == NULL) {
 5353              		.loc 1 1850 8
 5354 0028 FB68     		ldr	r3, [r7, #12]
 5355 002a 002B     		cmp	r3, #0
 5356 002c 1BD1     		bne	.L360
1851:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try killing oldest connection in LAST-ACK (these wouldn't go to TIME-WAIT). */
1852:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest LAST-ACK connection\n"));
1853:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_kill_state(LAST_ACK);
 5357              		.loc 1 1853 7
 5358 002e 0920     		movs	r0, #9
 5359 0030 FFF7FEFF 		bl	tcp_kill_state
1854:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* Try to allocate a tcp_pcb again. */
1855:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
 5360              		.loc 1 1855 31
 5361 0034 0120     		movs	r0, #1
 5362 0036 FFF7FEFF 		bl	memp_malloc
 5363 003a F860     		str	r0, [r7, #12]
1856:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb == NULL) {
 5364              		.loc 1 1856 10
 5365 003c FB68     		ldr	r3, [r7, #12]
 5366 003e 002B     		cmp	r3, #0
ARM GAS  /tmp/ccFjPNuy.s 			page 130


 5367 0040 11D1     		bne	.L360
1857:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try killing oldest connection in CLOSING. */
1858:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing off oldest CLOSING connection\n"));
1859:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         tcp_kill_state(CLOSING);
 5368              		.loc 1 1859 9
 5369 0042 0820     		movs	r0, #8
 5370 0044 FFF7FEFF 		bl	tcp_kill_state
1860:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* Try to allocate a tcp_pcb again. */
1861:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
 5371              		.loc 1 1861 33
 5372 0048 0120     		movs	r0, #1
 5373 004a FFF7FEFF 		bl	memp_malloc
 5374 004e F860     		str	r0, [r7, #12]
1862:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb == NULL) {
 5375              		.loc 1 1862 12
 5376 0050 FB68     		ldr	r3, [r7, #12]
 5377 0052 002B     		cmp	r3, #0
 5378 0054 07D1     		bne	.L360
1863:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try killing oldest active connection with lower priority than the new one. */
1864:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           LWIP_DEBUGF(TCP_DEBUG, ("tcp_alloc: killing oldest connection with prio lower than %d\n",
1865:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           tcp_kill_prio(prio);
 5379              		.loc 1 1865 11
 5380 0056 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5381 0058 1846     		mov	r0, r3
 5382 005a FFF7FEFF 		bl	tcp_kill_prio
1866:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* Try to allocate a tcp_pcb again. */
1867:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           pcb = (struct tcp_pcb *)memp_malloc(MEMP_TCP_PCB);
 5383              		.loc 1 1867 35
 5384 005e 0120     		movs	r0, #1
 5385 0060 FFF7FEFF 		bl	memp_malloc
 5386 0064 F860     		str	r0, [r7, #12]
 5387              	.L360:
1868:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           if (pcb != NULL) {
1869:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             /* adjust err stats: memp_malloc failed multiple times before */
1870:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1871:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           }
1872:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1873:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (pcb != NULL) {
1874:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* adjust err stats: memp_malloc failed multiple times before */
1875:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1876:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
1877:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1878:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (pcb != NULL) {
1879:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* adjust err stats: memp_malloc failed multiple times before */
1880:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1881:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
1882:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1883:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb != NULL) {
1884:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* adjust err stats: memp_malloc failed above */
1885:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       MEMP_STATS_DEC(err, MEMP_TCP_PCB);
1886:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
1887:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1888:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 5388              		.loc 1 1888 6
 5389 0066 FB68     		ldr	r3, [r7, #12]
 5390 0068 002B     		cmp	r3, #0
 5391 006a 3FD0     		beq	.L361
ARM GAS  /tmp/ccFjPNuy.s 			page 131


1889:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* zero out the whole pcb, so there is no need to initialize members to zero */
1890:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memset(pcb, 0, sizeof(struct tcp_pcb));
 5392              		.loc 1 1890 5
 5393 006c 9C22     		movs	r2, #156
 5394 006e 0021     		movs	r1, #0
 5395 0070 F868     		ldr	r0, [r7, #12]
 5396 0072 FFF7FEFF 		bl	memset
1891:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->prio = prio;
 5397              		.loc 1 1891 15
 5398 0076 FB68     		ldr	r3, [r7, #12]
 5399 0078 FA79     		ldrb	r2, [r7, #7]
 5400 007a 5A75     		strb	r2, [r3, #21]
1892:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->snd_buf = TCP_SND_BUF;
 5401              		.loc 1 1892 18
 5402 007c FB68     		ldr	r3, [r7, #12]
 5403 007e 4FF48662 		mov	r2, #1072
 5404 0082 A3F86420 		strh	r2, [r3, #100]	@ movhi
1893:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Start with a window that does not need scaling. When window scaling is
1894:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        enabled and used, the window is enlarged when both sides agree on scaling. */
1895:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rcv_wnd = pcb->rcv_ann_wnd = TCPWND_MIN16(TCP_WND);
 5405              		.loc 1 1895 37
 5406 0086 FB68     		ldr	r3, [r7, #12]
 5407 0088 4FF40662 		mov	r2, #2144
 5408 008c 5A85     		strh	r2, [r3, #42]	@ movhi
 5409              		.loc 1 1895 23
 5410 008e FB68     		ldr	r3, [r7, #12]
 5411 0090 5A8D     		ldrh	r2, [r3, #42]
 5412              		.loc 1 1895 18
 5413 0092 FB68     		ldr	r3, [r7, #12]
 5414 0094 1A85     		strh	r2, [r3, #40]	@ movhi
1896:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ttl = TCP_TTL;
 5415              		.loc 1 1896 14
 5416 0096 FB68     		ldr	r3, [r7, #12]
 5417 0098 FF22     		movs	r2, #255
 5418 009a DA72     		strb	r2, [r3, #11]
1897:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* As initial send MSS, we use TCP_MSS but limit it to 536.
1898:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        The send MSS is updated when an MSS option is received. */
1899:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->mss = INITIAL_MSS;
 5419              		.loc 1 1899 14
 5420 009c FB68     		ldr	r3, [r7, #12]
 5421 009e 4FF40672 		mov	r2, #536
 5422 00a2 5A86     		strh	r2, [r3, #50]	@ movhi
1900:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rto = 3000 / TCP_SLOW_INTERVAL;
 5423              		.loc 1 1900 14
 5424 00a4 FB68     		ldr	r3, [r7, #12]
 5425 00a6 0622     		movs	r2, #6
 5426 00a8 A3F84020 		strh	r2, [r3, #64]	@ movhi
1901:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sv = 3000 / TCP_SLOW_INTERVAL;
 5427              		.loc 1 1901 13
 5428 00ac FB68     		ldr	r3, [r7, #12]
 5429 00ae 0622     		movs	r2, #6
 5430 00b0 DA87     		strh	r2, [r3, #62]	@ movhi
1902:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
 5431              		.loc 1 1902 16
 5432 00b2 FB68     		ldr	r3, [r7, #12]
 5433 00b4 4FF6FF72 		movw	r2, #65535
 5434 00b8 1A86     		strh	r2, [r3, #48]	@ movhi
ARM GAS  /tmp/ccFjPNuy.s 			page 132


1903:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->cwnd = 1;
 5435              		.loc 1 1903 15
 5436 00ba FB68     		ldr	r3, [r7, #12]
 5437 00bc 0122     		movs	r2, #1
 5438 00be A3F84820 		strh	r2, [r3, #72]	@ movhi
1904:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->tmr = tcp_ticks;
 5439              		.loc 1 1904 14
 5440 00c2 0D4B     		ldr	r3, .L363
 5441 00c4 1A68     		ldr	r2, [r3]
 5442 00c6 FB68     		ldr	r3, [r7, #12]
 5443 00c8 1A62     		str	r2, [r3, #32]
1905:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->last_timer = tcp_timer_ctr;
 5444              		.loc 1 1905 21
 5445 00ca 0C4B     		ldr	r3, .L363+4
 5446 00cc 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 5447 00ce FB68     		ldr	r3, [r7, #12]
 5448 00d0 9A77     		strb	r2, [r3, #30]
1906:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1907:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* RFC 5681 recommends setting ssthresh abritrarily high and gives an example
1908:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     of using the largest advertised receive window.  We've seen complications with
1909:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     receiving TCPs that use window scaling and/or window auto-tuning where the
1910:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     initial advertised window is very small and then grows rapidly once the
1911:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     connection is established. To avoid these complications, we set ssthresh to the
1912:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     largest effective cwnd (amount of in-flight data) that the sender can have. */
1913:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ssthresh = TCP_SND_BUF;
 5449              		.loc 1 1913 19
 5450 00d2 FB68     		ldr	r3, [r7, #12]
 5451 00d4 4FF48662 		mov	r2, #1072
 5452 00d8 A3F84A20 		strh	r2, [r3, #74]	@ movhi
1914:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1915:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
1916:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->recv = tcp_recv_null;
 5453              		.loc 1 1916 15
 5454 00dc FB68     		ldr	r3, [r7, #12]
 5455 00de 084A     		ldr	r2, .L363+8
 5456 00e0 C3F88420 		str	r2, [r3, #132]
1917:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
1918:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1919:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Init KEEPALIVE timer */
1920:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_idle  = TCP_KEEPIDLE_DEFAULT;
 5457              		.loc 1 1920 21
 5458 00e4 FB68     		ldr	r3, [r7, #12]
 5459 00e6 074A     		ldr	r2, .L363+12
 5460 00e8 C3F89420 		str	r2, [r3, #148]
 5461              	.L361:
1921:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1922:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_KEEPALIVE
1923:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_intvl = TCP_KEEPINTVL_DEFAULT;
1924:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->keep_cnt   = TCP_KEEPCNT_DEFAULT;
1925:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_TCP_KEEPALIVE */
1926:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1927:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return pcb;
 5462              		.loc 1 1927 10
 5463 00ec FB68     		ldr	r3, [r7, #12]
1928:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5464              		.loc 1 1928 1
 5465 00ee 1846     		mov	r0, r3
ARM GAS  /tmp/ccFjPNuy.s 			page 133


 5466 00f0 1037     		adds	r7, r7, #16
 5467              	.LCFI169:
 5468              		.cfi_def_cfa_offset 8
 5469 00f2 BD46     		mov	sp, r7
 5470              	.LCFI170:
 5471              		.cfi_def_cfa_register 13
 5472              		@ sp needed
 5473 00f4 80BD     		pop	{r7, pc}
 5474              	.L364:
 5475 00f6 00BF     		.align	2
 5476              	.L363:
 5477 00f8 00000000 		.word	tcp_ticks
 5478 00fc 00000000 		.word	tcp_timer_ctr
 5479 0100 00000000 		.word	tcp_recv_null
 5480 0104 00DD6D00 		.word	7200000
 5481              		.cfi_endproc
 5482              	.LFE167:
 5484              		.section	.text.tcp_new,"ax",%progbits
 5485              		.align	1
 5486              		.global	tcp_new
 5487              		.syntax unified
 5488              		.thumb
 5489              		.thumb_func
 5490              		.fpu fpv4-sp-d16
 5492              	tcp_new:
 5493              	.LFB168:
1929:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1930:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1931:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1932:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Creates a new TCP protocol control block but doesn't place it on
1933:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * any of the TCP PCB lists.
1934:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is not put on any list until binding using tcp_bind().
1935:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If memory is not available for creating the new pcb, NULL is returned.
1936:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1937:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @internal: Maybe there should be a idle TCP PCB list where these
1938:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * PCBs are put on. Port reservation using tcp_bind() is implemented but
1939:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * allocated pcbs that are not bound can't be killed automatically if wanting
1940:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * to allocate a pcb with higher prio (@see tcp_kill_prio())
1941:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1942:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1943:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1944:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1945:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new(void)
1946:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5494              		.loc 1 1946 1
 5495              		.cfi_startproc
 5496              		@ args = 0, pretend = 0, frame = 0
 5497              		@ frame_needed = 1, uses_anonymous_args = 0
 5498 0000 80B5     		push	{r7, lr}
 5499              	.LCFI171:
 5500              		.cfi_def_cfa_offset 8
 5501              		.cfi_offset 7, -8
 5502              		.cfi_offset 14, -4
 5503 0002 00AF     		add	r7, sp, #0
 5504              	.LCFI172:
 5505              		.cfi_def_cfa_register 7
1947:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_alloc(TCP_PRIO_NORMAL);
ARM GAS  /tmp/ccFjPNuy.s 			page 134


 5506              		.loc 1 1947 10
 5507 0004 4020     		movs	r0, #64
 5508 0006 FFF7FEFF 		bl	tcp_alloc
 5509 000a 0346     		mov	r3, r0
1948:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5510              		.loc 1 1948 1
 5511 000c 1846     		mov	r0, r3
 5512 000e 80BD     		pop	{r7, pc}
 5513              		.cfi_endproc
 5514              	.LFE168:
 5516              		.section	.text.tcp_new_ip_type,"ax",%progbits
 5517              		.align	1
 5518              		.global	tcp_new_ip_type
 5519              		.syntax unified
 5520              		.thumb
 5521              		.thumb_func
 5522              		.fpu fpv4-sp-d16
 5524              	tcp_new_ip_type:
 5525              	.LFB169:
1949:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1950:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1951:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1952:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Creates a new TCP protocol control block but doesn't
1953:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * place it on any of the TCP PCB lists.
1954:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * The pcb is not put on any list until binding using tcp_bind().
1955:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1956:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param type IP address type, see @ref lwip_ip_addr_type definitions.
1957:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If you want to listen to IPv4 and IPv6 (dual-stack) connections,
1958:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * supply @ref IPADDR_TYPE_ANY as argument and bind to @ref IP_ANY_TYPE.
1959:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return a new tcp_pcb that initially is in state CLOSED
1960:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1961:Middlewares/Third_Party/LwIP/src/core/tcp.c **** struct tcp_pcb *
1962:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_new_ip_type(u8_t type)
1963:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5526              		.loc 1 1963 1
 5527              		.cfi_startproc
 5528              		@ args = 0, pretend = 0, frame = 16
 5529              		@ frame_needed = 1, uses_anonymous_args = 0
 5530 0000 80B5     		push	{r7, lr}
 5531              	.LCFI173:
 5532              		.cfi_def_cfa_offset 8
 5533              		.cfi_offset 7, -8
 5534              		.cfi_offset 14, -4
 5535 0002 84B0     		sub	sp, sp, #16
 5536              	.LCFI174:
 5537              		.cfi_def_cfa_offset 24
 5538 0004 00AF     		add	r7, sp, #0
 5539              	.LCFI175:
 5540              		.cfi_def_cfa_register 7
 5541 0006 0346     		mov	r3, r0
 5542 0008 FB71     		strb	r3, [r7, #7]
1964:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
1965:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = tcp_alloc(TCP_PRIO_NORMAL);
 5543              		.loc 1 1965 9
 5544 000a 4020     		movs	r0, #64
 5545 000c FFF7FEFF 		bl	tcp_alloc
 5546 0010 F860     		str	r0, [r7, #12]
ARM GAS  /tmp/ccFjPNuy.s 			page 135


1966:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4 && LWIP_IPV6
1967:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
1968:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     IP_SET_TYPE_VAL(pcb->local_ip, type);
1969:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     IP_SET_TYPE_VAL(pcb->remote_ip, type);
1970:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1971:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else
1972:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(type);
1973:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1974:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return pcb;
 5547              		.loc 1 1974 10
 5548 0012 FB68     		ldr	r3, [r7, #12]
1975:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5549              		.loc 1 1975 1
 5550 0014 1846     		mov	r0, r3
 5551 0016 1037     		adds	r7, r7, #16
 5552              	.LCFI176:
 5553              		.cfi_def_cfa_offset 8
 5554 0018 BD46     		mov	sp, r7
 5555              	.LCFI177:
 5556              		.cfi_def_cfa_register 13
 5557              		@ sp needed
 5558 001a 80BD     		pop	{r7, pc}
 5559              		.cfi_endproc
 5560              	.LFE169:
 5562              		.section	.text.tcp_arg,"ax",%progbits
 5563              		.align	1
 5564              		.global	tcp_arg
 5565              		.syntax unified
 5566              		.thumb
 5567              		.thumb_func
 5568              		.fpu fpv4-sp-d16
 5570              	tcp_arg:
 5571              	.LFB170:
1976:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1977:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
1978:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
1979:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Specifies the program specific state that should be passed to all
1980:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * other callback functions. The "pcb" argument is the current TCP
1981:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection control block, and the "arg" argument is the argument
1982:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * that will be passed to the callbacks.
1983:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
1984:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the callback argument
1985:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param arg void pointer argument to pass to callback functions
1986:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
1987:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
1988:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_arg(struct tcp_pcb *pcb, void *arg)
1989:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5572              		.loc 1 1989 1
 5573              		.cfi_startproc
 5574              		@ args = 0, pretend = 0, frame = 8
 5575              		@ frame_needed = 1, uses_anonymous_args = 0
 5576              		@ link register save eliminated.
 5577 0000 80B4     		push	{r7}
 5578              	.LCFI178:
 5579              		.cfi_def_cfa_offset 4
 5580              		.cfi_offset 7, -4
 5581 0002 83B0     		sub	sp, sp, #12
ARM GAS  /tmp/ccFjPNuy.s 			page 136


 5582              	.LCFI179:
 5583              		.cfi_def_cfa_offset 16
 5584 0004 00AF     		add	r7, sp, #0
 5585              	.LCFI180:
 5586              		.cfi_def_cfa_register 7
 5587 0006 7860     		str	r0, [r7, #4]
 5588 0008 3960     		str	r1, [r7]
1990:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
1991:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* This function is allowed to be called for both listen pcbs and
1992:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      connection pcbs. */
1993:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 5589              		.loc 1 1993 6
 5590 000a 7B68     		ldr	r3, [r7, #4]
 5591 000c 002B     		cmp	r3, #0
 5592 000e 02D0     		beq	.L371
1994:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->callback_arg = arg;
 5593              		.loc 1 1994 23
 5594 0010 7B68     		ldr	r3, [r7, #4]
 5595 0012 3A68     		ldr	r2, [r7]
 5596 0014 1A61     		str	r2, [r3, #16]
 5597              	.L371:
1995:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
1996:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5598              		.loc 1 1996 1
 5599 0016 00BF     		nop
 5600 0018 0C37     		adds	r7, r7, #12
 5601              	.LCFI181:
 5602              		.cfi_def_cfa_offset 4
 5603 001a BD46     		mov	sp, r7
 5604              	.LCFI182:
 5605              		.cfi_def_cfa_register 13
 5606              		@ sp needed
 5607 001c 5DF8047B 		ldr	r7, [sp], #4
 5608              	.LCFI183:
 5609              		.cfi_restore 7
 5610              		.cfi_def_cfa_offset 0
 5611 0020 7047     		bx	lr
 5612              		.cfi_endproc
 5613              	.LFE170:
 5615              		.section	.rodata
 5616 060e 0000     		.align	2
 5617              	.LC51:
 5618 0610 696E7661 		.ascii	"invalid socket state for recv callback\000"
 5618      6C696420 
 5618      736F636B 
 5618      65742073 
 5618      74617465 
 5619              		.section	.text.tcp_recv,"ax",%progbits
 5620              		.align	1
 5621              		.global	tcp_recv
 5622              		.syntax unified
 5623              		.thumb
 5624              		.thumb_func
 5625              		.fpu fpv4-sp-d16
 5627              	tcp_recv:
 5628              	.LFB171:
1997:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
ARM GAS  /tmp/ccFjPNuy.s 			page 137


1998:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
1999:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2000:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2001:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Sets the callback function that will be called when new data
2002:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * arrives. The callback function will be passed a NULL pbuf to
2003:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * indicate that the remote host has closed the connection. If the
2004:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * callback function returns ERR_OK or ERR_ABRT it must have
2005:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * freed the pbuf, otherwise it must not have freed it.
2006:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2007:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the recv callback
2008:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param recv callback function to call for this pcb when data is received
2009:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2010:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2011:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_recv(struct tcp_pcb *pcb, tcp_recv_fn recv)
2012:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5629              		.loc 1 2012 1
 5630              		.cfi_startproc
 5631              		@ args = 0, pretend = 0, frame = 8
 5632              		@ frame_needed = 1, uses_anonymous_args = 0
 5633 0000 80B5     		push	{r7, lr}
 5634              	.LCFI184:
 5635              		.cfi_def_cfa_offset 8
 5636              		.cfi_offset 7, -8
 5637              		.cfi_offset 14, -4
 5638 0002 82B0     		sub	sp, sp, #8
 5639              	.LCFI185:
 5640              		.cfi_def_cfa_offset 16
 5641 0004 00AF     		add	r7, sp, #0
 5642              	.LCFI186:
 5643              		.cfi_def_cfa_register 7
 5644 0006 7860     		str	r0, [r7, #4]
 5645 0008 3960     		str	r1, [r7]
2013:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2014:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 5646              		.loc 1 2014 6
 5647 000a 7B68     		ldr	r3, [r7, #4]
 5648 000c 002B     		cmp	r3, #0
 5649 000e 0ED0     		beq	.L375
2015:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for recv callback", pcb->state != LISTEN);
 5650              		.loc 1 2015 5
 5651 0010 7B68     		ldr	r3, [r7, #4]
 5652 0012 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 5653 0014 012B     		cmp	r3, #1
 5654 0016 06D1     		bne	.L374
 5655              		.loc 1 2015 5 is_stmt 0 discriminator 1
 5656 0018 074B     		ldr	r3, .L376
 5657 001a 40F2DF72 		movw	r2, #2015
 5658 001e 0749     		ldr	r1, .L376+4
 5659 0020 0748     		ldr	r0, .L376+8
 5660 0022 FFF7FEFF 		bl	printf
 5661              	.L374:
2016:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->recv = recv;
 5662              		.loc 1 2016 15 is_stmt 1
 5663 0026 7B68     		ldr	r3, [r7, #4]
 5664 0028 3A68     		ldr	r2, [r7]
 5665 002a C3F88420 		str	r2, [r3, #132]
 5666              	.L375:
ARM GAS  /tmp/ccFjPNuy.s 			page 138


2017:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2018:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5667              		.loc 1 2018 1
 5668 002e 00BF     		nop
 5669 0030 0837     		adds	r7, r7, #8
 5670              	.LCFI187:
 5671              		.cfi_def_cfa_offset 8
 5672 0032 BD46     		mov	sp, r7
 5673              	.LCFI188:
 5674              		.cfi_def_cfa_register 13
 5675              		@ sp needed
 5676 0034 80BD     		pop	{r7, pc}
 5677              	.L377:
 5678 0036 00BF     		.align	2
 5679              	.L376:
 5680 0038 78000000 		.word	.LC11
 5681 003c 10060000 		.word	.LC51
 5682 0040 B8000000 		.word	.LC13
 5683              		.cfi_endproc
 5684              	.LFE171:
 5686              		.section	.rodata
 5687 0637 00       		.align	2
 5688              	.LC52:
 5689 0638 696E7661 		.ascii	"invalid socket state for sent callback\000"
 5689      6C696420 
 5689      736F636B 
 5689      65742073 
 5689      74617465 
 5690              		.section	.text.tcp_sent,"ax",%progbits
 5691              		.align	1
 5692              		.global	tcp_sent
 5693              		.syntax unified
 5694              		.thumb
 5695              		.thumb_func
 5696              		.fpu fpv4-sp-d16
 5698              	tcp_sent:
 5699              	.LFB172:
2019:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2020:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2021:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2022:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Specifies the callback function that should be called when data has
2023:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * successfully been received (i.e., acknowledged) by the remote
2024:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * host. The len argument passed to the callback function gives the
2025:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * amount bytes that was acknowledged by the last acknowledgment.
2026:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2027:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the sent callback
2028:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param sent callback function to call for this pcb when data is successfully sent
2029:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2030:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2031:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_sent(struct tcp_pcb *pcb, tcp_sent_fn sent)
2032:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5700              		.loc 1 2032 1
 5701              		.cfi_startproc
 5702              		@ args = 0, pretend = 0, frame = 8
 5703              		@ frame_needed = 1, uses_anonymous_args = 0
 5704 0000 80B5     		push	{r7, lr}
 5705              	.LCFI189:
ARM GAS  /tmp/ccFjPNuy.s 			page 139


 5706              		.cfi_def_cfa_offset 8
 5707              		.cfi_offset 7, -8
 5708              		.cfi_offset 14, -4
 5709 0002 82B0     		sub	sp, sp, #8
 5710              	.LCFI190:
 5711              		.cfi_def_cfa_offset 16
 5712 0004 00AF     		add	r7, sp, #0
 5713              	.LCFI191:
 5714              		.cfi_def_cfa_register 7
 5715 0006 7860     		str	r0, [r7, #4]
 5716 0008 3960     		str	r1, [r7]
2033:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2034:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 5717              		.loc 1 2034 6
 5718 000a 7B68     		ldr	r3, [r7, #4]
 5719 000c 002B     		cmp	r3, #0
 5720 000e 0ED0     		beq	.L381
2035:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for sent callback", pcb->state != LISTEN);
 5721              		.loc 1 2035 5
 5722 0010 7B68     		ldr	r3, [r7, #4]
 5723 0012 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 5724 0014 012B     		cmp	r3, #1
 5725 0016 06D1     		bne	.L380
 5726              		.loc 1 2035 5 is_stmt 0 discriminator 1
 5727 0018 074B     		ldr	r3, .L382
 5728 001a 40F2F372 		movw	r2, #2035
 5729 001e 0749     		ldr	r1, .L382+4
 5730 0020 0748     		ldr	r0, .L382+8
 5731 0022 FFF7FEFF 		bl	printf
 5732              	.L380:
2036:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->sent = sent;
 5733              		.loc 1 2036 15 is_stmt 1
 5734 0026 7B68     		ldr	r3, [r7, #4]
 5735 0028 3A68     		ldr	r2, [r7]
 5736 002a C3F88020 		str	r2, [r3, #128]
 5737              	.L381:
2037:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2038:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5738              		.loc 1 2038 1
 5739 002e 00BF     		nop
 5740 0030 0837     		adds	r7, r7, #8
 5741              	.LCFI192:
 5742              		.cfi_def_cfa_offset 8
 5743 0032 BD46     		mov	sp, r7
 5744              	.LCFI193:
 5745              		.cfi_def_cfa_register 13
 5746              		@ sp needed
 5747 0034 80BD     		pop	{r7, pc}
 5748              	.L383:
 5749 0036 00BF     		.align	2
 5750              	.L382:
 5751 0038 78000000 		.word	.LC11
 5752 003c 38060000 		.word	.LC52
 5753 0040 B8000000 		.word	.LC13
 5754              		.cfi_endproc
 5755              	.LFE172:
 5757              		.section	.rodata
ARM GAS  /tmp/ccFjPNuy.s 			page 140


 5758 065f 00       		.align	2
 5759              	.LC53:
 5760 0660 696E7661 		.ascii	"invalid socket state for err callback\000"
 5760      6C696420 
 5760      736F636B 
 5760      65742073 
 5760      74617465 
 5761              		.section	.text.tcp_err,"ax",%progbits
 5762              		.align	1
 5763              		.global	tcp_err
 5764              		.syntax unified
 5765              		.thumb
 5766              		.thumb_func
 5767              		.fpu fpv4-sp-d16
 5769              	tcp_err:
 5770              	.LFB173:
2039:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2040:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2041:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2042:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used to specify the function that should be called when a fatal error
2043:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * has occurred on the connection.
2044:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
2045:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * If a connection is aborted because of an error, the application is
2046:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * alerted of this event by the err callback. Errors that might abort a
2047:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * connection are when there is a shortage of memory. The callback
2048:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * function to be called is set using the tcp_err() function.
2049:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2050:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @note The corresponding pcb is already freed when this callback is called!
2051:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2052:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the err callback
2053:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param err callback function to call for this pcb when a fatal error
2054:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        has occurred on the connection
2055:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2056:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2057:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_err(struct tcp_pcb *pcb, tcp_err_fn err)
2058:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5771              		.loc 1 2058 1
 5772              		.cfi_startproc
 5773              		@ args = 0, pretend = 0, frame = 8
 5774              		@ frame_needed = 1, uses_anonymous_args = 0
 5775 0000 80B5     		push	{r7, lr}
 5776              	.LCFI194:
 5777              		.cfi_def_cfa_offset 8
 5778              		.cfi_offset 7, -8
 5779              		.cfi_offset 14, -4
 5780 0002 82B0     		sub	sp, sp, #8
 5781              	.LCFI195:
 5782              		.cfi_def_cfa_offset 16
 5783 0004 00AF     		add	r7, sp, #0
 5784              	.LCFI196:
 5785              		.cfi_def_cfa_register 7
 5786 0006 7860     		str	r0, [r7, #4]
 5787 0008 3960     		str	r1, [r7]
2059:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2060:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb != NULL) {
 5788              		.loc 1 2060 6
 5789 000a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccFjPNuy.s 			page 141


 5790 000c 002B     		cmp	r3, #0
 5791 000e 0ED0     		beq	.L387
2061:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("invalid socket state for err callback", pcb->state != LISTEN);
 5792              		.loc 1 2061 5
 5793 0010 7B68     		ldr	r3, [r7, #4]
 5794 0012 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 5795 0014 012B     		cmp	r3, #1
 5796 0016 06D1     		bne	.L386
 5797              		.loc 1 2061 5 is_stmt 0 discriminator 1
 5798 0018 074B     		ldr	r3, .L388
 5799 001a 40F60D02 		movw	r2, #2061
 5800 001e 0749     		ldr	r1, .L388+4
 5801 0020 0748     		ldr	r0, .L388+8
 5802 0022 FFF7FEFF 		bl	printf
 5803              	.L386:
2062:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->errf = err;
 5804              		.loc 1 2062 15 is_stmt 1
 5805 0026 7B68     		ldr	r3, [r7, #4]
 5806 0028 3A68     		ldr	r2, [r7]
 5807 002a C3F89020 		str	r2, [r3, #144]
 5808              	.L387:
2063:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2064:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5809              		.loc 1 2064 1
 5810 002e 00BF     		nop
 5811 0030 0837     		adds	r7, r7, #8
 5812              	.LCFI197:
 5813              		.cfi_def_cfa_offset 8
 5814 0032 BD46     		mov	sp, r7
 5815              	.LCFI198:
 5816              		.cfi_def_cfa_register 13
 5817              		@ sp needed
 5818 0034 80BD     		pop	{r7, pc}
 5819              	.L389:
 5820 0036 00BF     		.align	2
 5821              	.L388:
 5822 0038 78000000 		.word	.LC11
 5823 003c 60060000 		.word	.LC53
 5824 0040 B8000000 		.word	.LC13
 5825              		.cfi_endproc
 5826              	.LFE173:
 5828              		.section	.text.tcp_accept,"ax",%progbits
 5829              		.align	1
 5830              		.global	tcp_accept
 5831              		.syntax unified
 5832              		.thumb
 5833              		.thumb_func
 5834              		.fpu fpv4-sp-d16
 5836              	tcp_accept:
 5837              	.LFB174:
2065:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2066:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2067:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2068:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Used for specifying the function that should be called when a
2069:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * LISTENing connection has been connected to another host.
2070:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2071:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to set the accept callback
ARM GAS  /tmp/ccFjPNuy.s 			page 142


2072:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param accept callback function to call for this pcb when LISTENing
2073:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *        connection has been connected to another host
2074:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2075:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2076:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_accept(struct tcp_pcb *pcb, tcp_accept_fn accept)
2077:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5838              		.loc 1 2077 1
 5839              		.cfi_startproc
 5840              		@ args = 0, pretend = 0, frame = 16
 5841              		@ frame_needed = 1, uses_anonymous_args = 0
 5842              		@ link register save eliminated.
 5843 0000 80B4     		push	{r7}
 5844              	.LCFI199:
 5845              		.cfi_def_cfa_offset 4
 5846              		.cfi_offset 7, -4
 5847 0002 85B0     		sub	sp, sp, #20
 5848              	.LCFI200:
 5849              		.cfi_def_cfa_offset 24
 5850 0004 00AF     		add	r7, sp, #0
 5851              	.LCFI201:
 5852              		.cfi_def_cfa_register 7
 5853 0006 7860     		str	r0, [r7, #4]
 5854 0008 3960     		str	r1, [r7]
2078:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2079:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb != NULL) && (pcb->state == LISTEN)) {
 5855              		.loc 1 2079 6
 5856 000a 7B68     		ldr	r3, [r7, #4]
 5857 000c 002B     		cmp	r3, #0
 5858 000e 08D0     		beq	.L392
 5859              		.loc 1 2079 28 discriminator 1
 5860 0010 7B68     		ldr	r3, [r7, #4]
 5861 0012 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 5862              		.loc 1 2079 21 discriminator 1
 5863 0014 012B     		cmp	r3, #1
 5864 0016 04D1     		bne	.L392
 5865              	.LBB19:
2080:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     struct tcp_pcb_listen *lpcb = (struct tcp_pcb_listen *)pcb;
 5866              		.loc 1 2080 28
 5867 0018 7B68     		ldr	r3, [r7, #4]
 5868 001a FB60     		str	r3, [r7, #12]
2081:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     lpcb->accept = accept;
 5869              		.loc 1 2081 18
 5870 001c FB68     		ldr	r3, [r7, #12]
 5871 001e 3A68     		ldr	r2, [r7]
 5872 0020 9A61     		str	r2, [r3, #24]
 5873              	.L392:
 5874              	.LBE19:
2082:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2083:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5875              		.loc 1 2083 1
 5876 0022 00BF     		nop
 5877 0024 1437     		adds	r7, r7, #20
 5878              	.LCFI202:
 5879              		.cfi_def_cfa_offset 4
 5880 0026 BD46     		mov	sp, r7
 5881              	.LCFI203:
 5882              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccFjPNuy.s 			page 143


 5883              		@ sp needed
 5884 0028 5DF8047B 		ldr	r7, [sp], #4
 5885              	.LCFI204:
 5886              		.cfi_restore 7
 5887              		.cfi_def_cfa_offset 0
 5888 002c 7047     		bx	lr
 5889              		.cfi_endproc
 5890              	.LFE174:
 5892              		.section	.rodata
 5893 0686 0000     		.align	2
 5894              	.LC54:
 5895 0688 7463705F 		.ascii	"tcp_poll: invalid pcb\000"
 5895      706F6C6C 
 5895      3A20696E 
 5895      76616C69 
 5895      64207063 
 5896 069e 0000     		.align	2
 5897              	.LC55:
 5898 06a0 696E7661 		.ascii	"invalid socket state for poll\000"
 5898      6C696420 
 5898      736F636B 
 5898      65742073 
 5898      74617465 
 5899              		.section	.text.tcp_poll,"ax",%progbits
 5900              		.align	1
 5901              		.global	tcp_poll
 5902              		.syntax unified
 5903              		.thumb
 5904              		.thumb_func
 5905              		.fpu fpv4-sp-d16
 5907              	tcp_poll:
 5908              	.LFB175:
2084:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
2085:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2086:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2087:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2088:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @ingroup tcp_raw
2089:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Specifies the polling interval and the callback function that should
2090:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * be called to poll the application. The interval is specified in
2091:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * number of TCP coarse grained timer shots, which typically occurs
2092:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * twice a second. An interval of 10 means that the application would
2093:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * be polled every 5 seconds.
2094:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * 
2095:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * When a connection is idle (i.e., no data is either transmitted or
2096:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * received), lwIP will repeatedly poll the application by calling a
2097:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * specified callback function. This can be used either as a watchdog
2098:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * timer for killing connections that have stayed idle for too long, or
2099:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * as a method of waiting for memory to become available. For instance,
2100:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * if a call to tcp_write() has failed because memory wasn't available,
2101:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * the application may use the polling functionality to call tcp_write()
2102:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * again when the connection has been idle for a while.
2103:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2104:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2105:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_poll(struct tcp_pcb *pcb, tcp_poll_fn poll, u8_t interval)
2106:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5909              		.loc 1 2106 1
 5910              		.cfi_startproc
ARM GAS  /tmp/ccFjPNuy.s 			page 144


 5911              		@ args = 0, pretend = 0, frame = 16
 5912              		@ frame_needed = 1, uses_anonymous_args = 0
 5913 0000 80B5     		push	{r7, lr}
 5914              	.LCFI205:
 5915              		.cfi_def_cfa_offset 8
 5916              		.cfi_offset 7, -8
 5917              		.cfi_offset 14, -4
 5918 0002 84B0     		sub	sp, sp, #16
 5919              	.LCFI206:
 5920              		.cfi_def_cfa_offset 24
 5921 0004 00AF     		add	r7, sp, #0
 5922              	.LCFI207:
 5923              		.cfi_def_cfa_register 7
 5924 0006 F860     		str	r0, [r7, #12]
 5925 0008 B960     		str	r1, [r7, #8]
 5926 000a 1346     		mov	r3, r2
 5927 000c FB71     		strb	r3, [r7, #7]
2107:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT_CORE_LOCKED();
2108:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2109:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_poll: invalid pcb", pcb != NULL, return);
 5928              		.loc 1 2109 3
 5929 000e FB68     		ldr	r3, [r7, #12]
 5930 0010 002B     		cmp	r3, #0
 5931 0012 07D1     		bne	.L394
 5932              		.loc 1 2109 3 is_stmt 0 discriminator 1
 5933 0014 0E4B     		ldr	r3, .L397
 5934 0016 40F63D02 		movw	r2, #2109
 5935 001a 0E49     		ldr	r1, .L397+4
 5936 001c 0E48     		ldr	r0, .L397+8
 5937 001e FFF7FEFF 		bl	printf
 5938 0022 11E0     		b	.L393
 5939              	.L394:
2110:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("invalid socket state for poll", pcb->state != LISTEN);
 5940              		.loc 1 2110 3 is_stmt 1
 5941 0024 FB68     		ldr	r3, [r7, #12]
 5942 0026 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 5943 0028 012B     		cmp	r3, #1
 5944 002a 06D1     		bne	.L396
 5945              		.loc 1 2110 3 is_stmt 0 discriminator 1
 5946 002c 084B     		ldr	r3, .L397
 5947 002e 40F63E02 		movw	r2, #2110
 5948 0032 0A49     		ldr	r1, .L397+12
 5949 0034 0848     		ldr	r0, .L397+8
 5950 0036 FFF7FEFF 		bl	printf
 5951              	.L396:
2111:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2112:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_CALLBACK_API
2113:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->poll = poll;
 5952              		.loc 1 2113 13 is_stmt 1
 5953 003a FB68     		ldr	r3, [r7, #12]
 5954 003c BA68     		ldr	r2, [r7, #8]
 5955 003e C3F88C20 		str	r2, [r3, #140]
2114:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_CALLBACK_API */
2115:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(poll);
2116:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_CALLBACK_API */
2117:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->pollinterval = interval;
 5956              		.loc 1 2117 21
ARM GAS  /tmp/ccFjPNuy.s 			page 145


 5957 0042 FB68     		ldr	r3, [r7, #12]
 5958 0044 FA79     		ldrb	r2, [r7, #7]
 5959 0046 5A77     		strb	r2, [r3, #29]
 5960              	.L393:
2118:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 5961              		.loc 1 2118 1
 5962 0048 1037     		adds	r7, r7, #16
 5963              	.LCFI208:
 5964              		.cfi_def_cfa_offset 8
 5965 004a BD46     		mov	sp, r7
 5966              	.LCFI209:
 5967              		.cfi_def_cfa_register 13
 5968              		@ sp needed
 5969 004c 80BD     		pop	{r7, pc}
 5970              	.L398:
 5971 004e 00BF     		.align	2
 5972              	.L397:
 5973 0050 78000000 		.word	.LC11
 5974 0054 88060000 		.word	.LC54
 5975 0058 B8000000 		.word	.LC13
 5976 005c A0060000 		.word	.LC55
 5977              		.cfi_endproc
 5978              	.LFE175:
 5980              		.section	.rodata
 5981 06be 0000     		.align	2
 5982              	.LC56:
 5983 06c0 7463705F 		.ascii	"tcp_pcb_purge: invalid pcb\000"
 5983      7063625F 
 5983      70757267 
 5983      653A2069 
 5983      6E76616C 
 5984              		.section	.text.tcp_pcb_purge,"ax",%progbits
 5985              		.align	1
 5986              		.global	tcp_pcb_purge
 5987              		.syntax unified
 5988              		.thumb
 5989              		.thumb_func
 5990              		.fpu fpv4-sp-d16
 5992              	tcp_pcb_purge:
 5993              	.LFB176:
2119:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2120:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2121:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Purges a TCP PCB. Removes any buffered data and frees the buffer memory
2122:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * (pcb->ooseq, pcb->unsent and pcb->unacked are freed).
2123:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2124:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to purge. The pcb itself is not deallocated!
2125:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2126:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2127:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_pcb_purge(struct tcp_pcb *pcb)
2128:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 5994              		.loc 1 2128 1
 5995              		.cfi_startproc
 5996              		@ args = 0, pretend = 0, frame = 8
 5997              		@ frame_needed = 1, uses_anonymous_args = 0
 5998 0000 80B5     		push	{r7, lr}
 5999              	.LCFI210:
 6000              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccFjPNuy.s 			page 146


 6001              		.cfi_offset 7, -8
 6002              		.cfi_offset 14, -4
 6003 0002 82B0     		sub	sp, sp, #8
 6004              	.LCFI211:
 6005              		.cfi_def_cfa_offset 16
 6006 0004 00AF     		add	r7, sp, #0
 6007              	.LCFI212:
 6008              		.cfi_def_cfa_register 7
 6009 0006 7860     		str	r0, [r7, #4]
2129:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ERROR("tcp_pcb_purge: invalid pcb", pcb != NULL, return);
 6010              		.loc 1 2129 3
 6011 0008 7B68     		ldr	r3, [r7, #4]
 6012 000a 002B     		cmp	r3, #0
 6013 000c 07D1     		bne	.L400
 6014              		.loc 1 2129 3 is_stmt 0 discriminator 1
 6015 000e 214B     		ldr	r3, .L404
 6016 0010 40F65102 		movw	r2, #2129
 6017 0014 2049     		ldr	r1, .L404+4
 6018 0016 2148     		ldr	r0, .L404+8
 6019 0018 FFF7FEFF 		bl	printf
 6020 001c 37E0     		b	.L399
 6021              	.L400:
2130:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2131:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != CLOSED &&
 6022              		.loc 1 2131 10 is_stmt 1
 6023 001e 7B68     		ldr	r3, [r7, #4]
 6024 0020 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6025              		.loc 1 2131 6
 6026 0022 002B     		cmp	r3, #0
 6027 0024 33D0     		beq	.L399
2132:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != TIME_WAIT &&
 6028              		.loc 1 2132 10 discriminator 1
 6029 0026 7B68     		ldr	r3, [r7, #4]
 6030 0028 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
2131:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != TIME_WAIT &&
 6031              		.loc 1 2131 28 discriminator 1
 6032 002a 0A2B     		cmp	r3, #10
 6033 002c 2FD0     		beq	.L399
2133:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != LISTEN) {
 6034              		.loc 1 2133 10
 6035 002e 7B68     		ldr	r3, [r7, #4]
 6036 0030 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
2132:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->state != TIME_WAIT &&
 6037              		.loc 1 2132 31
 6038 0032 012B     		cmp	r3, #1
 6039 0034 2BD0     		beq	.L399
2134:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2135:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge\n"));
2136:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2137:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_backlog_accepted(pcb);
2138:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2139:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->refused_data != NULL) {
 6040              		.loc 1 2139 12
 6041 0036 7B68     		ldr	r3, [r7, #4]
 6042 0038 9B6F     		ldr	r3, [r3, #120]
 6043              		.loc 1 2139 8
 6044 003a 002B     		cmp	r3, #0
ARM GAS  /tmp/ccFjPNuy.s 			page 147


 6045 003c 07D0     		beq	.L402
2140:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->refused_data\n"));
2141:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pbuf_free(pcb->refused_data);
 6046              		.loc 1 2141 7
 6047 003e 7B68     		ldr	r3, [r7, #4]
 6048 0040 9B6F     		ldr	r3, [r3, #120]
 6049 0042 1846     		mov	r0, r3
 6050 0044 FFF7FEFF 		bl	pbuf_free
2142:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb->refused_data = NULL;
 6051              		.loc 1 2142 25
 6052 0048 7B68     		ldr	r3, [r7, #4]
 6053 004a 0022     		movs	r2, #0
 6054 004c 9A67     		str	r2, [r3, #120]
 6055              	.L402:
2143:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2144:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unsent != NULL) {
2145:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: not all data sent\n"));
2146:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2147:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->unacked != NULL) {
2148:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->unacked\n"));
2149:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2150:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
2151:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (pcb->ooseq != NULL) {
 6056              		.loc 1 2151 12
 6057 004e 7B68     		ldr	r3, [r7, #4]
 6058 0050 5B6F     		ldr	r3, [r3, #116]
 6059              		.loc 1 2151 8
 6060 0052 002B     		cmp	r3, #0
 6061 0054 02D0     		beq	.L403
2152:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(TCP_DEBUG, ("tcp_pcb_purge: data left on ->ooseq\n"));
2153:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_free_ooseq(pcb);
 6062              		.loc 1 2153 7
 6063 0056 7868     		ldr	r0, [r7, #4]
 6064 0058 FFF7FEFF 		bl	tcp_free_ooseq
 6065              	.L403:
2154:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2155:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
2156:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2157:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* Stop the retransmission timer as it will expect data on unacked
2158:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        queue if it fires */
2159:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->rtime = -1;
 6066              		.loc 1 2159 16
 6067 005c 7B68     		ldr	r3, [r7, #4]
 6068 005e 4FF6FF72 		movw	r2, #65535
 6069 0062 1A86     		strh	r2, [r3, #48]	@ movhi
2160:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2161:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->unsent);
 6070              		.loc 1 2161 5
 6071 0064 7B68     		ldr	r3, [r7, #4]
 6072 0066 DB6E     		ldr	r3, [r3, #108]
 6073 0068 1846     		mov	r0, r3
 6074 006a FFF7FEFF 		bl	tcp_segs_free
2162:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->unacked);
 6075              		.loc 1 2162 5
 6076 006e 7B68     		ldr	r3, [r7, #4]
 6077 0070 1B6F     		ldr	r3, [r3, #112]
 6078 0072 1846     		mov	r0, r3
ARM GAS  /tmp/ccFjPNuy.s 			page 148


 6079 0074 FFF7FEFF 		bl	tcp_segs_free
2163:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->unacked = pcb->unsent = NULL;
 6080              		.loc 1 2163 32
 6081 0078 7B68     		ldr	r3, [r7, #4]
 6082 007a 0022     		movs	r2, #0
 6083 007c DA66     		str	r2, [r3, #108]
 6084              		.loc 1 2163 23
 6085 007e 7B68     		ldr	r3, [r7, #4]
 6086 0080 DA6E     		ldr	r2, [r3, #108]
 6087              		.loc 1 2163 18
 6088 0082 7B68     		ldr	r3, [r7, #4]
 6089 0084 1A67     		str	r2, [r3, #112]
2164:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_OVERSIZE
2165:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->unsent_oversize = 0;
 6090              		.loc 1 2165 26
 6091 0086 7B68     		ldr	r3, [r7, #4]
 6092 0088 0022     		movs	r2, #0
 6093 008a A3F86820 		strh	r2, [r3, #104]	@ movhi
 6094              	.L399:
2166:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_OVERSIZE */
2167:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2168:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6095              		.loc 1 2168 1
 6096 008e 0837     		adds	r7, r7, #8
 6097              	.LCFI213:
 6098              		.cfi_def_cfa_offset 8
 6099 0090 BD46     		mov	sp, r7
 6100              	.LCFI214:
 6101              		.cfi_def_cfa_register 13
 6102              		@ sp needed
 6103 0092 80BD     		pop	{r7, pc}
 6104              	.L405:
 6105              		.align	2
 6106              	.L404:
 6107 0094 78000000 		.word	.LC11
 6108 0098 C0060000 		.word	.LC56
 6109 009c B8000000 		.word	.LC13
 6110              		.cfi_endproc
 6111              	.LFE176:
 6113              		.section	.rodata
 6114 06db 00       		.align	2
 6115              	.LC57:
 6116 06dc 7463705F 		.ascii	"tcp_pcb_remove: invalid pcb\000"
 6116      7063625F 
 6116      72656D6F 
 6116      76653A20 
 6116      696E7661 
 6117              		.align	2
 6118              	.LC58:
 6119 06f8 7463705F 		.ascii	"tcp_pcb_remove: invalid pcblist\000"
 6119      7063625F 
 6119      72656D6F 
 6119      76653A20 
 6119      696E7661 
 6120              		.align	2
 6121              	.LC59:
 6122 0718 756E7365 		.ascii	"unsent segments leaking\000"
ARM GAS  /tmp/ccFjPNuy.s 			page 149


 6122      6E742073 
 6122      65676D65 
 6122      6E747320 
 6122      6C65616B 
 6123              		.align	2
 6124              	.LC60:
 6125 0730 756E6163 		.ascii	"unacked segments leaking\000"
 6125      6B656420 
 6125      7365676D 
 6125      656E7473 
 6125      206C6561 
 6126 0749 000000   		.align	2
 6127              	.LC61:
 6128 074c 6F6F7365 		.ascii	"ooseq segments leaking\000"
 6128      71207365 
 6128      676D656E 
 6128      7473206C 
 6128      65616B69 
 6129              		.section	.text.tcp_pcb_remove,"ax",%progbits
 6130              		.align	1
 6131              		.global	tcp_pcb_remove
 6132              		.syntax unified
 6133              		.thumb
 6134              		.thumb_func
 6135              		.fpu fpv4-sp-d16
 6137              	tcp_pcb_remove:
 6138              	.LFB177:
2169:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2170:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2171:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Purges the PCB and removes it from a PCB list. Any delayed ACKs are sent first.
2172:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2173:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcblist PCB list to purge.
2174:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param pcb tcp_pcb to purge. The pcb itself is NOT deallocated!
2175:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2176:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2177:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_pcb_remove(struct tcp_pcb **pcblist, struct tcp_pcb *pcb)
2178:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6139              		.loc 1 2178 1
 6140              		.cfi_startproc
 6141              		@ args = 0, pretend = 0, frame = 16
 6142              		@ frame_needed = 1, uses_anonymous_args = 0
 6143 0000 80B5     		push	{r7, lr}
 6144              	.LCFI215:
 6145              		.cfi_def_cfa_offset 8
 6146              		.cfi_offset 7, -8
 6147              		.cfi_offset 14, -4
 6148 0002 84B0     		sub	sp, sp, #16
 6149              	.LCFI216:
 6150              		.cfi_def_cfa_offset 24
 6151 0004 00AF     		add	r7, sp, #0
 6152              	.LCFI217:
 6153              		.cfi_def_cfa_register 7
 6154 0006 7860     		str	r0, [r7, #4]
 6155 0008 3960     		str	r1, [r7]
2179:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: invalid pcb", pcb != NULL);
 6156              		.loc 1 2179 3
 6157 000a 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccFjPNuy.s 			page 150


 6158 000c 002B     		cmp	r3, #0
 6159 000e 06D1     		bne	.L407
 6160              		.loc 1 2179 3 is_stmt 0 discriminator 1
 6161 0010 3E4B     		ldr	r3, .L418
 6162 0012 40F68302 		movw	r2, #2179
 6163 0016 3E49     		ldr	r1, .L418+4
 6164 0018 3E48     		ldr	r0, .L418+8
 6165 001a FFF7FEFF 		bl	printf
 6166              	.L407:
2180:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: invalid pcblist", pcblist != NULL);
 6167              		.loc 1 2180 3 is_stmt 1
 6168 001e 7B68     		ldr	r3, [r7, #4]
 6169 0020 002B     		cmp	r3, #0
 6170 0022 06D1     		bne	.L408
 6171              		.loc 1 2180 3 is_stmt 0 discriminator 1
 6172 0024 394B     		ldr	r3, .L418
 6173 0026 40F68402 		movw	r2, #2180
 6174 002a 3B49     		ldr	r1, .L418+12
 6175 002c 3948     		ldr	r0, .L418+8
 6176 002e FFF7FEFF 		bl	printf
 6177              	.L408:
2181:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2182:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   TCP_RMV(pcblist, pcb);
 6178              		.loc 1 2182 3 is_stmt 1
 6179 0032 7B68     		ldr	r3, [r7, #4]
 6180 0034 1B68     		ldr	r3, [r3]
 6181 0036 3A68     		ldr	r2, [r7]
 6182 0038 9A42     		cmp	r2, r3
 6183 003a 05D1     		bne	.L409
 6184              		.loc 1 2182 3 is_stmt 0 discriminator 1
 6185 003c 7B68     		ldr	r3, [r7, #4]
 6186 003e 1B68     		ldr	r3, [r3]
 6187 0040 DA68     		ldr	r2, [r3, #12]
 6188 0042 7B68     		ldr	r3, [r7, #4]
 6189 0044 1A60     		str	r2, [r3]
 6190 0046 13E0     		b	.L410
 6191              	.L409:
 6192              	.LBB20:
 6193              		.loc 1 2182 3 discriminator 2
 6194 0048 7B68     		ldr	r3, [r7, #4]
 6195 004a 1B68     		ldr	r3, [r3]
 6196 004c FB60     		str	r3, [r7, #12]
 6197 004e 0CE0     		b	.L411
 6198              	.L413:
 6199              		.loc 1 2182 3 discriminator 9
 6200 0050 FB68     		ldr	r3, [r7, #12]
 6201 0052 DB68     		ldr	r3, [r3, #12]
 6202 0054 3A68     		ldr	r2, [r7]
 6203 0056 9A42     		cmp	r2, r3
 6204 0058 04D1     		bne	.L412
 6205              		.loc 1 2182 3 discriminator 5
 6206 005a 3B68     		ldr	r3, [r7]
 6207 005c DA68     		ldr	r2, [r3, #12]
 6208 005e FB68     		ldr	r3, [r7, #12]
 6209 0060 DA60     		str	r2, [r3, #12]
 6210 0062 05E0     		b	.L410
 6211              	.L412:
ARM GAS  /tmp/ccFjPNuy.s 			page 151


 6212              		.loc 1 2182 3 discriminator 6
 6213 0064 FB68     		ldr	r3, [r7, #12]
 6214 0066 DB68     		ldr	r3, [r3, #12]
 6215 0068 FB60     		str	r3, [r7, #12]
 6216              	.L411:
 6217              		.loc 1 2182 3 discriminator 8
 6218 006a FB68     		ldr	r3, [r7, #12]
 6219 006c 002B     		cmp	r3, #0
 6220 006e EFD1     		bne	.L413
 6221              	.L410:
 6222              	.LBE20:
 6223              		.loc 1 2182 3 discriminator 10
 6224 0070 3B68     		ldr	r3, [r7]
 6225 0072 0022     		movs	r2, #0
 6226 0074 DA60     		str	r2, [r3, #12]
2183:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2184:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   tcp_pcb_purge(pcb);
 6227              		.loc 1 2184 3 is_stmt 1 discriminator 10
 6228 0076 3868     		ldr	r0, [r7]
 6229 0078 FFF7FEFF 		bl	tcp_pcb_purge
2185:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2186:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* if there is an outstanding delayed ACKs, send it */
2187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if ((pcb->state != TIME_WAIT) &&
 6230              		.loc 1 2187 11 discriminator 10
 6231 007c 3B68     		ldr	r3, [r7]
 6232 007e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6233              		.loc 1 2187 6 discriminator 10
 6234 0080 0A2B     		cmp	r3, #10
 6235 0082 13D0     		beq	.L414
2188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->state != LISTEN) &&
 6236              		.loc 1 2188 11 discriminator 1
 6237 0084 3B68     		ldr	r3, [r7]
 6238 0086 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
2187:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->state != LISTEN) &&
 6239              		.loc 1 2187 33 discriminator 1
 6240 0088 012B     		cmp	r3, #1
 6241 008a 0FD0     		beq	.L414
2189:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->flags & TF_ACK_DELAY)) {
 6242              		.loc 1 2189 11
 6243 008c 3B68     		ldr	r3, [r7]
 6244 008e 5B8B     		ldrh	r3, [r3, #26]
 6245              		.loc 1 2189 19
 6246 0090 03F00103 		and	r3, r3, #1
2188:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       (pcb->state != LISTEN) &&
 6247              		.loc 1 2188 30
 6248 0094 002B     		cmp	r3, #0
 6249 0096 09D0     		beq	.L414
2190:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_ack_now(pcb);
 6250              		.loc 1 2190 5
 6251 0098 3B68     		ldr	r3, [r7]
 6252 009a 5B8B     		ldrh	r3, [r3, #26]
 6253 009c 43F00203 		orr	r3, r3, #2
 6254 00a0 9AB2     		uxth	r2, r3
 6255 00a2 3B68     		ldr	r3, [r7]
 6256 00a4 5A83     		strh	r2, [r3, #26]	@ movhi
2191:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_output(pcb);
 6257              		.loc 1 2191 5
ARM GAS  /tmp/ccFjPNuy.s 			page 152


 6258 00a6 3868     		ldr	r0, [r7]
 6259 00a8 FFF7FEFF 		bl	tcp_output
 6260              	.L414:
2192:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2193:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2194:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->state != LISTEN) {
 6261              		.loc 1 2194 10
 6262 00ac 3B68     		ldr	r3, [r7]
 6263 00ae 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 6264              		.loc 1 2194 6
 6265 00b0 012B     		cmp	r3, #1
 6266 00b2 20D0     		beq	.L415
2195:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unsent segments leaking", pcb->unsent == NULL);
 6267              		.loc 1 2195 5
 6268 00b4 3B68     		ldr	r3, [r7]
 6269 00b6 DB6E     		ldr	r3, [r3, #108]
 6270 00b8 002B     		cmp	r3, #0
 6271 00ba 06D0     		beq	.L416
 6272              		.loc 1 2195 5 is_stmt 0 discriminator 1
 6273 00bc 134B     		ldr	r3, .L418
 6274 00be 40F69302 		movw	r2, #2195
 6275 00c2 1649     		ldr	r1, .L418+16
 6276 00c4 1348     		ldr	r0, .L418+8
 6277 00c6 FFF7FEFF 		bl	printf
 6278              	.L416:
2196:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("unacked segments leaking", pcb->unacked == NULL);
 6279              		.loc 1 2196 5 is_stmt 1
 6280 00ca 3B68     		ldr	r3, [r7]
 6281 00cc 1B6F     		ldr	r3, [r3, #112]
 6282 00ce 002B     		cmp	r3, #0
 6283 00d0 06D0     		beq	.L417
 6284              		.loc 1 2196 5 is_stmt 0 discriminator 1
 6285 00d2 0E4B     		ldr	r3, .L418
 6286 00d4 40F69402 		movw	r2, #2196
 6287 00d8 1149     		ldr	r1, .L418+20
 6288 00da 0E48     		ldr	r0, .L418+8
 6289 00dc FFF7FEFF 		bl	printf
 6290              	.L417:
2197:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
2198:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     LWIP_ASSERT("ooseq segments leaking", pcb->ooseq == NULL);
 6291              		.loc 1 2198 5 is_stmt 1
 6292 00e0 3B68     		ldr	r3, [r7]
 6293 00e2 5B6F     		ldr	r3, [r3, #116]
 6294 00e4 002B     		cmp	r3, #0
 6295 00e6 06D0     		beq	.L415
 6296              		.loc 1 2198 5 is_stmt 0 discriminator 1
 6297 00e8 084B     		ldr	r3, .L418
 6298 00ea 40F69602 		movw	r2, #2198
 6299 00ee 0D49     		ldr	r1, .L418+24
 6300 00f0 0848     		ldr	r0, .L418+8
 6301 00f2 FFF7FEFF 		bl	printf
 6302              	.L415:
2199:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_QUEUE_OOSEQ */
2200:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2201:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2202:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->state = CLOSED;
 6303              		.loc 1 2202 14 is_stmt 1
ARM GAS  /tmp/ccFjPNuy.s 			page 153


 6304 00f6 3B68     		ldr	r3, [r7]
 6305 00f8 0022     		movs	r2, #0
 6306 00fa 1A75     		strb	r2, [r3, #20]
2203:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   /* reset the local port to prevent the pcb from being 'bound' */
2204:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb->local_port = 0;
 6307              		.loc 1 2204 19
 6308 00fc 3B68     		ldr	r3, [r7]
 6309 00fe 0022     		movs	r2, #0
 6310 0100 DA82     		strh	r2, [r3, #22]	@ movhi
2205:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2206:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_pcb_remove: tcp_pcbs_sane()", tcp_pcbs_sane());
2207:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6311              		.loc 1 2207 1
 6312 0102 00BF     		nop
 6313 0104 1037     		adds	r7, r7, #16
 6314              	.LCFI218:
 6315              		.cfi_def_cfa_offset 8
 6316 0106 BD46     		mov	sp, r7
 6317              	.LCFI219:
 6318              		.cfi_def_cfa_register 13
 6319              		@ sp needed
 6320 0108 80BD     		pop	{r7, pc}
 6321              	.L419:
 6322 010a 00BF     		.align	2
 6323              	.L418:
 6324 010c 78000000 		.word	.LC11
 6325 0110 DC060000 		.word	.LC57
 6326 0114 B8000000 		.word	.LC13
 6327 0118 F8060000 		.word	.LC58
 6328 011c 18070000 		.word	.LC59
 6329 0120 30070000 		.word	.LC60
 6330 0124 4C070000 		.word	.LC61
 6331              		.cfi_endproc
 6332              	.LFE177:
 6334              		.section	.rodata
 6335 0763 00       		.align	2
 6336              	.LC62:
 6337 0764 7463705F 		.ascii	"tcp_next_iss: invalid pcb\000"
 6337      6E657874 
 6337      5F697373 
 6337      3A20696E 
 6337      76616C69 
 6338              		.section	.text.tcp_next_iss,"ax",%progbits
 6339              		.align	1
 6340              		.global	tcp_next_iss
 6341              		.syntax unified
 6342              		.thumb
 6343              		.thumb_func
 6344              		.fpu fpv4-sp-d16
 6346              	tcp_next_iss:
 6347              	.LFB178:
2208:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2209:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2210:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Calculates a new initial sequence number for new connections.
2211:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2212:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @return u32_t pseudo random sequence number
2213:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
ARM GAS  /tmp/ccFjPNuy.s 			page 154


2214:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u32_t
2215:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_next_iss(struct tcp_pcb *pcb)
2216:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6348              		.loc 1 2216 1
 6349              		.cfi_startproc
 6350              		@ args = 0, pretend = 0, frame = 8
 6351              		@ frame_needed = 1, uses_anonymous_args = 0
 6352 0000 80B5     		push	{r7, lr}
 6353              	.LCFI220:
 6354              		.cfi_def_cfa_offset 8
 6355              		.cfi_offset 7, -8
 6356              		.cfi_offset 14, -4
 6357 0002 82B0     		sub	sp, sp, #8
 6358              	.LCFI221:
 6359              		.cfi_def_cfa_offset 16
 6360 0004 00AF     		add	r7, sp, #0
 6361              	.LCFI222:
 6362              		.cfi_def_cfa_register 7
 6363 0006 7860     		str	r0, [r7, #4]
2217:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #ifdef LWIP_HOOK_TCP_ISN
2218:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_next_iss: invalid pcb", pcb != NULL);
2219:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return LWIP_HOOK_TCP_ISN(&pcb->local_ip, pcb->local_port, &pcb->remote_ip, pcb->remote_port);
2220:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #else /* LWIP_HOOK_TCP_ISN */
2221:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   static u32_t iss = 6510;
2222:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2223:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_next_iss: invalid pcb", pcb != NULL);
 6364              		.loc 1 2223 3
 6365 0008 7B68     		ldr	r3, [r7, #4]
 6366 000a 002B     		cmp	r3, #0
 6367 000c 06D1     		bne	.L421
 6368              		.loc 1 2223 3 is_stmt 0 discriminator 1
 6369 000e 0A4B     		ldr	r3, .L423
 6370 0010 40F6AF02 		movw	r2, #2223
 6371 0014 0949     		ldr	r1, .L423+4
 6372 0016 0A48     		ldr	r0, .L423+8
 6373 0018 FFF7FEFF 		bl	printf
 6374              	.L421:
2224:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(pcb);
2225:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2226:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   iss += tcp_ticks;       /* XXX */
 6375              		.loc 1 2226 7 is_stmt 1
 6376 001c 094B     		ldr	r3, .L423+12
 6377 001e 1A68     		ldr	r2, [r3]
 6378 0020 094B     		ldr	r3, .L423+16
 6379 0022 1B68     		ldr	r3, [r3]
 6380 0024 1344     		add	r3, r3, r2
 6381 0026 074A     		ldr	r2, .L423+12
 6382 0028 1360     		str	r3, [r2]
2227:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return iss;
 6383              		.loc 1 2227 10
 6384 002a 064B     		ldr	r3, .L423+12
 6385 002c 1B68     		ldr	r3, [r3]
2228:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_HOOK_TCP_ISN */
2229:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6386              		.loc 1 2229 1
 6387 002e 1846     		mov	r0, r3
 6388 0030 0837     		adds	r7, r7, #8
ARM GAS  /tmp/ccFjPNuy.s 			page 155


 6389              	.LCFI223:
 6390              		.cfi_def_cfa_offset 8
 6391 0032 BD46     		mov	sp, r7
 6392              	.LCFI224:
 6393              		.cfi_def_cfa_register 13
 6394              		@ sp needed
 6395 0034 80BD     		pop	{r7, pc}
 6396              	.L424:
 6397 0036 00BF     		.align	2
 6398              	.L423:
 6399 0038 78000000 		.word	.LC11
 6400 003c 64070000 		.word	.LC62
 6401 0040 B8000000 		.word	.LC13
 6402 0044 00000000 		.word	iss.10615
 6403 0048 00000000 		.word	tcp_ticks
 6404              		.cfi_endproc
 6405              	.LFE178:
 6407              		.section	.rodata
 6408 077e 0000     		.align	2
 6409              	.LC63:
 6410 0780 7463705F 		.ascii	"tcp_eff_send_mss_netif: invalid dst_ip\000"
 6410      6566665F 
 6410      73656E64 
 6410      5F6D7373 
 6410      5F6E6574 
 6411              		.section	.text.tcp_eff_send_mss_netif,"ax",%progbits
 6412              		.align	1
 6413              		.global	tcp_eff_send_mss_netif
 6414              		.syntax unified
 6415              		.thumb
 6416              		.thumb_func
 6417              		.fpu fpv4-sp-d16
 6419              	tcp_eff_send_mss_netif:
 6420              	.LFB179:
2230:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2231:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_CALCULATE_EFF_SEND_MSS
2232:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /**
2233:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * Calculates the effective send mss that can be used for a specific IP address
2234:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * by calculating the minimum of TCP_MSS and the mtu (if set) of the target
2235:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * netif (if not NULL).
2236:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2237:Middlewares/Third_Party/LwIP/src/core/tcp.c **** u16_t
2238:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_eff_send_mss_netif(u16_t sendmss, struct netif *outif, const ip_addr_t *dest)
2239:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6421              		.loc 1 2239 1
 6422              		.cfi_startproc
 6423              		@ args = 0, pretend = 0, frame = 24
 6424              		@ frame_needed = 1, uses_anonymous_args = 0
 6425 0000 80B5     		push	{r7, lr}
 6426              	.LCFI225:
 6427              		.cfi_def_cfa_offset 8
 6428              		.cfi_offset 7, -8
 6429              		.cfi_offset 14, -4
 6430 0002 86B0     		sub	sp, sp, #24
 6431              	.LCFI226:
 6432              		.cfi_def_cfa_offset 32
 6433 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccFjPNuy.s 			page 156


 6434              	.LCFI227:
 6435              		.cfi_def_cfa_register 7
 6436 0006 0346     		mov	r3, r0
 6437 0008 B960     		str	r1, [r7, #8]
 6438 000a 7A60     		str	r2, [r7, #4]
 6439 000c FB81     		strh	r3, [r7, #14]	@ movhi
2240:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t mss_s;
2241:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   u16_t mtu;
2242:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2243:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_UNUSED_ARG(dest); /* in case IPv6 is disabled */
2244:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2245:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_eff_send_mss_netif: invalid dst_ip", dest != NULL);
 6440              		.loc 1 2245 3
 6441 000e 7B68     		ldr	r3, [r7, #4]
 6442 0010 002B     		cmp	r3, #0
 6443 0012 06D1     		bne	.L426
 6444              		.loc 1 2245 3 is_stmt 0 discriminator 1
 6445 0014 144B     		ldr	r3, .L432
 6446 0016 40F6C502 		movw	r2, #2245
 6447 001a 1449     		ldr	r1, .L432+4
 6448 001c 1448     		ldr	r0, .L432+8
 6449 001e FFF7FEFF 		bl	printf
 6450              	.L426:
2246:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2247:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
2248:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2249:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (IP_IS_V6(dest))
2250:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2251:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
2252:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* First look in destination cache, to see if there is a Path MTU. */
2253:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mtu = nd6_get_destination_mtu(ip_2_ip6(dest), outif);
2254:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2255:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2256:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   else
2257:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2258:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 */
2259:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2260:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   {
2261:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (outif == NULL) {
 6451              		.loc 1 2261 8 is_stmt 1
 6452 0022 BB68     		ldr	r3, [r7, #8]
 6453 0024 002B     		cmp	r3, #0
 6454 0026 01D1     		bne	.L427
2262:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       return sendmss;
 6455              		.loc 1 2262 14
 6456 0028 FB89     		ldrh	r3, [r7, #14]
 6457 002a 19E0     		b	.L428
 6458              	.L427:
2263:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2264:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mtu = outif->mtu;
 6459              		.loc 1 2264 9
 6460 002c BB68     		ldr	r3, [r7, #8]
 6461 002e 1B8D     		ldrh	r3, [r3, #40]	@ movhi
 6462 0030 FB82     		strh	r3, [r7, #22]	@ movhi
2265:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2266:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2267:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
ARM GAS  /tmp/ccFjPNuy.s 			page 157


2268:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (mtu != 0) {
 6463              		.loc 1 2268 6
 6464 0032 FB8A     		ldrh	r3, [r7, #22]
 6465 0034 002B     		cmp	r3, #0
 6466 0036 12D0     		beq	.L429
 6467              	.LBB21:
2269:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     u16_t offset;
2270:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV6
2271:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2272:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (IP_IS_V6(dest))
2273:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2274:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     {
2275:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       offset = IP6_HLEN + TCP_HLEN;
2276:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2277:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2278:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     else
2279:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2280:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV6 */
2281:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_IPV4
2282:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     {
2283:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       offset = IP_HLEN + TCP_HLEN;
 6468              		.loc 1 2283 14
 6469 0038 2823     		movs	r3, #40
 6470 003a BB82     		strh	r3, [r7, #20]	@ movhi
2284:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2285:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_IPV4 */
2286:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     mss_s = (mtu > offset) ? (u16_t)(mtu - offset) : 0;
 6471              		.loc 1 2286 11
 6472 003c FA8A     		ldrh	r2, [r7, #22]
 6473 003e BB8A     		ldrh	r3, [r7, #20]
 6474 0040 9A42     		cmp	r2, r3
 6475 0042 04D9     		bls	.L430
 6476              		.loc 1 2286 11 is_stmt 0 discriminator 1
 6477 0044 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 6478 0046 BB8A     		ldrh	r3, [r7, #20]	@ movhi
 6479 0048 D31A     		subs	r3, r2, r3
 6480 004a 9BB2     		uxth	r3, r3
 6481 004c 00E0     		b	.L431
 6482              	.L430:
 6483              		.loc 1 2286 11 discriminator 2
 6484 004e 0023     		movs	r3, #0
 6485              	.L431:
 6486              		.loc 1 2286 11 discriminator 4
 6487 0050 7B82     		strh	r3, [r7, #18]	@ movhi
2287:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* RFC 1122, chap 4.2.2.6:
2288:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * Eff.snd.MSS = min(SendMSS+20, MMS_S) - TCPhdrsize - IPoptionsize
2289:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      * We correct for TCP options in tcp_write(), and don't support IP options.
2290:Middlewares/Third_Party/LwIP/src/core/tcp.c ****      */
2291:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     sendmss = LWIP_MIN(sendmss, mss_s);
 6488              		.loc 1 2291 13 is_stmt 1 discriminator 4
 6489 0052 7A8A     		ldrh	r2, [r7, #18]
 6490 0054 FB89     		ldrh	r3, [r7, #14]
 6491 0056 9342     		cmp	r3, r2
 6492 0058 28BF     		it	cs
 6493 005a 1346     		movcs	r3, r2
 6494 005c FB81     		strh	r3, [r7, #14]	@ movhi
 6495              	.L429:
ARM GAS  /tmp/ccFjPNuy.s 			page 158


 6496              	.LBE21:
2292:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2293:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return sendmss;
 6497              		.loc 1 2293 10
 6498 005e FB89     		ldrh	r3, [r7, #14]
 6499              	.L428:
2294:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6500              		.loc 1 2294 1
 6501 0060 1846     		mov	r0, r3
 6502 0062 1837     		adds	r7, r7, #24
 6503              	.LCFI228:
 6504              		.cfi_def_cfa_offset 8
 6505 0064 BD46     		mov	sp, r7
 6506              	.LCFI229:
 6507              		.cfi_def_cfa_register 13
 6508              		@ sp needed
 6509 0066 80BD     		pop	{r7, pc}
 6510              	.L433:
 6511              		.align	2
 6512              	.L432:
 6513 0068 78000000 		.word	.LC11
 6514 006c 80070000 		.word	.LC63
 6515 0070 B8000000 		.word	.LC13
 6516              		.cfi_endproc
 6517              	.LFE179:
 6519              		.section	.rodata
 6520 07a7 00       		.align	2
 6521              	.LC64:
 6522 07a8 7463705F 		.ascii	"tcp_netif_ip_addr_changed_pcblist: invalid old_addr"
 6522      6E657469 
 6522      665F6970 
 6522      5F616464 
 6522      725F6368 
 6523 07db 00       		.ascii	"\000"
 6524              		.section	.text.tcp_netif_ip_addr_changed_pcblist,"ax",%progbits
 6525              		.align	1
 6526              		.syntax unified
 6527              		.thumb
 6528              		.thumb_func
 6529              		.fpu fpv4-sp-d16
 6531              	tcp_netif_ip_addr_changed_pcblist:
 6532              	.LFB180:
2295:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* TCP_CALCULATE_EFF_SEND_MSS */
2296:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2297:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** Helper function for tcp_netif_ip_addr_changed() that iterates a pcb list */
2298:Middlewares/Third_Party/LwIP/src/core/tcp.c **** static void
2299:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_netif_ip_addr_changed_pcblist(const ip_addr_t *old_addr, struct tcp_pcb *pcb_list)
2300:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6533              		.loc 1 2300 1
 6534              		.cfi_startproc
 6535              		@ args = 0, pretend = 0, frame = 16
 6536              		@ frame_needed = 1, uses_anonymous_args = 0
 6537 0000 80B5     		push	{r7, lr}
 6538              	.LCFI230:
 6539              		.cfi_def_cfa_offset 8
 6540              		.cfi_offset 7, -8
 6541              		.cfi_offset 14, -4
ARM GAS  /tmp/ccFjPNuy.s 			page 159


 6542 0002 84B0     		sub	sp, sp, #16
 6543              	.LCFI231:
 6544              		.cfi_def_cfa_offset 24
 6545 0004 00AF     		add	r7, sp, #0
 6546              	.LCFI232:
 6547              		.cfi_def_cfa_register 7
 6548 0006 7860     		str	r0, [r7, #4]
 6549 0008 3960     		str	r1, [r7]
2301:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb *pcb;
2302:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   pcb = pcb_list;
 6550              		.loc 1 2302 7
 6551 000a 3B68     		ldr	r3, [r7]
 6552 000c FB60     		str	r3, [r7, #12]
2303:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2304:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   LWIP_ASSERT("tcp_netif_ip_addr_changed_pcblist: invalid old_addr", old_addr != NULL);
 6553              		.loc 1 2304 3
 6554 000e 7B68     		ldr	r3, [r7, #4]
 6555 0010 002B     		cmp	r3, #0
 6556 0012 19D1     		bne	.L436
 6557              		.loc 1 2304 3 is_stmt 0 discriminator 1
 6558 0014 104B     		ldr	r3, .L439
 6559 0016 4FF41062 		mov	r2, #2304
 6560 001a 1049     		ldr	r1, .L439+4
 6561 001c 1048     		ldr	r0, .L439+8
 6562 001e FFF7FEFF 		bl	printf
2305:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2306:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   while (pcb != NULL) {
 6563              		.loc 1 2306 9 is_stmt 1 discriminator 1
 6564 0022 11E0     		b	.L436
 6565              	.L438:
2307:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* PCB bound to current local interface address? */
2308:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (ip_addr_cmp(&pcb->local_ip, old_addr)
 6566              		.loc 1 2308 9
 6567 0024 FB68     		ldr	r3, [r7, #12]
 6568 0026 1A68     		ldr	r2, [r3]
 6569 0028 7B68     		ldr	r3, [r7, #4]
 6570 002a 1B68     		ldr	r3, [r3]
 6571              		.loc 1 2308 8
 6572 002c 9A42     		cmp	r2, r3
 6573 002e 08D1     		bne	.L437
 6574              	.LBB22:
2309:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_AUTOIP
2310:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* connections to link-local addresses must persist (RFC3927 ch. 1.9) */
2311:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         && (!IP_IS_V4_VAL(pcb->local_ip) || !ip4_addr_islinklocal(ip_2_ip4(&pcb->local_ip)))
2312:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_AUTOIP */
2313:Middlewares/Third_Party/LwIP/src/core/tcp.c ****        ) {
2314:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* this connection must be aborted */
2315:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       struct tcp_pcb *next = pcb->next;
 6575              		.loc 1 2315 23
 6576 0030 FB68     		ldr	r3, [r7, #12]
 6577 0032 DB68     		ldr	r3, [r3, #12]
 6578 0034 BB60     		str	r3, [r7, #8]
2316:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       LWIP_DEBUGF(NETIF_DEBUG | LWIP_DBG_STATE, ("netif_set_ipaddr: aborting TCP pcb %p\n", (void *
2317:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       tcp_abort(pcb);
 6579              		.loc 1 2317 7
 6580 0036 F868     		ldr	r0, [r7, #12]
 6581 0038 FFF7FEFF 		bl	tcp_abort
ARM GAS  /tmp/ccFjPNuy.s 			page 160


2318:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = next;
 6582              		.loc 1 2318 11
 6583 003c BB68     		ldr	r3, [r7, #8]
 6584 003e FB60     		str	r3, [r7, #12]
 6585              	.LBE22:
 6586 0040 02E0     		b	.L436
 6587              	.L437:
2319:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
2320:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       pcb = pcb->next;
 6588              		.loc 1 2320 11
 6589 0042 FB68     		ldr	r3, [r7, #12]
 6590 0044 DB68     		ldr	r3, [r3, #12]
 6591 0046 FB60     		str	r3, [r7, #12]
 6592              	.L436:
2306:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     /* PCB bound to current local interface address? */
 6593              		.loc 1 2306 9
 6594 0048 FB68     		ldr	r3, [r7, #12]
 6595 004a 002B     		cmp	r3, #0
 6596 004c EAD1     		bne	.L438
2321:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2322:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2323:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6597              		.loc 1 2323 1
 6598 004e 00BF     		nop
 6599 0050 1037     		adds	r7, r7, #16
 6600              	.LCFI233:
 6601              		.cfi_def_cfa_offset 8
 6602 0052 BD46     		mov	sp, r7
 6603              	.LCFI234:
 6604              		.cfi_def_cfa_register 13
 6605              		@ sp needed
 6606 0054 80BD     		pop	{r7, pc}
 6607              	.L440:
 6608 0056 00BF     		.align	2
 6609              	.L439:
 6610 0058 78000000 		.word	.LC11
 6611 005c A8070000 		.word	.LC64
 6612 0060 B8000000 		.word	.LC13
 6613              		.cfi_endproc
 6614              	.LFE180:
 6616              		.section	.text.tcp_netif_ip_addr_changed,"ax",%progbits
 6617              		.align	1
 6618              		.global	tcp_netif_ip_addr_changed
 6619              		.syntax unified
 6620              		.thumb
 6621              		.thumb_func
 6622              		.fpu fpv4-sp-d16
 6624              	tcp_netif_ip_addr_changed:
 6625              	.LFB181:
2324:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2325:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /** This function is called from netif.c when address is changed or netif is removed
2326:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  *
2327:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param old_addr IP address of the netif before change
2328:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  * @param new_addr IP address of the netif after change or NULL if netif has been removed
2329:Middlewares/Third_Party/LwIP/src/core/tcp.c ****  */
2330:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2331:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_netif_ip_addr_changed(const ip_addr_t *old_addr, const ip_addr_t *new_addr)
ARM GAS  /tmp/ccFjPNuy.s 			page 161


2332:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6626              		.loc 1 2332 1
 6627              		.cfi_startproc
 6628              		@ args = 0, pretend = 0, frame = 16
 6629              		@ frame_needed = 1, uses_anonymous_args = 0
 6630 0000 80B5     		push	{r7, lr}
 6631              	.LCFI235:
 6632              		.cfi_def_cfa_offset 8
 6633              		.cfi_offset 7, -8
 6634              		.cfi_offset 14, -4
 6635 0002 84B0     		sub	sp, sp, #16
 6636              	.LCFI236:
 6637              		.cfi_def_cfa_offset 24
 6638 0004 00AF     		add	r7, sp, #0
 6639              	.LCFI237:
 6640              		.cfi_def_cfa_register 7
 6641 0006 7860     		str	r0, [r7, #4]
 6642 0008 3960     		str	r1, [r7]
2333:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   struct tcp_pcb_listen *lpcb;
2334:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2335:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (!ip_addr_isany(old_addr)) {
 6643              		.loc 1 2335 6
 6644 000a 7B68     		ldr	r3, [r7, #4]
 6645 000c 002B     		cmp	r3, #0
 6646 000e 2AD0     		beq	.L446
 6647              		.loc 1 2335 8 discriminator 1
 6648 0010 7B68     		ldr	r3, [r7, #4]
 6649 0012 1B68     		ldr	r3, [r3]
 6650              		.loc 1 2335 7 discriminator 1
 6651 0014 002B     		cmp	r3, #0
 6652 0016 26D0     		beq	.L446
2336:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_active_pcbs);
 6653              		.loc 1 2336 5
 6654 0018 154B     		ldr	r3, .L447
 6655 001a 1B68     		ldr	r3, [r3]
 6656 001c 1946     		mov	r1, r3
 6657 001e 7868     		ldr	r0, [r7, #4]
 6658 0020 FFF7FEFF 		bl	tcp_netif_ip_addr_changed_pcblist
2337:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_netif_ip_addr_changed_pcblist(old_addr, tcp_bound_pcbs);
 6659              		.loc 1 2337 5
 6660 0024 134B     		ldr	r3, .L447+4
 6661 0026 1B68     		ldr	r3, [r3]
 6662 0028 1946     		mov	r1, r3
 6663 002a 7868     		ldr	r0, [r7, #4]
 6664 002c FFF7FEFF 		bl	tcp_netif_ip_addr_changed_pcblist
2338:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2339:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (!ip_addr_isany(new_addr)) {
 6665              		.loc 1 2339 8
 6666 0030 3B68     		ldr	r3, [r7]
 6667 0032 002B     		cmp	r3, #0
 6668 0034 17D0     		beq	.L446
 6669              		.loc 1 2339 10 discriminator 1
 6670 0036 3B68     		ldr	r3, [r7]
 6671 0038 1B68     		ldr	r3, [r3]
 6672              		.loc 1 2339 9 discriminator 1
 6673 003a 002B     		cmp	r3, #0
 6674 003c 13D0     		beq	.L446
ARM GAS  /tmp/ccFjPNuy.s 			page 162


2340:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       /* PCB bound to current local interface address? */
2341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       for (lpcb = tcp_listen_pcbs.listen_pcbs; lpcb != NULL; lpcb = lpcb->next) {
 6675              		.loc 1 2341 17
 6676 003e 0E4B     		ldr	r3, .L447+8
 6677 0040 1B68     		ldr	r3, [r3]
 6678 0042 FB60     		str	r3, [r7, #12]
 6679              		.loc 1 2341 7
 6680 0044 0CE0     		b	.L443
 6681              	.L445:
2342:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
2343:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         if (ip_addr_cmp(&lpcb->local_ip, old_addr)) {
 6682              		.loc 1 2343 13
 6683 0046 FB68     		ldr	r3, [r7, #12]
 6684 0048 1A68     		ldr	r2, [r3]
 6685 004a 7B68     		ldr	r3, [r7, #4]
 6686 004c 1B68     		ldr	r3, [r3]
 6687              		.loc 1 2343 12
 6688 004e 9A42     		cmp	r2, r3
 6689 0050 03D1     		bne	.L444
2344:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           /* The PCB is listening to the old ipaddr and
2345:Middlewares/Third_Party/LwIP/src/core/tcp.c ****             * is set to listen to the new one instead */
2346:Middlewares/Third_Party/LwIP/src/core/tcp.c ****           ip_addr_copy(lpcb->local_ip, *new_addr);
 6690              		.loc 1 2346 11
 6691 0052 3B68     		ldr	r3, [r7]
 6692 0054 1A68     		ldr	r2, [r3]
 6693 0056 FB68     		ldr	r3, [r7, #12]
 6694 0058 1A60     		str	r2, [r3]
 6695              	.L444:
2341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
 6696              		.loc 1 2341 67 discriminator 2
 6697 005a FB68     		ldr	r3, [r7, #12]
 6698 005c DB68     		ldr	r3, [r3, #12]
 6699 005e FB60     		str	r3, [r7, #12]
 6700              	.L443:
2341:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         /* PCB bound to current local interface address? */
 6701              		.loc 1 2341 7 discriminator 1
 6702 0060 FB68     		ldr	r3, [r7, #12]
 6703 0062 002B     		cmp	r3, #0
 6704 0064 EFD1     		bne	.L445
 6705              	.L446:
2347:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         }
2348:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2349:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2350:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2351:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6706              		.loc 1 2351 1
 6707 0066 00BF     		nop
 6708 0068 1037     		adds	r7, r7, #16
 6709              	.LCFI238:
 6710              		.cfi_def_cfa_offset 8
 6711 006a BD46     		mov	sp, r7
 6712              	.LCFI239:
 6713              		.cfi_def_cfa_register 13
 6714              		@ sp needed
 6715 006c 80BD     		pop	{r7, pc}
 6716              	.L448:
 6717 006e 00BF     		.align	2
ARM GAS  /tmp/ccFjPNuy.s 			page 163


 6718              	.L447:
 6719 0070 00000000 		.word	tcp_active_pcbs
 6720 0074 00000000 		.word	tcp_bound_pcbs
 6721 0078 00000000 		.word	tcp_listen_pcbs
 6722              		.cfi_endproc
 6723              	.LFE181:
 6725              		.section	.text.tcp_debug_state_str,"ax",%progbits
 6726              		.align	1
 6727              		.global	tcp_debug_state_str
 6728              		.syntax unified
 6729              		.thumb
 6730              		.thumb_func
 6731              		.fpu fpv4-sp-d16
 6733              	tcp_debug_state_str:
 6734              	.LFB182:
2352:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2353:Middlewares/Third_Party/LwIP/src/core/tcp.c **** const char *
2354:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_debug_state_str(enum tcp_state s)
2355:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6735              		.loc 1 2355 1
 6736              		.cfi_startproc
 6737              		@ args = 0, pretend = 0, frame = 8
 6738              		@ frame_needed = 1, uses_anonymous_args = 0
 6739              		@ link register save eliminated.
 6740 0000 80B4     		push	{r7}
 6741              	.LCFI240:
 6742              		.cfi_def_cfa_offset 4
 6743              		.cfi_offset 7, -4
 6744 0002 83B0     		sub	sp, sp, #12
 6745              	.LCFI241:
 6746              		.cfi_def_cfa_offset 16
 6747 0004 00AF     		add	r7, sp, #0
 6748              	.LCFI242:
 6749              		.cfi_def_cfa_register 7
 6750 0006 0346     		mov	r3, r0
 6751 0008 FB71     		strb	r3, [r7, #7]
2356:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return tcp_state_str[s];
 6752              		.loc 1 2356 23
 6753 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6754 000c 044A     		ldr	r2, .L451
 6755 000e 52F82330 		ldr	r3, [r2, r3, lsl #2]
2357:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6756              		.loc 1 2357 1
 6757 0012 1846     		mov	r0, r3
 6758 0014 0C37     		adds	r7, r7, #12
 6759              	.LCFI243:
 6760              		.cfi_def_cfa_offset 4
 6761 0016 BD46     		mov	sp, r7
 6762              	.LCFI244:
 6763              		.cfi_def_cfa_register 13
 6764              		@ sp needed
 6765 0018 5DF8047B 		ldr	r7, [sp], #4
 6766              	.LCFI245:
 6767              		.cfi_restore 7
 6768              		.cfi_def_cfa_offset 0
 6769 001c 7047     		bx	lr
 6770              	.L452:
ARM GAS  /tmp/ccFjPNuy.s 			page 164


 6771 001e 00BF     		.align	2
 6772              	.L451:
 6773 0020 00000000 		.word	tcp_state_str
 6774              		.cfi_endproc
 6775              	.LFE182:
 6777              		.section	.text.tcp_tcp_get_tcp_addrinfo,"ax",%progbits
 6778              		.align	1
 6779              		.global	tcp_tcp_get_tcp_addrinfo
 6780              		.syntax unified
 6781              		.thumb
 6782              		.thumb_func
 6783              		.fpu fpv4-sp-d16
 6785              	tcp_tcp_get_tcp_addrinfo:
 6786              	.LFB183:
2358:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2359:Middlewares/Third_Party/LwIP/src/core/tcp.c **** err_t
2360:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_tcp_get_tcp_addrinfo(struct tcp_pcb *pcb, int local, ip_addr_t *addr, u16_t *port)
2361:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6787              		.loc 1 2361 1
 6788              		.cfi_startproc
 6789              		@ args = 0, pretend = 0, frame = 16
 6790              		@ frame_needed = 1, uses_anonymous_args = 0
 6791              		@ link register save eliminated.
 6792 0000 80B4     		push	{r7}
 6793              	.LCFI246:
 6794              		.cfi_def_cfa_offset 4
 6795              		.cfi_offset 7, -4
 6796 0002 85B0     		sub	sp, sp, #20
 6797              	.LCFI247:
 6798              		.cfi_def_cfa_offset 24
 6799 0004 00AF     		add	r7, sp, #0
 6800              	.LCFI248:
 6801              		.cfi_def_cfa_register 7
 6802 0006 F860     		str	r0, [r7, #12]
 6803 0008 B960     		str	r1, [r7, #8]
 6804 000a 7A60     		str	r2, [r7, #4]
 6805 000c 3B60     		str	r3, [r7]
2362:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb) {
 6806              		.loc 1 2362 6
 6807 000e FB68     		ldr	r3, [r7, #12]
 6808 0010 002B     		cmp	r3, #0
 6809 0012 21D0     		beq	.L454
2363:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     if (local) {
 6810              		.loc 1 2363 8
 6811 0014 BB68     		ldr	r3, [r7, #8]
 6812 0016 002B     		cmp	r3, #0
 6813 0018 0ED0     		beq	.L455
2364:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (addr) {
 6814              		.loc 1 2364 10
 6815 001a 7B68     		ldr	r3, [r7, #4]
 6816 001c 002B     		cmp	r3, #0
 6817 001e 03D0     		beq	.L456
2365:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *addr = pcb->local_ip;
 6818              		.loc 1 2365 15
 6819 0020 7B68     		ldr	r3, [r7, #4]
 6820 0022 FA68     		ldr	r2, [r7, #12]
 6821 0024 1268     		ldr	r2, [r2]
ARM GAS  /tmp/ccFjPNuy.s 			page 165


 6822 0026 1A60     		str	r2, [r3]
 6823              	.L456:
2366:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2367:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (port) {
 6824              		.loc 1 2367 10
 6825 0028 3B68     		ldr	r3, [r7]
 6826 002a 002B     		cmp	r3, #0
 6827 002c 12D0     		beq	.L458
2368:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *port = pcb->local_port;
 6828              		.loc 1 2368 20
 6829 002e FB68     		ldr	r3, [r7, #12]
 6830 0030 DA8A     		ldrh	r2, [r3, #22]
 6831              		.loc 1 2368 15
 6832 0032 3B68     		ldr	r3, [r7]
 6833 0034 1A80     		strh	r2, [r3]	@ movhi
 6834 0036 0DE0     		b	.L458
 6835              	.L455:
2369:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2370:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     } else {
2371:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (addr) {
 6836              		.loc 1 2371 10
 6837 0038 7B68     		ldr	r3, [r7, #4]
 6838 003a 002B     		cmp	r3, #0
 6839 003c 03D0     		beq	.L459
2372:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *addr = pcb->remote_ip;
 6840              		.loc 1 2372 15
 6841 003e 7B68     		ldr	r3, [r7, #4]
 6842 0040 FA68     		ldr	r2, [r7, #12]
 6843 0042 5268     		ldr	r2, [r2, #4]
 6844 0044 1A60     		str	r2, [r3]
 6845              	.L459:
2373:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2374:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       if (port) {
 6846              		.loc 1 2374 10
 6847 0046 3B68     		ldr	r3, [r7]
 6848 0048 002B     		cmp	r3, #0
 6849 004a 03D0     		beq	.L458
2375:Middlewares/Third_Party/LwIP/src/core/tcp.c ****         *port = pcb->remote_port;
 6850              		.loc 1 2375 20
 6851 004c FB68     		ldr	r3, [r7, #12]
 6852 004e 1A8B     		ldrh	r2, [r3, #24]
 6853              		.loc 1 2375 15
 6854 0050 3B68     		ldr	r3, [r7]
 6855 0052 1A80     		strh	r2, [r3]	@ movhi
 6856              	.L458:
2376:Middlewares/Third_Party/LwIP/src/core/tcp.c ****       }
2377:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     }
2378:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     return ERR_OK;
 6857              		.loc 1 2378 12
 6858 0054 0023     		movs	r3, #0
 6859 0056 01E0     		b	.L460
 6860              	.L454:
2379:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2380:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   return ERR_VAL;
 6861              		.loc 1 2380 10
 6862 0058 6FF00503 		mvn	r3, #5
 6863              	.L460:
ARM GAS  /tmp/ccFjPNuy.s 			page 166


2381:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6864              		.loc 1 2381 1
 6865 005c 1846     		mov	r0, r3
 6866 005e 1437     		adds	r7, r7, #20
 6867              	.LCFI249:
 6868              		.cfi_def_cfa_offset 4
 6869 0060 BD46     		mov	sp, r7
 6870              	.LCFI250:
 6871              		.cfi_def_cfa_register 13
 6872              		@ sp needed
 6873 0062 5DF8047B 		ldr	r7, [sp], #4
 6874              	.LCFI251:
 6875              		.cfi_restore 7
 6876              		.cfi_def_cfa_offset 0
 6877 0066 7047     		bx	lr
 6878              		.cfi_endproc
 6879              	.LFE183:
 6881              		.section	.text.tcp_free_ooseq,"ax",%progbits
 6882              		.align	1
 6883              		.global	tcp_free_ooseq
 6884              		.syntax unified
 6885              		.thumb
 6886              		.thumb_func
 6887              		.fpu fpv4-sp-d16
 6889              	tcp_free_ooseq:
 6890              	.LFB184:
2382:Middlewares/Third_Party/LwIP/src/core/tcp.c **** 
2383:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if TCP_QUEUE_OOSEQ
2384:Middlewares/Third_Party/LwIP/src/core/tcp.c **** /* Free all ooseq pbufs (and possibly reset SACK state) */
2385:Middlewares/Third_Party/LwIP/src/core/tcp.c **** void
2386:Middlewares/Third_Party/LwIP/src/core/tcp.c **** tcp_free_ooseq(struct tcp_pcb *pcb)
2387:Middlewares/Third_Party/LwIP/src/core/tcp.c **** {
 6891              		.loc 1 2387 1
 6892              		.cfi_startproc
 6893              		@ args = 0, pretend = 0, frame = 8
 6894              		@ frame_needed = 1, uses_anonymous_args = 0
 6895 0000 80B5     		push	{r7, lr}
 6896              	.LCFI252:
 6897              		.cfi_def_cfa_offset 8
 6898              		.cfi_offset 7, -8
 6899              		.cfi_offset 14, -4
 6900 0002 82B0     		sub	sp, sp, #8
 6901              	.LCFI253:
 6902              		.cfi_def_cfa_offset 16
 6903 0004 00AF     		add	r7, sp, #0
 6904              	.LCFI254:
 6905              		.cfi_def_cfa_register 7
 6906 0006 7860     		str	r0, [r7, #4]
2388:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   if (pcb->ooseq) {
 6907              		.loc 1 2388 10
 6908 0008 7B68     		ldr	r3, [r7, #4]
 6909 000a 5B6F     		ldr	r3, [r3, #116]
 6910              		.loc 1 2388 6
 6911 000c 002B     		cmp	r3, #0
 6912 000e 07D0     		beq	.L463
2389:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     tcp_segs_free(pcb->ooseq);
 6913              		.loc 1 2389 5
ARM GAS  /tmp/ccFjPNuy.s 			page 167


 6914 0010 7B68     		ldr	r3, [r7, #4]
 6915 0012 5B6F     		ldr	r3, [r3, #116]
 6916 0014 1846     		mov	r0, r3
 6917 0016 FFF7FEFF 		bl	tcp_segs_free
2390:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     pcb->ooseq = NULL;
 6918              		.loc 1 2390 16
 6919 001a 7B68     		ldr	r3, [r7, #4]
 6920 001c 0022     		movs	r2, #0
 6921 001e 5A67     		str	r2, [r3, #116]
 6922              	.L463:
2391:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #if LWIP_TCP_SACK_OUT
2392:Middlewares/Third_Party/LwIP/src/core/tcp.c ****     memset(pcb->rcv_sacks, 0, sizeof(pcb->rcv_sacks));
2393:Middlewares/Third_Party/LwIP/src/core/tcp.c **** #endif /* LWIP_TCP_SACK_OUT */
2394:Middlewares/Third_Party/LwIP/src/core/tcp.c ****   }
2395:Middlewares/Third_Party/LwIP/src/core/tcp.c **** }
 6923              		.loc 1 2395 1
 6924 0020 00BF     		nop
 6925 0022 0837     		adds	r7, r7, #8
 6926              	.LCFI255:
 6927              		.cfi_def_cfa_offset 8
 6928 0024 BD46     		mov	sp, r7
 6929              	.LCFI256:
 6930              		.cfi_def_cfa_register 13
 6931              		@ sp needed
 6932 0026 80BD     		pop	{r7, pc}
 6933              		.cfi_endproc
 6934              	.LFE184:
 6936              		.section	.data.iss.10615,"aw"
 6937              		.align	2
 6940              	iss.10615:
 6941 0000 6E190000 		.word	6510
 6942              		.text
 6943              	.Letext0:
 6944              		.file 2 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/machine/_default_typ
 6945              		.file 3 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_stdint.h"
 6946              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 6947              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6948              		.file 6 "/home/mego-ros2/microros_ws/firmware/toolchain/lib/gcc/arm-none-eabi/8.3.1/include/stddef
 6949              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 6950              		.file 8 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_types.h"
 6951              		.file 9 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/reent.h"
 6952              		.file 10 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/lock.h"
 6953              		.file 11 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/stdlib.h"
 6954              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 6955              		.file 13 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/ctype.h"
 6956              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 6957              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 6958              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 6959              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 6960              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 6961              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 6962              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 6963              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 6964              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 6965              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 6966              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 6967              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
ARM GAS  /tmp/ccFjPNuy.s 			page 168


 6968              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
ARM GAS  /tmp/ccFjPNuy.s 			page 169


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tcp.c
     /tmp/ccFjPNuy.s:18     .rodata:0000000000000000 $d
     /tmp/ccFjPNuy.s:52     .rodata.tcp_state_str:0000000000000000 $d
     /tmp/ccFjPNuy.s:55     .rodata.tcp_state_str:0000000000000000 tcp_state_str
     /tmp/ccFjPNuy.s:68     .data.tcp_port:0000000000000000 $d
     /tmp/ccFjPNuy.s:71     .data.tcp_port:0000000000000000 tcp_port
                            *COM*:0000000000000004 tcp_ticks
     /tmp/ccFjPNuy.s:75     .rodata.tcp_backoff:0000000000000000 $d
     /tmp/ccFjPNuy.s:78     .rodata.tcp_backoff:0000000000000000 tcp_backoff
     /tmp/ccFjPNuy.s:93     .rodata.tcp_persist_backoff:0000000000000000 $d
     /tmp/ccFjPNuy.s:96     .rodata.tcp_persist_backoff:0000000000000000 tcp_persist_backoff
                            *COM*:0000000000000004 tcp_bound_pcbs
                            *COM*:0000000000000004 tcp_listen_pcbs
                            *COM*:0000000000000004 tcp_active_pcbs
                            *COM*:0000000000000004 tcp_tw_pcbs
     /tmp/ccFjPNuy.s:113    .rodata.tcp_pcb_lists:0000000000000000 tcp_pcb_lists
     /tmp/ccFjPNuy.s:110    .rodata.tcp_pcb_lists:0000000000000000 $d
                            *COM*:0000000000000001 tcp_active_pcbs_changed
     /tmp/ccFjPNuy.s:122    .bss.tcp_timer:0000000000000000 tcp_timer
     /tmp/ccFjPNuy.s:123    .bss.tcp_timer:0000000000000000 $d
     /tmp/ccFjPNuy.s:127    .bss.tcp_timer_ctr:0000000000000000 tcp_timer_ctr
     /tmp/ccFjPNuy.s:128    .bss.tcp_timer_ctr:0000000000000000 $d
     /tmp/ccFjPNuy.s:130    .text.tcp_init:0000000000000000 $t
     /tmp/ccFjPNuy.s:138    .text.tcp_init:0000000000000000 tcp_init
     /tmp/ccFjPNuy.s:170    .text.tcp_init:0000000000000020 $d
     /tmp/ccFjPNuy.s:185    .text.tcp_free:0000000000000000 $t
     /tmp/ccFjPNuy.s:192    .text.tcp_free:0000000000000000 tcp_free
     /tmp/ccFjPNuy.s:239    .text.tcp_free:000000000000002c $d
     /tmp/ccFjPNuy.s:250    .text.tcp_free_listen:0000000000000000 $t
     /tmp/ccFjPNuy.s:256    .text.tcp_free_listen:0000000000000000 tcp_free_listen
     /tmp/ccFjPNuy.s:303    .text.tcp_free_listen:000000000000002c $d
     /tmp/ccFjPNuy.s:310    .text.tcp_tmr:0000000000000000 $t
     /tmp/ccFjPNuy.s:317    .text.tcp_tmr:0000000000000000 tcp_tmr
     /tmp/ccFjPNuy.s:4092   .text.tcp_fasttmr:0000000000000000 tcp_fasttmr
     /tmp/ccFjPNuy.s:3062   .text.tcp_slowtmr:0000000000000000 tcp_slowtmr
     /tmp/ccFjPNuy.s:358    .text.tcp_tmr:0000000000000028 $d
     /tmp/ccFjPNuy.s:367    .text.tcp_remove_listener:0000000000000000 $t
     /tmp/ccFjPNuy.s:373    .text.tcp_remove_listener:0000000000000000 tcp_remove_listener
     /tmp/ccFjPNuy.s:443    .text.tcp_remove_listener:0000000000000048 $d
     /tmp/ccFjPNuy.s:457    .text.tcp_listen_closed:0000000000000000 $t
     /tmp/ccFjPNuy.s:463    .text.tcp_listen_closed:0000000000000000 tcp_listen_closed
     /tmp/ccFjPNuy.s:541    .text.tcp_listen_closed:0000000000000060 $d
     /tmp/ccFjPNuy.s:557    .text.tcp_close_shutdown:0000000000000000 $t
     /tmp/ccFjPNuy.s:563    .text.tcp_close_shutdown:0000000000000000 tcp_close_shutdown
     /tmp/ccFjPNuy.s:5992   .text.tcp_pcb_purge:0000000000000000 tcp_pcb_purge
     /tmp/ccFjPNuy.s:6137   .text.tcp_pcb_remove:0000000000000000 tcp_pcb_remove
     /tmp/ccFjPNuy.s:875    .text.tcp_close_shutdown_fin:0000000000000000 tcp_close_shutdown_fin
     /tmp/ccFjPNuy.s:856    .text.tcp_close_shutdown:0000000000000198 $d
     /tmp/ccFjPNuy.s:869    .text.tcp_close_shutdown_fin:0000000000000000 $t
     /tmp/ccFjPNuy.s:1017   .text.tcp_close_shutdown_fin:00000000000000c0 $d
     /tmp/ccFjPNuy.s:1028   .text.tcp_close:0000000000000000 $t
     /tmp/ccFjPNuy.s:1035   .text.tcp_close:0000000000000000 tcp_close
     /tmp/ccFjPNuy.s:1099   .text.tcp_close:000000000000004c $d
     /tmp/ccFjPNuy.s:1110   .text.tcp_shutdown:0000000000000000 $t
     /tmp/ccFjPNuy.s:1117   .text.tcp_shutdown:0000000000000000 tcp_shutdown
     /tmp/ccFjPNuy.s:1242   .text.tcp_shutdown:00000000000000a8 $d
ARM GAS  /tmp/ccFjPNuy.s 			page 170


     /tmp/ccFjPNuy.s:1256   .text.tcp_abandon:0000000000000000 $t
     /tmp/ccFjPNuy.s:1263   .text.tcp_abandon:0000000000000000 tcp_abandon
     /tmp/ccFjPNuy.s:4504   .text.tcp_segs_free:0000000000000000 tcp_segs_free
     /tmp/ccFjPNuy.s:1511   .text.tcp_abandon:000000000000015c $d
     /tmp/ccFjPNuy.s:1523   .text.tcp_abort:0000000000000000 $t
     /tmp/ccFjPNuy.s:1530   .text.tcp_abort:0000000000000000 tcp_abort
     /tmp/ccFjPNuy.s:1573   .text.tcp_bind:0000000000000000 $t
     /tmp/ccFjPNuy.s:1580   .text.tcp_bind:0000000000000000 tcp_bind
     /tmp/ccFjPNuy.s:2514   .text.tcp_new_port:0000000000000000 tcp_new_port
     /tmp/ccFjPNuy.s:1785   .text.tcp_bind:0000000000000114 $d
     /tmp/ccFjPNuy.s:1796   .text.tcp_bind_netif:0000000000000000 $t
     /tmp/ccFjPNuy.s:1803   .text.tcp_bind_netif:0000000000000000 tcp_bind_netif
     /tmp/ccFjPNuy.s:1864   .text.tcp_accept_null:0000000000000000 $t
     /tmp/ccFjPNuy.s:1870   .text.tcp_accept_null:0000000000000000 tcp_accept_null
     /tmp/ccFjPNuy.s:1920   .text.tcp_accept_null:0000000000000034 $d
     /tmp/ccFjPNuy.s:1927   .text.tcp_listen_with_backlog:0000000000000000 $t
     /tmp/ccFjPNuy.s:1934   .text.tcp_listen_with_backlog:0000000000000000 tcp_listen_with_backlog
     /tmp/ccFjPNuy.s:1990   .text.tcp_listen_with_backlog_and_err:0000000000000000 tcp_listen_with_backlog_and_err
     /tmp/ccFjPNuy.s:1983   .text.tcp_listen_with_backlog_and_err:0000000000000000 $t
     /tmp/ccFjPNuy.s:2221   .text.tcp_listen_with_backlog_and_err:0000000000000138 $d
     /tmp/ccFjPNuy.s:2239   .text.tcp_update_rcv_ann_wnd:0000000000000000 $t
     /tmp/ccFjPNuy.s:2246   .text.tcp_update_rcv_ann_wnd:0000000000000000 tcp_update_rcv_ann_wnd
     /tmp/ccFjPNuy.s:2373   .text.tcp_update_rcv_ann_wnd:00000000000000a4 $d
     /tmp/ccFjPNuy.s:2388   .text.tcp_recved:0000000000000000 $t
     /tmp/ccFjPNuy.s:2395   .text.tcp_recved:0000000000000000 tcp_recved
     /tmp/ccFjPNuy.s:2500   .text.tcp_recved:0000000000000090 $d
     /tmp/ccFjPNuy.s:2508   .text.tcp_new_port:0000000000000000 $t
     /tmp/ccFjPNuy.s:2630   .text.tcp_new_port:0000000000000084 $d
     /tmp/ccFjPNuy.s:2646   .text.tcp_connect:0000000000000000 $t
     /tmp/ccFjPNuy.s:2653   .text.tcp_connect:0000000000000000 tcp_connect
     /tmp/ccFjPNuy.s:6346   .text.tcp_next_iss:0000000000000000 tcp_next_iss
     /tmp/ccFjPNuy.s:6419   .text.tcp_eff_send_mss_netif:0000000000000000 tcp_eff_send_mss_netif
     /tmp/ccFjPNuy.s:3011   .text.tcp_connect:0000000000000210 $d
     /tmp/ccFjPNuy.s:3055   .text.tcp_slowtmr:0000000000000000 $t
     /tmp/ccFjPNuy.s:3448   .text.tcp_slowtmr:0000000000000260 $d
     /tmp/ccFjPNuy.s:3462   .text.tcp_slowtmr:0000000000000290 $t
     /tmp/ccFjPNuy.s:6889   .text.tcp_free_ooseq:0000000000000000 tcp_free_ooseq
     /tmp/ccFjPNuy.s:3941   .text.tcp_slowtmr:0000000000000584 $d
     /tmp/ccFjPNuy.s:3953   .text.tcp_slowtmr:00000000000005ac $t
     /tmp/ccFjPNuy.s:4074   .text.tcp_slowtmr:0000000000000660 $d
     /tmp/ccFjPNuy.s:4085   .text.tcp_fasttmr:0000000000000000 $t
     /tmp/ccFjPNuy.s:4326   .text.tcp_process_refused_data:0000000000000000 tcp_process_refused_data
     /tmp/ccFjPNuy.s:4238   .text.tcp_fasttmr:00000000000000bc $d
     /tmp/ccFjPNuy.s:4245   .text.tcp_txnow:0000000000000000 $t
     /tmp/ccFjPNuy.s:4252   .text.tcp_txnow:0000000000000000 tcp_txnow
     /tmp/ccFjPNuy.s:4310   .text.tcp_txnow:0000000000000034 $d
     /tmp/ccFjPNuy.s:4319   .text.tcp_process_refused_data:0000000000000000 $t
     /tmp/ccFjPNuy.s:4779   .text.tcp_recv_null:0000000000000000 tcp_recv_null
     /tmp/ccFjPNuy.s:4490   .text.tcp_process_refused_data:00000000000000ec $d
     /tmp/ccFjPNuy.s:4497   .text.tcp_segs_free:0000000000000000 $t
     /tmp/ccFjPNuy.s:4563   .text.tcp_seg_free:0000000000000000 tcp_seg_free
     /tmp/ccFjPNuy.s:4556   .text.tcp_seg_free:0000000000000000 $t
     /tmp/ccFjPNuy.s:4620   .text.tcp_setprio:0000000000000000 $t
     /tmp/ccFjPNuy.s:4627   .text.tcp_setprio:0000000000000000 tcp_setprio
     /tmp/ccFjPNuy.s:4676   .text.tcp_setprio:0000000000000030 $d
     /tmp/ccFjPNuy.s:4687   .text.tcp_seg_copy:0000000000000000 $t
     /tmp/ccFjPNuy.s:4694   .text.tcp_seg_copy:0000000000000000 tcp_seg_copy
ARM GAS  /tmp/ccFjPNuy.s 			page 171


     /tmp/ccFjPNuy.s:4761   .text.tcp_seg_copy:000000000000004c $d
     /tmp/ccFjPNuy.s:4772   .text.tcp_recv_null:0000000000000000 $t
     /tmp/ccFjPNuy.s:4854   .text.tcp_recv_null:0000000000000060 $d
     /tmp/ccFjPNuy.s:4861   .text.tcp_kill_prio:0000000000000000 $t
     /tmp/ccFjPNuy.s:4867   .text.tcp_kill_prio:0000000000000000 tcp_kill_prio
     /tmp/ccFjPNuy.s:4998   .text.tcp_kill_prio:0000000000000094 $d
     /tmp/ccFjPNuy.s:5008   .text.tcp_kill_state:0000000000000000 $t
     /tmp/ccFjPNuy.s:5014   .text.tcp_kill_state:0000000000000000 tcp_kill_state
     /tmp/ccFjPNuy.s:5124   .text.tcp_kill_state:0000000000000080 $d
     /tmp/ccFjPNuy.s:5133   .text.tcp_kill_timewait:0000000000000000 $t
     /tmp/ccFjPNuy.s:5139   .text.tcp_kill_timewait:0000000000000000 tcp_kill_timewait
     /tmp/ccFjPNuy.s:5224   .text.tcp_kill_timewait:0000000000000058 $d
     /tmp/ccFjPNuy.s:5230   .text.tcp_handle_closepend:0000000000000000 $t
     /tmp/ccFjPNuy.s:5236   .text.tcp_handle_closepend:0000000000000000 tcp_handle_closepend
     /tmp/ccFjPNuy.s:5306   .text.tcp_handle_closepend:0000000000000048 $d
     /tmp/ccFjPNuy.s:5311   .text.tcp_alloc:0000000000000000 $t
     /tmp/ccFjPNuy.s:5318   .text.tcp_alloc:0000000000000000 tcp_alloc
     /tmp/ccFjPNuy.s:5477   .text.tcp_alloc:00000000000000f8 $d
     /tmp/ccFjPNuy.s:5485   .text.tcp_new:0000000000000000 $t
     /tmp/ccFjPNuy.s:5492   .text.tcp_new:0000000000000000 tcp_new
     /tmp/ccFjPNuy.s:5517   .text.tcp_new_ip_type:0000000000000000 $t
     /tmp/ccFjPNuy.s:5524   .text.tcp_new_ip_type:0000000000000000 tcp_new_ip_type
     /tmp/ccFjPNuy.s:5563   .text.tcp_arg:0000000000000000 $t
     /tmp/ccFjPNuy.s:5570   .text.tcp_arg:0000000000000000 tcp_arg
     /tmp/ccFjPNuy.s:5620   .text.tcp_recv:0000000000000000 $t
     /tmp/ccFjPNuy.s:5627   .text.tcp_recv:0000000000000000 tcp_recv
     /tmp/ccFjPNuy.s:5680   .text.tcp_recv:0000000000000038 $d
     /tmp/ccFjPNuy.s:5691   .text.tcp_sent:0000000000000000 $t
     /tmp/ccFjPNuy.s:5698   .text.tcp_sent:0000000000000000 tcp_sent
     /tmp/ccFjPNuy.s:5751   .text.tcp_sent:0000000000000038 $d
     /tmp/ccFjPNuy.s:5762   .text.tcp_err:0000000000000000 $t
     /tmp/ccFjPNuy.s:5769   .text.tcp_err:0000000000000000 tcp_err
     /tmp/ccFjPNuy.s:5822   .text.tcp_err:0000000000000038 $d
     /tmp/ccFjPNuy.s:5829   .text.tcp_accept:0000000000000000 $t
     /tmp/ccFjPNuy.s:5836   .text.tcp_accept:0000000000000000 tcp_accept
     /tmp/ccFjPNuy.s:5900   .text.tcp_poll:0000000000000000 $t
     /tmp/ccFjPNuy.s:5907   .text.tcp_poll:0000000000000000 tcp_poll
     /tmp/ccFjPNuy.s:5973   .text.tcp_poll:0000000000000050 $d
     /tmp/ccFjPNuy.s:5985   .text.tcp_pcb_purge:0000000000000000 $t
     /tmp/ccFjPNuy.s:6107   .text.tcp_pcb_purge:0000000000000094 $d
     /tmp/ccFjPNuy.s:6130   .text.tcp_pcb_remove:0000000000000000 $t
     /tmp/ccFjPNuy.s:6324   .text.tcp_pcb_remove:000000000000010c $d
     /tmp/ccFjPNuy.s:6339   .text.tcp_next_iss:0000000000000000 $t
     /tmp/ccFjPNuy.s:6399   .text.tcp_next_iss:0000000000000038 $d
     /tmp/ccFjPNuy.s:6940   .data.iss.10615:0000000000000000 iss.10615
     /tmp/ccFjPNuy.s:6412   .text.tcp_eff_send_mss_netif:0000000000000000 $t
     /tmp/ccFjPNuy.s:6513   .text.tcp_eff_send_mss_netif:0000000000000068 $d
     /tmp/ccFjPNuy.s:6525   .text.tcp_netif_ip_addr_changed_pcblist:0000000000000000 $t
     /tmp/ccFjPNuy.s:6531   .text.tcp_netif_ip_addr_changed_pcblist:0000000000000000 tcp_netif_ip_addr_changed_pcblist
     /tmp/ccFjPNuy.s:6610   .text.tcp_netif_ip_addr_changed_pcblist:0000000000000058 $d
     /tmp/ccFjPNuy.s:6617   .text.tcp_netif_ip_addr_changed:0000000000000000 $t
     /tmp/ccFjPNuy.s:6624   .text.tcp_netif_ip_addr_changed:0000000000000000 tcp_netif_ip_addr_changed
     /tmp/ccFjPNuy.s:6719   .text.tcp_netif_ip_addr_changed:0000000000000070 $d
     /tmp/ccFjPNuy.s:6726   .text.tcp_debug_state_str:0000000000000000 $t
     /tmp/ccFjPNuy.s:6733   .text.tcp_debug_state_str:0000000000000000 tcp_debug_state_str
     /tmp/ccFjPNuy.s:6773   .text.tcp_debug_state_str:0000000000000020 $d
     /tmp/ccFjPNuy.s:6778   .text.tcp_tcp_get_tcp_addrinfo:0000000000000000 $t
ARM GAS  /tmp/ccFjPNuy.s 			page 172


     /tmp/ccFjPNuy.s:6785   .text.tcp_tcp_get_tcp_addrinfo:0000000000000000 tcp_tcp_get_tcp_addrinfo
     /tmp/ccFjPNuy.s:6882   .text.tcp_free_ooseq:0000000000000000 $t
     /tmp/ccFjPNuy.s:6937   .data.iss.10615:0000000000000000 $d

UNDEFINED SYMBOLS
rand
printf
memp_free
tcp_rst
tcp_trigger_input_pcb_close
tcp_input_pcb
tcp_send_fin
tcp_output
pbuf_free
tcp_timer_needed
ip_addr_any
memp_malloc
netif_get_by_index
ip4_route
tcp_enqueue_flags
tcp_zero_window_probe
tcp_split_unsent_seg
tcp_rexmit_rto_prepare
tcp_rexmit_rto_commit
tcp_keepalive
memcpy
pbuf_ref
memset
