ARM GAS  /tmp/ccRRFgJP.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"pbuf.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.comm	pbuf_free_ooseq_pending,1,1
  18              		.section	.text.pbuf_free_ooseq,"ax",%progbits
  19              		.align	1
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	pbuf_free_ooseq:
  27              	.LFB137:
  28              		.file 1 "Middlewares/Third_Party/LwIP/src/core/pbuf.c"
   1:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packet buffer management
   4:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
   5:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
   6:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
   7:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @defgroup pbuf Packet buffers (PBUF)
   8:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup infrastructure
   9:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Packets are built from the pbuf data structure. It supports dynamic
  11:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * memory allocation for packet contents or can reference externally
  12:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * managed packet contents both in RAM and ROM. Quick allocation for
  13:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * incoming packets is provided through pools with fixed sized pbufs.
  14:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * A packet may span over multiple pbufs, chained as a singly linked
  16:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * list. This is called a "pbuf chain".
  17:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  18:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Multiple packets may be queued, also using this singly linked list.
  19:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is called a "packet queue".
  20:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  21:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * So, a packet queue consists of one or more pbuf chains, each of
  22:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * which consist of one or more pbufs. CURRENTLY, PACKET QUEUES ARE
  23:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * NOT SUPPORTED!!! Use helper structs to queue multiple packets.
  24:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  25:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The differences between a pbuf chain and a packet queue are very
  26:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * precise but subtle.
  27:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  28:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The last pbuf of a packet has a ->tot_len field that equals the
  29:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ->len field. It can be found by traversing the list. If the last
  30:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbuf of a packet has a ->next field other than NULL, more packets
ARM GAS  /tmp/ccRRFgJP.s 			page 2


  31:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are on the queue.
  32:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  33:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Therefore, looping through a pbuf of a single packet, has an
  34:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * loop end condition (tot_len == p->len), NOT (next == NULL).
  35:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  36:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Example of custom pbuf usage: @ref zerocopyrx
  37:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
  38:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  39:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /*
  40:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  41:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * All rights reserved.
  42:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  43:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Redistribution and use in source and binary forms, with or without modification,
  44:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * are permitted provided that the following conditions are met:
  45:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  46:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  47:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer.
  48:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  49:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    this list of conditions and the following disclaimer in the documentation
  50:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    and/or other materials provided with the distribution.
  51:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3. The name of the author may not be used to endorse or promote products
  52:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *    derived from this software without specific prior written permission.
  53:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  54:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  55:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  56:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  57:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  58:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  59:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  60:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  61:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  62:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  63:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * OF SUCH DAMAGE.
  64:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  65:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This file is part of the lwIP TCP/IP stack.
  66:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  67:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Author: Adam Dunkels <adam@sics.se>
  68:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
  69:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
  70:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  71:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/opt.h"
  72:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  73:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/pbuf.h"
  74:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/stats.h"
  75:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/def.h"
  76:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/mem.h"
  77:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/memp.h"
  78:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/sys.h"
  79:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/netif.h"
  80:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ
  81:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/priv/tcp_priv.h"
  82:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
  83:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
  84:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/inet_chksum.h"
  85:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  87:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include <string.h>
ARM GAS  /tmp/ccRRFgJP.s 			page 3


  88:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  89:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define SIZEOF_STRUCT_PBUF        LWIP_MEM_ALIGN_SIZE(sizeof(struct pbuf))
  90:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Since the pool is created in memp, PBUF_POOL_BUFSIZE will be automatically
  91:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    aligned there. Therefore, PBUF_POOL_BUFSIZE_ALIGNED can be used here. */
  92:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_BUFSIZE_ALIGNED LWIP_MEM_ALIGN_SIZE(PBUF_POOL_BUFSIZE)
  93:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  94:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static const struct pbuf *
  95:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip_const(const struct pbuf *in, u16_t in_offset, u16_t *out_offset);
  96:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
  97:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ
  98:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY()
  99:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 100:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 101:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 102:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 103:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #include "lwip/tcpip.h"
 104:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_FREE_OOSEQ_QUEUE_CALL()  do { \
 105:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (tcpip_try_callback(pbuf_free_ooseq_callback, NULL) != ERR_OK) { \
 106:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_PROTECT(old_level); \
 107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pbuf_free_ooseq_pending = 0; \
 108:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       SYS_ARCH_UNPROTECT(old_level); \
 109:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } } while(0)
 110:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 111:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 112:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** volatile u8_t pbuf_free_ooseq_pending;
 114:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #define PBUF_POOL_IS_EMPTY() pbuf_pool_is_empty()
 115:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 116:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 117:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Attempt to reclaim some memory from queued out-of-sequence TCP segments
 118:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we run out of pool pbufs. It's better to give priority to new packets
 119:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * if we're running out.
 120:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 121:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This must be done in the correct thread context therefore this function
 122:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * can only be used with NO_SYS=0 and through tcpip_callback.
 123:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 124:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 125:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static
 126:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 127:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 128:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq(void)
 129:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
  29              		.loc 1 129 1
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 1, uses_anonymous_args = 0
  33 0000 80B5     		push	{r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  38 0002 82B0     		sub	sp, sp, #8
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  41 0004 00AF     		add	r7, sp, #0
  42              	.LCFI2:
  43              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccRRFgJP.s 			page 4


  44              	.LBB2:
 130:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct tcp_pcb *pcb;
 131:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 0);
  45              		.loc 1 131 3
  46 0006 FFF7FEFF 		bl	sys_arch_protect
  47 000a 3860     		str	r0, [r7]
  48 000c 0D4B     		ldr	r3, .L6
  49 000e 0022     		movs	r2, #0
  50 0010 1A70     		strb	r2, [r3]
  51 0012 3868     		ldr	r0, [r7]
  52 0014 FFF7FEFF 		bl	sys_arch_unprotect
  53              	.LBE2:
 132:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 133:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (pcb = tcp_active_pcbs; NULL != pcb; pcb = pcb->next) {
  54              		.loc 1 133 12
  55 0018 0B4B     		ldr	r3, .L6+4
  56 001a 1B68     		ldr	r3, [r3]
  57 001c 7B60     		str	r3, [r7, #4]
  58              		.loc 1 133 3
  59 001e 0AE0     		b	.L2
  60              	.L5:
 134:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (pcb->ooseq != NULL) {
  61              		.loc 1 134 12
  62 0020 7B68     		ldr	r3, [r7, #4]
  63 0022 5B6F     		ldr	r3, [r3, #116]
  64              		.loc 1 134 8
  65 0024 002B     		cmp	r3, #0
  66 0026 03D0     		beq	.L3
 135:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /** Free the ooseq pbufs of one PCB only */
 136:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free_ooseq: freeing out-of-sequence pbufs\n")
 137:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tcp_free_ooseq(pcb);
  67              		.loc 1 137 7
  68 0028 7868     		ldr	r0, [r7, #4]
  69 002a FFF7FEFF 		bl	tcp_free_ooseq
 138:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return;
  70              		.loc 1 138 7
  71 002e 05E0     		b	.L1
  72              	.L3:
 133:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (pcb->ooseq != NULL) {
  73              		.loc 1 133 48 discriminator 2
  74 0030 7B68     		ldr	r3, [r7, #4]
  75 0032 DB68     		ldr	r3, [r3, #12]
  76 0034 7B60     		str	r3, [r7, #4]
  77              	.L2:
 133:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (pcb->ooseq != NULL) {
  78              		.loc 1 133 3 discriminator 1
  79 0036 7B68     		ldr	r3, [r7, #4]
  80 0038 002B     		cmp	r3, #0
  81 003a F1D1     		bne	.L5
  82              	.L1:
 139:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 140:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 141:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
  83              		.loc 1 141 1
  84 003c 0837     		adds	r7, r7, #8
  85              	.LCFI3:
  86              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccRRFgJP.s 			page 5


  87 003e BD46     		mov	sp, r7
  88              	.LCFI4:
  89              		.cfi_def_cfa_register 13
  90              		@ sp needed
  91 0040 80BD     		pop	{r7, pc}
  92              	.L7:
  93 0042 00BF     		.align	2
  94              	.L6:
  95 0044 00000000 		.word	pbuf_free_ooseq_pending
  96 0048 00000000 		.word	tcp_active_pcbs
  97              		.cfi_endproc
  98              	.LFE137:
 100              		.section	.text.pbuf_free_ooseq_callback,"ax",%progbits
 101              		.align	1
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 105              		.fpu fpv4-sp-d16
 107              	pbuf_free_ooseq_callback:
 108              	.LFB138:
 142:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 143:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if !NO_SYS
 144:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Just a callback function for tcpip_callback() that calls pbuf_free_ooseq().
 146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 147:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 148:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_ooseq_callback(void *arg)
 149:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 109              		.loc 1 149 1
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 8
 112              		@ frame_needed = 1, uses_anonymous_args = 0
 113 0000 80B5     		push	{r7, lr}
 114              	.LCFI5:
 115              		.cfi_def_cfa_offset 8
 116              		.cfi_offset 7, -8
 117              		.cfi_offset 14, -4
 118 0002 82B0     		sub	sp, sp, #8
 119              	.LCFI6:
 120              		.cfi_def_cfa_offset 16
 121 0004 00AF     		add	r7, sp, #0
 122              	.LCFI7:
 123              		.cfi_def_cfa_register 7
 124 0006 7860     		str	r0, [r7, #4]
 150:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(arg);
 151:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq();
 125              		.loc 1 151 3
 126 0008 FFF7FEFF 		bl	pbuf_free_ooseq
 152:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 127              		.loc 1 152 1
 128 000c 00BF     		nop
 129 000e 0837     		adds	r7, r7, #8
 130              	.LCFI8:
 131              		.cfi_def_cfa_offset 8
 132 0010 BD46     		mov	sp, r7
 133              	.LCFI9:
 134              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccRRFgJP.s 			page 6


 135              		@ sp needed
 136 0012 80BD     		pop	{r7, pc}
 137              		.cfi_endproc
 138              	.LFE138:
 140              		.section	.text.pbuf_pool_is_empty,"ax",%progbits
 141              		.align	1
 142              		.syntax unified
 143              		.thumb
 144              		.thumb_func
 145              		.fpu fpv4-sp-d16
 147              	pbuf_pool_is_empty:
 148              	.LFB139:
 153:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !NO_SYS */
 154:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 155:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /** Queue a call to pbuf_free_ooseq if not already queued. */
 156:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 157:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_pool_is_empty(void)
 158:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 149              		.loc 1 158 1
 150              		.cfi_startproc
 151              		@ args = 0, pretend = 0, frame = 8
 152              		@ frame_needed = 1, uses_anonymous_args = 0
 153 0000 80B5     		push	{r7, lr}
 154              	.LCFI10:
 155              		.cfi_def_cfa_offset 8
 156              		.cfi_offset 7, -8
 157              		.cfi_offset 14, -4
 158 0002 82B0     		sub	sp, sp, #8
 159              	.LCFI11:
 160              		.cfi_def_cfa_offset 16
 161 0004 00AF     		add	r7, sp, #0
 162              	.LCFI12:
 163              		.cfi_def_cfa_register 7
 159:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #ifndef PBUF_POOL_FREE_OOSEQ_QUEUE_CALL
 160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_SET(pbuf_free_ooseq_pending, 1);
 161:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #else /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 162:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t queued;
 163:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_DECL_PROTECT(old_level);
 164:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_PROTECT(old_level);
 164              		.loc 1 164 3
 165 0006 FFF7FEFF 		bl	sys_arch_protect
 166 000a 7860     		str	r0, [r7, #4]
 165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   queued = pbuf_free_ooseq_pending;
 167              		.loc 1 165 10
 168 000c 0F4B     		ldr	r3, .L12
 169 000e 1B78     		ldrb	r3, [r3]
 170 0010 FB70     		strb	r3, [r7, #3]
 166:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free_ooseq_pending = 1;
 171              		.loc 1 166 27
 172 0012 0E4B     		ldr	r3, .L12
 173 0014 0122     		movs	r2, #1
 174 0016 1A70     		strb	r2, [r3]
 167:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   SYS_ARCH_UNPROTECT(old_level);
 175              		.loc 1 167 3
 176 0018 7868     		ldr	r0, [r7, #4]
 177 001a FFF7FEFF 		bl	sys_arch_unprotect
 168:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
ARM GAS  /tmp/ccRRFgJP.s 			page 7


 169:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (!queued) {
 178              		.loc 1 169 6
 179 001e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 180 0020 002B     		cmp	r3, #0
 181 0022 0FD1     		bne	.L11
 170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* queue a call to pbuf_free_ooseq if not already queued */
 171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     PBUF_POOL_FREE_OOSEQ_QUEUE_CALL();
 182              		.loc 1 171 5
 183 0024 0021     		movs	r1, #0
 184 0026 0A48     		ldr	r0, .L12+4
 185 0028 FFF7FEFF 		bl	tcpip_try_callback
 186 002c 0346     		mov	r3, r0
 187 002e 002B     		cmp	r3, #0
 188 0030 08D0     		beq	.L11
 189              		.loc 1 171 5 is_stmt 0 discriminator 1
 190 0032 FFF7FEFF 		bl	sys_arch_protect
 191 0036 7860     		str	r0, [r7, #4]
 192 0038 044B     		ldr	r3, .L12
 193 003a 0022     		movs	r2, #0
 194 003c 1A70     		strb	r2, [r3]
 195 003e 7868     		ldr	r0, [r7, #4]
 196 0040 FFF7FEFF 		bl	sys_arch_unprotect
 197              	.L11:
 172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 173:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* PBUF_POOL_FREE_OOSEQ_QUEUE_CALL */
 174:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 198              		.loc 1 174 1 is_stmt 1
 199 0044 00BF     		nop
 200 0046 0837     		adds	r7, r7, #8
 201              	.LCFI13:
 202              		.cfi_def_cfa_offset 8
 203 0048 BD46     		mov	sp, r7
 204              	.LCFI14:
 205              		.cfi_def_cfa_register 13
 206              		@ sp needed
 207 004a 80BD     		pop	{r7, pc}
 208              	.L13:
 209              		.align	2
 210              	.L12:
 211 004c 00000000 		.word	pbuf_free_ooseq_pending
 212 0050 00000000 		.word	pbuf_free_ooseq_callback
 213              		.cfi_endproc
 214              	.LFE139:
 216              		.section	.text.pbuf_init_alloced_pbuf,"ax",%progbits
 217              		.align	1
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu fpv4-sp-d16
 223              	pbuf_init_alloced_pbuf:
 224              	.LFB140:
 175:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* !LWIP_TCP || !TCP_QUEUE_OOSEQ || !PBUF_POOL_FREE_OOSEQ */
 176:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 177:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Initialize members of struct pbuf after allocation */
 178:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static void
 179:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_init_alloced_pbuf(struct pbuf *p, void *payload, u16_t tot_len, u16_t len, pbuf_type type, u8_
 180:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
ARM GAS  /tmp/ccRRFgJP.s 			page 8


 225              		.loc 1 180 1
 226              		.cfi_startproc
 227              		@ args = 8, pretend = 0, frame = 16
 228              		@ frame_needed = 1, uses_anonymous_args = 0
 229              		@ link register save eliminated.
 230 0000 80B4     		push	{r7}
 231              	.LCFI15:
 232              		.cfi_def_cfa_offset 4
 233              		.cfi_offset 7, -4
 234 0002 85B0     		sub	sp, sp, #20
 235              	.LCFI16:
 236              		.cfi_def_cfa_offset 24
 237 0004 00AF     		add	r7, sp, #0
 238              	.LCFI17:
 239              		.cfi_def_cfa_register 7
 240 0006 F860     		str	r0, [r7, #12]
 241 0008 B960     		str	r1, [r7, #8]
 242 000a 1146     		mov	r1, r2
 243 000c 1A46     		mov	r2, r3
 244 000e 0B46     		mov	r3, r1	@ movhi
 245 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 246 0012 1346     		mov	r3, r2	@ movhi
 247 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 181:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->next = NULL;
 248              		.loc 1 181 11
 249 0016 FB68     		ldr	r3, [r7, #12]
 250 0018 0022     		movs	r2, #0
 251 001a 1A60     		str	r2, [r3]
 182:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->payload = payload;
 252              		.loc 1 182 14
 253 001c FB68     		ldr	r3, [r7, #12]
 254 001e BA68     		ldr	r2, [r7, #8]
 255 0020 5A60     		str	r2, [r3, #4]
 183:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len = tot_len;
 256              		.loc 1 183 14
 257 0022 FB68     		ldr	r3, [r7, #12]
 258 0024 FA88     		ldrh	r2, [r7, #6]	@ movhi
 259 0026 1A81     		strh	r2, [r3, #8]	@ movhi
 184:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->len = len;
 260              		.loc 1 184 10
 261 0028 FB68     		ldr	r3, [r7, #12]
 262 002a BA88     		ldrh	r2, [r7, #4]	@ movhi
 263 002c 5A81     		strh	r2, [r3, #10]	@ movhi
 185:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->type_internal = (u8_t)type;
 264              		.loc 1 185 22
 265 002e 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 266 0030 DAB2     		uxtb	r2, r3
 267              		.loc 1 185 20
 268 0032 FB68     		ldr	r3, [r7, #12]
 269 0034 1A73     		strb	r2, [r3, #12]
 186:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->flags = flags;
 270              		.loc 1 186 12
 271 0036 FB68     		ldr	r3, [r7, #12]
 272 0038 3A7F     		ldrb	r2, [r7, #28]
 273 003a 5A73     		strb	r2, [r3, #13]
 187:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->ref = 1;
 274              		.loc 1 187 10
ARM GAS  /tmp/ccRRFgJP.s 			page 9


 275 003c FB68     		ldr	r3, [r7, #12]
 276 003e 0122     		movs	r2, #1
 277 0040 9A73     		strb	r2, [r3, #14]
 188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->if_idx = NETIF_NO_INDEX;
 278              		.loc 1 188 13
 279 0042 FB68     		ldr	r3, [r7, #12]
 280 0044 0022     		movs	r2, #0
 281 0046 DA73     		strb	r2, [r3, #15]
 189:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 282              		.loc 1 189 1
 283 0048 00BF     		nop
 284 004a 1437     		adds	r7, r7, #20
 285              	.LCFI18:
 286              		.cfi_def_cfa_offset 4
 287 004c BD46     		mov	sp, r7
 288              	.LCFI19:
 289              		.cfi_def_cfa_register 13
 290              		@ sp needed
 291 004e 5DF8047B 		ldr	r7, [sp], #4
 292              	.LCFI20:
 293              		.cfi_restore 7
 294              		.cfi_def_cfa_offset 0
 295 0052 7047     		bx	lr
 296              		.cfi_endproc
 297              	.LFE140:
 299              		.section	.rodata
 300              		.align	2
 301              	.LC0:
 302 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/pbuf.c\000"
 302      6C657761 
 302      7265732F 
 302      54686972 
 302      645F5061 
 303 002d 000000   		.align	2
 304              	.LC1:
 305 0030 70627566 		.ascii	"pbuf_alloc: pbuf q->payload properly aligned\000"
 305      5F616C6C 
 305      6F633A20 
 305      70627566 
 305      20712D3E 
 306 005d 000000   		.align	2
 307              	.LC2:
 308 0060 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 308      7274696F 
 308      6E202225 
 308      73222066 
 308      61696C65 
 309              		.align	2
 310              	.LC3:
 311 0088 50425546 		.ascii	"PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT"
 311      5F504F4F 
 311      4C5F4255 
 311      4653495A 
 311      45206D75 
 312 00bb 00       		.ascii	"\000"
 313              		.align	2
 314              	.LC4:
ARM GAS  /tmp/ccRRFgJP.s 			page 10


 315 00bc 70627566 		.ascii	"pbuf_alloc: pbuf->payload properly aligned\000"
 315      5F616C6C 
 315      6F633A20 
 315      70627566 
 315      2D3E7061 
 316 00e7 00       		.align	2
 317              	.LC5:
 318 00e8 70627566 		.ascii	"pbuf_alloc: erroneous type\000"
 318      5F616C6C 
 318      6F633A20 
 318      6572726F 
 318      6E656F75 
 319              		.section	.text.pbuf_alloc,"ax",%progbits
 320              		.align	1
 321              		.global	pbuf_alloc
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 325              		.fpu fpv4-sp-d16
 327              	pbuf_alloc:
 328              	.LFB141:
 190:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 191:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 192:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 193:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Allocates a pbuf of the given type (possibly a chain for PBUF_POOL type).
 194:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 195:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The actual memory allocated for the pbuf is determined by the
 196:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * layer at which the pbuf is allocated and the requested size
 197:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (from the size parameter).
 198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 199:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer header size
 200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 201:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf
 202:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * should be allocated as follows:
 203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_RAM: buffer memory for pbuf is allocated as one large
 205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             chunk. This includes protocol headers as well.
 206:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_ROM: no buffer memory is allocated for the pbuf, even for
 207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. Additional headers must be prepended
 208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             by allocating another pbuf and chain in to the front of
 209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             the ROM pbuf. It is assumed that the memory used is really
 210:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             similar to ROM in that it is immutable and will not be
 211:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             changed. Memory which is dynamic should generally not
 212:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             be attached to PBUF_ROM pbufs. Use PBUF_REF instead.
 213:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_REF: no buffer memory is allocated for the pbuf, even for
 214:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             protocol headers. It is assumed that the pbuf is only
 215:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             being used in a single thread. If the pbuf gets queued,
 216:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             then pbuf_take should be called to copy the buffer.
 217:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_POOL: the pbuf is allocated as a pbuf chain, with pbufs from
 218:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *              the pbuf pool that is allocated during pbuf_init().
 219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the allocated pbuf. If multiple pbufs where allocated, this
 221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * is the first pbuf of a pbuf chain.
 222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 223:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 224:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloc(pbuf_layer layer, u16_t length, pbuf_type type)
 225:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
ARM GAS  /tmp/ccRRFgJP.s 			page 11


 329              		.loc 1 225 1
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 40
 332              		@ frame_needed = 1, uses_anonymous_args = 0
 333 0000 80B5     		push	{r7, lr}
 334              	.LCFI21:
 335              		.cfi_def_cfa_offset 8
 336              		.cfi_offset 7, -8
 337              		.cfi_offset 14, -4
 338 0002 8CB0     		sub	sp, sp, #48
 339              	.LCFI22:
 340              		.cfi_def_cfa_offset 56
 341 0004 02AF     		add	r7, sp, #8
 342              	.LCFI23:
 343              		.cfi_def_cfa 7, 48
 344 0006 0346     		mov	r3, r0
 345 0008 FB71     		strb	r3, [r7, #7]
 346 000a 0B46     		mov	r3, r1	@ movhi
 347 000c BB80     		strh	r3, [r7, #4]	@ movhi
 348 000e 1346     		mov	r3, r2	@ movhi
 349 0010 7B80     		strh	r3, [r7, #2]	@ movhi
 226:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 227:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)layer;
 350              		.loc 1 227 9
 351 0012 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 352 0014 7B84     		strh	r3, [r7, #34]	@ movhi
 228:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F")\n", length));
 229:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 230:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   switch (type) {
 353              		.loc 1 230 3
 354 0016 7B88     		ldrh	r3, [r7, #2]
 355 0018 412B     		cmp	r3, #65
 356 001a 0BD0     		beq	.L16
 357 001c 412B     		cmp	r3, #65
 358 001e 02DC     		bgt	.L17
 359 0020 012B     		cmp	r3, #1
 360 0022 07D0     		beq	.L16
 361 0024 C2E0     		b	.L34
 362              	.L17:
 363 0026 B3F5C17F 		cmp	r3, #386
 364 002a 0BD0     		beq	.L19
 365 002c B3F5207F 		cmp	r3, #640
 366 0030 70D0     		beq	.L20
 367 0032 BBE0     		b	.L34
 368              	.L16:
 231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     case PBUF_REF: /* fall through */
 232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     case PBUF_ROM:
 233:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = pbuf_alloc_reference(NULL, length, type);
 369              		.loc 1 233 11
 370 0034 7A88     		ldrh	r2, [r7, #2]
 371 0036 BB88     		ldrh	r3, [r7, #4]
 372 0038 1946     		mov	r1, r3
 373 003a 0020     		movs	r0, #0
 374 003c FFF7FEFF 		bl	pbuf_alloc_reference
 375 0040 7862     		str	r0, [r7, #36]
 234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       break;
 376              		.loc 1 234 7
ARM GAS  /tmp/ccRRFgJP.s 			page 12


 377 0042 BDE0     		b	.L21
 378              	.L19:
 379              	.LBB3:
 235:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     case PBUF_POOL: {
 236:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       struct pbuf *q, *last;
 237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t rem_len; /* remaining length */
 238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = NULL;
 380              		.loc 1 238 9
 381 0044 0023     		movs	r3, #0
 382 0046 7B62     		str	r3, [r7, #36]
 239:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       last = NULL;
 383              		.loc 1 239 12
 384 0048 0023     		movs	r3, #0
 385 004a FB61     		str	r3, [r7, #28]
 240:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       rem_len = length;
 386              		.loc 1 240 15
 387 004c BB88     		ldrh	r3, [r7, #4]	@ movhi
 388 004e 7B83     		strh	r3, [r7, #26]	@ movhi
 389              	.L29:
 390              	.LBB4:
 241:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       do {
 242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         u16_t qlen;
 243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         q = (struct pbuf *)memp_malloc(MEMP_PBUF_POOL);
 391              		.loc 1 243 28
 392 0050 0D20     		movs	r0, #13
 393 0052 FFF7FEFF 		bl	memp_malloc
 394 0056 7861     		str	r0, [r7, #20]
 244:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         if (q == NULL) {
 395              		.loc 1 244 12
 396 0058 7B69     		ldr	r3, [r7, #20]
 397 005a 002B     		cmp	r3, #0
 398 005c 09D1     		bne	.L22
 245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           PBUF_POOL_IS_EMPTY();
 399              		.loc 1 245 11
 400 005e FFF7FEFF 		bl	pbuf_pool_is_empty
 246:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           /* free chain so far allocated */
 247:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           if (p) {
 401              		.loc 1 247 14
 402 0062 7B6A     		ldr	r3, [r7, #36]
 403 0064 002B     		cmp	r3, #0
 404 0066 02D0     		beq	.L23
 248:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****             pbuf_free(p);
 405              		.loc 1 248 13
 406 0068 786A     		ldr	r0, [r7, #36]
 407 006a FFF7FEFF 		bl	pbuf_free
 408              	.L23:
 249:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           }
 250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           /* bail out unsuccessfully */
 251:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           return NULL;
 409              		.loc 1 251 18
 410 006e 0023     		movs	r3, #0
 411 0070 A7E0     		b	.L24
 412              	.L22:
 252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         qlen = LWIP_MIN(rem_len, (u16_t)(PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)));
 413              		.loc 1 253 16
 414 0072 7B8C     		ldrh	r3, [r7, #34]	@ movhi
ARM GAS  /tmp/ccRRFgJP.s 			page 13


 415 0074 0333     		adds	r3, r3, #3
 416 0076 9BB2     		uxth	r3, r3
 417 0078 23F00303 		bic	r3, r3, #3
 418 007c 9BB2     		uxth	r3, r3
 419 007e C3F51473 		rsb	r3, r3, #592
 420 0082 9BB2     		uxth	r3, r3
 421              		.loc 1 253 14
 422 0084 7A8B     		ldrh	r2, [r7, #26]
 423 0086 9342     		cmp	r3, r2
 424 0088 28BF     		it	cs
 425 008a 1346     		movcs	r3, r2
 426 008c 7B82     		strh	r3, [r7, #18]	@ movhi
 254:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pbuf_init_alloced_pbuf(q, LWIP_MEM_ALIGN((void *)((u8_t *)q + SIZEOF_STRUCT_PBUF + offset))
 427              		.loc 1 254 35
 428 008e 7B8C     		ldrh	r3, [r7, #34]
 429 0090 1033     		adds	r3, r3, #16
 430 0092 7A69     		ldr	r2, [r7, #20]
 431 0094 1344     		add	r3, r3, r2
 432 0096 0333     		adds	r3, r3, #3
 433 0098 23F00303 		bic	r3, r3, #3
 434              		.loc 1 254 9
 435 009c 1846     		mov	r0, r3
 436 009e 798A     		ldrh	r1, [r7, #18]
 437 00a0 7A8B     		ldrh	r2, [r7, #26]
 438 00a2 0023     		movs	r3, #0
 439 00a4 0193     		str	r3, [sp, #4]
 440 00a6 7B88     		ldrh	r3, [r7, #2]
 441 00a8 0093     		str	r3, [sp]
 442 00aa 0B46     		mov	r3, r1
 443 00ac 0146     		mov	r1, r0
 444 00ae 7869     		ldr	r0, [r7, #20]
 445 00b0 FFF7FEFF 		bl	pbuf_init_alloced_pbuf
 255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                                rem_len, qlen, type, 0);
 256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("pbuf_alloc: pbuf q->payload properly aligned",
 446              		.loc 1 256 9
 447 00b4 7B69     		ldr	r3, [r7, #20]
 448 00b6 5B68     		ldr	r3, [r3, #4]
 449 00b8 03F00303 		and	r3, r3, #3
 450 00bc 002B     		cmp	r3, #0
 451 00be 06D0     		beq	.L25
 452              		.loc 1 256 9 is_stmt 0 discriminator 1
 453 00c0 424B     		ldr	r3, .L36
 454 00c2 40F20112 		movw	r2, #257
 455 00c6 4249     		ldr	r1, .L36+4
 456 00c8 4248     		ldr	r0, .L36+8
 457 00ca FFF7FEFF 		bl	printf
 458              	.L25:
 257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     ((mem_ptr_t)q->payload % MEM_ALIGNMENT) == 0);
 258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("PBUF_POOL_BUFSIZE must be bigger than MEM_ALIGNMENT",
 459              		.loc 1 258 9 is_stmt 1
 460 00ce 7B8C     		ldrh	r3, [r7, #34]
 461 00d0 0333     		adds	r3, r3, #3
 462 00d2 23F00303 		bic	r3, r3, #3
 463 00d6 B3F5147F 		cmp	r3, #592
 464 00da 06D1     		bne	.L26
 465              		.loc 1 258 9 is_stmt 0 discriminator 1
 466 00dc 3B4B     		ldr	r3, .L36
ARM GAS  /tmp/ccRRFgJP.s 			page 14


 467 00de 40F20312 		movw	r2, #259
 468 00e2 3D49     		ldr	r1, .L36+12
 469 00e4 3B48     		ldr	r0, .L36+8
 470 00e6 FFF7FEFF 		bl	printf
 471              	.L26:
 259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     (PBUF_POOL_BUFSIZE_ALIGNED - LWIP_MEM_ALIGN_SIZE(offset)) > 0 );
 260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         if (p == NULL) {
 472              		.loc 1 260 12 is_stmt 1
 473 00ea 7B6A     		ldr	r3, [r7, #36]
 474 00ec 002B     		cmp	r3, #0
 475 00ee 02D1     		bne	.L27
 261:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           /* allocated head of pbuf chain (into p) */
 262:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           p = q;
 476              		.loc 1 262 13
 477 00f0 7B69     		ldr	r3, [r7, #20]
 478 00f2 7B62     		str	r3, [r7, #36]
 479 00f4 02E0     		b	.L28
 480              	.L27:
 263:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else {
 264:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           /* make previous pbuf point to this pbuf */
 265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           last->next = q;
 481              		.loc 1 265 22
 482 00f6 FB69     		ldr	r3, [r7, #28]
 483 00f8 7A69     		ldr	r2, [r7, #20]
 484 00fa 1A60     		str	r2, [r3]
 485              	.L28:
 266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         last = q;
 486              		.loc 1 267 14
 487 00fc 7B69     		ldr	r3, [r7, #20]
 488 00fe FB61     		str	r3, [r7, #28]
 268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         rem_len = (u16_t)(rem_len - qlen);
 489              		.loc 1 268 17
 490 0100 7A8B     		ldrh	r2, [r7, #26]	@ movhi
 491 0102 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 492 0104 D31A     		subs	r3, r2, r3
 493 0106 7B83     		strh	r3, [r7, #26]	@ movhi
 269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         offset = 0;
 494              		.loc 1 269 16
 495 0108 0023     		movs	r3, #0
 496 010a 7B84     		strh	r3, [r7, #34]	@ movhi
 497              	.LBE4:
 270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } while (rem_len > 0);
 498              		.loc 1 270 7
 499 010c 7B8B     		ldrh	r3, [r7, #26]
 500 010e 002B     		cmp	r3, #0
 501 0110 9ED1     		bne	.L29
 271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       break;
 502              		.loc 1 271 7
 503 0112 55E0     		b	.L21
 504              	.L20:
 505              	.LBE3:
 506              	.LBB5:
 272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 273:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     case PBUF_RAM: {
 274:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t payload_len = (u16_t)(LWIP_MEM_ALIGN_SIZE(offset) + LWIP_MEM_ALIGN_SIZE(length));
 507              		.loc 1 274 35
ARM GAS  /tmp/ccRRFgJP.s 			page 15


 508 0114 7B8C     		ldrh	r3, [r7, #34]	@ movhi
 509 0116 0333     		adds	r3, r3, #3
 510 0118 9BB2     		uxth	r3, r3
 511 011a 23F00303 		bic	r3, r3, #3
 512 011e 9AB2     		uxth	r2, r3
 513              		.loc 1 274 65
 514 0120 BB88     		ldrh	r3, [r7, #4]	@ movhi
 515 0122 0333     		adds	r3, r3, #3
 516 0124 9BB2     		uxth	r3, r3
 517 0126 23F00303 		bic	r3, r3, #3
 518 012a 9BB2     		uxth	r3, r3
 519              		.loc 1 274 13
 520 012c 1344     		add	r3, r3, r2
 521 012e 3B82     		strh	r3, [r7, #16]	@ movhi
 275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       mem_size_t alloc_len = (mem_size_t)(LWIP_MEM_ALIGN_SIZE(SIZEOF_STRUCT_PBUF) + payload_len);
 522              		.loc 1 275 18
 523 0130 3B8A     		ldrh	r3, [r7, #16]	@ movhi
 524 0132 1033     		adds	r3, r3, #16
 525 0134 FB81     		strh	r3, [r7, #14]	@ movhi
 276:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 277:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bug #50040: Check for integer overflow when calculating alloc_len */
 278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if ((payload_len < LWIP_MEM_ALIGN_SIZE(length)) ||
 526              		.loc 1 278 24
 527 0136 3A8A     		ldrh	r2, [r7, #16]
 528              		.loc 1 278 26
 529 0138 BB88     		ldrh	r3, [r7, #4]
 530 013a 0333     		adds	r3, r3, #3
 531 013c 23F00303 		bic	r3, r3, #3
 532              		.loc 1 278 10
 533 0140 9A42     		cmp	r2, r3
 534 0142 06D3     		bcc	.L30
 279:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 535              		.loc 1 279 22 discriminator 1
 536 0144 FA89     		ldrh	r2, [r7, #14]
 537              		.loc 1 279 24 discriminator 1
 538 0146 BB88     		ldrh	r3, [r7, #4]
 539 0148 0333     		adds	r3, r3, #3
 540 014a 23F00303 		bic	r3, r3, #3
 278:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           (alloc_len < LWIP_MEM_ALIGN_SIZE(length))) {
 541              		.loc 1 278 55 discriminator 1
 542 014e 9A42     		cmp	r2, r3
 543 0150 01D2     		bcs	.L31
 544              	.L30:
 280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 545              		.loc 1 280 16
 546 0152 0023     		movs	r3, #0
 547 0154 35E0     		b	.L24
 548              	.L31:
 281:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 282:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* If pbuf is to be allocated in RAM, allocate memory for it. */
 284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = (struct pbuf *)mem_malloc(alloc_len);
 549              		.loc 1 284 26
 550 0156 FB89     		ldrh	r3, [r7, #14]
 551 0158 1846     		mov	r0, r3
 552 015a FFF7FEFF 		bl	mem_malloc
 553 015e 7862     		str	r0, [r7, #36]
ARM GAS  /tmp/ccRRFgJP.s 			page 16


 285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (p == NULL) {
 554              		.loc 1 285 10
 555 0160 7B6A     		ldr	r3, [r7, #36]
 556 0162 002B     		cmp	r3, #0
 557 0164 01D1     		bne	.L32
 286:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return NULL;
 558              		.loc 1 286 16
 559 0166 0023     		movs	r3, #0
 560 0168 2BE0     		b	.L24
 561              	.L32:
 287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pbuf_init_alloced_pbuf(p, LWIP_MEM_ALIGN((void *)((u8_t *)p + SIZEOF_STRUCT_PBUF + offset)),
 562              		.loc 1 288 33
 563 016a 7B8C     		ldrh	r3, [r7, #34]
 564 016c 1033     		adds	r3, r3, #16
 565 016e 7A6A     		ldr	r2, [r7, #36]
 566 0170 1344     		add	r3, r3, r2
 567 0172 0333     		adds	r3, r3, #3
 568 0174 23F00303 		bic	r3, r3, #3
 569              		.loc 1 288 7
 570 0178 1846     		mov	r0, r3
 571 017a B988     		ldrh	r1, [r7, #4]
 572 017c BA88     		ldrh	r2, [r7, #4]
 573 017e 0023     		movs	r3, #0
 574 0180 0193     		str	r3, [sp, #4]
 575 0182 7B88     		ldrh	r3, [r7, #2]
 576 0184 0093     		str	r3, [sp]
 577 0186 0B46     		mov	r3, r1
 578 0188 0146     		mov	r1, r0
 579 018a 786A     		ldr	r0, [r7, #36]
 580 018c FFF7FEFF 		bl	pbuf_init_alloced_pbuf
 289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                              length, length, type, 0);
 290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: pbuf->payload properly aligned",
 581              		.loc 1 290 7
 582 0190 7B6A     		ldr	r3, [r7, #36]
 583 0192 5B68     		ldr	r3, [r3, #4]
 584 0194 03F00303 		and	r3, r3, #3
 585 0198 002B     		cmp	r3, #0
 586 019a 10D0     		beq	.L35
 587              		.loc 1 290 7 is_stmt 0 discriminator 1
 588 019c 0B4B     		ldr	r3, .L36
 589 019e 40F22312 		movw	r2, #291
 590 01a2 0E49     		ldr	r1, .L36+16
 591 01a4 0B48     		ldr	r0, .L36+8
 592 01a6 FFF7FEFF 		bl	printf
 291:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ((mem_ptr_t)p->payload % MEM_ALIGNMENT) == 0);
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       break;
 593              		.loc 1 292 7 is_stmt 1 discriminator 1
 594 01aa 08E0     		b	.L35
 595              	.L34:
 596              	.LBE5:
 293:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 294:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     default:
 295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ASSERT("pbuf_alloc: erroneous type", 0);
 597              		.loc 1 295 7 discriminator 1
 598 01ac 074B     		ldr	r3, .L36
 599 01ae 40F22712 		movw	r2, #295
ARM GAS  /tmp/ccRRFgJP.s 			page 17


 600 01b2 0B49     		ldr	r1, .L36+20
 601 01b4 0748     		ldr	r0, .L36+8
 602 01b6 FFF7FEFF 		bl	printf
 296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 603              		.loc 1 296 14 discriminator 1
 604 01ba 0023     		movs	r3, #0
 605 01bc 01E0     		b	.L24
 606              	.L35:
 607              	.LBB6:
 292:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 608              		.loc 1 292 7
 609 01be 00BF     		nop
 610              	.L21:
 611              	.LBE6:
 297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 298:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloc(length=%"U16_F") == %p\n", length, (void *)
 299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return p;
 612              		.loc 1 299 10
 613 01c0 7B6A     		ldr	r3, [r7, #36]
 614              	.L24:
 300:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 615              		.loc 1 300 1
 616 01c2 1846     		mov	r0, r3
 617 01c4 2837     		adds	r7, r7, #40
 618              	.LCFI24:
 619              		.cfi_def_cfa_offset 8
 620 01c6 BD46     		mov	sp, r7
 621              	.LCFI25:
 622              		.cfi_def_cfa_register 13
 623              		@ sp needed
 624 01c8 80BD     		pop	{r7, pc}
 625              	.L37:
 626 01ca 00BF     		.align	2
 627              	.L36:
 628 01cc 00000000 		.word	.LC0
 629 01d0 30000000 		.word	.LC1
 630 01d4 60000000 		.word	.LC2
 631 01d8 88000000 		.word	.LC3
 632 01dc BC000000 		.word	.LC4
 633 01e0 E8000000 		.word	.LC5
 634              		.cfi_endproc
 635              	.LFE141:
 637              		.section	.rodata
 638 0103 00       		.align	2
 639              	.LC6:
 640 0104 696E7661 		.ascii	"invalid pbuf_type\000"
 640      6C696420 
 640      70627566 
 640      5F747970 
 640      6500
 641              		.section	.text.pbuf_alloc_reference,"ax",%progbits
 642              		.align	1
 643              		.global	pbuf_alloc_reference
 644              		.syntax unified
 645              		.thumb
 646              		.thumb_func
 647              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccRRFgJP.s 			page 18


 649              	pbuf_alloc_reference:
 650              	.LFB142:
 301:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 302:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 304:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Allocates a pbuf for referenced data.
 305:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Referenced data can be volatile (PBUF_REF) or long-lived (PBUF_ROM).
 306:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 307:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The actual memory allocated for the pbuf is determined by the
 308:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * layer at which the pbuf is allocated and the requested size
 309:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (from the size parameter).
 310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 311:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload referenced payload
 312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf
 314:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * should be allocated as follows:
 315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 316:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_ROM: It is assumed that the memory used is really
 317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             similar to ROM in that it is immutable and will not be
 318:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             changed. Memory which is dynamic should generally not
 319:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             be attached to PBUF_ROM pbufs. Use PBUF_REF instead.
 320:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * - PBUF_REF: It is assumed that the pbuf is only
 321:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             being used in a single thread. If the pbuf gets queued,
 322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             then pbuf_take should be called to copy the buffer.
 323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the allocated pbuf.
 325:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 326:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 327:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloc_reference(void *payload, u16_t length, pbuf_type type)
 328:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 651              		.loc 1 328 1
 652              		.cfi_startproc
 653              		@ args = 0, pretend = 0, frame = 16
 654              		@ frame_needed = 1, uses_anonymous_args = 0
 655 0000 80B5     		push	{r7, lr}
 656              	.LCFI26:
 657              		.cfi_def_cfa_offset 8
 658              		.cfi_offset 7, -8
 659              		.cfi_offset 14, -4
 660 0002 86B0     		sub	sp, sp, #24
 661              	.LCFI27:
 662              		.cfi_def_cfa_offset 32
 663 0004 02AF     		add	r7, sp, #8
 664              	.LCFI28:
 665              		.cfi_def_cfa 7, 24
 666 0006 7860     		str	r0, [r7, #4]
 667 0008 0B46     		mov	r3, r1
 668 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 669 000c 1346     		mov	r3, r2	@ movhi
 670 000e 3B80     		strh	r3, [r7]	@ movhi
 329:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("invalid pbuf_type", (type == PBUF_REF) || (type == PBUF_ROM));
 671              		.loc 1 330 3
 672 0010 3B88     		ldrh	r3, [r7]
 673 0012 412B     		cmp	r3, #65
 674 0014 09D0     		beq	.L39
 675              		.loc 1 330 3 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccRRFgJP.s 			page 19


 676 0016 3B88     		ldrh	r3, [r7]
 677 0018 012B     		cmp	r3, #1
 678 001a 06D0     		beq	.L39
 679              		.loc 1 330 3 discriminator 2
 680 001c 0F4B     		ldr	r3, .L42
 681 001e 4FF4A572 		mov	r2, #330
 682 0022 0F49     		ldr	r1, .L42+4
 683 0024 0F48     		ldr	r0, .L42+8
 684 0026 FFF7FEFF 		bl	printf
 685              	.L39:
 331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* only allocate memory for the pbuf structure */
 332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p = (struct pbuf *)memp_malloc(MEMP_PBUF);
 686              		.loc 1 332 22 is_stmt 1
 687 002a 0C20     		movs	r0, #12
 688 002c FFF7FEFF 		bl	memp_malloc
 689 0030 F860     		str	r0, [r7, #12]
 333:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p == NULL) {
 690              		.loc 1 333 6
 691 0032 FB68     		ldr	r3, [r7, #12]
 692 0034 002B     		cmp	r3, #0
 693 0036 01D1     		bne	.L40
 334:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ("pbuf_alloc_reference: Could not allocate MEMP_PBUF for PBUF_%s.\n",
 336:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (type == PBUF_ROM) ? "ROM" : "REF"));
 337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 694              		.loc 1 337 12
 695 0038 0023     		movs	r3, #0
 696 003a 0BE0     		b	.L41
 697              	.L40:
 338:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_init_alloced_pbuf(p, payload, length, length, type, 0);
 698              		.loc 1 339 3
 699 003c 7988     		ldrh	r1, [r7, #2]
 700 003e 7A88     		ldrh	r2, [r7, #2]
 701 0040 0023     		movs	r3, #0
 702 0042 0193     		str	r3, [sp, #4]
 703 0044 3B88     		ldrh	r3, [r7]
 704 0046 0093     		str	r3, [sp]
 705 0048 0B46     		mov	r3, r1
 706 004a 7968     		ldr	r1, [r7, #4]
 707 004c F868     		ldr	r0, [r7, #12]
 708 004e FFF7FEFF 		bl	pbuf_init_alloced_pbuf
 340:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return p;
 709              		.loc 1 340 10
 710 0052 FB68     		ldr	r3, [r7, #12]
 711              	.L41:
 341:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 712              		.loc 1 341 1
 713 0054 1846     		mov	r0, r3
 714 0056 1037     		adds	r7, r7, #16
 715              	.LCFI29:
 716              		.cfi_def_cfa_offset 8
 717 0058 BD46     		mov	sp, r7
 718              	.LCFI30:
 719              		.cfi_def_cfa_register 13
 720              		@ sp needed
 721 005a 80BD     		pop	{r7, pc}
ARM GAS  /tmp/ccRRFgJP.s 			page 20


 722              	.L43:
 723              		.align	2
 724              	.L42:
 725 005c 00000000 		.word	.LC0
 726 0060 04010000 		.word	.LC6
 727 0064 60000000 		.word	.LC2
 728              		.cfi_endproc
 729              	.LFE142:
 731              		.section	.text.pbuf_alloced_custom,"ax",%progbits
 732              		.align	1
 733              		.global	pbuf_alloced_custom
 734              		.syntax unified
 735              		.thumb
 736              		.thumb_func
 737              		.fpu fpv4-sp-d16
 739              	pbuf_alloced_custom:
 740              	.LFB143:
 342:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 343:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 344:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 345:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Initialize a custom pbuf (already allocated).
 348:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Example of custom pbuf usage: @ref zerocopyrx
 349:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 350:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param l header size
 351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param length size of the pbuf's payload
 352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type type of the pbuf (only used to treat the pbuf accordingly, as
 353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        this function allocates no memory)
 354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pointer to the custom pbuf to initialize (already allocated)
 355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem pointer to the buffer that is used for payload and headers,
 356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        must be at least big enough to hold 'length' plus the header size,
 357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        may be NULL if set later.
 358:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        ATTENTION: The caller is responsible for correct alignment of this buffer!!
 359:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param payload_mem_len the size of the 'payload_mem' buffer, must be at least
 360:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        big enough to hold 'length' plus the header size
 361:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 362:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 363:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_alloced_custom(pbuf_layer l, u16_t length, pbuf_type type, struct pbuf_custom *p,
 364:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     void *payload_mem, u16_t payload_mem_len)
 365:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 741              		.loc 1 365 1
 742              		.cfi_startproc
 743              		@ args = 8, pretend = 0, frame = 24
 744              		@ frame_needed = 1, uses_anonymous_args = 0
 745 0000 80B5     		push	{r7, lr}
 746              	.LCFI31:
 747              		.cfi_def_cfa_offset 8
 748              		.cfi_offset 7, -8
 749              		.cfi_offset 14, -4
 750 0002 88B0     		sub	sp, sp, #32
 751              	.LCFI32:
 752              		.cfi_def_cfa_offset 40
 753 0004 02AF     		add	r7, sp, #8
 754              	.LCFI33:
 755              		.cfi_def_cfa 7, 32
 756 0006 7B60     		str	r3, [r7, #4]
ARM GAS  /tmp/ccRRFgJP.s 			page 21


 757 0008 0346     		mov	r3, r0
 758 000a FB73     		strb	r3, [r7, #15]
 759 000c 0B46     		mov	r3, r1	@ movhi
 760 000e BB81     		strh	r3, [r7, #12]	@ movhi
 761 0010 1346     		mov	r3, r2	@ movhi
 762 0012 7B81     		strh	r3, [r7, #10]	@ movhi
 366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset = (u16_t)l;
 763              		.loc 1 366 9
 764 0014 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 765 0016 7B82     		strh	r3, [r7, #18]	@ movhi
 367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   void *payload;
 368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_alloced_custom(length=%"U16_F")\n", length));
 369:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 370:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (LWIP_MEM_ALIGN_SIZE(offset) + length > payload_mem_len) {
 766              		.loc 1 370 7
 767 0018 7B8A     		ldrh	r3, [r7, #18]
 768 001a 0333     		adds	r3, r3, #3
 769 001c 23F00302 		bic	r2, r3, #3
 770              		.loc 1 370 35
 771 0020 BB89     		ldrh	r3, [r7, #12]
 772 0022 1A44     		add	r2, r2, r3
 773              		.loc 1 370 44
 774 0024 BB8C     		ldrh	r3, [r7, #36]
 775              		.loc 1 370 6
 776 0026 9A42     		cmp	r2, r3
 777 0028 01D9     		bls	.L45
 371:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_WARNING, ("pbuf_alloced_custom(length=%"U16_F") buffer 
 372:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 778              		.loc 1 372 12
 779 002a 0023     		movs	r3, #0
 780 002c 18E0     		b	.L46
 781              	.L45:
 373:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 374:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (payload_mem != NULL) {
 782              		.loc 1 375 6
 783 002e 3B6A     		ldr	r3, [r7, #32]
 784 0030 002B     		cmp	r3, #0
 785 0032 07D0     		beq	.L47
 376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     payload = (u8_t *)payload_mem + LWIP_MEM_ALIGN_SIZE(offset);
 786              		.loc 1 376 37
 787 0034 7B8A     		ldrh	r3, [r7, #18]
 788 0036 0333     		adds	r3, r3, #3
 789 0038 23F00303 		bic	r3, r3, #3
 790              		.loc 1 376 13
 791 003c 3A6A     		ldr	r2, [r7, #32]
 792 003e 1344     		add	r3, r3, r2
 793 0040 7B61     		str	r3, [r7, #20]
 794 0042 01E0     		b	.L48
 795              	.L47:
 377:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 378:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     payload = NULL;
 796              		.loc 1 378 13
 797 0044 0023     		movs	r3, #0
 798 0046 7B61     		str	r3, [r7, #20]
 799              	.L48:
 379:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
ARM GAS  /tmp/ccRRFgJP.s 			page 22


 380:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_init_alloced_pbuf(&p->pbuf, payload, length, length, type, PBUF_FLAG_IS_CUSTOM);
 800              		.loc 1 380 3
 801 0048 7868     		ldr	r0, [r7, #4]
 802 004a B989     		ldrh	r1, [r7, #12]
 803 004c BA89     		ldrh	r2, [r7, #12]
 804 004e 0223     		movs	r3, #2
 805 0050 0193     		str	r3, [sp, #4]
 806 0052 7B89     		ldrh	r3, [r7, #10]
 807 0054 0093     		str	r3, [sp]
 808 0056 0B46     		mov	r3, r1
 809 0058 7969     		ldr	r1, [r7, #20]
 810 005a FFF7FEFF 		bl	pbuf_init_alloced_pbuf
 381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return &p->pbuf;
 811              		.loc 1 381 10
 812 005e 7B68     		ldr	r3, [r7, #4]
 813              	.L46:
 382:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 814              		.loc 1 382 1
 815 0060 1846     		mov	r0, r3
 816 0062 1837     		adds	r7, r7, #24
 817              	.LCFI34:
 818              		.cfi_def_cfa_offset 8
 819 0064 BD46     		mov	sp, r7
 820              	.LCFI35:
 821              		.cfi_def_cfa_register 13
 822              		@ sp needed
 823 0066 80BD     		pop	{r7, pc}
 824              		.cfi_endproc
 825              	.LFE143:
 827              		.section	.rodata
 828 0116 0000     		.align	2
 829              	.LC7:
 830 0118 70627566 		.ascii	"pbuf_realloc: p != NULL\000"
 830      5F726561 
 830      6C6C6F63 
 830      3A207020 
 830      213D204E 
 831              		.align	2
 832              	.LC8:
 833 0130 70627566 		.ascii	"pbuf_realloc: q != NULL\000"
 833      5F726561 
 833      6C6C6F63 
 833      3A207120 
 833      213D204E 
 834              		.align	2
 835              	.LC9:
 836 0148 6D656D5F 		.ascii	"mem_trim returned q == NULL\000"
 836      7472696D 
 836      20726574 
 836      75726E65 
 836      64207120 
 837              		.section	.text.pbuf_realloc,"ax",%progbits
 838              		.align	1
 839              		.global	pbuf_realloc
 840              		.syntax unified
 841              		.thumb
 842              		.thumb_func
ARM GAS  /tmp/ccRRFgJP.s 			page 23


 843              		.fpu fpv4-sp-d16
 845              	pbuf_realloc:
 846              	.LFB144:
 383:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 384:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 385:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Shrink a pbuf chain to a desired length.
 388:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 389:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to shrink.
 390:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param new_len desired new length of pbuf chain
 391:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Depending on the desired length, the first few pbufs in a chain might
 393:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * be skipped and left unchanged. The new last pbuf in the chain will be
 394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * resized, and any remaining pbufs will be freed.
 395:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note If the pbuf is ROM/REF, only the ->tot_len and ->len fields are adjusted.
 397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 399:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Despite its name, pbuf_realloc cannot grow the size of a pbuf (chain).
 400:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 401:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 402:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_realloc(struct pbuf *p, u16_t new_len)
 403:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 847              		.loc 1 403 1
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 16
 850              		@ frame_needed = 1, uses_anonymous_args = 0
 851 0000 80B5     		push	{r7, lr}
 852              	.LCFI36:
 853              		.cfi_def_cfa_offset 8
 854              		.cfi_offset 7, -8
 855              		.cfi_offset 14, -4
 856 0002 84B0     		sub	sp, sp, #16
 857              	.LCFI37:
 858              		.cfi_def_cfa_offset 24
 859 0004 00AF     		add	r7, sp, #0
 860              	.LCFI38:
 861              		.cfi_def_cfa_register 7
 862 0006 7860     		str	r0, [r7, #4]
 863 0008 0B46     		mov	r3, r1
 864 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 404:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 405:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t rem_len; /* remaining length */
 406:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t shrink;
 407:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 408:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_realloc: p != NULL", p != NULL);
 865              		.loc 1 408 3
 866 000c 7B68     		ldr	r3, [r7, #4]
 867 000e 002B     		cmp	r3, #0
 868 0010 06D1     		bne	.L50
 869              		.loc 1 408 3 is_stmt 0 discriminator 1
 870 0012 3A4B     		ldr	r3, .L58
 871 0014 4FF4CC72 		mov	r2, #408
 872 0018 3949     		ldr	r1, .L58+4
 873 001a 3A48     		ldr	r0, .L58+8
 874 001c FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccRRFgJP.s 			page 24


 875              	.L50:
 409:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 410:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* desired length larger than current length? */
 411:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (new_len >= p->tot_len) {
 876              		.loc 1 411 19 is_stmt 1
 877 0020 7B68     		ldr	r3, [r7, #4]
 878 0022 1B89     		ldrh	r3, [r3, #8]
 879              		.loc 1 411 6
 880 0024 7A88     		ldrh	r2, [r7, #2]
 881 0026 9A42     		cmp	r2, r3
 882 0028 63D2     		bcs	.L57
 412:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enlarging not yet supported */
 413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return;
 414:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 415:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* the pbuf chain grows by (new_len - p->tot_len) bytes
 417:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * (which may be negative in case of shrinking) */
 418:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   shrink = (u16_t)(p->tot_len - new_len);
 883              		.loc 1 418 21
 884 002a 7B68     		ldr	r3, [r7, #4]
 885 002c 1A89     		ldrh	r2, [r3, #8]
 886              		.loc 1 418 10
 887 002e 7B88     		ldrh	r3, [r7, #2]	@ movhi
 888 0030 D31A     		subs	r3, r2, r3
 889 0032 3B81     		strh	r3, [r7, #8]	@ movhi
 419:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 420:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* first, step over any pbufs that should remain in the chain */
 421:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   rem_len = new_len;
 890              		.loc 1 421 11
 891 0034 7B88     		ldrh	r3, [r7, #2]	@ movhi
 892 0036 7B81     		strh	r3, [r7, #10]	@ movhi
 422:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p;
 893              		.loc 1 422 5
 894 0038 7B68     		ldr	r3, [r7, #4]
 895 003a FB60     		str	r3, [r7, #12]
 423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* should this pbuf be kept? */
 424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (rem_len > q->len) {
 896              		.loc 1 424 9
 897 003c 18E0     		b	.L53
 898              	.L54:
 425:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     rem_len = (u16_t)(rem_len - q->len);
 899              		.loc 1 426 34
 900 003e FB68     		ldr	r3, [r7, #12]
 901 0040 5B89     		ldrh	r3, [r3, #10]
 902              		.loc 1 426 13
 903 0042 7A89     		ldrh	r2, [r7, #10]	@ movhi
 904 0044 D31A     		subs	r3, r2, r3
 905 0046 7B81     		strh	r3, [r7, #10]	@ movhi
 427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease total length indicator */
 428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len = (u16_t)(q->tot_len - shrink);
 906              		.loc 1 428 27
 907 0048 FB68     		ldr	r3, [r7, #12]
 908 004a 1A89     		ldrh	r2, [r3, #8]
 909              		.loc 1 428 18
 910 004c 3B89     		ldrh	r3, [r7, #8]	@ movhi
 911 004e D31A     		subs	r3, r2, r3
ARM GAS  /tmp/ccRRFgJP.s 			page 25


 912 0050 9AB2     		uxth	r2, r3
 913              		.loc 1 428 16
 914 0052 FB68     		ldr	r3, [r7, #12]
 915 0054 1A81     		strh	r2, [r3, #8]	@ movhi
 429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* proceed to next pbuf in chain */
 430:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 916              		.loc 1 430 7
 917 0056 FB68     		ldr	r3, [r7, #12]
 918 0058 1B68     		ldr	r3, [r3]
 919 005a FB60     		str	r3, [r7, #12]
 431:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_realloc: q != NULL", q != NULL);
 920              		.loc 1 431 5
 921 005c FB68     		ldr	r3, [r7, #12]
 922 005e 002B     		cmp	r3, #0
 923 0060 06D1     		bne	.L53
 924              		.loc 1 431 5 is_stmt 0 discriminator 1
 925 0062 264B     		ldr	r3, .L58
 926 0064 40F2AF12 		movw	r2, #431
 927 0068 2749     		ldr	r1, .L58+12
 928 006a 2648     		ldr	r0, .L58+8
 929 006c FFF7FEFF 		bl	printf
 930              	.L53:
 424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 931              		.loc 1 424 21 is_stmt 1
 932 0070 FB68     		ldr	r3, [r7, #12]
 933 0072 5B89     		ldrh	r3, [r3, #10]
 424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease remaining length by pbuf length */
 934              		.loc 1 424 9
 935 0074 7A89     		ldrh	r2, [r7, #10]
 936 0076 9A42     		cmp	r2, r3
 937 0078 E1D8     		bhi	.L54
 432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 433:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* we have now reached the new last pbuf (in q) */
 434:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* rem_len == desired length for pbuf q */
 435:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 436:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* shrink allocated memory for PBUF_RAM */
 437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* (other types merely adjust their length fields */
 438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (pbuf_match_allocsrc(q, PBUF_TYPE_ALLOC_SRC_MASK_STD_HEAP) && (rem_len != q->len)
 938              		.loc 1 438 7
 939 007a FB68     		ldr	r3, [r7, #12]
 940 007c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 941 007e 03F00F03 		and	r3, r3, #15
 942              		.loc 1 438 6
 943 0082 002B     		cmp	r3, #0
 944 0084 21D1     		bne	.L55
 945              		.loc 1 438 81 discriminator 1
 946 0086 FB68     		ldr	r3, [r7, #12]
 947 0088 5B89     		ldrh	r3, [r3, #10]
 948              		.loc 1 438 65 discriminator 1
 949 008a 7A89     		ldrh	r2, [r7, #10]
 950 008c 9A42     		cmp	r2, r3
 951 008e 1CD0     		beq	.L55
 439:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       && ((q->flags & PBUF_FLAG_IS_CUSTOM) == 0)
 952              		.loc 1 440 13
 953 0090 FB68     		ldr	r3, [r7, #12]
 954 0092 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
ARM GAS  /tmp/ccRRFgJP.s 			page 26


 955              		.loc 1 440 21
 956 0094 03F00203 		and	r3, r3, #2
 957              		.loc 1 440 7
 958 0098 002B     		cmp	r3, #0
 959 009a 16D1     		bne	.L55
 441:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 442:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      ) {
 443:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* reallocate and adjust the length of the pbuf that will be split */
 444:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = (struct pbuf *)mem_trim(q, (mem_size_t)(((u8_t *)q->payload - (u8_t *)q) + rem_len));
 960              		.loc 1 444 59
 961 009c FB68     		ldr	r3, [r7, #12]
 962 009e 5A68     		ldr	r2, [r3, #4]
 963              		.loc 1 444 69
 964 00a0 FB68     		ldr	r3, [r7, #12]
 965 00a2 D31A     		subs	r3, r2, r3
 966              		.loc 1 444 24
 967 00a4 9AB2     		uxth	r2, r3
 968 00a6 7B89     		ldrh	r3, [r7, #10]	@ movhi
 969 00a8 1344     		add	r3, r3, r2
 970 00aa 9BB2     		uxth	r3, r3
 971 00ac 1946     		mov	r1, r3
 972 00ae F868     		ldr	r0, [r7, #12]
 973 00b0 FFF7FEFF 		bl	mem_trim
 974 00b4 F860     		str	r0, [r7, #12]
 445:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("mem_trim returned q == NULL", q != NULL);
 975              		.loc 1 445 5
 976 00b6 FB68     		ldr	r3, [r7, #12]
 977 00b8 002B     		cmp	r3, #0
 978 00ba 06D1     		bne	.L55
 979              		.loc 1 445 5 is_stmt 0 discriminator 1
 980 00bc 0F4B     		ldr	r3, .L58
 981 00be 40F2BD12 		movw	r2, #445
 982 00c2 1249     		ldr	r1, .L58+16
 983 00c4 0F48     		ldr	r0, .L58+8
 984 00c6 FFF7FEFF 		bl	printf
 985              	.L55:
 446:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* adjust length fields for new last pbuf */
 448:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->len = rem_len;
 986              		.loc 1 448 10 is_stmt 1
 987 00ca FB68     		ldr	r3, [r7, #12]
 988 00cc 7A89     		ldrh	r2, [r7, #10]	@ movhi
 989 00ce 5A81     		strh	r2, [r3, #10]	@ movhi
 449:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->tot_len = q->len;
 990              		.loc 1 449 17
 991 00d0 FB68     		ldr	r3, [r7, #12]
 992 00d2 5A89     		ldrh	r2, [r3, #10]
 993              		.loc 1 449 14
 994 00d4 FB68     		ldr	r3, [r7, #12]
 995 00d6 1A81     		strh	r2, [r3, #8]	@ movhi
 450:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 451:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* any remaining pbufs in chain? */
 452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q->next != NULL) {
 996              		.loc 1 452 8
 997 00d8 FB68     		ldr	r3, [r7, #12]
 998 00da 1B68     		ldr	r3, [r3]
 999              		.loc 1 452 6
ARM GAS  /tmp/ccRRFgJP.s 			page 27


 1000 00dc 002B     		cmp	r3, #0
 1001 00de 04D0     		beq	.L56
 453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* free remaining pbufs in chain */
 454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     pbuf_free(q->next);
 1002              		.loc 1 454 5
 1003 00e0 FB68     		ldr	r3, [r7, #12]
 1004 00e2 1B68     		ldr	r3, [r3]
 1005 00e4 1846     		mov	r0, r3
 1006 00e6 FFF7FEFF 		bl	pbuf_free
 1007              	.L56:
 455:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 456:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* q is last packet in chain */
 457:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q->next = NULL;
 1008              		.loc 1 457 11
 1009 00ea FB68     		ldr	r3, [r7, #12]
 1010 00ec 0022     		movs	r2, #0
 1011 00ee 1A60     		str	r2, [r3]
 1012 00f0 00E0     		b	.L49
 1013              	.L57:
 413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 1014              		.loc 1 413 5
 1015 00f2 00BF     		nop
 1016              	.L49:
 458:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 459:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1017              		.loc 1 459 1
 1018 00f4 1037     		adds	r7, r7, #16
 1019              	.LCFI39:
 1020              		.cfi_def_cfa_offset 8
 1021 00f6 BD46     		mov	sp, r7
 1022              	.LCFI40:
 1023              		.cfi_def_cfa_register 13
 1024              		@ sp needed
 1025 00f8 80BD     		pop	{r7, pc}
 1026              	.L59:
 1027 00fa 00BF     		.align	2
 1028              	.L58:
 1029 00fc 00000000 		.word	.LC0
 1030 0100 18010000 		.word	.LC7
 1031 0104 60000000 		.word	.LC2
 1032 0108 30010000 		.word	.LC8
 1033 010c 48010000 		.word	.LC9
 1034              		.cfi_endproc
 1035              	.LFE144:
 1037              		.section	.rodata
 1038              		.align	2
 1039              	.LC10:
 1040 0164 7020213D 		.ascii	"p != NULL\000"
 1040      204E554C 
 1040      4C00
 1041              		.section	.text.pbuf_add_header_impl,"ax",%progbits
 1042              		.align	1
 1043              		.syntax unified
 1044              		.thumb
 1045              		.thumb_func
 1046              		.fpu fpv4-sp-d16
 1048              	pbuf_add_header_impl:
ARM GAS  /tmp/ccRRFgJP.s 			page 28


 1049              	.LFB145:
 460:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 461:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 462:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to reveal headers in the payload.
 463:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_add_header.
 464:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 465:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 466:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size.
 467:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param force Allow 'header_size_increment > 0' for PBUF_REF/PBUF_ROM types
 468:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 469:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 470:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 471:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 472:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static u8_t
 473:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_add_header_impl(struct pbuf *p, size_t header_size_increment, u8_t force)
 474:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1050              		.loc 1 474 1
 1051              		.cfi_startproc
 1052              		@ args = 0, pretend = 0, frame = 24
 1053              		@ frame_needed = 1, uses_anonymous_args = 0
 1054 0000 80B5     		push	{r7, lr}
 1055              	.LCFI41:
 1056              		.cfi_def_cfa_offset 8
 1057              		.cfi_offset 7, -8
 1058              		.cfi_offset 14, -4
 1059 0002 86B0     		sub	sp, sp, #24
 1060              	.LCFI42:
 1061              		.cfi_def_cfa_offset 32
 1062 0004 00AF     		add	r7, sp, #0
 1063              	.LCFI43:
 1064              		.cfi_def_cfa_register 7
 1065 0006 F860     		str	r0, [r7, #12]
 1066 0008 B960     		str	r1, [r7, #8]
 1067 000a 1346     		mov	r3, r2
 1068 000c FB71     		strb	r3, [r7, #7]
 475:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t type_internal;
 476:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   void *payload;
 477:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 478:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 479:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 1069              		.loc 1 479 3
 1070 000e FB68     		ldr	r3, [r7, #12]
 1071 0010 002B     		cmp	r3, #0
 1072 0012 06D1     		bne	.L61
 1073              		.loc 1 479 3 is_stmt 0 discriminator 1
 1074 0014 2B4B     		ldr	r3, .L70
 1075 0016 40F2DF12 		movw	r2, #479
 1076 001a 2B49     		ldr	r1, .L70+4
 1077 001c 2B48     		ldr	r0, .L70+8
 1078 001e FFF7FEFF 		bl	printf
 1079              	.L61:
 480:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_increment > 0xFFFF)) {
 1080              		.loc 1 480 6 is_stmt 1
 1081 0022 FB68     		ldr	r3, [r7, #12]
 1082 0024 002B     		cmp	r3, #0
 1083 0026 03D0     		beq	.L62
 1084              		.loc 1 480 19 discriminator 1
ARM GAS  /tmp/ccRRFgJP.s 			page 29


 1085 0028 BB68     		ldr	r3, [r7, #8]
 1086 002a B3F5803F 		cmp	r3, #65536
 1087 002e 01D3     		bcc	.L63
 1088              	.L62:
 481:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 1089              		.loc 1 481 12
 1090 0030 0123     		movs	r3, #1
 1091 0032 43E0     		b	.L64
 1092              	.L63:
 482:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 483:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (header_size_increment == 0) {
 1093              		.loc 1 483 6
 1094 0034 BB68     		ldr	r3, [r7, #8]
 1095 0036 002B     		cmp	r3, #0
 1096 0038 01D1     		bne	.L65
 484:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 1097              		.loc 1 484 12
 1098 003a 0023     		movs	r3, #0
 1099 003c 3EE0     		b	.L64
 1100              	.L65:
 485:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 486:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 487:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   increment_magnitude = (u16_t)header_size_increment;
 1101              		.loc 1 487 23
 1102 003e BB68     		ldr	r3, [r7, #8]
 1103 0040 7B82     		strh	r3, [r7, #18]	@ movhi
 488:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Do not allow tot_len to wrap as a result. */
 489:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((u16_t)(increment_magnitude + p->tot_len) < increment_magnitude) {
 1104              		.loc 1 489 38
 1105 0042 FB68     		ldr	r3, [r7, #12]
 1106 0044 1A89     		ldrh	r2, [r3, #8]
 1107              		.loc 1 489 7
 1108 0046 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 1109 0048 1344     		add	r3, r3, r2
 1110 004a 9BB2     		uxth	r3, r3
 1111              		.loc 1 489 6
 1112 004c 7A8A     		ldrh	r2, [r7, #18]
 1113 004e 9A42     		cmp	r2, r3
 1114 0050 01D9     		bls	.L66
 490:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 1115              		.loc 1 490 12
 1116 0052 0123     		movs	r3, #1
 1117 0054 32E0     		b	.L64
 1118              	.L66:
 491:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 492:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 493:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   type_internal = p->type_internal;
 1119              		.loc 1 493 20
 1120 0056 FB68     		ldr	r3, [r7, #12]
 1121 0058 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1122              		.loc 1 493 17
 1123 005a 3B82     		strh	r3, [r7, #16]	@ movhi
 494:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 495:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf types containing payloads? */
 496:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (type_internal & PBUF_TYPE_FLAG_STRUCT_DATA_CONTIGUOUS) {
 1124              		.loc 1 496 21
 1125 005c 3B8A     		ldrh	r3, [r7, #16]
ARM GAS  /tmp/ccRRFgJP.s 			page 30


 1126 005e 03F08003 		and	r3, r3, #128
 1127              		.loc 1 496 6
 1128 0062 002B     		cmp	r3, #0
 1129 0064 0CD0     		beq	.L67
 497:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* set new payload pointer */
 498:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     payload = (u8_t *)p->payload - header_size_increment;
 1130              		.loc 1 498 24
 1131 0066 FB68     		ldr	r3, [r7, #12]
 1132 0068 5A68     		ldr	r2, [r3, #4]
 1133              		.loc 1 498 34
 1134 006a BB68     		ldr	r3, [r7, #8]
 1135 006c 5B42     		rsbs	r3, r3, #0
 1136              		.loc 1 498 13
 1137 006e 1344     		add	r3, r3, r2
 1138 0070 7B61     		str	r3, [r7, #20]
 499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* boundary check fails? */
 500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((u8_t *)payload < (u8_t *)p + SIZEOF_STRUCT_PBUF) {
 1139              		.loc 1 500 37
 1140 0072 FB68     		ldr	r3, [r7, #12]
 1141 0074 1033     		adds	r3, r3, #16
 1142              		.loc 1 500 8
 1143 0076 7A69     		ldr	r2, [r7, #20]
 1144 0078 9A42     		cmp	r2, r3
 1145 007a 0DD2     		bcs	.L68
 501:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE,
 502:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                    ("pbuf_add_header: failed as %p < %p (not enough space for new header size)\n",
 503:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     (void *)payload, (void *)((u8_t *)p + SIZEOF_STRUCT_PBUF)));
 504:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* bail out unsuccessfully */
 505:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 1146              		.loc 1 505 14
 1147 007c 0123     		movs	r3, #1
 1148 007e 1DE0     		b	.L64
 1149              	.L67:
 506:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 507:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* pbuf types referring to external payloads? */
 508:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 509:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* hide a header in the payload? */
 510:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (force) {
 1150              		.loc 1 510 8
 1151 0080 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1152 0082 002B     		cmp	r3, #0
 1153 0084 06D0     		beq	.L69
 511:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       payload = (u8_t *)p->payload - header_size_increment;
 1154              		.loc 1 511 26
 1155 0086 FB68     		ldr	r3, [r7, #12]
 1156 0088 5A68     		ldr	r2, [r3, #4]
 1157              		.loc 1 511 36
 1158 008a BB68     		ldr	r3, [r7, #8]
 1159 008c 5B42     		rsbs	r3, r3, #0
 1160              		.loc 1 511 15
 1161 008e 1344     		add	r3, r3, r2
 1162 0090 7B61     		str	r3, [r7, #20]
 1163 0092 01E0     		b	.L68
 1164              	.L69:
 512:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 513:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* cannot expand payload to front (yet!)
 514:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        * bail out unsuccessfully */
ARM GAS  /tmp/ccRRFgJP.s 			page 31


 515:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return 1;
 1165              		.loc 1 515 14
 1166 0094 0123     		movs	r3, #1
 1167 0096 11E0     		b	.L64
 1168              	.L68:
 516:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 517:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 518:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_add_header: old %p new %p (%"U16_F")\n",
 519:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               (void *)p->payload, (void *)payload, increment_magnitude));
 520:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 521:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* modify pbuf fields */
 522:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->payload = payload;
 1169              		.loc 1 522 14
 1170 0098 FB68     		ldr	r3, [r7, #12]
 1171 009a 7A69     		ldr	r2, [r7, #20]
 1172 009c 5A60     		str	r2, [r3, #4]
 523:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len + increment_magnitude);
 1173              		.loc 1 523 21
 1174 009e FB68     		ldr	r3, [r7, #12]
 1175 00a0 5A89     		ldrh	r2, [r3, #10]
 1176              		.loc 1 523 12
 1177 00a2 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 1178 00a4 1344     		add	r3, r3, r2
 1179 00a6 9AB2     		uxth	r2, r3
 1180              		.loc 1 523 10
 1181 00a8 FB68     		ldr	r3, [r7, #12]
 1182 00aa 5A81     		strh	r2, [r3, #10]	@ movhi
 524:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + increment_magnitude);
 1183              		.loc 1 524 25
 1184 00ac FB68     		ldr	r3, [r7, #12]
 1185 00ae 1A89     		ldrh	r2, [r3, #8]
 1186              		.loc 1 524 16
 1187 00b0 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 1188 00b2 1344     		add	r3, r3, r2
 1189 00b4 9AB2     		uxth	r2, r3
 1190              		.loc 1 524 14
 1191 00b6 FB68     		ldr	r3, [r7, #12]
 1192 00b8 1A81     		strh	r2, [r3, #8]	@ movhi
 525:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 526:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 527:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
 1193              		.loc 1 527 10
 1194 00ba 0023     		movs	r3, #0
 1195              	.L64:
 528:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1196              		.loc 1 528 1
 1197 00bc 1846     		mov	r0, r3
 1198 00be 1837     		adds	r7, r7, #24
 1199              	.LCFI44:
 1200              		.cfi_def_cfa_offset 8
 1201 00c0 BD46     		mov	sp, r7
 1202              	.LCFI45:
 1203              		.cfi_def_cfa_register 13
 1204              		@ sp needed
 1205 00c2 80BD     		pop	{r7, pc}
 1206              	.L71:
 1207              		.align	2
ARM GAS  /tmp/ccRRFgJP.s 			page 32


 1208              	.L70:
 1209 00c4 00000000 		.word	.LC0
 1210 00c8 64010000 		.word	.LC10
 1211 00cc 60000000 		.word	.LC2
 1212              		.cfi_endproc
 1213              	.LFE145:
 1215              		.section	.text.pbuf_add_header,"ax",%progbits
 1216              		.align	1
 1217              		.global	pbuf_add_header
 1218              		.syntax unified
 1219              		.thumb
 1220              		.thumb_func
 1221              		.fpu fpv4-sp-d16
 1223              	pbuf_add_header:
 1224              	.LFB146:
 529:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 530:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 531:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to reveal headers in the payload.
 532:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 533:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 534:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * appears in the pbuf payload.
 535:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 536:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 537:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 538:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 539:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size which
 540:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          increases the size of the pbuf. New space is on the front.
 541:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          If header_size_increment is 0, this function does nothing and returns successful.
 542:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 543:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * PBUF_ROM and PBUF_REF type buffers cannot have their sizes increased, so
 544:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the call will fail. A check is made that the increase in header size does
 545:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * not move the payload pointer in front of the start of the buffer.
 546:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 547:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 548:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 549:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 550:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 551:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_add_header(struct pbuf *p, size_t header_size_increment)
 552:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1225              		.loc 1 552 1
 1226              		.cfi_startproc
 1227              		@ args = 0, pretend = 0, frame = 8
 1228              		@ frame_needed = 1, uses_anonymous_args = 0
 1229 0000 80B5     		push	{r7, lr}
 1230              	.LCFI46:
 1231              		.cfi_def_cfa_offset 8
 1232              		.cfi_offset 7, -8
 1233              		.cfi_offset 14, -4
 1234 0002 82B0     		sub	sp, sp, #8
 1235              	.LCFI47:
 1236              		.cfi_def_cfa_offset 16
 1237 0004 00AF     		add	r7, sp, #0
 1238              	.LCFI48:
 1239              		.cfi_def_cfa_register 7
 1240 0006 7860     		str	r0, [r7, #4]
 1241 0008 3960     		str	r1, [r7]
 553:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 0);
ARM GAS  /tmp/ccRRFgJP.s 			page 33


 1242              		.loc 1 553 10
 1243 000a 0022     		movs	r2, #0
 1244 000c 3968     		ldr	r1, [r7]
 1245 000e 7868     		ldr	r0, [r7, #4]
 1246 0010 FFF7FEFF 		bl	pbuf_add_header_impl
 1247 0014 0346     		mov	r3, r0
 554:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1248              		.loc 1 554 1
 1249 0016 1846     		mov	r0, r3
 1250 0018 0837     		adds	r7, r7, #8
 1251              	.LCFI49:
 1252              		.cfi_def_cfa_offset 8
 1253 001a BD46     		mov	sp, r7
 1254              	.LCFI50:
 1255              		.cfi_def_cfa_register 13
 1256              		@ sp needed
 1257 001c 80BD     		pop	{r7, pc}
 1258              		.cfi_endproc
 1259              	.LFE146:
 1261              		.section	.text.pbuf_add_header_force,"ax",%progbits
 1262              		.align	1
 1263              		.global	pbuf_add_header_force
 1264              		.syntax unified
 1265              		.thumb
 1266              		.thumb_func
 1267              		.fpu fpv4-sp-d16
 1269              	pbuf_add_header_force:
 1270              	.LFB147:
 555:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 556:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 557:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as @ref pbuf_add_header but does not check if 'header_size > 0' is allowed.
 558:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is used internally only, to allow PBUF_REF for RX.
 559:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 560:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 561:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_add_header_force(struct pbuf *p, size_t header_size_increment)
 562:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1271              		.loc 1 562 1
 1272              		.cfi_startproc
 1273              		@ args = 0, pretend = 0, frame = 8
 1274              		@ frame_needed = 1, uses_anonymous_args = 0
 1275 0000 80B5     		push	{r7, lr}
 1276              	.LCFI51:
 1277              		.cfi_def_cfa_offset 8
 1278              		.cfi_offset 7, -8
 1279              		.cfi_offset 14, -4
 1280 0002 82B0     		sub	sp, sp, #8
 1281              	.LCFI52:
 1282              		.cfi_def_cfa_offset 16
 1283 0004 00AF     		add	r7, sp, #0
 1284              	.LCFI53:
 1285              		.cfi_def_cfa_register 7
 1286 0006 7860     		str	r0, [r7, #4]
 1287 0008 3960     		str	r1, [r7]
 563:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_add_header_impl(p, header_size_increment, 1);
 1288              		.loc 1 563 10
 1289 000a 0122     		movs	r2, #1
 1290 000c 3968     		ldr	r1, [r7]
ARM GAS  /tmp/ccRRFgJP.s 			page 34


 1291 000e 7868     		ldr	r0, [r7, #4]
 1292 0010 FFF7FEFF 		bl	pbuf_add_header_impl
 1293 0014 0346     		mov	r3, r0
 564:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1294              		.loc 1 564 1
 1295 0016 1846     		mov	r0, r3
 1296 0018 0837     		adds	r7, r7, #8
 1297              	.LCFI54:
 1298              		.cfi_def_cfa_offset 8
 1299 001a BD46     		mov	sp, r7
 1300              	.LCFI55:
 1301              		.cfi_def_cfa_register 13
 1302              		@ sp needed
 1303 001c 80BD     		pop	{r7, pc}
 1304              		.cfi_endproc
 1305              	.LFE147:
 1307              		.section	.rodata
 1308 016e 0000     		.align	2
 1309              	.LC11:
 1310 0170 696E6372 		.ascii	"increment_magnitude <= p->len\000"
 1310      656D656E 
 1310      745F6D61 
 1310      676E6974 
 1310      75646520 
 1311              		.section	.text.pbuf_remove_header,"ax",%progbits
 1312              		.align	1
 1313              		.global	pbuf_remove_header
 1314              		.syntax unified
 1315              		.thumb
 1316              		.thumb_func
 1317              		.fpu fpv4-sp-d16
 1319              	pbuf_remove_header:
 1320              	.LFB148:
 565:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 566:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 567:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide headers in the payload.
 568:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 569:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 570:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * disappears in the pbuf payload.
 571:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 572:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 573:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 574:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 575:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_decrement Number of bytes to decrement header size which
 576:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          decreases the size of the pbuf.
 577:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          If header_size_decrement is 0, this function does nothing and returns successful.
 578:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 579:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 580:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 581:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 582:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_remove_header(struct pbuf *p, size_t header_size_decrement)
 583:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1321              		.loc 1 583 1
 1322              		.cfi_startproc
 1323              		@ args = 0, pretend = 0, frame = 16
 1324              		@ frame_needed = 1, uses_anonymous_args = 0
 1325 0000 80B5     		push	{r7, lr}
ARM GAS  /tmp/ccRRFgJP.s 			page 35


 1326              	.LCFI56:
 1327              		.cfi_def_cfa_offset 8
 1328              		.cfi_offset 7, -8
 1329              		.cfi_offset 14, -4
 1330 0002 84B0     		sub	sp, sp, #16
 1331              	.LCFI57:
 1332              		.cfi_def_cfa_offset 24
 1333 0004 00AF     		add	r7, sp, #0
 1334              	.LCFI58:
 1335              		.cfi_def_cfa_register 7
 1336 0006 7860     		str	r0, [r7, #4]
 1337 0008 3960     		str	r1, [r7]
 584:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   void *payload;
 585:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t increment_magnitude;
 586:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 587:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 1338              		.loc 1 587 3
 1339 000a 7B68     		ldr	r3, [r7, #4]
 1340 000c 002B     		cmp	r3, #0
 1341 000e 06D1     		bne	.L77
 1342              		.loc 1 587 3 is_stmt 0 discriminator 1
 1343 0010 204B     		ldr	r3, .L83
 1344 0012 40F24B22 		movw	r2, #587
 1345 0016 2049     		ldr	r1, .L83+4
 1346 0018 2048     		ldr	r0, .L83+8
 1347 001a FFF7FEFF 		bl	printf
 1348              	.L77:
 588:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((p == NULL) || (header_size_decrement > 0xFFFF)) {
 1349              		.loc 1 588 6 is_stmt 1
 1350 001e 7B68     		ldr	r3, [r7, #4]
 1351 0020 002B     		cmp	r3, #0
 1352 0022 03D0     		beq	.L78
 1353              		.loc 1 588 19 discriminator 1
 1354 0024 3B68     		ldr	r3, [r7]
 1355 0026 B3F5803F 		cmp	r3, #65536
 1356 002a 01D3     		bcc	.L79
 1357              	.L78:
 589:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 1;
 1358              		.loc 1 589 12
 1359 002c 0123     		movs	r3, #1
 1360 002e 2CE0     		b	.L80
 1361              	.L79:
 590:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 591:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (header_size_decrement == 0) {
 1362              		.loc 1 591 6
 1363 0030 3B68     		ldr	r3, [r7]
 1364 0032 002B     		cmp	r3, #0
 1365 0034 01D1     		bne	.L81
 592:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 1366              		.loc 1 592 12
 1367 0036 0023     		movs	r3, #0
 1368 0038 27E0     		b	.L80
 1369              	.L81:
 593:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 594:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 595:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   increment_magnitude = (u16_t)header_size_decrement;
 1370              		.loc 1 595 23
ARM GAS  /tmp/ccRRFgJP.s 			page 36


 1371 003a 3B68     		ldr	r3, [r7]
 1372 003c FB81     		strh	r3, [r7, #14]	@ movhi
 596:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Check that we aren't going to move off the end of the pbuf */
 597:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("increment_magnitude <= p->len", (increment_magnitude <= p->len), return 1;);
 1373              		.loc 1 597 3
 1374 003e 7B68     		ldr	r3, [r7, #4]
 1375 0040 5B89     		ldrh	r3, [r3, #10]
 1376 0042 FA89     		ldrh	r2, [r7, #14]
 1377 0044 9A42     		cmp	r2, r3
 1378 0046 08D9     		bls	.L82
 1379              		.loc 1 597 3 is_stmt 0 discriminator 1
 1380 0048 124B     		ldr	r3, .L83
 1381 004a 40F25522 		movw	r2, #597
 1382 004e 1449     		ldr	r1, .L83+12
 1383 0050 1248     		ldr	r0, .L83+8
 1384 0052 FFF7FEFF 		bl	printf
 1385 0056 0123     		movs	r3, #1
 1386 0058 17E0     		b	.L80
 1387              	.L82:
 598:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 599:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* remember current payload pointer */
 600:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   payload = p->payload;
 1388              		.loc 1 600 11 is_stmt 1
 1389 005a 7B68     		ldr	r3, [r7, #4]
 1390 005c 5B68     		ldr	r3, [r3, #4]
 1391 005e BB60     		str	r3, [r7, #8]
 601:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(payload); /* only used in LWIP_DEBUGF below */
 602:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 603:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* increase payload pointer (guarded by length check above) */
 604:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->payload = (u8_t *)p->payload + header_size_decrement;
 1392              		.loc 1 604 25
 1393 0060 7B68     		ldr	r3, [r7, #4]
 1394 0062 5A68     		ldr	r2, [r3, #4]
 1395              		.loc 1 604 35
 1396 0064 3B68     		ldr	r3, [r7]
 1397 0066 1A44     		add	r2, r2, r3
 1398              		.loc 1 604 14
 1399 0068 7B68     		ldr	r3, [r7, #4]
 1400 006a 5A60     		str	r2, [r3, #4]
 605:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* modify pbuf length fields */
 606:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->len = (u16_t)(p->len - increment_magnitude);
 1401              		.loc 1 606 21
 1402 006c 7B68     		ldr	r3, [r7, #4]
 1403 006e 5A89     		ldrh	r2, [r3, #10]
 1404              		.loc 1 606 12
 1405 0070 FB89     		ldrh	r3, [r7, #14]	@ movhi
 1406 0072 D31A     		subs	r3, r2, r3
 1407 0074 9AB2     		uxth	r2, r3
 1408              		.loc 1 606 10
 1409 0076 7B68     		ldr	r3, [r7, #4]
 1410 0078 5A81     		strh	r2, [r3, #10]	@ movhi
 607:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len - increment_magnitude);
 1411              		.loc 1 607 25
 1412 007a 7B68     		ldr	r3, [r7, #4]
 1413 007c 1A89     		ldrh	r2, [r3, #8]
 1414              		.loc 1 607 16
 1415 007e FB89     		ldrh	r3, [r7, #14]	@ movhi
ARM GAS  /tmp/ccRRFgJP.s 			page 37


 1416 0080 D31A     		subs	r3, r2, r3
 1417 0082 9AB2     		uxth	r2, r3
 1418              		.loc 1 607 14
 1419 0084 7B68     		ldr	r3, [r7, #4]
 1420 0086 1A81     		strh	r2, [r3, #8]	@ movhi
 608:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 609:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_remove_header: old %p new %p (%"U16_F")\n",
 610:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               (void *)payload, (void *)p->payload, increment_magnitude));
 611:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 612:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
 1421              		.loc 1 612 10
 1422 0088 0023     		movs	r3, #0
 1423              	.L80:
 613:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1424              		.loc 1 613 1
 1425 008a 1846     		mov	r0, r3
 1426 008c 1037     		adds	r7, r7, #16
 1427              	.LCFI59:
 1428              		.cfi_def_cfa_offset 8
 1429 008e BD46     		mov	sp, r7
 1430              	.LCFI60:
 1431              		.cfi_def_cfa_register 13
 1432              		@ sp needed
 1433 0090 80BD     		pop	{r7, pc}
 1434              	.L84:
 1435 0092 00BF     		.align	2
 1436              	.L83:
 1437 0094 00000000 		.word	.LC0
 1438 0098 64010000 		.word	.LC10
 1439 009c 60000000 		.word	.LC2
 1440 00a0 70010000 		.word	.LC11
 1441              		.cfi_endproc
 1442              	.LFE148:
 1444              		.section	.text.pbuf_header_impl,"ax",%progbits
 1445              		.align	1
 1446              		.syntax unified
 1447              		.thumb
 1448              		.thumb_func
 1449              		.fpu fpv4-sp-d16
 1451              	pbuf_header_impl:
 1452              	.LFB149:
 614:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 615:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static u8_t
 616:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_impl(struct pbuf *p, s16_t header_size_increment, u8_t force)
 617:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1453              		.loc 1 617 1
 1454              		.cfi_startproc
 1455              		@ args = 0, pretend = 0, frame = 8
 1456              		@ frame_needed = 1, uses_anonymous_args = 0
 1457 0000 80B5     		push	{r7, lr}
 1458              	.LCFI61:
 1459              		.cfi_def_cfa_offset 8
 1460              		.cfi_offset 7, -8
 1461              		.cfi_offset 14, -4
 1462 0002 82B0     		sub	sp, sp, #8
 1463              	.LCFI62:
 1464              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccRRFgJP.s 			page 38


 1465 0004 00AF     		add	r7, sp, #0
 1466              	.LCFI63:
 1467              		.cfi_def_cfa_register 7
 1468 0006 7860     		str	r0, [r7, #4]
 1469 0008 0B46     		mov	r3, r1
 1470 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 1471 000c 1346     		mov	r3, r2
 1472 000e 7B70     		strb	r3, [r7, #1]
 618:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (header_size_increment < 0) {
 1473              		.loc 1 618 6
 1474 0010 B7F90230 		ldrsh	r3, [r7, #2]
 1475 0014 002B     		cmp	r3, #0
 1476 0016 08DA     		bge	.L86
 619:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return pbuf_remove_header(p, (size_t) - header_size_increment);
 1477              		.loc 1 619 43
 1478 0018 B7F90230 		ldrsh	r3, [r7, #2]
 1479 001c 5B42     		rsbs	r3, r3, #0
 1480              		.loc 1 619 12
 1481 001e 1946     		mov	r1, r3
 1482 0020 7868     		ldr	r0, [r7, #4]
 1483 0022 FFF7FEFF 		bl	pbuf_remove_header
 1484 0026 0346     		mov	r3, r0
 1485 0028 07E0     		b	.L87
 1486              	.L86:
 620:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } else {
 621:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return pbuf_add_header_impl(p, (size_t)header_size_increment, force);
 1487              		.loc 1 621 12
 1488 002a B7F90230 		ldrsh	r3, [r7, #2]
 1489 002e 7A78     		ldrb	r2, [r7, #1]	@ zero_extendqisi2
 1490 0030 1946     		mov	r1, r3
 1491 0032 7868     		ldr	r0, [r7, #4]
 1492 0034 FFF7FEFF 		bl	pbuf_add_header_impl
 1493 0038 0346     		mov	r3, r0
 1494              	.L87:
 622:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 623:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1495              		.loc 1 623 1
 1496 003a 1846     		mov	r0, r3
 1497 003c 0837     		adds	r7, r7, #8
 1498              	.LCFI64:
 1499              		.cfi_def_cfa_offset 8
 1500 003e BD46     		mov	sp, r7
 1501              	.LCFI65:
 1502              		.cfi_def_cfa_register 13
 1503              		@ sp needed
 1504 0040 80BD     		pop	{r7, pc}
 1505              		.cfi_endproc
 1506              	.LFE149:
 1508              		.section	.text.pbuf_header,"ax",%progbits
 1509              		.align	1
 1510              		.global	pbuf_header
 1511              		.syntax unified
 1512              		.thumb
 1513              		.thumb_func
 1514              		.fpu fpv4-sp-d16
 1516              	pbuf_header:
 1517              	.LFB150:
ARM GAS  /tmp/ccRRFgJP.s 			page 39


 624:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 625:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 626:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the payload pointer to hide or reveal headers in the payload.
 627:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 628:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Adjusts the ->payload pointer so that space for a header
 629:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (dis)appears in the pbuf payload.
 630:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 631:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->payload, ->tot_len and ->len fields are adjusted.
 632:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 633:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to change the header size.
 634:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param header_size_increment Number of bytes to increment header size which
 635:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * increases the size of the pbuf. New space is on the front.
 636:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * (Using a negative value decreases the header size.)
 637:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * If header_size_increment is 0, this function does nothing and returns successful.
 638:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 639:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * PBUF_ROM and PBUF_REF type buffers cannot have their sizes increased, so
 640:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the call will fail. A check is made that the increase in header size does
 641:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * not move the payload pointer in front of the start of the buffer.
 642:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return non-zero on failure, zero on success.
 643:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 644:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 645:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 646:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header(struct pbuf *p, s16_t header_size_increment)
 647:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1518              		.loc 1 647 1
 1519              		.cfi_startproc
 1520              		@ args = 0, pretend = 0, frame = 8
 1521              		@ frame_needed = 1, uses_anonymous_args = 0
 1522 0000 80B5     		push	{r7, lr}
 1523              	.LCFI66:
 1524              		.cfi_def_cfa_offset 8
 1525              		.cfi_offset 7, -8
 1526              		.cfi_offset 14, -4
 1527 0002 82B0     		sub	sp, sp, #8
 1528              	.LCFI67:
 1529              		.cfi_def_cfa_offset 16
 1530 0004 00AF     		add	r7, sp, #0
 1531              	.LCFI68:
 1532              		.cfi_def_cfa_register 7
 1533 0006 7860     		str	r0, [r7, #4]
 1534 0008 0B46     		mov	r3, r1
 1535 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 648:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 0);
 1536              		.loc 1 648 10
 1537 000c B7F90230 		ldrsh	r3, [r7, #2]
 1538 0010 0022     		movs	r2, #0
 1539 0012 1946     		mov	r1, r3
 1540 0014 7868     		ldr	r0, [r7, #4]
 1541 0016 FFF7FEFF 		bl	pbuf_header_impl
 1542 001a 0346     		mov	r3, r0
 649:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1543              		.loc 1 649 1
 1544 001c 1846     		mov	r0, r3
 1545 001e 0837     		adds	r7, r7, #8
 1546              	.LCFI69:
 1547              		.cfi_def_cfa_offset 8
 1548 0020 BD46     		mov	sp, r7
ARM GAS  /tmp/ccRRFgJP.s 			page 40


 1549              	.LCFI70:
 1550              		.cfi_def_cfa_register 13
 1551              		@ sp needed
 1552 0022 80BD     		pop	{r7, pc}
 1553              		.cfi_endproc
 1554              	.LFE150:
 1556              		.section	.text.pbuf_header_force,"ax",%progbits
 1557              		.align	1
 1558              		.global	pbuf_header_force
 1559              		.syntax unified
 1560              		.thumb
 1561              		.thumb_func
 1562              		.fpu fpv4-sp-d16
 1564              	pbuf_header_force:
 1565              	.LFB151:
 650:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 651:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 652:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_header but does not check if 'header_size > 0' is allowed.
 653:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This is used internally only, to allow PBUF_REF for RX.
 654:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 655:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 656:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_header_force(struct pbuf *p, s16_t header_size_increment)
 657:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1566              		.loc 1 657 1
 1567              		.cfi_startproc
 1568              		@ args = 0, pretend = 0, frame = 8
 1569              		@ frame_needed = 1, uses_anonymous_args = 0
 1570 0000 80B5     		push	{r7, lr}
 1571              	.LCFI71:
 1572              		.cfi_def_cfa_offset 8
 1573              		.cfi_offset 7, -8
 1574              		.cfi_offset 14, -4
 1575 0002 82B0     		sub	sp, sp, #8
 1576              	.LCFI72:
 1577              		.cfi_def_cfa_offset 16
 1578 0004 00AF     		add	r7, sp, #0
 1579              	.LCFI73:
 1580              		.cfi_def_cfa_register 7
 1581 0006 7860     		str	r0, [r7, #4]
 1582 0008 0B46     		mov	r3, r1
 1583 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 658:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_header_impl(p, header_size_increment, 1);
 1584              		.loc 1 658 10
 1585 000c B7F90230 		ldrsh	r3, [r7, #2]
 1586 0010 0122     		movs	r2, #1
 1587 0012 1946     		mov	r1, r3
 1588 0014 7868     		ldr	r0, [r7, #4]
 1589 0016 FFF7FEFF 		bl	pbuf_header_impl
 1590 001a 0346     		mov	r3, r0
 659:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1591              		.loc 1 659 1
 1592 001c 1846     		mov	r0, r3
 1593 001e 0837     		adds	r7, r7, #8
 1594              	.LCFI74:
 1595              		.cfi_def_cfa_offset 8
 1596 0020 BD46     		mov	sp, r7
 1597              	.LCFI75:
ARM GAS  /tmp/ccRRFgJP.s 			page 41


 1598              		.cfi_def_cfa_register 13
 1599              		@ sp needed
 1600 0022 80BD     		pop	{r7, pc}
 1601              		.cfi_endproc
 1602              	.LFE151:
 1604              		.section	.text.pbuf_free_header,"ax",%progbits
 1605              		.align	1
 1606              		.global	pbuf_free_header
 1607              		.syntax unified
 1608              		.thumb
 1609              		.thumb_func
 1610              		.fpu fpv4-sp-d16
 1612              	pbuf_free_header:
 1613              	.LFB152:
 660:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 661:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /** Similar to pbuf_header(-size) but de-refs header pbufs for (size >= p->len)
 662:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 663:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param q pbufs to operate on
 664:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param size The number of bytes to remove from the beginning of the pbuf list.
 665:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             While size >= p->len, pbufs are freed.
 666:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        ATTENTION: this is the opposite direction as @ref pbuf_header, but
 667:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *                   takes an u16_t not s16_t!
 668:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the new head pbuf
 669:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 670:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 671:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free_header(struct pbuf *q, u16_t size)
 672:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1614              		.loc 1 672 1
 1615              		.cfi_startproc
 1616              		@ args = 0, pretend = 0, frame = 24
 1617              		@ frame_needed = 1, uses_anonymous_args = 0
 1618 0000 80B5     		push	{r7, lr}
 1619              	.LCFI76:
 1620              		.cfi_def_cfa_offset 8
 1621              		.cfi_offset 7, -8
 1622              		.cfi_offset 14, -4
 1623 0002 86B0     		sub	sp, sp, #24
 1624              	.LCFI77:
 1625              		.cfi_def_cfa_offset 32
 1626 0004 00AF     		add	r7, sp, #0
 1627              	.LCFI78:
 1628              		.cfi_def_cfa_register 7
 1629 0006 7860     		str	r0, [r7, #4]
 1630 0008 0B46     		mov	r3, r1
 1631 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 673:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p = q;
 1632              		.loc 1 673 16
 1633 000c 7B68     		ldr	r3, [r7, #4]
 1634 000e 7B61     		str	r3, [r7, #20]
 674:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t free_left = size;
 1635              		.loc 1 674 9
 1636 0010 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1637 0012 7B82     		strh	r3, [r7, #18]	@ movhi
 675:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (free_left && p) {
 1638              		.loc 1 675 9
 1639 0014 1CE0     		b	.L93
 1640              	.L96:
ARM GAS  /tmp/ccRRFgJP.s 			page 42


 676:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 1641              		.loc 1 676 23
 1642 0016 7B69     		ldr	r3, [r7, #20]
 1643 0018 5B89     		ldrh	r3, [r3, #10]
 1644              		.loc 1 676 8
 1645 001a 7A8A     		ldrh	r2, [r7, #18]
 1646 001c 9A42     		cmp	r2, r3
 1647 001e 10D3     		bcc	.L94
 1648              	.LBB7:
 677:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       struct pbuf *f = p;
 1649              		.loc 1 677 20
 1650 0020 7B69     		ldr	r3, [r7, #20]
 1651 0022 FB60     		str	r3, [r7, #12]
 678:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       free_left = (u16_t)(free_left - p->len);
 1652              		.loc 1 678 40
 1653 0024 7B69     		ldr	r3, [r7, #20]
 1654 0026 5B89     		ldrh	r3, [r3, #10]
 1655              		.loc 1 678 17
 1656 0028 7A8A     		ldrh	r2, [r7, #18]	@ movhi
 1657 002a D31A     		subs	r3, r2, r3
 1658 002c 7B82     		strh	r3, [r7, #18]	@ movhi
 679:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = p->next;
 1659              		.loc 1 679 9
 1660 002e 7B69     		ldr	r3, [r7, #20]
 1661 0030 1B68     		ldr	r3, [r3]
 1662 0032 7B61     		str	r3, [r7, #20]
 680:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       f->next = 0;
 1663              		.loc 1 680 15
 1664 0034 FB68     		ldr	r3, [r7, #12]
 1665 0036 0022     		movs	r2, #0
 1666 0038 1A60     		str	r2, [r3]
 681:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pbuf_free(f);
 1667              		.loc 1 681 7
 1668 003a F868     		ldr	r0, [r7, #12]
 1669 003c FFF7FEFF 		bl	pbuf_free
 1670              	.LBE7:
 1671 0040 06E0     		b	.L93
 1672              	.L94:
 682:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 683:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       pbuf_remove_header(p, free_left);
 1673              		.loc 1 683 7
 1674 0042 7B8A     		ldrh	r3, [r7, #18]
 1675 0044 1946     		mov	r1, r3
 1676 0046 7869     		ldr	r0, [r7, #20]
 1677 0048 FFF7FEFF 		bl	pbuf_remove_header
 684:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       free_left = 0;
 1678              		.loc 1 684 17
 1679 004c 0023     		movs	r3, #0
 1680 004e 7B82     		strh	r3, [r7, #18]	@ movhi
 1681              	.L93:
 675:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 1682              		.loc 1 675 9
 1683 0050 7B8A     		ldrh	r3, [r7, #18]
 1684 0052 002B     		cmp	r3, #0
 1685 0054 02D0     		beq	.L95
 675:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (free_left >= p->len) {
 1686              		.loc 1 675 20 discriminator 1
ARM GAS  /tmp/ccRRFgJP.s 			page 43


 1687 0056 7B69     		ldr	r3, [r7, #20]
 1688 0058 002B     		cmp	r3, #0
 1689 005a DCD1     		bne	.L96
 1690              	.L95:
 685:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 686:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 687:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return p;
 1691              		.loc 1 687 10
 1692 005c 7B69     		ldr	r3, [r7, #20]
 688:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1693              		.loc 1 688 1
 1694 005e 1846     		mov	r0, r3
 1695 0060 1837     		adds	r7, r7, #24
 1696              	.LCFI79:
 1697              		.cfi_def_cfa_offset 8
 1698 0062 BD46     		mov	sp, r7
 1699              	.LCFI80:
 1700              		.cfi_def_cfa_register 13
 1701              		@ sp needed
 1702 0064 80BD     		pop	{r7, pc}
 1703              		.cfi_endproc
 1704              	.LFE152:
 1706              		.section	.rodata
 1707 018e 0000     		.align	2
 1708              	.LC12:
 1709 0190 70627566 		.ascii	"pbuf_free: p->ref > 0\000"
 1709      5F667265 
 1709      653A2070 
 1709      2D3E7265 
 1709      66203E20 
 1710 01a6 0000     		.align	2
 1711              	.LC13:
 1712 01a8 70632D3E 		.ascii	"pc->custom_free_function != NULL\000"
 1712      63757374 
 1712      6F6D5F66 
 1712      7265655F 
 1712      66756E63 
 1713 01c9 000000   		.align	2
 1714              	.LC14:
 1715 01cc 696E7661 		.ascii	"invalid pbuf type\000"
 1715      6C696420 
 1715      70627566 
 1715      20747970 
 1715      6500
 1716              		.section	.text.pbuf_free,"ax",%progbits
 1717              		.align	1
 1718              		.global	pbuf_free
 1719              		.syntax unified
 1720              		.thumb
 1721              		.thumb_func
 1722              		.fpu fpv4-sp-d16
 1724              	pbuf_free:
 1725              	.LFB153:
 689:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 690:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 691:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 692:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dereference a pbuf chain or queue and deallocate any no-longer-used
ARM GAS  /tmp/ccRRFgJP.s 			page 44


 693:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbufs at the head of this chain or queue.
 694:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 695:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Decrements the pbuf reference count. If it reaches zero, the pbuf is
 696:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * deallocated.
 697:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 698:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * For a pbuf chain, this is repeated for each pbuf in the chain,
 699:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * up to the first pbuf which has a non-zero reference count after
 700:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * decrementing. So, when all reference counts are one, the whole
 701:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * chain is free'd.
 702:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 703:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p The pbuf (chain) to be dereferenced.
 704:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 705:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs that were de-allocated
 706:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * from the head of the chain.
 707:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 708:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MUST NOT be called on a packet queue (Not verified to work yet).
 709:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note the reference counter of a pbuf equals the number of pointers
 710:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * that refer to the pbuf (or into the pbuf).
 711:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 712:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @internal examples:
 713:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 714:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Assuming existing chains a->b->c with the following reference
 715:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * counts, calling pbuf_free(a) results in:
 716:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 717:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->2->3 becomes ...1->3
 718:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 3->3->3 becomes 2->3->3
 719:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->2 becomes ......1
 720:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 2->1->1 becomes 1->1->1
 721:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 1->1->1 becomes .......
 722:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 723:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 724:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
 725:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_free(struct pbuf *p)
 726:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1726              		.loc 1 726 1
 1727              		.cfi_startproc
 1728              		@ args = 0, pretend = 0, frame = 32
 1729              		@ frame_needed = 1, uses_anonymous_args = 0
 1730 0000 80B5     		push	{r7, lr}
 1731              	.LCFI81:
 1732              		.cfi_def_cfa_offset 8
 1733              		.cfi_offset 7, -8
 1734              		.cfi_offset 14, -4
 1735 0002 88B0     		sub	sp, sp, #32
 1736              	.LCFI82:
 1737              		.cfi_def_cfa_offset 40
 1738 0004 00AF     		add	r7, sp, #0
 1739              	.LCFI83:
 1740              		.cfi_def_cfa_register 7
 1741 0006 7860     		str	r0, [r7, #4]
 727:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t alloc_src;
 728:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 729:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t count;
 730:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 731:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p == NULL) {
 1742              		.loc 1 731 6
 1743 0008 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRRFgJP.s 			page 45


 1744 000a 002B     		cmp	r3, #0
 1745 000c 0BD1     		bne	.L99
 732:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p != NULL", p != NULL);
 1746              		.loc 1 732 5
 1747 000e 7B68     		ldr	r3, [r7, #4]
 1748 0010 002B     		cmp	r3, #0
 1749 0012 06D1     		bne	.L100
 1750              		.loc 1 732 5 is_stmt 0 discriminator 1
 1751 0014 3B4B     		ldr	r3, .L112
 1752 0016 4FF43772 		mov	r2, #732
 1753 001a 3B49     		ldr	r1, .L112+4
 1754 001c 3B48     		ldr	r0, .L112+8
 1755 001e FFF7FEFF 		bl	printf
 1756              	.L100:
 733:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* if assertions are disabled, proceed with debug output */
 734:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 735:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                 ("pbuf_free(p == NULL) was called.\n"));
 736:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0;
 1757              		.loc 1 736 12 is_stmt 1
 1758 0022 0023     		movs	r3, #0
 1759 0024 69E0     		b	.L101
 1760              	.L99:
 737:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 738:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free(%p)\n", (void *)p));
 739:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 740:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_START;
 741:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 742:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   count = 0;
 1761              		.loc 1 742 9
 1762 0026 0023     		movs	r3, #0
 1763 0028 FB77     		strb	r3, [r7, #31]
 743:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* de-allocate all consecutive pbufs from the head of the chain that
 744:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * obtain a zero reference count after decrementing*/
 745:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 1764              		.loc 1 745 9
 1765 002a 62E0     		b	.L102
 1766              	.L111:
 1767              	.LBB8:
 746:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_PBUF_REF_T ref;
 747:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_DECL_PROTECT(old_level);
 748:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* Since decrementing ref cannot be guaranteed to be a single machine operation
 749:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * we must protect it. We put the new ref into a local variable to prevent
 750:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****      * further protection. */
 751:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_PROTECT(old_level);
 1768              		.loc 1 751 5
 1769 002c FFF7FEFF 		bl	sys_arch_protect
 1770 0030 B861     		str	r0, [r7, #24]
 752:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* all pbufs in a chain are referenced at least once */
 753:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_free: p->ref > 0", p->ref > 0);
 1771              		.loc 1 753 5
 1772 0032 7B68     		ldr	r3, [r7, #4]
 1773 0034 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 1774 0036 002B     		cmp	r3, #0
 1775 0038 06D1     		bne	.L103
 1776              		.loc 1 753 5 is_stmt 0 discriminator 1
 1777 003a 324B     		ldr	r3, .L112
 1778 003c 40F2F122 		movw	r2, #753
ARM GAS  /tmp/ccRRFgJP.s 			page 46


 1779 0040 3349     		ldr	r1, .L112+12
 1780 0042 3248     		ldr	r0, .L112+8
 1781 0044 FFF7FEFF 		bl	printf
 1782              	.L103:
 754:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decrease reference count (number of pointers to pbuf) */
 755:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ref = --(p->ref);
 1783              		.loc 1 755 15 is_stmt 1
 1784 0048 7B68     		ldr	r3, [r7, #4]
 1785 004a 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 1786              		.loc 1 755 11
 1787 004c 013B     		subs	r3, r3, #1
 1788 004e DAB2     		uxtb	r2, r3
 1789              		.loc 1 755 9
 1790 0050 7B68     		ldr	r3, [r7, #4]
 1791 0052 9A73     		strb	r2, [r3, #14]
 1792 0054 7B68     		ldr	r3, [r7, #4]
 1793 0056 9B7B     		ldrb	r3, [r3, #14]
 1794 0058 FB75     		strb	r3, [r7, #23]
 756:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_UNPROTECT(old_level);
 1795              		.loc 1 756 5
 1796 005a B869     		ldr	r0, [r7, #24]
 1797 005c FFF7FEFF 		bl	sys_arch_unprotect
 757:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* this pbuf is no longer referenced to? */
 758:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (ref == 0) {
 1798              		.loc 1 758 8
 1799 0060 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1800 0062 002B     		cmp	r3, #0
 1801 0064 43D1     		bne	.L104
 759:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* remember next pbuf in chain for next iteration */
 760:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       q = p->next;
 1802              		.loc 1 760 9
 1803 0066 7B68     		ldr	r3, [r7, #4]
 1804 0068 1B68     		ldr	r3, [r3]
 1805 006a 3B61     		str	r3, [r7, #16]
 761:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: deallocating %p\n", (void *)p));
 762:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       alloc_src = pbuf_get_allocsrc(p);
 1806              		.loc 1 762 19
 1807 006c 7B68     		ldr	r3, [r7, #4]
 1808 006e 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1809              		.loc 1 762 17
 1810 0070 03F00F03 		and	r3, r3, #15
 1811 0074 FB73     		strb	r3, [r7, #15]
 763:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_SUPPORT_CUSTOM_PBUF
 764:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* is this a custom pbuf? */
 765:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if ((p->flags & PBUF_FLAG_IS_CUSTOM) != 0) {
 1812              		.loc 1 765 13
 1813 0076 7B68     		ldr	r3, [r7, #4]
 1814 0078 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 1815              		.loc 1 765 21
 1816 007a 03F00203 		and	r3, r3, #2
 1817              		.loc 1 765 10
 1818 007e 002B     		cmp	r3, #0
 1819 0080 11D0     		beq	.L105
 1820              	.LBB9:
 766:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         struct pbuf_custom *pc = (struct pbuf_custom *)p;
 1821              		.loc 1 766 29
 1822 0082 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRRFgJP.s 			page 47


 1823 0084 BB60     		str	r3, [r7, #8]
 767:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("pc->custom_free_function != NULL", pc->custom_free_function != NULL);
 1824              		.loc 1 767 9
 1825 0086 BB68     		ldr	r3, [r7, #8]
 1826 0088 1B69     		ldr	r3, [r3, #16]
 1827 008a 002B     		cmp	r3, #0
 1828 008c 06D1     		bne	.L106
 1829              		.loc 1 767 9 is_stmt 0 discriminator 1
 1830 008e 1D4B     		ldr	r3, .L112
 1831 0090 40F2FF22 		movw	r2, #767
 1832 0094 1F49     		ldr	r1, .L112+16
 1833 0096 1D48     		ldr	r0, .L112+8
 1834 0098 FFF7FEFF 		bl	printf
 1835              	.L106:
 768:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         pc->custom_free_function(p);
 1836              		.loc 1 768 11 is_stmt 1
 1837 009c BB68     		ldr	r3, [r7, #8]
 1838 009e 1B69     		ldr	r3, [r3, #16]
 1839              		.loc 1 768 9
 1840 00a0 7868     		ldr	r0, [r7, #4]
 1841 00a2 9847     		blx	r3
 1842              	.LVL0:
 1843              	.LBE9:
 1844 00a4 1DE0     		b	.L107
 1845              	.L105:
 769:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       } else
 770:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_SUPPORT_CUSTOM_PBUF */
 771:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       {
 772:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         /* is this a pbuf from the pool? */
 773:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         if (alloc_src == PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF_POOL) {
 1846              		.loc 1 773 12
 1847 00a6 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1848 00a8 022B     		cmp	r3, #2
 1849 00aa 04D1     		bne	.L108
 774:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF_POOL, p);
 1850              		.loc 1 774 11
 1851 00ac 7968     		ldr	r1, [r7, #4]
 1852 00ae 0D20     		movs	r0, #13
 1853 00b0 FFF7FEFF 		bl	memp_free
 1854 00b4 15E0     		b	.L107
 1855              	.L108:
 775:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           /* is this a ROM or RAM referencing pbuf? */
 776:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else if (alloc_src == PBUF_TYPE_ALLOC_SRC_MASK_STD_MEMP_PBUF) {
 1856              		.loc 1 776 19
 1857 00b6 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1858 00b8 012B     		cmp	r3, #1
 1859 00ba 04D1     		bne	.L109
 777:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           memp_free(MEMP_PBUF, p);
 1860              		.loc 1 777 11
 1861 00bc 7968     		ldr	r1, [r7, #4]
 1862 00be 0C20     		movs	r0, #12
 1863 00c0 FFF7FEFF 		bl	memp_free
 1864 00c4 0DE0     		b	.L107
 1865              	.L109:
 778:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           /* type == PBUF_RAM */
 779:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else if (alloc_src == PBUF_TYPE_ALLOC_SRC_MASK_STD_HEAP) {
 1866              		.loc 1 779 19
ARM GAS  /tmp/ccRRFgJP.s 			page 48


 1867 00c6 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1868 00c8 002B     		cmp	r3, #0
 1869 00ca 03D1     		bne	.L110
 780:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           mem_free(p);
 1870              		.loc 1 780 11
 1871 00cc 7868     		ldr	r0, [r7, #4]
 1872 00ce FFF7FEFF 		bl	mem_free
 1873 00d2 06E0     		b	.L107
 1874              	.L110:
 781:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         } else {
 782:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           /* @todo: support freeing other types */
 783:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****           LWIP_ASSERT("invalid pbuf type", 0);
 1875              		.loc 1 783 11 discriminator 1
 1876 00d4 0B4B     		ldr	r3, .L112
 1877 00d6 40F20F32 		movw	r2, #783
 1878 00da 0F49     		ldr	r1, .L112+20
 1879 00dc 0B48     		ldr	r0, .L112+8
 1880 00de FFF7FEFF 		bl	printf
 1881              	.L107:
 784:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         }
 785:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
 786:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       count++;
 1882              		.loc 1 786 12
 1883 00e2 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1884 00e4 0133     		adds	r3, r3, #1
 1885 00e6 FB77     		strb	r3, [r7, #31]
 787:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* proceed to next pbuf */
 788:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = q;
 1886              		.loc 1 788 9
 1887 00e8 3B69     		ldr	r3, [r7, #16]
 1888 00ea 7B60     		str	r3, [r7, #4]
 1889 00ec 01E0     		b	.L102
 1890              	.L104:
 789:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* p->ref > 0, this pbuf is still referenced to */
 790:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* (and so the remaining pbufs in chain as well) */
 791:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 792:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF( PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_free: %p has ref %"U16_F", ending here.\n", 
 793:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* stop walking through the chain */
 794:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p = NULL;
 1891              		.loc 1 794 9
 1892 00ee 0023     		movs	r3, #0
 1893 00f0 7B60     		str	r3, [r7, #4]
 1894              	.L102:
 1895              	.LBE8:
 745:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_PBUF_REF_T ref;
 1896              		.loc 1 745 9
 1897 00f2 7B68     		ldr	r3, [r7, #4]
 1898 00f4 002B     		cmp	r3, #0
 1899 00f6 99D1     		bne	.L111
 795:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 796:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 797:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   PERF_STOP("pbuf_free");
 798:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return number of de-allocated pbufs */
 799:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return count;
 1900              		.loc 1 799 10
 1901 00f8 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1902              	.L101:
ARM GAS  /tmp/ccRRFgJP.s 			page 49


 800:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1903              		.loc 1 800 1
 1904 00fa 1846     		mov	r0, r3
 1905 00fc 2037     		adds	r7, r7, #32
 1906              	.LCFI84:
 1907              		.cfi_def_cfa_offset 8
 1908 00fe BD46     		mov	sp, r7
 1909              	.LCFI85:
 1910              		.cfi_def_cfa_register 13
 1911              		@ sp needed
 1912 0100 80BD     		pop	{r7, pc}
 1913              	.L113:
 1914 0102 00BF     		.align	2
 1915              	.L112:
 1916 0104 00000000 		.word	.LC0
 1917 0108 64010000 		.word	.LC10
 1918 010c 60000000 		.word	.LC2
 1919 0110 90010000 		.word	.LC12
 1920 0114 A8010000 		.word	.LC13
 1921 0118 CC010000 		.word	.LC14
 1922              		.cfi_endproc
 1923              	.LFE153:
 1925              		.section	.text.pbuf_clen,"ax",%progbits
 1926              		.align	1
 1927              		.global	pbuf_clen
 1928              		.syntax unified
 1929              		.thumb
 1930              		.thumb_func
 1931              		.fpu fpv4-sp-d16
 1933              	pbuf_clen:
 1934              	.LFB154:
 801:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 802:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 803:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Count number of pbufs in a chain
 804:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 805:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p first pbuf of chain
 806:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of pbufs in a chain
 807:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 808:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
 809:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_clen(const struct pbuf *p)
 810:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 1935              		.loc 1 810 1
 1936              		.cfi_startproc
 1937              		@ args = 0, pretend = 0, frame = 16
 1938              		@ frame_needed = 1, uses_anonymous_args = 0
 1939              		@ link register save eliminated.
 1940 0000 80B4     		push	{r7}
 1941              	.LCFI86:
 1942              		.cfi_def_cfa_offset 4
 1943              		.cfi_offset 7, -4
 1944 0002 85B0     		sub	sp, sp, #20
 1945              	.LCFI87:
 1946              		.cfi_def_cfa_offset 24
 1947 0004 00AF     		add	r7, sp, #0
 1948              	.LCFI88:
 1949              		.cfi_def_cfa_register 7
 1950 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccRRFgJP.s 			page 50


 811:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t len;
 812:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 813:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   len = 0;
 1951              		.loc 1 813 7
 1952 0008 0023     		movs	r3, #0
 1953 000a FB81     		strh	r3, [r7, #14]	@ movhi
 814:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 1954              		.loc 1 814 9
 1955 000c 05E0     		b	.L115
 1956              	.L116:
 815:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ++len;
 1957              		.loc 1 815 5
 1958 000e FB89     		ldrh	r3, [r7, #14]	@ movhi
 1959 0010 0133     		adds	r3, r3, #1
 1960 0012 FB81     		strh	r3, [r7, #14]	@ movhi
 816:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p = p->next;
 1961              		.loc 1 816 7
 1962 0014 7B68     		ldr	r3, [r7, #4]
 1963 0016 1B68     		ldr	r3, [r3]
 1964 0018 7B60     		str	r3, [r7, #4]
 1965              	.L115:
 814:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while (p != NULL) {
 1966              		.loc 1 814 9
 1967 001a 7B68     		ldr	r3, [r7, #4]
 1968 001c 002B     		cmp	r3, #0
 1969 001e F6D1     		bne	.L116
 817:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 818:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return len;
 1970              		.loc 1 818 10
 1971 0020 FB89     		ldrh	r3, [r7, #14]
 819:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 1972              		.loc 1 819 1
 1973 0022 1846     		mov	r0, r3
 1974 0024 1437     		adds	r7, r7, #20
 1975              	.LCFI89:
 1976              		.cfi_def_cfa_offset 4
 1977 0026 BD46     		mov	sp, r7
 1978              	.LCFI90:
 1979              		.cfi_def_cfa_register 13
 1980              		@ sp needed
 1981 0028 5DF8047B 		ldr	r7, [sp], #4
 1982              	.LCFI91:
 1983              		.cfi_restore 7
 1984              		.cfi_def_cfa_offset 0
 1985 002c 7047     		bx	lr
 1986              		.cfi_endproc
 1987              	.LFE154:
 1989              		.section	.rodata
 1990 01de 0000     		.align	2
 1991              	.LC15:
 1992 01e0 70627566 		.ascii	"pbuf ref overflow\000"
 1992      20726566 
 1992      206F7665 
 1992      72666C6F 
 1992      7700
 1993              		.section	.text.pbuf_ref,"ax",%progbits
 1994              		.align	1
ARM GAS  /tmp/ccRRFgJP.s 			page 51


 1995              		.global	pbuf_ref
 1996              		.syntax unified
 1997              		.thumb
 1998              		.thumb_func
 1999              		.fpu fpv4-sp-d16
 2001              	pbuf_ref:
 2002              	.LFB155:
 820:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 821:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 822:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 823:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Increment the reference count of the pbuf.
 824:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 825:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to increase reference counter of
 826:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 827:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 828:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 829:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_ref(struct pbuf *p)
 830:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2003              		.loc 1 830 1
 2004              		.cfi_startproc
 2005              		@ args = 0, pretend = 0, frame = 16
 2006              		@ frame_needed = 1, uses_anonymous_args = 0
 2007 0000 80B5     		push	{r7, lr}
 2008              	.LCFI92:
 2009              		.cfi_def_cfa_offset 8
 2010              		.cfi_offset 7, -8
 2011              		.cfi_offset 14, -4
 2012 0002 84B0     		sub	sp, sp, #16
 2013              	.LCFI93:
 2014              		.cfi_def_cfa_offset 24
 2015 0004 00AF     		add	r7, sp, #0
 2016              	.LCFI94:
 2017              		.cfi_def_cfa_register 7
 2018 0006 7860     		str	r0, [r7, #4]
 831:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf given? */
 832:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p != NULL) {
 2019              		.loc 1 832 6
 2020 0008 7B68     		ldr	r3, [r7, #4]
 2021 000a 002B     		cmp	r3, #0
 2022 000c 16D0     		beq	.L120
 2023              	.LBB10:
 833:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     SYS_ARCH_SET(p->ref, (LWIP_PBUF_REF_T)(p->ref + 1));
 2024              		.loc 1 833 5
 2025 000e FFF7FEFF 		bl	sys_arch_protect
 2026 0012 F860     		str	r0, [r7, #12]
 2027 0014 7B68     		ldr	r3, [r7, #4]
 2028 0016 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 2029 0018 0133     		adds	r3, r3, #1
 2030 001a DAB2     		uxtb	r2, r3
 2031 001c 7B68     		ldr	r3, [r7, #4]
 2032 001e 9A73     		strb	r2, [r3, #14]
 2033 0020 F868     		ldr	r0, [r7, #12]
 2034 0022 FFF7FEFF 		bl	sys_arch_unprotect
 2035              	.LBE10:
 834:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf ref overflow", p->ref > 0);
 2036              		.loc 1 834 5
 2037 0026 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRRFgJP.s 			page 52


 2038 0028 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 2039 002a 002B     		cmp	r3, #0
 2040 002c 06D1     		bne	.L120
 2041              		.loc 1 834 5 is_stmt 0 discriminator 1
 2042 002e 054B     		ldr	r3, .L121
 2043 0030 40F24232 		movw	r2, #834
 2044 0034 0449     		ldr	r1, .L121+4
 2045 0036 0548     		ldr	r0, .L121+8
 2046 0038 FFF7FEFF 		bl	printf
 2047              	.L120:
 835:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 836:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2048              		.loc 1 836 1 is_stmt 1
 2049 003c 00BF     		nop
 2050 003e 1037     		adds	r7, r7, #16
 2051              	.LCFI95:
 2052              		.cfi_def_cfa_offset 8
 2053 0040 BD46     		mov	sp, r7
 2054              	.LCFI96:
 2055              		.cfi_def_cfa_register 13
 2056              		@ sp needed
 2057 0042 80BD     		pop	{r7, pc}
 2058              	.L122:
 2059              		.align	2
 2060              	.L121:
 2061 0044 00000000 		.word	.LC0
 2062 0048 E0010000 		.word	.LC15
 2063 004c 60000000 		.word	.LC2
 2064              		.cfi_endproc
 2065              	.LFE155:
 2067              		.section	.rodata
 2068 01f2 0000     		.align	2
 2069              	.LC16:
 2070 01f4 28682021 		.ascii	"(h != NULL) && (t != NULL) (programmer violates API"
 2070      3D204E55 
 2070      4C4C2920 
 2070      26262028 
 2070      7420213D 
 2071 0227 2900     		.ascii	")\000"
 2072 0229 000000   		.align	2
 2073              	.LC17:
 2074 022c 702D3E74 		.ascii	"p->tot_len == p->len (of last pbuf in chain)\000"
 2074      6F745F6C 
 2074      656E203D 
 2074      3D20702D 
 2074      3E6C656E 
 2075 0259 000000   		.align	2
 2076              	.LC18:
 2077 025c 702D3E6E 		.ascii	"p->next == NULL\000"
 2077      65787420 
 2077      3D3D204E 
 2077      554C4C00 
 2078              		.section	.text.pbuf_cat,"ax",%progbits
 2079              		.align	1
 2080              		.global	pbuf_cat
 2081              		.syntax unified
 2082              		.thumb
ARM GAS  /tmp/ccRRFgJP.s 			page 53


 2083              		.thumb_func
 2084              		.fpu fpv4-sp-d16
 2086              	pbuf_cat:
 2087              	.LFB156:
 837:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 838:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 839:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 840:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Concatenate two pbufs (each may be a pbuf chain) and take over
 841:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the caller's reference of the tail pbuf.
 842:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 843:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The caller MAY NOT reference the tail pbuf afterwards.
 844:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Use pbuf_chain() for that purpose.
 845:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 846:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function explicitly does not check for tot_len overflow to prevent
 847:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * failing to queue too long pbufs. This can produce invalid pbufs, so
 848:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * handle with care!
 849:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 850:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @see pbuf_chain()
 851:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 852:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 853:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_cat(struct pbuf *h, struct pbuf *t)
 854:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2088              		.loc 1 854 1
 2089              		.cfi_startproc
 2090              		@ args = 0, pretend = 0, frame = 16
 2091              		@ frame_needed = 1, uses_anonymous_args = 0
 2092 0000 80B5     		push	{r7, lr}
 2093              	.LCFI97:
 2094              		.cfi_def_cfa_offset 8
 2095              		.cfi_offset 7, -8
 2096              		.cfi_offset 14, -4
 2097 0002 84B0     		sub	sp, sp, #16
 2098              	.LCFI98:
 2099              		.cfi_def_cfa_offset 24
 2100 0004 00AF     		add	r7, sp, #0
 2101              	.LCFI99:
 2102              		.cfi_def_cfa_register 7
 2103 0006 7860     		str	r0, [r7, #4]
 2104 0008 3960     		str	r1, [r7]
 855:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
 856:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 857:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("(h != NULL) && (t != NULL) (programmer violates API)",
 2105              		.loc 1 857 3
 2106 000a 7B68     		ldr	r3, [r7, #4]
 2107 000c 002B     		cmp	r3, #0
 2108 000e 02D0     		beq	.L124
 2109              		.loc 1 857 3 is_stmt 0 discriminator 2
 2110 0010 3B68     		ldr	r3, [r7]
 2111 0012 002B     		cmp	r3, #0
 2112 0014 07D1     		bne	.L125
 2113              	.L124:
 2114              		.loc 1 857 3 discriminator 3
 2115 0016 204B     		ldr	r3, .L131
 2116 0018 40F25A32 		movw	r2, #858
 2117 001c 1F49     		ldr	r1, .L131+4
 2118 001e 2048     		ldr	r0, .L131+8
 2119 0020 FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccRRFgJP.s 			page 54


 2120 0024 34E0     		b	.L123
 2121              	.L125:
 858:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              ((h != NULL) && (t != NULL)), return;);
 859:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 860:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* proceed to last pbuf of chain */
 861:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = h; p->next != NULL; p = p->next) {
 2122              		.loc 1 861 10 is_stmt 1
 2123 0026 7B68     		ldr	r3, [r7, #4]
 2124 0028 FB60     		str	r3, [r7, #12]
 2125              		.loc 1 861 3
 2126 002a 0AE0     		b	.L127
 2127              	.L128:
 862:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 863:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = (u16_t)(p->tot_len + t->tot_len);
 2128              		.loc 1 863 27 discriminator 3
 2129 002c FB68     		ldr	r3, [r7, #12]
 2130 002e 1A89     		ldrh	r2, [r3, #8]
 2131              		.loc 1 863 40 discriminator 3
 2132 0030 3B68     		ldr	r3, [r7]
 2133 0032 1B89     		ldrh	r3, [r3, #8]
 2134              		.loc 1 863 18 discriminator 3
 2135 0034 1344     		add	r3, r3, r2
 2136 0036 9AB2     		uxth	r2, r3
 2137              		.loc 1 863 16 discriminator 3
 2138 0038 FB68     		ldr	r3, [r7, #12]
 2139 003a 1A81     		strh	r2, [r3, #8]	@ movhi
 861:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2140              		.loc 1 861 34 discriminator 3
 2141 003c FB68     		ldr	r3, [r7, #12]
 2142 003e 1B68     		ldr	r3, [r3]
 2143 0040 FB60     		str	r3, [r7, #12]
 2144              	.L127:
 861:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2145              		.loc 1 861 16 discriminator 1
 2146 0042 FB68     		ldr	r3, [r7, #12]
 2147 0044 1B68     		ldr	r3, [r3]
 861:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* add total length of second chain to all totals of first chain */
 2148              		.loc 1 861 3 discriminator 1
 2149 0046 002B     		cmp	r3, #0
 2150 0048 F0D1     		bne	.L128
 864:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 865:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* { p is last pbuf of first h chain, p->next == NULL } */
 866:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len (of last pbuf in chain)", p->tot_len == p->len);
 2151              		.loc 1 866 3
 2152 004a FB68     		ldr	r3, [r7, #12]
 2153 004c 1A89     		ldrh	r2, [r3, #8]
 2154 004e FB68     		ldr	r3, [r7, #12]
 2155 0050 5B89     		ldrh	r3, [r3, #10]
 2156 0052 9A42     		cmp	r2, r3
 2157 0054 06D0     		beq	.L129
 2158              		.loc 1 866 3 is_stmt 0 discriminator 1
 2159 0056 104B     		ldr	r3, .L131
 2160 0058 40F26232 		movw	r2, #866
 2161 005c 1149     		ldr	r1, .L131+12
 2162 005e 1048     		ldr	r0, .L131+8
 2163 0060 FFF7FEFF 		bl	printf
 2164              	.L129:
ARM GAS  /tmp/ccRRFgJP.s 			page 55


 867:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->next == NULL", p->next == NULL);
 2165              		.loc 1 867 3 is_stmt 1
 2166 0064 FB68     		ldr	r3, [r7, #12]
 2167 0066 1B68     		ldr	r3, [r3]
 2168 0068 002B     		cmp	r3, #0
 2169 006a 06D0     		beq	.L130
 2170              		.loc 1 867 3 is_stmt 0 discriminator 1
 2171 006c 0A4B     		ldr	r3, .L131
 2172 006e 40F26332 		movw	r2, #867
 2173 0072 0D49     		ldr	r1, .L131+16
 2174 0074 0A48     		ldr	r0, .L131+8
 2175 0076 FFF7FEFF 		bl	printf
 2176              	.L130:
 868:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* add total length of second chain to last pbuf total of first chain */
 869:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->tot_len = (u16_t)(p->tot_len + t->tot_len);
 2177              		.loc 1 869 25 is_stmt 1
 2178 007a FB68     		ldr	r3, [r7, #12]
 2179 007c 1A89     		ldrh	r2, [r3, #8]
 2180              		.loc 1 869 38
 2181 007e 3B68     		ldr	r3, [r7]
 2182 0080 1B89     		ldrh	r3, [r3, #8]
 2183              		.loc 1 869 16
 2184 0082 1344     		add	r3, r3, r2
 2185 0084 9AB2     		uxth	r2, r3
 2186              		.loc 1 869 14
 2187 0086 FB68     		ldr	r3, [r7, #12]
 2188 0088 1A81     		strh	r2, [r3, #8]	@ movhi
 870:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* chain last pbuf of head (p) with first of tail (t) */
 871:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   p->next = t;
 2189              		.loc 1 871 11
 2190 008a FB68     		ldr	r3, [r7, #12]
 2191 008c 3A68     		ldr	r2, [r7]
 2192 008e 1A60     		str	r2, [r3]
 2193              	.L123:
 872:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* p->next now references t, but the caller will drop its reference to t,
 873:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    * so netto there is no change to the reference count of t.
 874:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****    */
 875:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2194              		.loc 1 875 1
 2195 0090 1037     		adds	r7, r7, #16
 2196              	.LCFI100:
 2197              		.cfi_def_cfa_offset 8
 2198 0092 BD46     		mov	sp, r7
 2199              	.LCFI101:
 2200              		.cfi_def_cfa_register 13
 2201              		@ sp needed
 2202 0094 80BD     		pop	{r7, pc}
 2203              	.L132:
 2204 0096 00BF     		.align	2
 2205              	.L131:
 2206 0098 00000000 		.word	.LC0
 2207 009c F4010000 		.word	.LC16
 2208 00a0 60000000 		.word	.LC2
 2209 00a4 2C020000 		.word	.LC17
 2210 00a8 5C020000 		.word	.LC18
 2211              		.cfi_endproc
 2212              	.LFE156:
ARM GAS  /tmp/ccRRFgJP.s 			page 56


 2214              		.section	.text.pbuf_chain,"ax",%progbits
 2215              		.align	1
 2216              		.global	pbuf_chain
 2217              		.syntax unified
 2218              		.thumb
 2219              		.thumb_func
 2220              		.fpu fpv4-sp-d16
 2222              	pbuf_chain:
 2223              	.LFB157:
 876:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 877:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 878:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 879:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Chain two pbufs (or pbuf chains) together.
 880:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 881:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The caller MUST call pbuf_free(t) once it has stopped
 882:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * using it. Use pbuf_cat() instead if you no longer use t.
 883:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 884:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param h head pbuf (chain)
 885:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param t tail pbuf (chain)
 886:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note The pbufs MUST belong to the same packet.
 887:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note MAY NOT be called on a packet queue.
 888:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 889:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->tot_len fields of all pbufs of the head chain are adjusted.
 890:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->next field of the last pbuf of the head chain is adjusted.
 891:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * The ->ref field of the first pbuf of the tail chain is adjusted.
 892:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 893:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 894:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
 895:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_chain(struct pbuf *h, struct pbuf *t)
 896:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2224              		.loc 1 896 1
 2225              		.cfi_startproc
 2226              		@ args = 0, pretend = 0, frame = 8
 2227              		@ frame_needed = 1, uses_anonymous_args = 0
 2228 0000 80B5     		push	{r7, lr}
 2229              	.LCFI102:
 2230              		.cfi_def_cfa_offset 8
 2231              		.cfi_offset 7, -8
 2232              		.cfi_offset 14, -4
 2233 0002 82B0     		sub	sp, sp, #8
 2234              	.LCFI103:
 2235              		.cfi_def_cfa_offset 16
 2236 0004 00AF     		add	r7, sp, #0
 2237              	.LCFI104:
 2238              		.cfi_def_cfa_register 7
 2239 0006 7860     		str	r0, [r7, #4]
 2240 0008 3960     		str	r1, [r7]
 897:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_cat(h, t);
 2241              		.loc 1 897 3
 2242 000a 3968     		ldr	r1, [r7]
 2243 000c 7868     		ldr	r0, [r7, #4]
 2244 000e FFF7FEFF 		bl	pbuf_cat
 898:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* t is now referenced by h */
 899:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_ref(t);
 2245              		.loc 1 899 3
 2246 0012 3868     		ldr	r0, [r7]
 2247 0014 FFF7FEFF 		bl	pbuf_ref
ARM GAS  /tmp/ccRRFgJP.s 			page 57


 900:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_chain: %p references %p\n", (void *)h, (void *)t)
 901:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2248              		.loc 1 901 1
 2249 0018 00BF     		nop
 2250 001a 0837     		adds	r7, r7, #8
 2251              	.LCFI105:
 2252              		.cfi_def_cfa_offset 8
 2253 001c BD46     		mov	sp, r7
 2254              	.LCFI106:
 2255              		.cfi_def_cfa_register 13
 2256              		@ sp needed
 2257 001e 80BD     		pop	{r7, pc}
 2258              		.cfi_endproc
 2259              	.LFE157:
 2261              		.section	.rodata
 2262              		.align	2
 2263              	.LC19:
 2264 026c 702D3E74 		.ascii	"p->tot_len == p->len + q->tot_len\000"
 2264      6F745F6C 
 2264      656E203D 
 2264      3D20702D 
 2264      3E6C656E 
 2265 028e 0000     		.align	2
 2266              	.LC20:
 2267 0290 702D3E74 		.ascii	"p->tot_len == p->len\000"
 2267      6F745F6C 
 2267      656E203D 
 2267      3D20702D 
 2267      3E6C656E 
 2268              		.section	.text.pbuf_dechain,"ax",%progbits
 2269              		.align	1
 2270              		.global	pbuf_dechain
 2271              		.syntax unified
 2272              		.thumb
 2273              		.thumb_func
 2274              		.fpu fpv4-sp-d16
 2276              	pbuf_dechain:
 2277              	.LFB158:
 902:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 903:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 904:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Dechains the first pbuf from its succeeding pbufs in the chain.
 905:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 906:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Makes p->tot_len field equal to p->len.
 907:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to dechain
 908:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return remainder of the pbuf chain, or NULL if it was de-allocated.
 909:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note May not be called on a packet queue.
 910:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 911:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
 912:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_dechain(struct pbuf *p)
 913:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2278              		.loc 1 913 1
 2279              		.cfi_startproc
 2280              		@ args = 0, pretend = 0, frame = 16
 2281              		@ frame_needed = 1, uses_anonymous_args = 0
 2282 0000 80B5     		push	{r7, lr}
 2283              	.LCFI107:
 2284              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccRRFgJP.s 			page 58


 2285              		.cfi_offset 7, -8
 2286              		.cfi_offset 14, -4
 2287 0002 84B0     		sub	sp, sp, #16
 2288              	.LCFI108:
 2289              		.cfi_def_cfa_offset 24
 2290 0004 00AF     		add	r7, sp, #0
 2291              	.LCFI109:
 2292              		.cfi_def_cfa_register 7
 2293 0006 7860     		str	r0, [r7, #4]
 914:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
 915:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u8_t tail_gone = 1;
 2294              		.loc 1 915 8
 2295 0008 0123     		movs	r3, #1
 2296 000a FB73     		strb	r3, [r7, #15]
 916:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* tail */
 917:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = p->next;
 2297              		.loc 1 917 5
 2298 000c 7B68     		ldr	r3, [r7, #4]
 2299 000e 1B68     		ldr	r3, [r3]
 2300 0010 BB60     		str	r3, [r7, #8]
 918:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf has successor in chain? */
 919:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q != NULL) {
 2301              		.loc 1 919 6
 2302 0012 BB68     		ldr	r3, [r7, #8]
 2303 0014 002B     		cmp	r3, #0
 2304 0016 25D0     		beq	.L135
 920:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 921:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("p->tot_len == p->len + q->tot_len", q->tot_len == p->tot_len - p->len);
 2305              		.loc 1 921 5
 2306 0018 BB68     		ldr	r3, [r7, #8]
 2307 001a 1B89     		ldrh	r3, [r3, #8]
 2308 001c 1A46     		mov	r2, r3
 2309 001e 7B68     		ldr	r3, [r7, #4]
 2310 0020 1B89     		ldrh	r3, [r3, #8]
 2311 0022 1946     		mov	r1, r3
 2312 0024 7B68     		ldr	r3, [r7, #4]
 2313 0026 5B89     		ldrh	r3, [r3, #10]
 2314 0028 CB1A     		subs	r3, r1, r3
 2315 002a 9A42     		cmp	r2, r3
 2316 002c 06D0     		beq	.L136
 2317              		.loc 1 921 5 is_stmt 0 discriminator 1
 2318 002e 194B     		ldr	r3, .L141
 2319 0030 40F29932 		movw	r2, #921
 2320 0034 1849     		ldr	r1, .L141+4
 2321 0036 1948     		ldr	r0, .L141+8
 2322 0038 FFF7FEFF 		bl	printf
 2323              	.L136:
 922:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* enforce invariant if assertion is disabled */
 923:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q->tot_len = (u16_t)(p->tot_len - p->len);
 2324              		.loc 1 923 27 is_stmt 1
 2325 003c 7B68     		ldr	r3, [r7, #4]
 2326 003e 1A89     		ldrh	r2, [r3, #8]
 2327              		.loc 1 923 40
 2328 0040 7B68     		ldr	r3, [r7, #4]
 2329 0042 5B89     		ldrh	r3, [r3, #10]
 2330              		.loc 1 923 18
 2331 0044 D31A     		subs	r3, r2, r3
ARM GAS  /tmp/ccRRFgJP.s 			page 59


 2332 0046 9AB2     		uxth	r2, r3
 2333              		.loc 1 923 16
 2334 0048 BB68     		ldr	r3, [r7, #8]
 2335 004a 1A81     		strh	r2, [r3, #8]	@ movhi
 924:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* decouple pbuf from remainder */
 925:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->next = NULL;
 2336              		.loc 1 925 13
 2337 004c 7B68     		ldr	r3, [r7, #4]
 2338 004e 0022     		movs	r2, #0
 2339 0050 1A60     		str	r2, [r3]
 926:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* total length of pbuf p is its own length only */
 927:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     p->tot_len = p->len;
 2340              		.loc 1 927 19
 2341 0052 7B68     		ldr	r3, [r7, #4]
 2342 0054 5A89     		ldrh	r2, [r3, #10]
 2343              		.loc 1 927 16
 2344 0056 7B68     		ldr	r3, [r7, #4]
 2345 0058 1A81     		strh	r2, [r3, #8]	@ movhi
 928:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* q is no longer referenced by p, free it */
 929:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_dechain: unreferencing %p\n", (void *)q));
 930:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     tail_gone = pbuf_free(q);
 2346              		.loc 1 930 17
 2347 005a B868     		ldr	r0, [r7, #8]
 2348 005c FFF7FEFF 		bl	pbuf_free
 2349 0060 0346     		mov	r3, r0
 2350 0062 FB73     		strb	r3, [r7, #15]
 2351              	.L135:
 931:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (tail_gone > 0) {
 932:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE,
 933:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                   ("pbuf_dechain: deallocated %p (as it is no longer referenced)\n", (void *)q));
 934:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 935:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* return remaining tail or NULL if deallocated */
 936:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
 937:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* assert tot_len invariant: (p->tot_len == p->len + (p->next? p->next->tot_len: 0) */
 938:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p->tot_len == p->len", p->tot_len == p->len);
 2352              		.loc 1 938 3
 2353 0064 7B68     		ldr	r3, [r7, #4]
 2354 0066 1A89     		ldrh	r2, [r3, #8]
 2355 0068 7B68     		ldr	r3, [r7, #4]
 2356 006a 5B89     		ldrh	r3, [r3, #10]
 2357 006c 9A42     		cmp	r2, r3
 2358 006e 06D0     		beq	.L137
 2359              		.loc 1 938 3 is_stmt 0 discriminator 1
 2360 0070 084B     		ldr	r3, .L141
 2361 0072 40F2AA32 		movw	r2, #938
 2362 0076 0A49     		ldr	r1, .L141+12
 2363 0078 0848     		ldr	r0, .L141+8
 2364 007a FFF7FEFF 		bl	printf
 2365              	.L137:
 939:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ((tail_gone > 0) ? NULL : q);
 2366              		.loc 1 939 34 is_stmt 1
 2367 007e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 2368 0080 002B     		cmp	r3, #0
 2369 0082 01D1     		bne	.L138
 2370              		.loc 1 939 34 is_stmt 0 discriminator 1
 2371 0084 BB68     		ldr	r3, [r7, #8]
 2372 0086 00E0     		b	.L140
ARM GAS  /tmp/ccRRFgJP.s 			page 60


 2373              	.L138:
 2374              		.loc 1 939 34 discriminator 2
 2375 0088 0023     		movs	r3, #0
 2376              	.L140:
 940:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2377              		.loc 1 940 1 is_stmt 1 discriminator 5
 2378 008a 1846     		mov	r0, r3
 2379 008c 1037     		adds	r7, r7, #16
 2380              	.LCFI110:
 2381              		.cfi_def_cfa_offset 8
 2382 008e BD46     		mov	sp, r7
 2383              	.LCFI111:
 2384              		.cfi_def_cfa_register 13
 2385              		@ sp needed
 2386 0090 80BD     		pop	{r7, pc}
 2387              	.L142:
 2388 0092 00BF     		.align	2
 2389              	.L141:
 2390 0094 00000000 		.word	.LC0
 2391 0098 6C020000 		.word	.LC19
 2392 009c 60000000 		.word	.LC2
 2393 00a0 90020000 		.word	.LC20
 2394              		.cfi_endproc
 2395              	.LFE158:
 2397              		.section	.rodata
 2398 02a5 000000   		.align	2
 2399              	.LC21:
 2400 02a8 70627566 		.ascii	"pbuf_copy: target not big enough to hold source\000"
 2400      5F636F70 
 2400      793A2074 
 2400      61726765 
 2400      74206E6F 
 2401              		.align	2
 2402              	.LC22:
 2403 02d8 6F666673 		.ascii	"offset_to <= p_to->len\000"
 2403      65745F74 
 2403      6F203C3D 
 2403      20705F74 
 2403      6F2D3E6C 
 2404 02ef 00       		.align	2
 2405              	.LC23:
 2406 02f0 6F666673 		.ascii	"offset_from <= p_from->len\000"
 2406      65745F66 
 2406      726F6D20 
 2406      3C3D2070 
 2406      5F66726F 
 2407 030b 00       		.align	2
 2408              	.LC24:
 2409 030c 705F746F 		.ascii	"p_to != NULL\000"
 2409      20213D20 
 2409      4E554C4C 
 2409      00
 2410 0319 000000   		.align	2
 2411              	.LC25:
 2412 031c 70627566 		.ascii	"pbuf_copy() does not allow packet queues!\000"
 2412      5F636F70 
 2412      79282920 
ARM GAS  /tmp/ccRRFgJP.s 			page 61


 2412      646F6573 
 2412      206E6F74 
 2413              		.section	.text.pbuf_copy,"ax",%progbits
 2414              		.align	1
 2415              		.global	pbuf_copy
 2416              		.syntax unified
 2417              		.thumb
 2418              		.thumb_func
 2419              		.fpu fpv4-sp-d16
 2421              	pbuf_copy:
 2422              	.LFB159:
 941:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 942:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
 943:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
 944:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Create PBUF_RAM copies of pbufs.
 945:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 946:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Used to queue packets on behalf of the lwIP stack, such as
 947:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * ARP based queueing.
 948:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 949:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note You MUST explicitly use p = pbuf_take(p);
 950:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 951:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @note Only one packet is copied, no packet queue!
 952:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 953:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_to pbuf destination of the copy
 954:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p_from pbuf source of the copy
 955:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
 956:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if pbuf was copied
 957:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         ERR_ARG if one of the pbufs is NULL or p_to is not big
 958:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *                 enough to hold p_from
 959:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
 960:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
 961:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy(struct pbuf *p_to, const struct pbuf *p_from)
 962:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2423              		.loc 1 962 1
 2424              		.cfi_startproc
 2425              		@ args = 0, pretend = 0, frame = 24
 2426              		@ frame_needed = 1, uses_anonymous_args = 0
 2427 0000 80B5     		push	{r7, lr}
 2428              	.LCFI112:
 2429              		.cfi_def_cfa_offset 8
 2430              		.cfi_offset 7, -8
 2431              		.cfi_offset 14, -4
 2432 0002 86B0     		sub	sp, sp, #24
 2433              	.LCFI113:
 2434              		.cfi_def_cfa_offset 32
 2435 0004 00AF     		add	r7, sp, #0
 2436              	.LCFI114:
 2437              		.cfi_def_cfa_register 7
 2438 0006 7860     		str	r0, [r7, #4]
 2439 0008 3960     		str	r1, [r7]
 963:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t offset_to = 0, offset_from = 0, len;
 2440              		.loc 1 963 10
 2441 000a 0023     		movs	r3, #0
 2442 000c 7B61     		str	r3, [r7, #20]
 2443              		.loc 1 963 25
 2444 000e 0023     		movs	r3, #0
 2445 0010 3B61     		str	r3, [r7, #16]
ARM GAS  /tmp/ccRRFgJP.s 			page 62


 964:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 965:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy(%p, %p)\n",
 966:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****               (const void *)p_to, (const void *)p_from));
 967:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 968:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* is the target big enough to hold the source? */
 969:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy: target not big enough to hold source", ((p_to != NULL) &&
 2446              		.loc 1 969 3
 2447 0012 7B68     		ldr	r3, [r7, #4]
 2448 0014 002B     		cmp	r3, #0
 2449 0016 08D0     		beq	.L144
 2450              		.loc 1 969 3 is_stmt 0 discriminator 2
 2451 0018 3B68     		ldr	r3, [r7]
 2452 001a 002B     		cmp	r3, #0
 2453 001c 05D0     		beq	.L144
 2454              		.loc 1 969 3 discriminator 4
 2455 001e 7B68     		ldr	r3, [r7, #4]
 2456 0020 1A89     		ldrh	r2, [r3, #8]
 2457 0022 3B68     		ldr	r3, [r7]
 2458 0024 1B89     		ldrh	r3, [r3, #8]
 2459 0026 9A42     		cmp	r2, r3
 2460 0028 09D2     		bcs	.L145
 2461              	.L144:
 2462              		.loc 1 969 3 discriminator 5
 2463 002a 574B     		ldr	r3, .L155
 2464 002c 40F2CA32 		movw	r2, #970
 2465 0030 5649     		ldr	r1, .L155+4
 2466 0032 5748     		ldr	r0, .L155+8
 2467 0034 FFF7FEFF 		bl	printf
 2468 0038 6FF00F03 		mvn	r3, #15
 2469 003c 9FE0     		b	.L146
 2470              	.L145:
 970:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****              (p_from != NULL) && (p_to->tot_len >= p_from->tot_len)), return ERR_ARG;);
 971:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 972:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* iterate through pbuf chain */
 973:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   do {
 974:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy one part of the original chain */
 975:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to->len - offset_to) >= (p_from->len - offset_from)) {
 2471              		.loc 1 975 14 is_stmt 1
 2472 003e 7B68     		ldr	r3, [r7, #4]
 2473 0040 5B89     		ldrh	r3, [r3, #10]
 2474 0042 1A46     		mov	r2, r3
 2475              		.loc 1 975 20
 2476 0044 7B69     		ldr	r3, [r7, #20]
 2477 0046 D21A     		subs	r2, r2, r3
 2478              		.loc 1 975 43
 2479 0048 3B68     		ldr	r3, [r7]
 2480 004a 5B89     		ldrh	r3, [r3, #10]
 2481 004c 1946     		mov	r1, r3
 2482              		.loc 1 975 49
 2483 004e 3B69     		ldr	r3, [r7, #16]
 2484 0050 CB1A     		subs	r3, r1, r3
 2485              		.loc 1 975 8
 2486 0052 9A42     		cmp	r2, r3
 2487 0054 06D3     		bcc	.L147
 976:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* complete current p_from fits into current p_to */
 977:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_from->len - offset_from;
 2488              		.loc 1 977 19
ARM GAS  /tmp/ccRRFgJP.s 			page 63


 2489 0056 3B68     		ldr	r3, [r7]
 2490 0058 5B89     		ldrh	r3, [r3, #10]
 2491 005a 1A46     		mov	r2, r3
 2492              		.loc 1 977 11
 2493 005c 3B69     		ldr	r3, [r7, #16]
 2494 005e D31A     		subs	r3, r2, r3
 2495 0060 FB60     		str	r3, [r7, #12]
 2496 0062 05E0     		b	.L148
 2497              	.L147:
 978:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
 979:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* current p_from does not fit into current p_to */
 980:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = p_to->len - offset_to;
 2498              		.loc 1 980 17
 2499 0064 7B68     		ldr	r3, [r7, #4]
 2500 0066 5B89     		ldrh	r3, [r3, #10]
 2501 0068 1A46     		mov	r2, r3
 2502              		.loc 1 980 11
 2503 006a 7B69     		ldr	r3, [r7, #20]
 2504 006c D31A     		subs	r3, r2, r3
 2505 006e FB60     		str	r3, [r7, #12]
 2506              	.L148:
 981:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 982:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY((u8_t *)p_to->payload + offset_to, (u8_t *)p_from->payload + offset_from, len);
 2507              		.loc 1 982 5
 2508 0070 7B68     		ldr	r3, [r7, #4]
 2509 0072 5A68     		ldr	r2, [r3, #4]
 2510 0074 7B69     		ldr	r3, [r7, #20]
 2511 0076 D018     		adds	r0, r2, r3
 2512 0078 3B68     		ldr	r3, [r7]
 2513 007a 5A68     		ldr	r2, [r3, #4]
 2514 007c 3B69     		ldr	r3, [r7, #16]
 2515 007e 1344     		add	r3, r3, r2
 2516 0080 FA68     		ldr	r2, [r7, #12]
 2517 0082 1946     		mov	r1, r3
 2518 0084 FFF7FEFF 		bl	memcpy
 983:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_to += len;
 2519              		.loc 1 983 15
 2520 0088 7A69     		ldr	r2, [r7, #20]
 2521 008a FB68     		ldr	r3, [r7, #12]
 2522 008c 1344     		add	r3, r3, r2
 2523 008e 7B61     		str	r3, [r7, #20]
 984:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_from += len;
 2524              		.loc 1 984 17
 2525 0090 3A69     		ldr	r2, [r7, #16]
 2526 0092 FB68     		ldr	r3, [r7, #12]
 2527 0094 1344     		add	r3, r3, r2
 2528 0096 3B61     		str	r3, [r7, #16]
 985:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_to <= p_to->len", offset_to <= p_to->len);
 2529              		.loc 1 985 5
 2530 0098 7B68     		ldr	r3, [r7, #4]
 2531 009a 5B89     		ldrh	r3, [r3, #10]
 2532 009c 1A46     		mov	r2, r3
 2533 009e 7B69     		ldr	r3, [r7, #20]
 2534 00a0 9342     		cmp	r3, r2
 2535 00a2 06D9     		bls	.L149
 2536              		.loc 1 985 5 is_stmt 0 discriminator 1
 2537 00a4 384B     		ldr	r3, .L155
ARM GAS  /tmp/ccRRFgJP.s 			page 64


 2538 00a6 40F2D932 		movw	r2, #985
 2539 00aa 3A49     		ldr	r1, .L155+12
 2540 00ac 3848     		ldr	r0, .L155+8
 2541 00ae FFF7FEFF 		bl	printf
 2542              	.L149:
 986:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("offset_from <= p_from->len", offset_from <= p_from->len);
 2543              		.loc 1 986 5 is_stmt 1
 2544 00b2 3B68     		ldr	r3, [r7]
 2545 00b4 5B89     		ldrh	r3, [r3, #10]
 2546 00b6 1A46     		mov	r2, r3
 2547 00b8 3B69     		ldr	r3, [r7, #16]
 2548 00ba 9342     		cmp	r3, r2
 2549 00bc 06D9     		bls	.L150
 2550              		.loc 1 986 5 is_stmt 0 discriminator 1
 2551 00be 324B     		ldr	r3, .L155
 2552 00c0 40F2DA32 		movw	r2, #986
 2553 00c4 3449     		ldr	r1, .L155+16
 2554 00c6 3248     		ldr	r0, .L155+8
 2555 00c8 FFF7FEFF 		bl	printf
 2556              	.L150:
 987:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_from >= p_from->len) {
 2557              		.loc 1 987 30 is_stmt 1
 2558 00cc 3B68     		ldr	r3, [r7]
 2559 00ce 5B89     		ldrh	r3, [r3, #10]
 2560 00d0 1A46     		mov	r2, r3
 2561              		.loc 1 987 8
 2562 00d2 3B69     		ldr	r3, [r7, #16]
 2563 00d4 9342     		cmp	r3, r2
 2564 00d6 04D3     		bcc	.L151
 988:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_from (if any) */
 989:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_from = 0;
 2565              		.loc 1 989 19
 2566 00d8 0023     		movs	r3, #0
 2567 00da 3B61     		str	r3, [r7, #16]
 990:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_from = p_from->next;
 2568              		.loc 1 990 14
 2569 00dc 3B68     		ldr	r3, [r7]
 2570 00de 1B68     		ldr	r3, [r3]
 2571 00e0 3B60     		str	r3, [r7]
 2572              	.L151:
 991:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 992:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (offset_to == p_to->len) {
 2573              		.loc 1 992 26
 2574 00e2 7B68     		ldr	r3, [r7, #4]
 2575 00e4 5B89     		ldrh	r3, [r3, #10]
 2576 00e6 1A46     		mov	r2, r3
 2577              		.loc 1 992 8
 2578 00e8 7B69     		ldr	r3, [r7, #20]
 2579 00ea 9342     		cmp	r3, r2
 2580 00ec 14D1     		bne	.L152
 993:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* on to next p_to (if any) */
 994:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset_to = 0;
 2581              		.loc 1 994 17
 2582 00ee 0023     		movs	r3, #0
 2583 00f0 7B61     		str	r3, [r7, #20]
 995:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       p_to = p_to->next;
 2584              		.loc 1 995 12
ARM GAS  /tmp/ccRRFgJP.s 			page 65


 2585 00f2 7B68     		ldr	r3, [r7, #4]
 2586 00f4 1B68     		ldr	r3, [r3]
 2587 00f6 7B60     		str	r3, [r7, #4]
 996:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("p_to != NULL", (p_to != NULL) || (p_from == NULL), return ERR_ARG;);
 2588              		.loc 1 996 7
 2589 00f8 7B68     		ldr	r3, [r7, #4]
 2590 00fa 002B     		cmp	r3, #0
 2591 00fc 0CD1     		bne	.L152
 2592              		.loc 1 996 7 is_stmt 0 discriminator 1
 2593 00fe 3B68     		ldr	r3, [r7]
 2594 0100 002B     		cmp	r3, #0
 2595 0102 09D0     		beq	.L152
 2596              		.loc 1 996 7 discriminator 2
 2597 0104 204B     		ldr	r3, .L155
 2598 0106 4FF47972 		mov	r2, #996
 2599 010a 2449     		ldr	r1, .L155+20
 2600 010c 2048     		ldr	r0, .L155+8
 2601 010e FFF7FEFF 		bl	printf
 2602 0112 6FF00F03 		mvn	r3, #15
 2603 0116 32E0     		b	.L146
 2604              	.L152:
 997:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
 998:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
 999:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_from != NULL) && (p_from->len == p_from->tot_len)) {
 2605              		.loc 1 999 8 is_stmt 1
 2606 0118 3B68     		ldr	r3, [r7]
 2607 011a 002B     		cmp	r3, #0
 2608 011c 13D0     		beq	.L153
 2609              		.loc 1 999 36 discriminator 1
 2610 011e 3B68     		ldr	r3, [r7]
 2611 0120 5A89     		ldrh	r2, [r3, #10]
 2612              		.loc 1 999 51 discriminator 1
 2613 0122 3B68     		ldr	r3, [r7]
 2614 0124 1B89     		ldrh	r3, [r3, #8]
 2615              		.loc 1 999 26 discriminator 1
 2616 0126 9A42     		cmp	r2, r3
 2617 0128 0DD1     		bne	.L153
1000:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
1001:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 2618              		.loc 1 1001 7
 2619 012a 3B68     		ldr	r3, [r7]
 2620 012c 1B68     		ldr	r3, [r3]
 2621 012e 002B     		cmp	r3, #0
 2622 0130 09D0     		beq	.L153
 2623              		.loc 1 1001 7 is_stmt 0 discriminator 1
 2624 0132 154B     		ldr	r3, .L155
 2625 0134 40F2EA32 		movw	r2, #1002
 2626 0138 1949     		ldr	r1, .L155+24
 2627 013a 1548     		ldr	r0, .L155+8
 2628 013c FFF7FEFF 		bl	printf
 2629 0140 6FF00503 		mvn	r3, #5
 2630 0144 1BE0     		b	.L146
 2631              	.L153:
1002:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_from->next == NULL), return ERR_VAL;);
1003:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1004:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((p_to != NULL) && (p_to->len == p_to->tot_len)) {
 2632              		.loc 1 1004 8 is_stmt 1
ARM GAS  /tmp/ccRRFgJP.s 			page 66


 2633 0146 7B68     		ldr	r3, [r7, #4]
 2634 0148 002B     		cmp	r3, #0
 2635 014a 13D0     		beq	.L154
 2636              		.loc 1 1004 32 discriminator 1
 2637 014c 7B68     		ldr	r3, [r7, #4]
 2638 014e 5A89     		ldrh	r2, [r3, #10]
 2639              		.loc 1 1004 45 discriminator 1
 2640 0150 7B68     		ldr	r3, [r7, #4]
 2641 0152 1B89     		ldrh	r3, [r3, #8]
 2642              		.loc 1 1004 24 discriminator 1
 2643 0154 9A42     		cmp	r2, r3
 2644 0156 0DD1     		bne	.L154
1005:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy more than one packet! */
1006:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       LWIP_ERROR("pbuf_copy() does not allow packet queues!",
 2645              		.loc 1 1006 7
 2646 0158 7B68     		ldr	r3, [r7, #4]
 2647 015a 1B68     		ldr	r3, [r3]
 2648 015c 002B     		cmp	r3, #0
 2649 015e 09D0     		beq	.L154
 2650              		.loc 1 1006 7 is_stmt 0 discriminator 1
 2651 0160 094B     		ldr	r3, .L155
 2652 0162 40F2EF32 		movw	r2, #1007
 2653 0166 0E49     		ldr	r1, .L155+24
 2654 0168 0948     		ldr	r0, .L155+8
 2655 016a FFF7FEFF 		bl	printf
 2656 016e 6FF00503 		mvn	r3, #5
 2657 0172 04E0     		b	.L146
 2658              	.L154:
1007:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  (p_to->next == NULL), return ERR_VAL;);
1008:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1009:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   } while (p_from);
 2659              		.loc 1 1009 3 is_stmt 1
 2660 0174 3B68     		ldr	r3, [r7]
 2661 0176 002B     		cmp	r3, #0
 2662 0178 7FF461AF 		bne	.L145
1010:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_DEBUGF(PBUF_DEBUG | LWIP_DBG_TRACE, ("pbuf_copy: end of chain reached.\n"));
1011:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 2663              		.loc 1 1011 10
 2664 017c 0023     		movs	r3, #0
 2665              	.L146:
1012:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2666              		.loc 1 1012 1
 2667 017e 1846     		mov	r0, r3
 2668 0180 1837     		adds	r7, r7, #24
 2669              	.LCFI115:
 2670              		.cfi_def_cfa_offset 8
 2671 0182 BD46     		mov	sp, r7
 2672              	.LCFI116:
 2673              		.cfi_def_cfa_register 13
 2674              		@ sp needed
 2675 0184 80BD     		pop	{r7, pc}
 2676              	.L156:
 2677 0186 00BF     		.align	2
 2678              	.L155:
 2679 0188 00000000 		.word	.LC0
 2680 018c A8020000 		.word	.LC21
 2681 0190 60000000 		.word	.LC2
ARM GAS  /tmp/ccRRFgJP.s 			page 67


 2682 0194 D8020000 		.word	.LC22
 2683 0198 F0020000 		.word	.LC23
 2684 019c 0C030000 		.word	.LC24
 2685 01a0 1C030000 		.word	.LC25
 2686              		.cfi_endproc
 2687              	.LFE159:
 2689              		.section	.rodata
 2690 0346 0000     		.align	2
 2691              	.LC26:
 2692 0348 70627566 		.ascii	"pbuf_copy_partial: invalid buf\000"
 2692      5F636F70 
 2692      795F7061 
 2692      72746961 
 2692      6C3A2069 
 2693 0367 00       		.align	2
 2694              	.LC27:
 2695 0368 70627566 		.ascii	"pbuf_copy_partial: invalid dataptr\000"
 2695      5F636F70 
 2695      795F7061 
 2695      72746961 
 2695      6C3A2069 
 2696              		.section	.text.pbuf_copy_partial,"ax",%progbits
 2697              		.align	1
 2698              		.global	pbuf_copy_partial
 2699              		.syntax unified
 2700              		.thumb
 2701              		.thumb_func
 2702              		.fpu fpv4-sp-d16
 2704              	pbuf_copy_partial:
 2705              	.LFB160:
1013:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1014:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1015:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1016:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy (part of) the contents of a packet buffer
1017:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * to an application supplied buffer.
1018:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1019:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf the pbuf from which to copy data
1020:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr the application supplied buffer
1021:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy (dataptr must be big enough). No more
1022:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * than buf->tot_len will be copied, irrespective of len
1023:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into the packet buffer from where to begin copying len bytes
1024:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of bytes copied, or 0 on failure
1025:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1026:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1027:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_copy_partial(const struct pbuf *buf, void *dataptr, u16_t len, u16_t offset)
1028:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2706              		.loc 1 1028 1
 2707              		.cfi_startproc
 2708              		@ args = 0, pretend = 0, frame = 32
 2709              		@ frame_needed = 1, uses_anonymous_args = 0
 2710 0000 80B5     		push	{r7, lr}
 2711              	.LCFI117:
 2712              		.cfi_def_cfa_offset 8
 2713              		.cfi_offset 7, -8
 2714              		.cfi_offset 14, -4
 2715 0002 88B0     		sub	sp, sp, #32
 2716              	.LCFI118:
ARM GAS  /tmp/ccRRFgJP.s 			page 68


 2717              		.cfi_def_cfa_offset 40
 2718 0004 00AF     		add	r7, sp, #0
 2719              	.LCFI119:
 2720              		.cfi_def_cfa_register 7
 2721 0006 F860     		str	r0, [r7, #12]
 2722 0008 B960     		str	r1, [r7, #8]
 2723 000a 1146     		mov	r1, r2
 2724 000c 1A46     		mov	r2, r3
 2725 000e 0B46     		mov	r3, r1	@ movhi
 2726 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 2727 0012 1346     		mov	r3, r2	@ movhi
 2728 0014 BB80     		strh	r3, [r7, #4]	@ movhi
1029:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *p;
1030:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t left = 0;
 2729              		.loc 1 1030 9
 2730 0016 0023     		movs	r3, #0
 2731 0018 7B83     		strh	r3, [r7, #26]	@ movhi
1031:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t buf_copy_len;
1032:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copied_total = 0;
 2732              		.loc 1 1032 9
 2733 001a 0023     		movs	r3, #0
 2734 001c FB82     		strh	r3, [r7, #22]	@ movhi
1033:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1034:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid buf", (buf != NULL), return 0;);
 2735              		.loc 1 1034 3
 2736 001e FB68     		ldr	r3, [r7, #12]
 2737 0020 002B     		cmp	r3, #0
 2738 0022 08D1     		bne	.L158
 2739              		.loc 1 1034 3 is_stmt 0 discriminator 1
 2740 0024 2B4B     		ldr	r3, .L167
 2741 0026 40F20A42 		movw	r2, #1034
 2742 002a 2B49     		ldr	r1, .L167+4
 2743 002c 2B48     		ldr	r0, .L167+8
 2744 002e FFF7FEFF 		bl	printf
 2745 0032 0023     		movs	r3, #0
 2746 0034 4AE0     		b	.L159
 2747              	.L158:
1035:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_copy_partial: invalid dataptr", (dataptr != NULL), return 0;);
 2748              		.loc 1 1035 3 is_stmt 1
 2749 0036 BB68     		ldr	r3, [r7, #8]
 2750 0038 002B     		cmp	r3, #0
 2751 003a 08D1     		bne	.L160
 2752              		.loc 1 1035 3 is_stmt 0 discriminator 1
 2753 003c 254B     		ldr	r3, .L167
 2754 003e 40F20B42 		movw	r2, #1035
 2755 0042 2749     		ldr	r1, .L167+12
 2756 0044 2548     		ldr	r0, .L167+8
 2757 0046 FFF7FEFF 		bl	printf
 2758 004a 0023     		movs	r3, #0
 2759 004c 3EE0     		b	.L159
 2760              	.L160:
1036:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1037:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; len != 0 && p != NULL; p = p->next) {
 2761              		.loc 1 1038 10 is_stmt 1
 2762 004e FB68     		ldr	r3, [r7, #12]
 2763 0050 FB61     		str	r3, [r7, #28]
ARM GAS  /tmp/ccRRFgJP.s 			page 69


 2764              		.loc 1 1038 3
 2765 0052 34E0     		b	.L161
 2766              	.L166:
1039:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 2767              		.loc 1 1039 8
 2768 0054 BB88     		ldrh	r3, [r7, #4]
 2769 0056 002B     		cmp	r3, #0
 2770 0058 0AD0     		beq	.L162
 2771              		.loc 1 1039 38 discriminator 1
 2772 005a FB69     		ldr	r3, [r7, #28]
 2773 005c 5B89     		ldrh	r3, [r3, #10]
 2774              		.loc 1 1039 23 discriminator 1
 2775 005e BA88     		ldrh	r2, [r7, #4]
 2776 0060 9A42     		cmp	r2, r3
 2777 0062 05D3     		bcc	.L162
1040:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* don't copy from this buffer -> on to the next */
1041:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = (u16_t)(offset - p->len);
 2778              		.loc 1 1041 34
 2779 0064 FB69     		ldr	r3, [r7, #28]
 2780 0066 5B89     		ldrh	r3, [r3, #10]
 2781              		.loc 1 1041 14
 2782 0068 BA88     		ldrh	r2, [r7, #4]	@ movhi
 2783 006a D31A     		subs	r3, r2, r3
 2784 006c BB80     		strh	r3, [r7, #4]	@ movhi
 2785 006e 23E0     		b	.L163
 2786              	.L162:
1042:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     } else {
1043:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy from this buffer. maybe only partially. */
1044:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = (u16_t)(p->len - offset);
 2787              		.loc 1 1044 31
 2788 0070 FB69     		ldr	r3, [r7, #28]
 2789 0072 5A89     		ldrh	r2, [r3, #10]
 2790              		.loc 1 1044 20
 2791 0074 BB88     		ldrh	r3, [r7, #4]	@ movhi
 2792 0076 D31A     		subs	r3, r2, r3
 2793 0078 3B83     		strh	r3, [r7, #24]	@ movhi
1045:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (buf_copy_len > len) {
 2794              		.loc 1 1045 10
 2795 007a 3A8B     		ldrh	r2, [r7, #24]
 2796 007c FB88     		ldrh	r3, [r7, #6]
 2797 007e 9A42     		cmp	r2, r3
 2798 0080 01D9     		bls	.L164
1046:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         buf_copy_len = len;
 2799              		.loc 1 1046 22
 2800 0082 FB88     		ldrh	r3, [r7, #6]	@ movhi
 2801 0084 3B83     		strh	r3, [r7, #24]	@ movhi
 2802              	.L164:
1047:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1048:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copy the necessary parts of the buffer */
1049:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       MEMCPY(&((char *)dataptr)[left], &((char *)p->payload)[offset], buf_copy_len);
 2803              		.loc 1 1049 7
 2804 0086 7B8B     		ldrh	r3, [r7, #26]
 2805 0088 BA68     		ldr	r2, [r7, #8]
 2806 008a D018     		adds	r0, r2, r3
 2807 008c FB69     		ldr	r3, [r7, #28]
 2808 008e 5A68     		ldr	r2, [r3, #4]
 2809 0090 BB88     		ldrh	r3, [r7, #4]
ARM GAS  /tmp/ccRRFgJP.s 			page 70


 2810 0092 1344     		add	r3, r3, r2
 2811 0094 3A8B     		ldrh	r2, [r7, #24]
 2812 0096 1946     		mov	r1, r3
 2813 0098 FFF7FEFF 		bl	memcpy
1050:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       copied_total = (u16_t)(copied_total + buf_copy_len);
 2814              		.loc 1 1050 20
 2815 009c FA8A     		ldrh	r2, [r7, #22]	@ movhi
 2816 009e 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 2817 00a0 1344     		add	r3, r3, r2
 2818 00a2 FB82     		strh	r3, [r7, #22]	@ movhi
1051:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       left = (u16_t)(left + buf_copy_len);
 2819              		.loc 1 1051 12
 2820 00a4 7A8B     		ldrh	r2, [r7, #26]	@ movhi
 2821 00a6 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 2822 00a8 1344     		add	r3, r3, r2
 2823 00aa 7B83     		strh	r3, [r7, #26]	@ movhi
1052:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       len = (u16_t)(len - buf_copy_len);
 2824              		.loc 1 1052 11
 2825 00ac FA88     		ldrh	r2, [r7, #6]	@ movhi
 2826 00ae 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 2827 00b0 D31A     		subs	r3, r2, r3
 2828 00b2 FB80     		strh	r3, [r7, #6]	@ movhi
1053:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       offset = 0;
 2829              		.loc 1 1053 14
 2830 00b4 0023     		movs	r3, #0
 2831 00b6 BB80     		strh	r3, [r7, #4]	@ movhi
 2832              	.L163:
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 2833              		.loc 1 1038 42 discriminator 2
 2834 00b8 FB69     		ldr	r3, [r7, #28]
 2835 00ba 1B68     		ldr	r3, [r3]
 2836 00bc FB61     		str	r3, [r7, #28]
 2837              	.L161:
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 2838              		.loc 1 1038 3 discriminator 1
 2839 00be FB88     		ldrh	r3, [r7, #6]
 2840 00c0 002B     		cmp	r3, #0
 2841 00c2 02D0     		beq	.L165
1038:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if ((offset != 0) && (offset >= p->len)) {
 2842              		.loc 1 1038 26 discriminator 3
 2843 00c4 FB69     		ldr	r3, [r7, #28]
 2844 00c6 002B     		cmp	r3, #0
 2845 00c8 C4D1     		bne	.L166
 2846              	.L165:
1054:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1055:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1056:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return copied_total;
 2847              		.loc 1 1056 10
 2848 00ca FB8A     		ldrh	r3, [r7, #22]
 2849              	.L159:
1057:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 2850              		.loc 1 1057 1
 2851 00cc 1846     		mov	r0, r3
 2852 00ce 2037     		adds	r7, r7, #32
 2853              	.LCFI120:
 2854              		.cfi_def_cfa_offset 8
 2855 00d0 BD46     		mov	sp, r7
ARM GAS  /tmp/ccRRFgJP.s 			page 71


 2856              	.LCFI121:
 2857              		.cfi_def_cfa_register 13
 2858              		@ sp needed
 2859 00d2 80BD     		pop	{r7, pc}
 2860              	.L168:
 2861              		.align	2
 2862              	.L167:
 2863 00d4 00000000 		.word	.LC0
 2864 00d8 48030000 		.word	.LC26
 2865 00dc 60000000 		.word	.LC2
 2866 00e0 68030000 		.word	.LC27
 2867              		.cfi_endproc
 2868              	.LFE160:
 2870              		.section	.rodata
 2871 038b 00       		.align	2
 2872              	.LC28:
 2873 038c 70627566 		.ascii	"pbuf_get_contiguous: invalid buf\000"
 2873      5F676574 
 2873      5F636F6E 
 2873      74696775 
 2873      6F75733A 
 2874 03ad 000000   		.align	2
 2875              	.LC29:
 2876 03b0 70627566 		.ascii	"pbuf_get_contiguous: invalid dataptr\000"
 2876      5F676574 
 2876      5F636F6E 
 2876      74696775 
 2876      6F75733A 
 2877              		.section	.text.pbuf_get_contiguous,"ax",%progbits
 2878              		.align	1
 2879              		.global	pbuf_get_contiguous
 2880              		.syntax unified
 2881              		.thumb
 2882              		.thumb_func
 2883              		.fpu fpv4-sp-d16
 2885              	pbuf_get_contiguous:
 2886              	.LFB161:
1058:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1059:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1060:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1061:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get part of a pbuf's payload as contiguous memory. The returned memory is
1062:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * either a pointer into the pbuf's payload or, if split over multiple pbufs,
1063:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * a copy into the user-supplied buffer.
1064:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1065:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf from which to copy data
1066:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buffer the application supplied buffer
1067:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param bufsize size of the application supplied buffer
1068:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy (dataptr must be big enough). No more
1069:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * than buf->tot_len will be copied, irrespective of len
1070:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into the packet buffer from where to begin copying len bytes
1071:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the number of bytes copied, or 0 on failure
1072:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1073:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void *
1074:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_get_contiguous(const struct pbuf *p, void *buffer, size_t bufsize, u16_t len, u16_t offset)
1075:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 2887              		.loc 1 1075 1
 2888              		.cfi_startproc
ARM GAS  /tmp/ccRRFgJP.s 			page 72


 2889              		@ args = 4, pretend = 0, frame = 24
 2890              		@ frame_needed = 1, uses_anonymous_args = 0
 2891 0000 80B5     		push	{r7, lr}
 2892              	.LCFI122:
 2893              		.cfi_def_cfa_offset 8
 2894              		.cfi_offset 7, -8
 2895              		.cfi_offset 14, -4
 2896 0002 86B0     		sub	sp, sp, #24
 2897              	.LCFI123:
 2898              		.cfi_def_cfa_offset 32
 2899 0004 00AF     		add	r7, sp, #0
 2900              	.LCFI124:
 2901              		.cfi_def_cfa_register 7
 2902 0006 F860     		str	r0, [r7, #12]
 2903 0008 B960     		str	r1, [r7, #8]
 2904 000a 7A60     		str	r2, [r7, #4]
 2905 000c 7B80     		strh	r3, [r7, #2]	@ movhi
1076:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *q;
1077:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t out_offset;
1078:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1079:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid buf", (p != NULL), return NULL;);
 2906              		.loc 1 1079 3
 2907 000e FB68     		ldr	r3, [r7, #12]
 2908 0010 002B     		cmp	r3, #0
 2909 0012 08D1     		bne	.L170
 2910              		.loc 1 1079 3 is_stmt 0 discriminator 1
 2911 0014 274B     		ldr	r3, .L178
 2912 0016 40F23742 		movw	r2, #1079
 2913 001a 2749     		ldr	r1, .L178+4
 2914 001c 2748     		ldr	r0, .L178+8
 2915 001e FFF7FEFF 		bl	printf
 2916 0022 0023     		movs	r3, #0
 2917 0024 41E0     		b	.L177
 2918              	.L170:
1080:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (buffer != NULL), return NULL;);
 2919              		.loc 1 1080 3 is_stmt 1
 2920 0026 BB68     		ldr	r3, [r7, #8]
 2921 0028 002B     		cmp	r3, #0
 2922 002a 08D1     		bne	.L172
 2923              		.loc 1 1080 3 is_stmt 0 discriminator 1
 2924 002c 214B     		ldr	r3, .L178
 2925 002e 4FF48762 		mov	r2, #1080
 2926 0032 2349     		ldr	r1, .L178+12
 2927 0034 2148     		ldr	r0, .L178+8
 2928 0036 FFF7FEFF 		bl	printf
 2929 003a 0023     		movs	r3, #0
 2930 003c 35E0     		b	.L177
 2931              	.L172:
1081:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_get_contiguous: invalid dataptr", (bufsize >= len), return NULL;);
 2932              		.loc 1 1081 3 is_stmt 1
 2933 003e 7B88     		ldrh	r3, [r7, #2]
 2934 0040 7A68     		ldr	r2, [r7, #4]
 2935 0042 9A42     		cmp	r2, r3
 2936 0044 08D2     		bcs	.L173
 2937              		.loc 1 1081 3 is_stmt 0 discriminator 1
 2938 0046 1B4B     		ldr	r3, .L178
 2939 0048 40F23942 		movw	r2, #1081
ARM GAS  /tmp/ccRRFgJP.s 			page 73


 2940 004c 1C49     		ldr	r1, .L178+12
 2941 004e 1B48     		ldr	r0, .L178+8
 2942 0050 FFF7FEFF 		bl	printf
 2943 0054 0023     		movs	r3, #0
 2944 0056 28E0     		b	.L177
 2945              	.L173:
1082:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1083:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = pbuf_skip_const(p, offset, &out_offset);
 2946              		.loc 1 1083 7 is_stmt 1
 2947 0058 07F11202 		add	r2, r7, #18
 2948 005c 3B8C     		ldrh	r3, [r7, #32]
 2949 005e 1946     		mov	r1, r3
 2950 0060 F868     		ldr	r0, [r7, #12]
 2951 0062 FFF7FEFF 		bl	pbuf_skip_const
 2952 0066 7861     		str	r0, [r7, #20]
1084:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q != NULL) {
 2953              		.loc 1 1084 6
 2954 0068 7B69     		ldr	r3, [r7, #20]
 2955 006a 002B     		cmp	r3, #0
 2956 006c 1CD0     		beq	.L174
1085:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (q->len >= (out_offset + len)) {
 2957              		.loc 1 1085 10
 2958 006e 7B69     		ldr	r3, [r7, #20]
 2959 0070 5B89     		ldrh	r3, [r3, #10]
 2960 0072 1A46     		mov	r2, r3
 2961              		.loc 1 1085 31
 2962 0074 7B8A     		ldrh	r3, [r7, #18]
 2963 0076 1946     		mov	r1, r3
 2964 0078 7B88     		ldrh	r3, [r7, #2]
 2965 007a 0B44     		add	r3, r3, r1
 2966              		.loc 1 1085 8
 2967 007c 9A42     		cmp	r2, r3
 2968 007e 04DB     		blt	.L175
1086:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* all data in this pbuf, return zero-copy */
1087:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return (u8_t *)q->payload + out_offset;
 2969              		.loc 1 1087 23
 2970 0080 7B69     		ldr	r3, [r7, #20]
 2971 0082 5B68     		ldr	r3, [r3, #4]
 2972              		.loc 1 1087 33
 2973 0084 7A8A     		ldrh	r2, [r7, #18]
 2974 0086 1344     		add	r3, r3, r2
 2975 0088 0FE0     		b	.L177
 2976              	.L175:
1088:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1089:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* need to copy */
1090:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (pbuf_copy_partial(q, buffer, len, out_offset) != len) {
 2977              		.loc 1 1090 9
 2978 008a 7B8A     		ldrh	r3, [r7, #18]
 2979 008c 7A88     		ldrh	r2, [r7, #2]
 2980 008e B968     		ldr	r1, [r7, #8]
 2981 0090 7869     		ldr	r0, [r7, #20]
 2982 0092 FFF7FEFF 		bl	pbuf_copy_partial
 2983 0096 0346     		mov	r3, r0
 2984 0098 1A46     		mov	r2, r3
 2985              		.loc 1 1090 8
 2986 009a 7B88     		ldrh	r3, [r7, #2]
 2987 009c 9342     		cmp	r3, r2
ARM GAS  /tmp/ccRRFgJP.s 			page 74


 2988 009e 01D0     		beq	.L176
1091:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* copying failed: pbuf is too short */
1092:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return NULL;
 2989              		.loc 1 1092 14
 2990 00a0 0023     		movs	r3, #0
 2991 00a2 02E0     		b	.L177
 2992              	.L176:
1093:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1094:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return buffer;
 2993              		.loc 1 1094 12
 2994 00a4 BB68     		ldr	r3, [r7, #8]
 2995 00a6 00E0     		b	.L177
 2996              	.L174:
1095:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1096:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf is too short (offset does not fit in) */
1097:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return NULL;
 2997              		.loc 1 1097 10
 2998 00a8 0023     		movs	r3, #0
 2999              	.L177:
1098:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3000              		.loc 1 1098 1 discriminator 1
 3001 00aa 1846     		mov	r0, r3
 3002 00ac 1837     		adds	r7, r7, #24
 3003              	.LCFI125:
 3004              		.cfi_def_cfa_offset 8
 3005 00ae BD46     		mov	sp, r7
 3006              	.LCFI126:
 3007              		.cfi_def_cfa_register 13
 3008              		@ sp needed
 3009 00b0 80BD     		pop	{r7, pc}
 3010              	.L179:
 3011 00b2 00BF     		.align	2
 3012              	.L178:
 3013 00b4 00000000 		.word	.LC0
 3014 00b8 8C030000 		.word	.LC28
 3015 00bc 60000000 		.word	.LC2
 3016 00c0 B0030000 		.word	.LC29
 3017              		.cfi_endproc
 3018              	.LFE161:
 3020              		.section	.text.pbuf_skip_const,"ax",%progbits
 3021              		.align	1
 3022              		.syntax unified
 3023              		.thumb
 3024              		.thumb_func
 3025              		.fpu fpv4-sp-d16
 3027              	pbuf_skip_const:
 3028              	.LFB162:
1099:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1100:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE
1101:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1102:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This method modifies a 'pbuf chain', so that its total length is
1103:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K. The remainder of the original pbuf chain is stored
1104:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in *rest.
1105:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function never creates new pbufs, but splits an existing chain
1106:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * in two parts. The tot_len of the modified packet queue will likely be
1107:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * smaller than 64K.
1108:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * 'packet queues' are not supported by this function.
ARM GAS  /tmp/ccRRFgJP.s 			page 75


1109:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1110:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf queue to be split
1111:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param rest pointer to store the remainder (after the first 64K)
1112:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1113:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void pbuf_split_64k(struct pbuf *p, struct pbuf **rest)
1114:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1115:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *rest = NULL;
1116:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((p != NULL) && (p->next != NULL)) {
1117:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t tot_len_front = p->len;
1118:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *i = p;
1119:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     struct pbuf *r = p->next;
1120:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1121:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* continue until the total length (summed up as u16_t) overflows */
1122:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     while ((r != NULL) && ((u16_t)(tot_len_front + r->len) >= tot_len_front)) {
1123:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       tot_len_front = (u16_t)(tot_len_front + r->len);
1124:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       i = r;
1125:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       r = r->next;
1126:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1127:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* i now points to last packet of the first segment. Set next
1128:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****        pointer to NULL */
1129:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     i->next = NULL;
1130:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1131:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (r != NULL) {
1132:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* Update the tot_len field in the first part */
1133:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       for (i = p; i != NULL; i = i->next) {
1134:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         i->tot_len = (u16_t)(i->tot_len - r->tot_len);
1135:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         LWIP_ASSERT("tot_len/len mismatch in last pbuf",
1136:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                     (i->next != NULL) || (i->tot_len == i->len));
1137:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1138:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (p->flags & PBUF_FLAG_TCP_FIN) {
1139:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         r->flags |= PBUF_FLAG_TCP_FIN;
1140:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1141:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1142:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* tot_len field in rest does not need modifications */
1143:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* reference counters do not need modifications */
1144:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       *rest = r;
1145:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1146:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1147:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1148:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_TCP && TCP_QUEUE_OOSEQ && LWIP_WND_SCALE */
1149:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1150:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /* Actual implementation of pbuf_skip() but returning const pointer... */
1151:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** static const struct pbuf *
1152:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip_const(const struct pbuf *in, u16_t in_offset, u16_t *out_offset)
1153:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3029              		.loc 1 1153 1
 3030              		.cfi_startproc
 3031              		@ args = 0, pretend = 0, frame = 24
 3032              		@ frame_needed = 1, uses_anonymous_args = 0
 3033              		@ link register save eliminated.
 3034 0000 80B4     		push	{r7}
 3035              	.LCFI127:
 3036              		.cfi_def_cfa_offset 4
 3037              		.cfi_offset 7, -4
 3038 0002 87B0     		sub	sp, sp, #28
 3039              	.LCFI128:
 3040              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/ccRRFgJP.s 			page 76


 3041 0004 00AF     		add	r7, sp, #0
 3042              	.LCFI129:
 3043              		.cfi_def_cfa_register 7
 3044 0006 F860     		str	r0, [r7, #12]
 3045 0008 0B46     		mov	r3, r1
 3046 000a 7A60     		str	r2, [r7, #4]
 3047 000c 7B81     		strh	r3, [r7, #10]	@ movhi
1154:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t offset_left = in_offset;
 3048              		.loc 1 1154 9
 3049 000e 7B89     		ldrh	r3, [r7, #10]	@ movhi
 3050 0010 FB82     		strh	r3, [r7, #22]	@ movhi
1155:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *q = in;
 3051              		.loc 1 1155 22
 3052 0012 FB68     		ldr	r3, [r7, #12]
 3053 0014 3B61     		str	r3, [r7, #16]
1156:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1157:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf */
1158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= offset_left)) {
 3054              		.loc 1 1158 9
 3055 0016 07E0     		b	.L181
 3056              	.L183:
1159:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3057              		.loc 1 1159 42
 3058 0018 3B69     		ldr	r3, [r7, #16]
 3059 001a 5B89     		ldrh	r3, [r3, #10]
 3060              		.loc 1 1159 17
 3061 001c FA8A     		ldrh	r2, [r7, #22]	@ movhi
 3062 001e D31A     		subs	r3, r2, r3
 3063 0020 FB82     		strh	r3, [r7, #22]	@ movhi
1160:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 3064              		.loc 1 1160 7
 3065 0022 3B69     		ldr	r3, [r7, #16]
 3066 0024 1B68     		ldr	r3, [r3]
 3067 0026 3B61     		str	r3, [r7, #16]
 3068              	.L181:
1158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3069              		.loc 1 1158 9
 3070 0028 3B69     		ldr	r3, [r7, #16]
 3071 002a 002B     		cmp	r3, #0
 3072 002c 04D0     		beq	.L182
1158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3073              		.loc 1 1158 27 discriminator 1
 3074 002e 3B69     		ldr	r3, [r7, #16]
 3075 0030 5B89     		ldrh	r3, [r3, #10]
1158:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     offset_left = (u16_t)(offset_left - q->len);
 3076              		.loc 1 1158 22 discriminator 1
 3077 0032 FA8A     		ldrh	r2, [r7, #22]
 3078 0034 9A42     		cmp	r2, r3
 3079 0036 EFD2     		bcs	.L183
 3080              	.L182:
1161:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1162:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (out_offset != NULL) {
 3081              		.loc 1 1162 6
 3082 0038 7B68     		ldr	r3, [r7, #4]
 3083 003a 002B     		cmp	r3, #0
 3084 003c 02D0     		beq	.L184
1163:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     *out_offset = offset_left;
ARM GAS  /tmp/ccRRFgJP.s 			page 77


 3085              		.loc 1 1163 17
 3086 003e 7B68     		ldr	r3, [r7, #4]
 3087 0040 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 3088 0042 1A80     		strh	r2, [r3]	@ movhi
 3089              	.L184:
1164:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1165:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
 3090              		.loc 1 1165 10
 3091 0044 3B69     		ldr	r3, [r7, #16]
1166:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3092              		.loc 1 1166 1
 3093 0046 1846     		mov	r0, r3
 3094 0048 1C37     		adds	r7, r7, #28
 3095              	.LCFI130:
 3096              		.cfi_def_cfa_offset 4
 3097 004a BD46     		mov	sp, r7
 3098              	.LCFI131:
 3099              		.cfi_def_cfa_register 13
 3100              		@ sp needed
 3101 004c 5DF8047B 		ldr	r7, [sp], #4
 3102              	.LCFI132:
 3103              		.cfi_restore 7
 3104              		.cfi_def_cfa_offset 0
 3105 0050 7047     		bx	lr
 3106              		.cfi_endproc
 3107              	.LFE162:
 3109              		.section	.text.pbuf_skip,"ax",%progbits
 3110              		.align	1
 3111              		.global	pbuf_skip
 3112              		.syntax unified
 3113              		.thumb
 3114              		.thumb_func
 3115              		.fpu fpv4-sp-d16
 3117              	pbuf_skip:
 3118              	.LFB163:
1167:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1168:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1169:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1170:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Skip a number of bytes at the start of a pbuf
1171:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1172:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in input pbuf
1173:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param in_offset offset to skip
1174:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param out_offset resulting offset in the returned pbuf
1175:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return the pbuf in the queue where the offset is
1176:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1177:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
1178:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_skip(struct pbuf *in, u16_t in_offset, u16_t *out_offset)
1179:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3119              		.loc 1 1179 1
 3120              		.cfi_startproc
 3121              		@ args = 0, pretend = 0, frame = 24
 3122              		@ frame_needed = 1, uses_anonymous_args = 0
 3123 0000 80B5     		push	{r7, lr}
 3124              	.LCFI133:
 3125              		.cfi_def_cfa_offset 8
 3126              		.cfi_offset 7, -8
 3127              		.cfi_offset 14, -4
ARM GAS  /tmp/ccRRFgJP.s 			page 78


 3128 0002 86B0     		sub	sp, sp, #24
 3129              	.LCFI134:
 3130              		.cfi_def_cfa_offset 32
 3131 0004 00AF     		add	r7, sp, #0
 3132              	.LCFI135:
 3133              		.cfi_def_cfa_register 7
 3134 0006 F860     		str	r0, [r7, #12]
 3135 0008 0B46     		mov	r3, r1
 3136 000a 7A60     		str	r2, [r7, #4]
 3137 000c 7B81     		strh	r3, [r7, #10]	@ movhi
1180:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *out = pbuf_skip_const(in, in_offset, out_offset);
 3138              		.loc 1 1180 28
 3139 000e 7B89     		ldrh	r3, [r7, #10]
 3140 0010 7A68     		ldr	r2, [r7, #4]
 3141 0012 1946     		mov	r1, r3
 3142 0014 F868     		ldr	r0, [r7, #12]
 3143 0016 FFF7FEFF 		bl	pbuf_skip_const
 3144 001a 7861     		str	r0, [r7, #20]
1181:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return LWIP_CONST_CAST(struct pbuf *, out);
 3145              		.loc 1 1181 10
 3146 001c 7B69     		ldr	r3, [r7, #20]
1182:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3147              		.loc 1 1182 1
 3148 001e 1846     		mov	r0, r3
 3149 0020 1837     		adds	r7, r7, #24
 3150              	.LCFI136:
 3151              		.cfi_def_cfa_offset 8
 3152 0022 BD46     		mov	sp, r7
 3153              	.LCFI137:
 3154              		.cfi_def_cfa_register 13
 3155              		@ sp needed
 3156 0024 80BD     		pop	{r7, pc}
 3157              		.cfi_endproc
 3158              	.LFE163:
 3160              		.section	.rodata
 3161 03d5 000000   		.align	2
 3162              	.LC30:
 3163 03d8 70627566 		.ascii	"pbuf_take: invalid buf\000"
 3163      5F74616B 
 3163      653A2069 
 3163      6E76616C 
 3163      69642062 
 3164 03ef 00       		.align	2
 3165              	.LC31:
 3166 03f0 70627566 		.ascii	"pbuf_take: invalid dataptr\000"
 3166      5F74616B 
 3166      653A2069 
 3166      6E76616C 
 3166      69642064 
 3167 040b 00       		.align	2
 3168              	.LC32:
 3169 040c 70627566 		.ascii	"pbuf_take: buf not large enough\000"
 3169      5F74616B 
 3169      653A2062 
 3169      7566206E 
 3169      6F74206C 
 3170              		.align	2
ARM GAS  /tmp/ccRRFgJP.s 			page 79


 3171              	.LC33:
 3172 042c 70627566 		.ascii	"pbuf_take: invalid pbuf\000"
 3172      5F74616B 
 3172      653A2069 
 3172      6E76616C 
 3172      69642070 
 3173              		.align	2
 3174              	.LC34:
 3175 0444 64696420 		.ascii	"did not copy all data\000"
 3175      6E6F7420 
 3175      636F7079 
 3175      20616C6C 
 3175      20646174 
 3176              		.section	.text.pbuf_take,"ax",%progbits
 3177              		.align	1
 3178              		.global	pbuf_take
 3179              		.syntax unified
 3180              		.thumb
 3181              		.thumb_func
 3182              		.fpu fpv4-sp-d16
 3184              	pbuf_take:
 3185              	.LFB164:
1183:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1184:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1185:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1186:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copy application supplied data into a pbuf.
1187:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * This function can only be used to copy the equivalent of buf->tot_len data.
1188:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1189:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1190:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1191:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1192:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1193:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1194:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1195:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1196:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take(struct pbuf *buf, const void *dataptr, u16_t len)
1197:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3186              		.loc 1 1197 1
 3187              		.cfi_startproc
 3188              		@ args = 0, pretend = 0, frame = 32
 3189              		@ frame_needed = 1, uses_anonymous_args = 0
 3190 0000 80B5     		push	{r7, lr}
 3191              	.LCFI138:
 3192              		.cfi_def_cfa_offset 8
 3193              		.cfi_offset 7, -8
 3194              		.cfi_offset 14, -4
 3195 0002 88B0     		sub	sp, sp, #32
 3196              	.LCFI139:
 3197              		.cfi_def_cfa_offset 40
 3198 0004 00AF     		add	r7, sp, #0
 3199              	.LCFI140:
 3200              		.cfi_def_cfa_register 7
 3201 0006 F860     		str	r0, [r7, #12]
 3202 0008 B960     		str	r1, [r7, #8]
 3203 000a 1346     		mov	r3, r2
 3204 000c FB80     		strh	r3, [r7, #6]	@ movhi
1198:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *p;
ARM GAS  /tmp/ccRRFgJP.s 			page 80


1199:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t buf_copy_len;
1200:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t total_copy_len = len;
 3205              		.loc 1 1200 10
 3206 000e FB88     		ldrh	r3, [r7, #6]
 3207 0010 7B61     		str	r3, [r7, #20]
1201:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t copied_total = 0;
 3208              		.loc 1 1201 10
 3209 0012 0023     		movs	r3, #0
 3210 0014 3B61     		str	r3, [r7, #16]
1202:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1203:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid buf", (buf != NULL), return ERR_ARG;);
 3211              		.loc 1 1203 3
 3212 0016 FB68     		ldr	r3, [r7, #12]
 3213 0018 002B     		cmp	r3, #0
 3214 001a 09D1     		bne	.L189
 3215              		.loc 1 1203 3 is_stmt 0 discriminator 1
 3216 001c 3A4B     		ldr	r3, .L201
 3217 001e 40F2B342 		movw	r2, #1203
 3218 0022 3A49     		ldr	r1, .L201+4
 3219 0024 3A48     		ldr	r0, .L201+8
 3220 0026 FFF7FEFF 		bl	printf
 3221 002a 6FF00F03 		mvn	r3, #15
 3222 002e 67E0     		b	.L190
 3223              	.L189:
1204:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: invalid dataptr", (dataptr != NULL), return ERR_ARG;);
 3224              		.loc 1 1204 3 is_stmt 1
 3225 0030 BB68     		ldr	r3, [r7, #8]
 3226 0032 002B     		cmp	r3, #0
 3227 0034 09D1     		bne	.L191
 3228              		.loc 1 1204 3 is_stmt 0 discriminator 1
 3229 0036 344B     		ldr	r3, .L201
 3230 0038 40F2B442 		movw	r2, #1204
 3231 003c 3549     		ldr	r1, .L201+12
 3232 003e 3448     		ldr	r0, .L201+8
 3233 0040 FFF7FEFF 		bl	printf
 3234 0044 6FF00F03 		mvn	r3, #15
 3235 0048 5AE0     		b	.L190
 3236              	.L191:
1205:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ERROR("pbuf_take: buf not large enough", (buf->tot_len >= len), return ERR_MEM;);
 3237              		.loc 1 1205 3 is_stmt 1
 3238 004a FB68     		ldr	r3, [r7, #12]
 3239 004c 1B89     		ldrh	r3, [r3, #8]
 3240 004e FA88     		ldrh	r2, [r7, #6]
 3241 0050 9A42     		cmp	r2, r3
 3242 0052 09D9     		bls	.L192
 3243              		.loc 1 1205 3 is_stmt 0 discriminator 1
 3244 0054 2C4B     		ldr	r3, .L201
 3245 0056 40F2B542 		movw	r2, #1205
 3246 005a 2F49     		ldr	r1, .L201+16
 3247 005c 2C48     		ldr	r0, .L201+8
 3248 005e FFF7FEFF 		bl	printf
 3249 0062 4FF0FF33 		mov	r3, #-1
 3250 0066 4BE0     		b	.L190
 3251              	.L192:
1206:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1207:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((buf == NULL) || (dataptr == NULL) || (buf->tot_len < len)) {
 3252              		.loc 1 1207 6 is_stmt 1
ARM GAS  /tmp/ccRRFgJP.s 			page 81


 3253 0068 FB68     		ldr	r3, [r7, #12]
 3254 006a 002B     		cmp	r3, #0
 3255 006c 07D0     		beq	.L193
 3256              		.loc 1 1207 21 discriminator 1
 3257 006e BB68     		ldr	r3, [r7, #8]
 3258 0070 002B     		cmp	r3, #0
 3259 0072 04D0     		beq	.L193
 3260              		.loc 1 1207 49 discriminator 2
 3261 0074 FB68     		ldr	r3, [r7, #12]
 3262 0076 1B89     		ldrh	r3, [r3, #8]
 3263              		.loc 1 1207 42 discriminator 2
 3264 0078 FA88     		ldrh	r2, [r7, #6]
 3265 007a 9A42     		cmp	r2, r3
 3266 007c 02D9     		bls	.L194
 3267              	.L193:
1208:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
 3268              		.loc 1 1208 12
 3269 007e 6FF00F03 		mvn	r3, #15
 3270 0082 3DE0     		b	.L190
 3271              	.L194:
1209:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1210:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1211:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* Note some systems use byte copy if dataptr or one of the pbuf payload pointers are unaligned. 
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (p = buf; total_copy_len != 0; p = p->next) {
 3272              		.loc 1 1212 10
 3273 0084 FB68     		ldr	r3, [r7, #12]
 3274 0086 FB61     		str	r3, [r7, #28]
 3275              		.loc 1 1212 3
 3276 0088 28E0     		b	.L195
 3277              	.L198:
1213:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 3278              		.loc 1 1213 5
 3279 008a FB69     		ldr	r3, [r7, #28]
 3280 008c 002B     		cmp	r3, #0
 3281 008e 06D1     		bne	.L196
 3282              		.loc 1 1213 5 is_stmt 0 discriminator 1
 3283 0090 1D4B     		ldr	r3, .L201
 3284 0092 40F2BD42 		movw	r2, #1213
 3285 0096 2149     		ldr	r1, .L201+20
 3286 0098 1D48     		ldr	r0, .L201+8
 3287 009a FFF7FEFF 		bl	printf
 3288              	.L196:
1214:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     buf_copy_len = total_copy_len;
 3289              		.loc 1 1214 18 is_stmt 1
 3290 009e 7B69     		ldr	r3, [r7, #20]
 3291 00a0 BB61     		str	r3, [r7, #24]
1215:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (buf_copy_len > p->len) {
 3292              		.loc 1 1215 25
 3293 00a2 FB69     		ldr	r3, [r7, #28]
 3294 00a4 5B89     		ldrh	r3, [r3, #10]
 3295 00a6 1A46     		mov	r2, r3
 3296              		.loc 1 1215 8
 3297 00a8 BB69     		ldr	r3, [r7, #24]
 3298 00aa 9342     		cmp	r3, r2
 3299 00ac 02D9     		bls	.L197
1216:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       /* this pbuf cannot hold all remaining data */
1217:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       buf_copy_len = p->len;
ARM GAS  /tmp/ccRRFgJP.s 			page 82


 3300              		.loc 1 1217 23
 3301 00ae FB69     		ldr	r3, [r7, #28]
 3302 00b0 5B89     		ldrh	r3, [r3, #10]
 3303              		.loc 1 1217 20
 3304 00b2 BB61     		str	r3, [r7, #24]
 3305              	.L197:
1218:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1219:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the necessary parts of the buffer */
1220:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(p->payload, &((const char *)dataptr)[copied_total], buf_copy_len);
 3306              		.loc 1 1220 5 discriminator 2
 3307 00b4 FB69     		ldr	r3, [r7, #28]
 3308 00b6 5868     		ldr	r0, [r3, #4]
 3309 00b8 BA68     		ldr	r2, [r7, #8]
 3310 00ba 3B69     		ldr	r3, [r7, #16]
 3311 00bc 1344     		add	r3, r3, r2
 3312 00be BA69     		ldr	r2, [r7, #24]
 3313 00c0 1946     		mov	r1, r3
 3314 00c2 FFF7FEFF 		bl	memcpy
1221:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     total_copy_len -= buf_copy_len;
 3315              		.loc 1 1221 20 discriminator 2
 3316 00c6 7A69     		ldr	r2, [r7, #20]
 3317 00c8 BB69     		ldr	r3, [r7, #24]
 3318 00ca D31A     		subs	r3, r2, r3
 3319 00cc 7B61     		str	r3, [r7, #20]
1222:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copied_total += buf_copy_len;
 3320              		.loc 1 1222 18 discriminator 2
 3321 00ce 3A69     		ldr	r2, [r7, #16]
 3322 00d0 BB69     		ldr	r3, [r7, #24]
 3323 00d2 1344     		add	r3, r3, r2
 3324 00d4 3B61     		str	r3, [r7, #16]
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 3325              		.loc 1 1212 40 discriminator 2
 3326 00d6 FB69     		ldr	r3, [r7, #28]
 3327 00d8 1B68     		ldr	r3, [r3]
 3328 00da FB61     		str	r3, [r7, #28]
 3329              	.L195:
1212:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("pbuf_take: invalid pbuf", p != NULL);
 3330              		.loc 1 1212 3 discriminator 1
 3331 00dc 7B69     		ldr	r3, [r7, #20]
 3332 00de 002B     		cmp	r3, #0
 3333 00e0 D3D1     		bne	.L198
1223:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1224:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("did not copy all data", total_copy_len == 0 && copied_total == len);
 3334              		.loc 1 1224 3
 3335 00e2 7B69     		ldr	r3, [r7, #20]
 3336 00e4 002B     		cmp	r3, #0
 3337 00e6 03D1     		bne	.L199
 3338              		.loc 1 1224 3 is_stmt 0 discriminator 2
 3339 00e8 FB88     		ldrh	r3, [r7, #6]
 3340 00ea 3A69     		ldr	r2, [r7, #16]
 3341 00ec 9A42     		cmp	r2, r3
 3342 00ee 06D0     		beq	.L200
 3343              	.L199:
 3344              		.loc 1 1224 3 discriminator 3
 3345 00f0 054B     		ldr	r3, .L201
 3346 00f2 4FF49962 		mov	r2, #1224
 3347 00f6 0A49     		ldr	r1, .L201+24
ARM GAS  /tmp/ccRRFgJP.s 			page 83


 3348 00f8 0548     		ldr	r0, .L201+8
 3349 00fa FFF7FEFF 		bl	printf
 3350              	.L200:
1225:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
 3351              		.loc 1 1225 10 is_stmt 1
 3352 00fe 0023     		movs	r3, #0
 3353              	.L190:
1226:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3354              		.loc 1 1226 1
 3355 0100 1846     		mov	r0, r3
 3356 0102 2037     		adds	r7, r7, #32
 3357              	.LCFI141:
 3358              		.cfi_def_cfa_offset 8
 3359 0104 BD46     		mov	sp, r7
 3360              	.LCFI142:
 3361              		.cfi_def_cfa_register 13
 3362              		@ sp needed
 3363 0106 80BD     		pop	{r7, pc}
 3364              	.L202:
 3365              		.align	2
 3366              	.L201:
 3367 0108 00000000 		.word	.LC0
 3368 010c D8030000 		.word	.LC30
 3369 0110 60000000 		.word	.LC2
 3370 0114 F0030000 		.word	.LC31
 3371 0118 0C040000 		.word	.LC32
 3372 011c 2C040000 		.word	.LC33
 3373 0120 44040000 		.word	.LC34
 3374              		.cfi_endproc
 3375              	.LFE164:
 3377              		.section	.rodata
 3378 045a 0000     		.align	2
 3379              	.LC35:
 3380 045c 63686563 		.ascii	"check pbuf_skip result\000"
 3380      6B207062 
 3380      75665F73 
 3380      6B697020 
 3380      72657375 
 3381              		.section	.text.pbuf_take_at,"ax",%progbits
 3382              		.align	1
 3383              		.global	pbuf_take_at
 3384              		.syntax unified
 3385              		.thumb
 3386              		.thumb_func
 3387              		.fpu fpv4-sp-d16
 3389              	pbuf_take_at:
 3390              	.LFB165:
1227:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1228:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1229:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1230:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Same as pbuf_take() but puts data at an offset
1231:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1232:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param buf pbuf to fill with data
1233:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr application supplied data buffer
1234:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of the application supplied data buffer
1235:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset in pbuf where to copy dataptr to
1236:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
ARM GAS  /tmp/ccRRFgJP.s 			page 84


1237:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, ERR_MEM if the pbuf is not big enough
1238:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1239:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1240:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_take_at(struct pbuf *buf, const void *dataptr, u16_t len, u16_t offset)
1241:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3391              		.loc 1 1241 1
 3392              		.cfi_startproc
 3393              		@ args = 0, pretend = 0, frame = 32
 3394              		@ frame_needed = 1, uses_anonymous_args = 0
 3395 0000 80B5     		push	{r7, lr}
 3396              	.LCFI143:
 3397              		.cfi_def_cfa_offset 8
 3398              		.cfi_offset 7, -8
 3399              		.cfi_offset 14, -4
 3400 0002 88B0     		sub	sp, sp, #32
 3401              	.LCFI144:
 3402              		.cfi_def_cfa_offset 40
 3403 0004 00AF     		add	r7, sp, #0
 3404              	.LCFI145:
 3405              		.cfi_def_cfa_register 7
 3406 0006 F860     		str	r0, [r7, #12]
 3407 0008 B960     		str	r1, [r7, #8]
 3408 000a 1146     		mov	r1, r2
 3409 000c 1A46     		mov	r2, r3
 3410 000e 0B46     		mov	r3, r1	@ movhi
 3411 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 3412 0012 1346     		mov	r3, r2	@ movhi
 3413 0014 BB80     		strh	r3, [r7, #4]	@ movhi
1242:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t target_offset;
1243:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q = pbuf_skip(buf, offset, &target_offset);
 3414              		.loc 1 1243 20
 3415 0016 07F11002 		add	r2, r7, #16
 3416 001a BB88     		ldrh	r3, [r7, #4]
 3417 001c 1946     		mov	r1, r3
 3418 001e F868     		ldr	r0, [r7, #12]
 3419 0020 FFF7FEFF 		bl	pbuf_skip
 3420 0024 F861     		str	r0, [r7, #28]
1244:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1245:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1246:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->tot_len >= target_offset + len)) {
 3421              		.loc 1 1246 6
 3422 0026 FB69     		ldr	r3, [r7, #28]
 3423 0028 002B     		cmp	r3, #0
 3424 002a 47D0     		beq	.L204
 3425              		.loc 1 1246 24 discriminator 1
 3426 002c FB69     		ldr	r3, [r7, #28]
 3427 002e 1B89     		ldrh	r3, [r3, #8]
 3428 0030 1A46     		mov	r2, r3
 3429              		.loc 1 1246 51 discriminator 1
 3430 0032 3B8A     		ldrh	r3, [r7, #16]
 3431 0034 1946     		mov	r1, r3
 3432 0036 FB88     		ldrh	r3, [r7, #6]
 3433 0038 0B44     		add	r3, r3, r1
 3434              		.loc 1 1246 19 discriminator 1
 3435 003a 9A42     		cmp	r2, r3
 3436 003c 3EDB     		blt	.L204
 3437              	.LBB11:
ARM GAS  /tmp/ccRRFgJP.s 			page 85


1247:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t remaining_len = len;
 3438              		.loc 1 1247 11
 3439 003e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3440 0040 7B83     		strh	r3, [r7, #26]	@ movhi
1248:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     const u8_t *src_ptr = (const u8_t *)dataptr;
 3441              		.loc 1 1248 17
 3442 0042 BB68     		ldr	r3, [r7, #8]
 3443 0044 7B61     		str	r3, [r7, #20]
1249:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* copy the part that goes into the first pbuf */
1250:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u16_t first_copy_len;
1251:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     LWIP_ASSERT("check pbuf_skip result", target_offset < q->len);
 3444              		.loc 1 1251 5
 3445 0046 FB69     		ldr	r3, [r7, #28]
 3446 0048 5A89     		ldrh	r2, [r3, #10]
 3447 004a 3B8A     		ldrh	r3, [r7, #16]
 3448 004c 9A42     		cmp	r2, r3
 3449 004e 06D8     		bhi	.L205
 3450              		.loc 1 1251 5 is_stmt 0 discriminator 1
 3451 0050 1D4B     		ldr	r3, .L211
 3452 0052 40F2E342 		movw	r2, #1251
 3453 0056 1D49     		ldr	r1, .L211+4
 3454 0058 1D48     		ldr	r0, .L211+8
 3455 005a FFF7FEFF 		bl	printf
 3456              	.L205:
1252:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     first_copy_len = (u16_t)LWIP_MIN(q->len - target_offset, len);
 3457              		.loc 1 1252 29 is_stmt 1
 3458 005e FB69     		ldr	r3, [r7, #28]
 3459 0060 5B89     		ldrh	r3, [r3, #10]
 3460 0062 1A46     		mov	r2, r3
 3461 0064 3B8A     		ldrh	r3, [r7, #16]
 3462 0066 D21A     		subs	r2, r2, r3
 3463 0068 FB88     		ldrh	r3, [r7, #6]
 3464              		.loc 1 1252 22
 3465 006a 9A42     		cmp	r2, r3
 3466 006c 05DA     		bge	.L206
 3467              		.loc 1 1252 29 discriminator 1
 3468 006e FB69     		ldr	r3, [r7, #28]
 3469 0070 5A89     		ldrh	r2, [r3, #10]
 3470 0072 3B8A     		ldrh	r3, [r7, #16]
 3471              		.loc 1 1252 22 discriminator 1
 3472 0074 D31A     		subs	r3, r2, r3
 3473 0076 9BB2     		uxth	r3, r3
 3474 0078 00E0     		b	.L207
 3475              	.L206:
 3476              		.loc 1 1252 22 is_stmt 0 discriminator 2
 3477 007a FB88     		ldrh	r3, [r7, #6]
 3478              	.L207:
 3479              		.loc 1 1252 20 is_stmt 1 discriminator 4
 3480 007c 7B82     		strh	r3, [r7, #18]	@ movhi
1253:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     MEMCPY(((u8_t *)q->payload) + target_offset, dataptr, first_copy_len);
 3481              		.loc 1 1253 5 discriminator 4
 3482 007e FB69     		ldr	r3, [r7, #28]
 3483 0080 5B68     		ldr	r3, [r3, #4]
 3484 0082 3A8A     		ldrh	r2, [r7, #16]
 3485 0084 1344     		add	r3, r3, r2
 3486 0086 7A8A     		ldrh	r2, [r7, #18]
 3487 0088 B968     		ldr	r1, [r7, #8]
ARM GAS  /tmp/ccRRFgJP.s 			page 86


 3488 008a 1846     		mov	r0, r3
 3489 008c FFF7FEFF 		bl	memcpy
1254:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     remaining_len = (u16_t)(remaining_len - first_copy_len);
 3490              		.loc 1 1254 19 discriminator 4
 3491 0090 7A8B     		ldrh	r2, [r7, #26]	@ movhi
 3492 0092 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 3493 0094 D31A     		subs	r3, r2, r3
 3494 0096 7B83     		strh	r3, [r7, #26]	@ movhi
1255:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     src_ptr += first_copy_len;
 3495              		.loc 1 1255 13 discriminator 4
 3496 0098 7B8A     		ldrh	r3, [r7, #18]
 3497 009a 7A69     		ldr	r2, [r7, #20]
 3498 009c 1344     		add	r3, r3, r2
 3499 009e 7B61     		str	r3, [r7, #20]
1256:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (remaining_len > 0) {
 3500              		.loc 1 1256 8 discriminator 4
 3501 00a0 7B8B     		ldrh	r3, [r7, #26]
 3502 00a2 002B     		cmp	r3, #0
 3503 00a4 08D0     		beq	.L208
1257:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return pbuf_take(q->next, src_ptr, remaining_len);
 3504              		.loc 1 1257 14
 3505 00a6 FB69     		ldr	r3, [r7, #28]
 3506 00a8 1B68     		ldr	r3, [r3]
 3507 00aa 7A8B     		ldrh	r2, [r7, #26]
 3508 00ac 7969     		ldr	r1, [r7, #20]
 3509 00ae 1846     		mov	r0, r3
 3510 00b0 FFF7FEFF 		bl	pbuf_take
 3511 00b4 0346     		mov	r3, r0
 3512 00b6 03E0     		b	.L210
 3513              	.L208:
1258:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1259:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_OK;
 3514              		.loc 1 1259 12
 3515 00b8 0023     		movs	r3, #0
 3516 00ba 01E0     		b	.L210
 3517              	.L204:
 3518              	.LBE11:
1260:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1261:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_MEM;
 3519              		.loc 1 1261 10
 3520 00bc 4FF0FF33 		mov	r3, #-1
 3521              	.L210:
1262:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3522              		.loc 1 1262 1 discriminator 1
 3523 00c0 1846     		mov	r0, r3
 3524 00c2 2037     		adds	r7, r7, #32
 3525              	.LCFI146:
 3526              		.cfi_def_cfa_offset 8
 3527 00c4 BD46     		mov	sp, r7
 3528              	.LCFI147:
 3529              		.cfi_def_cfa_register 13
 3530              		@ sp needed
 3531 00c6 80BD     		pop	{r7, pc}
 3532              	.L212:
 3533              		.align	2
 3534              	.L211:
 3535 00c8 00000000 		.word	.LC0
ARM GAS  /tmp/ccRRFgJP.s 			page 87


 3536 00cc 5C040000 		.word	.LC35
 3537 00d0 60000000 		.word	.LC2
 3538              		.cfi_endproc
 3539              	.LFE165:
 3541              		.section	.text.pbuf_coalesce,"ax",%progbits
 3542              		.align	1
 3543              		.global	pbuf_coalesce
 3544              		.syntax unified
 3545              		.thumb
 3546              		.thumb_func
 3547              		.fpu fpv4-sp-d16
 3549              	pbuf_coalesce:
 3550              	.LFB166:
1263:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1264:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1265:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1266:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Creates a single pbuf out of a queue of pbufs.
1267:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1268:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @remark: Either the source pbuf 'p' is freed by this function or the original
1269:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *          pbuf 'p' is returned, therefore the caller has to check the result!
1270:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1271:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the source pbuf
1272:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer pbuf_layer of the new pbuf
1273:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1274:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return a new, single pbuf (p->next is NULL)
1275:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         or the old pbuf if allocation fails
1276:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1277:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
1278:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_coalesce(struct pbuf *p, pbuf_layer layer)
1279:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3551              		.loc 1 1279 1
 3552              		.cfi_startproc
 3553              		@ args = 0, pretend = 0, frame = 16
 3554              		@ frame_needed = 1, uses_anonymous_args = 0
 3555 0000 80B5     		push	{r7, lr}
 3556              	.LCFI148:
 3557              		.cfi_def_cfa_offset 8
 3558              		.cfi_offset 7, -8
 3559              		.cfi_offset 14, -4
 3560 0002 84B0     		sub	sp, sp, #16
 3561              	.LCFI149:
 3562              		.cfi_def_cfa_offset 24
 3563 0004 00AF     		add	r7, sp, #0
 3564              	.LCFI150:
 3565              		.cfi_def_cfa_register 7
 3566 0006 7860     		str	r0, [r7, #4]
 3567 0008 0B46     		mov	r3, r1
 3568 000a FB70     		strb	r3, [r7, #3]
1280:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
1281:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->next == NULL) {
 3569              		.loc 1 1281 8
 3570 000c 7B68     		ldr	r3, [r7, #4]
 3571 000e 1B68     		ldr	r3, [r3]
 3572              		.loc 1 1281 6
 3573 0010 002B     		cmp	r3, #0
 3574 0012 01D1     		bne	.L214
1282:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
ARM GAS  /tmp/ccRRFgJP.s 			page 88


 3575              		.loc 1 1282 12
 3576 0014 7B68     		ldr	r3, [r7, #4]
 3577 0016 10E0     		b	.L215
 3578              	.L214:
1283:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1284:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = pbuf_clone(layer, PBUF_RAM, p);
 3579              		.loc 1 1284 7
 3580 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3581 001a 7A68     		ldr	r2, [r7, #4]
 3582 001c 4FF42071 		mov	r1, #640
 3583 0020 1846     		mov	r0, r3
 3584 0022 FFF7FEFF 		bl	pbuf_clone
 3585 0026 F860     		str	r0, [r7, #12]
1285:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q == NULL) {
 3586              		.loc 1 1285 6
 3587 0028 FB68     		ldr	r3, [r7, #12]
 3588 002a 002B     		cmp	r3, #0
 3589 002c 01D1     		bne	.L216
1286:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* @todo: what do we do now? */
1287:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return p;
 3590              		.loc 1 1287 12
 3591 002e 7B68     		ldr	r3, [r7, #4]
 3592 0030 03E0     		b	.L215
 3593              	.L216:
1288:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1289:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   pbuf_free(p);
 3594              		.loc 1 1289 3
 3595 0032 7868     		ldr	r0, [r7, #4]
 3596 0034 FFF7FEFF 		bl	pbuf_free
1290:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
 3597              		.loc 1 1290 10
 3598 0038 FB68     		ldr	r3, [r7, #12]
 3599              	.L215:
1291:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3600              		.loc 1 1291 1
 3601 003a 1846     		mov	r0, r3
 3602 003c 1037     		adds	r7, r7, #16
 3603              	.LCFI151:
 3604              		.cfi_def_cfa_offset 8
 3605 003e BD46     		mov	sp, r7
 3606              	.LCFI152:
 3607              		.cfi_def_cfa_register 13
 3608              		@ sp needed
 3609 0040 80BD     		pop	{r7, pc}
 3610              		.cfi_endproc
 3611              	.LFE166:
 3613              		.section	.rodata
 3614 0473 00       		.align	2
 3615              	.LC36:
 3616 0474 70627566 		.ascii	"pbuf_copy failed\000"
 3616      5F636F70 
 3616      79206661 
 3616      696C6564 
 3616      00
 3617              		.section	.text.pbuf_clone,"ax",%progbits
 3618              		.align	1
 3619              		.global	pbuf_clone
ARM GAS  /tmp/ccRRFgJP.s 			page 89


 3620              		.syntax unified
 3621              		.thumb
 3622              		.thumb_func
 3623              		.fpu fpv4-sp-d16
 3625              	pbuf_clone:
 3626              	.LFB167:
1292:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1293:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1294:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1295:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Allocates a new pbuf of same length (via pbuf_alloc()) and copies the source
1296:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * pbuf into this new pbuf (using pbuf_copy()).
1297:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1298:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param layer pbuf_layer of the new pbuf
1299:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param type this parameter decides how and where the pbuf should be allocated
1300:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *             (@see pbuf_alloc())
1301:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the source pbuf
1302:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1303:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return a new pbuf or NULL if allocation fails
1304:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1305:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** struct pbuf *
1306:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_clone(pbuf_layer layer, pbuf_type type, struct pbuf *p)
1307:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3627              		.loc 1 1307 1
 3628              		.cfi_startproc
 3629              		@ args = 0, pretend = 0, frame = 16
 3630              		@ frame_needed = 1, uses_anonymous_args = 0
 3631 0000 80B5     		push	{r7, lr}
 3632              	.LCFI153:
 3633              		.cfi_def_cfa_offset 8
 3634              		.cfi_offset 7, -8
 3635              		.cfi_offset 14, -4
 3636 0002 84B0     		sub	sp, sp, #16
 3637              	.LCFI154:
 3638              		.cfi_def_cfa_offset 24
 3639 0004 00AF     		add	r7, sp, #0
 3640              	.LCFI155:
 3641              		.cfi_def_cfa_register 7
 3642 0006 0346     		mov	r3, r0
 3643 0008 3A60     		str	r2, [r7]
 3644 000a FB71     		strb	r3, [r7, #7]
 3645 000c 0B46     		mov	r3, r1	@ movhi
 3646 000e BB80     		strh	r3, [r7, #4]	@ movhi
1308:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q;
1309:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err_t err;
1310:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   q = pbuf_alloc(layer, p->tot_len, type);
 3647              		.loc 1 1310 7
 3648 0010 3B68     		ldr	r3, [r7]
 3649 0012 1989     		ldrh	r1, [r3, #8]
 3650 0014 BA88     		ldrh	r2, [r7, #4]
 3651 0016 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3652 0018 1846     		mov	r0, r3
 3653 001a FFF7FEFF 		bl	pbuf_alloc
 3654 001e F860     		str	r0, [r7, #12]
1311:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (q == NULL) {
 3655              		.loc 1 1311 6
 3656 0020 FB68     		ldr	r3, [r7, #12]
 3657 0022 002B     		cmp	r3, #0
ARM GAS  /tmp/ccRRFgJP.s 			page 90


 3658 0024 01D1     		bne	.L218
1312:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return NULL;
 3659              		.loc 1 1312 12
 3660 0026 0023     		movs	r3, #0
 3661 0028 11E0     		b	.L219
 3662              	.L218:
1313:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1314:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   err = pbuf_copy(q, p);
 3663              		.loc 1 1314 9
 3664 002a 3968     		ldr	r1, [r7]
 3665 002c F868     		ldr	r0, [r7, #12]
 3666 002e FFF7FEFF 		bl	pbuf_copy
 3667 0032 0346     		mov	r3, r0
 3668 0034 FB72     		strb	r3, [r7, #11]
1315:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_UNUSED_ARG(err); /* in case of LWIP_NOASSERT */
1316:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("pbuf_copy failed", err == ERR_OK);
 3669              		.loc 1 1316 3
 3670 0036 97F90B30 		ldrsb	r3, [r7, #11]
 3671 003a 002B     		cmp	r3, #0
 3672 003c 06D0     		beq	.L220
 3673              		.loc 1 1316 3 is_stmt 0 discriminator 1
 3674 003e 064B     		ldr	r3, .L221
 3675 0040 40F22452 		movw	r2, #1316
 3676 0044 0549     		ldr	r1, .L221+4
 3677 0046 0648     		ldr	r0, .L221+8
 3678 0048 FFF7FEFF 		bl	printf
 3679              	.L220:
1317:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return q;
 3680              		.loc 1 1317 10 is_stmt 1
 3681 004c FB68     		ldr	r3, [r7, #12]
 3682              	.L219:
1318:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3683              		.loc 1 1318 1
 3684 004e 1846     		mov	r0, r3
 3685 0050 1037     		adds	r7, r7, #16
 3686              	.LCFI156:
 3687              		.cfi_def_cfa_offset 8
 3688 0052 BD46     		mov	sp, r7
 3689              	.LCFI157:
 3690              		.cfi_def_cfa_register 13
 3691              		@ sp needed
 3692 0054 80BD     		pop	{r7, pc}
 3693              	.L222:
 3694 0056 00BF     		.align	2
 3695              	.L221:
 3696 0058 00000000 		.word	.LC0
 3697 005c 74040000 		.word	.LC36
 3698 0060 60000000 		.word	.LC2
 3699              		.cfi_endproc
 3700              	.LFE167:
 3702              		.section	.text.pbuf_get_at,"ax",%progbits
 3703              		.align	1
 3704              		.global	pbuf_get_at
 3705              		.syntax unified
 3706              		.thumb
 3707              		.thumb_func
 3708              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccRRFgJP.s 			page 91


 3710              	pbuf_get_at:
 3711              	.LFB168:
1319:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1320:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #if LWIP_CHECKSUM_ON_COPY
1321:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1322:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Copies data into a single pbuf (*not* into a pbuf queue!) and updates
1323:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the checksum while copying
1324:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1325:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p the pbuf to copy data into
1326:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset of p->payload where to copy the data to
1327:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param dataptr data to copy into the pbuf
1328:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param len length of data to copy into the pbuf
1329:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param chksum pointer to the checksum which is updated
1330:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return ERR_OK if successful, another error if the data does not fit
1331:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         within the (first) pbuf (no pbuf queues!)
1332:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1333:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** err_t
1334:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_fill_chksum(struct pbuf *p, u16_t start_offset, const void *dataptr,
1335:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****                  u16_t len, u16_t *chksum)
1336:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
1337:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u32_t acc;
1338:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t copy_chksum;
1339:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   char *dst_ptr;
1340:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("p != NULL", p != NULL);
1341:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("dataptr != NULL", dataptr != NULL);
1342:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("chksum != NULL", chksum != NULL);
1343:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   LWIP_ASSERT("len != 0", len != 0);
1344:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1345:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset >= p->len) || (start_offset + len > p->len)) {
1346:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ERR_ARG;
1347:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1348:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1349:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   dst_ptr = ((char *)p->payload) + start_offset;
1350:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   copy_chksum = LWIP_CHKSUM_COPY(dst_ptr, dataptr, len);
1351:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((start_offset & 1) != 0) {
1352:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     copy_chksum = SWAP_BYTES_IN_WORD(copy_chksum);
1353:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1354:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc = *chksum;
1355:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   acc += copy_chksum;
1356:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   *chksum = FOLD_U32T(acc);
1357:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return ERR_OK;
1358:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
1359:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1360:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1361:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1362:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1363:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1364:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: returns zero for offset >= p->tot_len
1365:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1366:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1367:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1368:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p OR ZERO IF 'offset' >= p->tot_len
1369:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1370:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u8_t
1371:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_get_at(const struct pbuf *p, u16_t offset)
1372:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3712              		.loc 1 1372 1
ARM GAS  /tmp/ccRRFgJP.s 			page 92


 3713              		.cfi_startproc
 3714              		@ args = 0, pretend = 0, frame = 16
 3715              		@ frame_needed = 1, uses_anonymous_args = 0
 3716 0000 80B5     		push	{r7, lr}
 3717              	.LCFI158:
 3718              		.cfi_def_cfa_offset 8
 3719              		.cfi_offset 7, -8
 3720              		.cfi_offset 14, -4
 3721 0002 84B0     		sub	sp, sp, #16
 3722              	.LCFI159:
 3723              		.cfi_def_cfa_offset 24
 3724 0004 00AF     		add	r7, sp, #0
 3725              	.LCFI160:
 3726              		.cfi_def_cfa_register 7
 3727 0006 7860     		str	r0, [r7, #4]
 3728 0008 0B46     		mov	r3, r1
 3729 000a 7B80     		strh	r3, [r7, #2]	@ movhi
1373:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   int ret = pbuf_try_get_at(p, offset);
 3730              		.loc 1 1373 13
 3731 000c 7B88     		ldrh	r3, [r7, #2]
 3732 000e 1946     		mov	r1, r3
 3733 0010 7868     		ldr	r0, [r7, #4]
 3734 0012 FFF7FEFF 		bl	pbuf_try_get_at
 3735 0016 F860     		str	r0, [r7, #12]
1374:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (ret >= 0) {
 3736              		.loc 1 1374 6
 3737 0018 FB68     		ldr	r3, [r7, #12]
 3738 001a 002B     		cmp	r3, #0
 3739 001c 02DB     		blt	.L224
1375:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return (u8_t)ret;
 3740              		.loc 1 1375 12
 3741 001e FB68     		ldr	r3, [r7, #12]
 3742 0020 DBB2     		uxtb	r3, r3
 3743 0022 00E0     		b	.L225
 3744              	.L224:
1376:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1377:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
 3745              		.loc 1 1377 10
 3746 0024 0023     		movs	r3, #0
 3747              	.L225:
1378:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3748              		.loc 1 1378 1
 3749 0026 1846     		mov	r0, r3
 3750 0028 1037     		adds	r7, r7, #16
 3751              	.LCFI161:
 3752              		.cfi_def_cfa_offset 8
 3753 002a BD46     		mov	sp, r7
 3754              	.LCFI162:
 3755              		.cfi_def_cfa_register 13
 3756              		@ sp needed
 3757 002c 80BD     		pop	{r7, pc}
 3758              		.cfi_endproc
 3759              	.LFE168:
 3761              		.section	.text.pbuf_try_get_at,"ax",%progbits
 3762              		.align	1
 3763              		.global	pbuf_try_get_at
 3764              		.syntax unified
ARM GAS  /tmp/ccRRFgJP.s 			page 93


 3765              		.thumb
 3766              		.thumb_func
 3767              		.fpu fpv4-sp-d16
 3769              	pbuf_try_get_at:
 3770              	.LFB169:
1379:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1380:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1381:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1382:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Get one byte from the specified position in a pbuf
1383:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1384:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to parse
1385:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to return
1386:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return byte at an offset into p [0..0xFF] OR negative if 'offset' >= p->tot_len
1387:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1388:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** int
1389:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_try_get_at(const struct pbuf *p, u16_t offset)
1390:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3771              		.loc 1 1390 1
 3772              		.cfi_startproc
 3773              		@ args = 0, pretend = 0, frame = 16
 3774              		@ frame_needed = 1, uses_anonymous_args = 0
 3775 0000 80B5     		push	{r7, lr}
 3776              	.LCFI163:
 3777              		.cfi_def_cfa_offset 8
 3778              		.cfi_offset 7, -8
 3779              		.cfi_offset 14, -4
 3780 0002 84B0     		sub	sp, sp, #16
 3781              	.LCFI164:
 3782              		.cfi_def_cfa_offset 24
 3783 0004 00AF     		add	r7, sp, #0
 3784              	.LCFI165:
 3785              		.cfi_def_cfa_register 7
 3786 0006 7860     		str	r0, [r7, #4]
 3787 0008 0B46     		mov	r3, r1
 3788 000a 7B80     		strh	r3, [r7, #2]	@ movhi
1391:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
1392:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *q = pbuf_skip_const(p, offset, &q_idx);
 3789              		.loc 1 1392 26
 3790 000c 07F10A02 		add	r2, r7, #10
 3791 0010 7B88     		ldrh	r3, [r7, #2]
 3792 0012 1946     		mov	r1, r3
 3793 0014 7868     		ldr	r0, [r7, #4]
 3794 0016 FFF7FEFF 		bl	pbuf_skip_const
 3795 001a F860     		str	r0, [r7, #12]
1393:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1394:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1395:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 3796              		.loc 1 1395 6
 3797 001c FB68     		ldr	r3, [r7, #12]
 3798 001e 002B     		cmp	r3, #0
 3799 0020 0AD0     		beq	.L227
 3800              		.loc 1 1395 24 discriminator 1
 3801 0022 FB68     		ldr	r3, [r7, #12]
 3802 0024 5A89     		ldrh	r2, [r3, #10]
 3803              		.loc 1 1395 30 discriminator 1
 3804 0026 7B89     		ldrh	r3, [r7, #10]
 3805              		.loc 1 1395 19 discriminator 1
ARM GAS  /tmp/ccRRFgJP.s 			page 94


 3806 0028 9A42     		cmp	r2, r3
 3807 002a 05D9     		bls	.L227
1396:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return ((u8_t *)q->payload)[q_idx];
 3808              		.loc 1 1396 22
 3809 002c FB68     		ldr	r3, [r7, #12]
 3810 002e 5B68     		ldr	r3, [r3, #4]
 3811              		.loc 1 1396 32
 3812 0030 7A89     		ldrh	r2, [r7, #10]
 3813 0032 1344     		add	r3, r3, r2
 3814 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3815 0036 01E0     		b	.L229
 3816              	.L227:
1397:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1398:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return -1;
 3817              		.loc 1 1398 10
 3818 0038 4FF0FF33 		mov	r3, #-1
 3819              	.L229:
1399:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3820              		.loc 1 1399 1 discriminator 1
 3821 003c 1846     		mov	r0, r3
 3822 003e 1037     		adds	r7, r7, #16
 3823              	.LCFI166:
 3824              		.cfi_def_cfa_offset 8
 3825 0040 BD46     		mov	sp, r7
 3826              	.LCFI167:
 3827              		.cfi_def_cfa_register 13
 3828              		@ sp needed
 3829 0042 80BD     		pop	{r7, pc}
 3830              		.cfi_endproc
 3831              	.LFE169:
 3833              		.section	.text.pbuf_put_at,"ax",%progbits
 3834              		.align	1
 3835              		.global	pbuf_put_at
 3836              		.syntax unified
 3837              		.thumb
 3838              		.thumb_func
 3839              		.fpu fpv4-sp-d16
 3841              	pbuf_put_at:
 3842              	.LFB170:
1400:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1401:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1402:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1403:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Put one byte to the specified position in a pbuf
1404:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: silently ignores offset >= p->tot_len
1405:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1406:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to fill
1407:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p of the byte to write
1408:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param data byte to write at an offset into p
1409:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1410:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** void
1411:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_put_at(struct pbuf *p, u16_t offset, u8_t data)
1412:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3843              		.loc 1 1412 1
 3844              		.cfi_startproc
 3845              		@ args = 0, pretend = 0, frame = 16
 3846              		@ frame_needed = 1, uses_anonymous_args = 0
 3847 0000 80B5     		push	{r7, lr}
ARM GAS  /tmp/ccRRFgJP.s 			page 95


 3848              	.LCFI168:
 3849              		.cfi_def_cfa_offset 8
 3850              		.cfi_offset 7, -8
 3851              		.cfi_offset 14, -4
 3852 0002 84B0     		sub	sp, sp, #16
 3853              	.LCFI169:
 3854              		.cfi_def_cfa_offset 24
 3855 0004 00AF     		add	r7, sp, #0
 3856              	.LCFI170:
 3857              		.cfi_def_cfa_register 7
 3858 0006 7860     		str	r0, [r7, #4]
 3859 0008 0B46     		mov	r3, r1
 3860 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 3861 000c 1346     		mov	r3, r2
 3862 000e 7B70     		strb	r3, [r7, #1]
1413:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t q_idx;
1414:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   struct pbuf *q = pbuf_skip(p, offset, &q_idx);
 3863              		.loc 1 1414 20
 3864 0010 07F10A02 		add	r2, r7, #10
 3865 0014 7B88     		ldrh	r3, [r7, #2]
 3866 0016 1946     		mov	r1, r3
 3867 0018 7868     		ldr	r0, [r7, #4]
 3868 001a FFF7FEFF 		bl	pbuf_skip
 3869 001e F860     		str	r0, [r7, #12]
1415:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1416:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* write requested data if pbuf is OK */
1417:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((q != NULL) && (q->len > q_idx)) {
 3870              		.loc 1 1417 6
 3871 0020 FB68     		ldr	r3, [r7, #12]
 3872 0022 002B     		cmp	r3, #0
 3873 0024 0AD0     		beq	.L232
 3874              		.loc 1 1417 24 discriminator 1
 3875 0026 FB68     		ldr	r3, [r7, #12]
 3876 0028 5A89     		ldrh	r2, [r3, #10]
 3877              		.loc 1 1417 30 discriminator 1
 3878 002a 7B89     		ldrh	r3, [r7, #10]
 3879              		.loc 1 1417 19 discriminator 1
 3880 002c 9A42     		cmp	r2, r3
 3881 002e 05D9     		bls	.L232
1418:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     ((u8_t *)q->payload)[q_idx] = data;
 3882              		.loc 1 1418 15
 3883 0030 FB68     		ldr	r3, [r7, #12]
 3884 0032 5B68     		ldr	r3, [r3, #4]
 3885              		.loc 1 1418 25
 3886 0034 7A89     		ldrh	r2, [r7, #10]
 3887 0036 1344     		add	r3, r3, r2
 3888              		.loc 1 1418 33
 3889 0038 7A78     		ldrb	r2, [r7, #1]
 3890 003a 1A70     		strb	r2, [r3]
 3891              	.L232:
1419:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1420:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 3892              		.loc 1 1420 1
 3893 003c 00BF     		nop
 3894 003e 1037     		adds	r7, r7, #16
 3895              	.LCFI171:
 3896              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccRRFgJP.s 			page 96


 3897 0040 BD46     		mov	sp, r7
 3898              	.LCFI172:
 3899              		.cfi_def_cfa_register 13
 3900              		@ sp needed
 3901 0042 80BD     		pop	{r7, pc}
 3902              		.cfi_endproc
 3903              	.LFE170:
 3905              		.section	.text.pbuf_memcmp,"ax",%progbits
 3906              		.align	1
 3907              		.global	pbuf_memcmp
 3908              		.syntax unified
 3909              		.thumb
 3910              		.thumb_func
 3911              		.fpu fpv4-sp-d16
 3913              	pbuf_memcmp:
 3914              	.LFB171:
1421:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1422:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1423:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1424:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Compare pbuf contents at specified offset with memory s2, both of length n
1425:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1426:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to compare
1427:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param offset offset into p at which to start comparing
1428:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param s2 buffer to compare
1429:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param n length of buffer to compare
1430:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return zero if equal, nonzero otherwise
1431:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *         (0xffff if p is too short, diffoffset+1 otherwise)
1432:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1433:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1434:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memcmp(const struct pbuf *p, u16_t offset, const void *s2, u16_t n)
1435:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 3915              		.loc 1 1435 1
 3916              		.cfi_startproc
 3917              		@ args = 0, pretend = 0, frame = 32
 3918              		@ frame_needed = 1, uses_anonymous_args = 0
 3919 0000 80B5     		push	{r7, lr}
 3920              	.LCFI173:
 3921              		.cfi_def_cfa_offset 8
 3922              		.cfi_offset 7, -8
 3923              		.cfi_offset 14, -4
 3924 0002 88B0     		sub	sp, sp, #32
 3925              	.LCFI174:
 3926              		.cfi_def_cfa_offset 40
 3927 0004 00AF     		add	r7, sp, #0
 3928              	.LCFI175:
 3929              		.cfi_def_cfa_register 7
 3930 0006 F860     		str	r0, [r7, #12]
 3931 0008 7A60     		str	r2, [r7, #4]
 3932 000a 1A46     		mov	r2, r3
 3933 000c 0B46     		mov	r3, r1	@ movhi
 3934 000e 7B81     		strh	r3, [r7, #10]	@ movhi
 3935 0010 1346     		mov	r3, r2	@ movhi
 3936 0012 3B81     		strh	r3, [r7, #8]	@ movhi
1436:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t start = offset;
 3937              		.loc 1 1436 9
 3938 0014 7B89     		ldrh	r3, [r7, #10]	@ movhi
 3939 0016 FB83     		strh	r3, [r7, #30]	@ movhi
ARM GAS  /tmp/ccRRFgJP.s 			page 97


1437:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   const struct pbuf *q = p;
 3940              		.loc 1 1437 22
 3941 0018 FB68     		ldr	r3, [r7, #12]
 3942 001a BB61     		str	r3, [r7, #24]
1438:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1439:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1440:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* pbuf long enough to perform check? */
1441:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->tot_len < (offset + n)) {
 3943              		.loc 1 1441 8
 3944 001c FB68     		ldr	r3, [r7, #12]
 3945 001e 1B89     		ldrh	r3, [r3, #8]
 3946 0020 1946     		mov	r1, r3
 3947              		.loc 1 1441 28
 3948 0022 7A89     		ldrh	r2, [r7, #10]
 3949 0024 3B89     		ldrh	r3, [r7, #8]
 3950 0026 1344     		add	r3, r3, r2
 3951              		.loc 1 1441 6
 3952 0028 9942     		cmp	r1, r3
 3953 002a 0ADA     		bge	.L236
1442:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xffff;
 3954              		.loc 1 1442 12
 3955 002c 4FF6FF73 		movw	r3, #65535
 3956 0030 37E0     		b	.L235
 3957              	.L238:
1443:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1444:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1445:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* get the correct pbuf from chain. We know it succeeds because of p->tot_len check above. */
1446:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   while ((q != NULL) && (q->len <= start)) {
1447:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 3958              		.loc 1 1447 30
 3959 0032 BB69     		ldr	r3, [r7, #24]
 3960 0034 5B89     		ldrh	r3, [r3, #10]
 3961              		.loc 1 1447 11
 3962 0036 FA8B     		ldrh	r2, [r7, #30]	@ movhi
 3963 0038 D31A     		subs	r3, r2, r3
 3964 003a FB83     		strh	r3, [r7, #30]	@ movhi
1448:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     q = q->next;
 3965              		.loc 1 1448 7
 3966 003c BB69     		ldr	r3, [r7, #24]
 3967 003e 1B68     		ldr	r3, [r3]
 3968 0040 BB61     		str	r3, [r7, #24]
 3969              	.L236:
1446:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 3970              		.loc 1 1446 9
 3971 0042 BB69     		ldr	r3, [r7, #24]
 3972 0044 002B     		cmp	r3, #0
 3973 0046 04D0     		beq	.L237
1446:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 3974              		.loc 1 1446 27 discriminator 1
 3975 0048 BB69     		ldr	r3, [r7, #24]
 3976 004a 5B89     		ldrh	r3, [r3, #10]
1446:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     start = (u16_t)(start - q->len);
 3977              		.loc 1 1446 22 discriminator 1
 3978 004c FA8B     		ldrh	r2, [r7, #30]
 3979 004e 9A42     		cmp	r2, r3
 3980 0050 EFD2     		bcs	.L238
 3981              	.L237:
ARM GAS  /tmp/ccRRFgJP.s 			page 98


1449:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1450:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1451:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   /* return requested data if pbuf is OK */
1452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   for (i = 0; i < n; i++) {
 3982              		.loc 1 1452 10
 3983 0052 0023     		movs	r3, #0
 3984 0054 FB82     		strh	r3, [r7, #22]	@ movhi
 3985              		.loc 1 1452 3
 3986 0056 1FE0     		b	.L239
 3987              	.L241:
 3988              	.LBB12:
1453:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
1454:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t a = pbuf_get_at(q, (u16_t)(start + i));
 3989              		.loc 1 1454 14
 3990 0058 FA8B     		ldrh	r2, [r7, #30]	@ movhi
 3991 005a FB8A     		ldrh	r3, [r7, #22]	@ movhi
 3992 005c 1344     		add	r3, r3, r2
 3993 005e 9BB2     		uxth	r3, r3
 3994 0060 1946     		mov	r1, r3
 3995 0062 B869     		ldr	r0, [r7, #24]
 3996 0064 FFF7FEFF 		bl	pbuf_get_at
 3997 0068 0346     		mov	r3, r0
 3998 006a 7B75     		strb	r3, [r7, #21]
1455:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     u8_t b = ((const u8_t *)s2)[i];
 3999              		.loc 1 1455 32
 4000 006c FB8A     		ldrh	r3, [r7, #22]
 4001 006e 7A68     		ldr	r2, [r7, #4]
 4002 0070 1344     		add	r3, r3, r2
 4003              		.loc 1 1455 10
 4004 0072 1B78     		ldrb	r3, [r3]
 4005 0074 3B75     		strb	r3, [r7, #20]
1456:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     if (a != b) {
 4006              		.loc 1 1456 8
 4007 0076 7A7D     		ldrb	r2, [r7, #21]	@ zero_extendqisi2
 4008 0078 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 4009 007a 9A42     		cmp	r2, r3
 4010 007c 09D0     		beq	.L240
1457:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       return (u16_t)LWIP_MIN(i + 1, 0xFFFF);
 4011              		.loc 1 1457 14
 4012 007e FB8A     		ldrh	r3, [r7, #22]
 4013 0080 4FF6FE72 		movw	r2, #65534
 4014 0084 9342     		cmp	r3, r2
 4015 0086 28BF     		it	cs
 4016 0088 1346     		movcs	r3, r2
 4017 008a 9BB2     		uxth	r3, r3
 4018 008c 0133     		adds	r3, r3, #1
 4019 008e 9BB2     		uxth	r3, r3
 4020 0090 07E0     		b	.L235
 4021              	.L240:
 4022              	.LBE12:
1452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
 4023              		.loc 1 1452 23 discriminator 2
 4024 0092 FB8A     		ldrh	r3, [r7, #22]
 4025 0094 0133     		adds	r3, r3, #1
 4026 0096 FB82     		strh	r3, [r7, #22]	@ movhi
 4027              	.L239:
1452:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     /* We know pbuf_get_at() succeeds because of p->tot_len check above. */
ARM GAS  /tmp/ccRRFgJP.s 			page 99


 4028              		.loc 1 1452 3 discriminator 1
 4029 0098 FA8A     		ldrh	r2, [r7, #22]
 4030 009a 3B89     		ldrh	r3, [r7, #8]
 4031 009c 9A42     		cmp	r2, r3
 4032 009e DBD3     		bcc	.L241
1458:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1459:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1460:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0;
 4033              		.loc 1 1460 10
 4034 00a0 0023     		movs	r3, #0
 4035              	.L235:
1461:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 4036              		.loc 1 1461 1
 4037 00a2 1846     		mov	r0, r3
 4038 00a4 2037     		adds	r7, r7, #32
 4039              	.LCFI176:
 4040              		.cfi_def_cfa_offset 8
 4041 00a6 BD46     		mov	sp, r7
 4042              	.LCFI177:
 4043              		.cfi_def_cfa_register 13
 4044              		@ sp needed
 4045 00a8 80BD     		pop	{r7, pc}
 4046              		.cfi_endproc
 4047              	.LFE171:
 4049              		.section	.text.pbuf_memfind,"ax",%progbits
 4050              		.align	1
 4051              		.global	pbuf_memfind
 4052              		.syntax unified
 4053              		.thumb
 4054              		.thumb_func
 4055              		.fpu fpv4-sp-d16
 4057              	pbuf_memfind:
 4058              	.LFB172:
1462:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1463:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1464:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @ingroup pbuf
1465:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of mem (with length mem_len) in pbuf p, starting at offset
1466:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset.
1467:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1468:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
1469:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1470:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem search for the contents of this buffer
1471:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param mem_len length of 'mem'
1472:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param start_offset offset into p at which to start searching
1473:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1474:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1475:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1476:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_memfind(const struct pbuf *p, const void *mem, u16_t mem_len, u16_t start_offset)
1477:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 4059              		.loc 1 1477 1
 4060              		.cfi_startproc
 4061              		@ args = 0, pretend = 0, frame = 24
 4062              		@ frame_needed = 1, uses_anonymous_args = 0
 4063 0000 80B5     		push	{r7, lr}
 4064              	.LCFI178:
 4065              		.cfi_def_cfa_offset 8
 4066              		.cfi_offset 7, -8
ARM GAS  /tmp/ccRRFgJP.s 			page 100


 4067              		.cfi_offset 14, -4
 4068 0002 86B0     		sub	sp, sp, #24
 4069              	.LCFI179:
 4070              		.cfi_def_cfa_offset 32
 4071 0004 00AF     		add	r7, sp, #0
 4072              	.LCFI180:
 4073              		.cfi_def_cfa_register 7
 4074 0006 F860     		str	r0, [r7, #12]
 4075 0008 B960     		str	r1, [r7, #8]
 4076 000a 1146     		mov	r1, r2
 4077 000c 1A46     		mov	r2, r3
 4078 000e 0B46     		mov	r3, r1	@ movhi
 4079 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 4080 0012 1346     		mov	r3, r2	@ movhi
 4081 0014 BB80     		strh	r3, [r7, #4]	@ movhi
1478:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t i;
1479:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   u16_t max_cmp_start = (u16_t)(p->tot_len - mem_len);
 4082              		.loc 1 1479 34
 4083 0016 FB68     		ldr	r3, [r7, #12]
 4084 0018 1A89     		ldrh	r2, [r3, #8]
 4085              		.loc 1 1479 9
 4086 001a FB88     		ldrh	r3, [r7, #6]	@ movhi
 4087 001c D31A     		subs	r3, r2, r3
 4088 001e BB82     		strh	r3, [r7, #20]	@ movhi
1480:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (p->tot_len >= mem_len + start_offset) {
 4089              		.loc 1 1480 8
 4090 0020 FB68     		ldr	r3, [r7, #12]
 4091 0022 1B89     		ldrh	r3, [r3, #8]
 4092 0024 1946     		mov	r1, r3
 4093              		.loc 1 1480 29
 4094 0026 FA88     		ldrh	r2, [r7, #6]
 4095 0028 BB88     		ldrh	r3, [r7, #4]
 4096 002a 1344     		add	r3, r3, r2
 4097              		.loc 1 1480 6
 4098 002c 9942     		cmp	r1, r3
 4099 002e 16DB     		blt	.L243
1481:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     for (i = start_offset; i <= max_cmp_start; i++) {
 4100              		.loc 1 1481 12
 4101 0030 BB88     		ldrh	r3, [r7, #4]	@ movhi
 4102 0032 FB82     		strh	r3, [r7, #22]	@ movhi
 4103              		.loc 1 1481 5
 4104 0034 0FE0     		b	.L244
 4105              	.L247:
 4106              	.LBB13:
1482:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 4107              		.loc 1 1482 20
 4108 0036 FB88     		ldrh	r3, [r7, #6]
 4109 0038 F98A     		ldrh	r1, [r7, #22]
 4110 003a BA68     		ldr	r2, [r7, #8]
 4111 003c F868     		ldr	r0, [r7, #12]
 4112 003e FFF7FEFF 		bl	pbuf_memcmp
 4113 0042 0346     		mov	r3, r0
 4114 0044 7B82     		strh	r3, [r7, #18]	@ movhi
1483:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       if (plus == 0) {
 4115              		.loc 1 1483 10
 4116 0046 7B8A     		ldrh	r3, [r7, #18]
 4117 0048 002B     		cmp	r3, #0
ARM GAS  /tmp/ccRRFgJP.s 			page 101


 4118 004a 01D1     		bne	.L245
1484:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****         return i;
 4119              		.loc 1 1484 16
 4120 004c FB8A     		ldrh	r3, [r7, #22]
 4121 004e 08E0     		b	.L246
 4122              	.L245:
 4123              	.LBE13:
1481:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 4124              		.loc 1 1481 49 discriminator 2
 4125 0050 FB8A     		ldrh	r3, [r7, #22]
 4126 0052 0133     		adds	r3, r3, #1
 4127 0054 FB82     		strh	r3, [r7, #22]	@ movhi
 4128              	.L244:
1481:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       u16_t plus = pbuf_memcmp(p, i, mem, mem_len);
 4129              		.loc 1 1481 5 discriminator 1
 4130 0056 FA8A     		ldrh	r2, [r7, #22]
 4131 0058 BB8A     		ldrh	r3, [r7, #20]
 4132 005a 9A42     		cmp	r2, r3
 4133 005c EBD9     		bls	.L247
 4134              	.L243:
1485:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****       }
1486:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     }
1487:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1488:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return 0xFFFF;
 4135              		.loc 1 1488 10
 4136 005e 4FF6FF73 		movw	r3, #65535
 4137              	.L246:
1489:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 4138              		.loc 1 1489 1
 4139 0062 1846     		mov	r0, r3
 4140 0064 1837     		adds	r7, r7, #24
 4141              	.LCFI181:
 4142              		.cfi_def_cfa_offset 8
 4143 0066 BD46     		mov	sp, r7
 4144              	.LCFI182:
 4145              		.cfi_def_cfa_register 13
 4146              		@ sp needed
 4147 0068 80BD     		pop	{r7, pc}
 4148              		.cfi_endproc
 4149              	.LFE172:
 4151              		.section	.text.pbuf_strstr,"ax",%progbits
 4152              		.align	1
 4153              		.global	pbuf_strstr
 4154              		.syntax unified
 4155              		.thumb
 4156              		.thumb_func
 4157              		.fpu fpv4-sp-d16
 4159              	pbuf_strstr:
 4160              	.LFB173:
1490:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** 
1491:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** /**
1492:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * Find occurrence of substr with length substr_len in pbuf p, start at offset
1493:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * start_offset
1494:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * WARNING: in contrast to strstr(), this one does not stop at the first \0 in
1495:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * the pbuf/source string!
1496:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *
1497:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param p pbuf to search, maximum length is 0xFFFE since 0xFFFF is used as
ARM GAS  /tmp/ccRRFgJP.s 			page 102


1498:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  *        return value 'not found'
1499:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @param substr string to search for in p, maximum length is 0xFFFE
1500:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  * @return 0xFFFF if substr was not found in p or the index where it was found
1501:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****  */
1502:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** u16_t
1503:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** pbuf_strstr(const struct pbuf *p, const char *substr)
1504:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** {
 4161              		.loc 1 1504 1
 4162              		.cfi_startproc
 4163              		@ args = 0, pretend = 0, frame = 16
 4164              		@ frame_needed = 1, uses_anonymous_args = 0
 4165 0000 80B5     		push	{r7, lr}
 4166              	.LCFI183:
 4167              		.cfi_def_cfa_offset 8
 4168              		.cfi_offset 7, -8
 4169              		.cfi_offset 14, -4
 4170 0002 84B0     		sub	sp, sp, #16
 4171              	.LCFI184:
 4172              		.cfi_def_cfa_offset 24
 4173 0004 00AF     		add	r7, sp, #0
 4174              	.LCFI185:
 4175              		.cfi_def_cfa_register 7
 4176 0006 7860     		str	r0, [r7, #4]
 4177 0008 3960     		str	r1, [r7]
1505:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   size_t substr_len;
1506:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if ((substr == NULL) || (substr[0] == 0) || (p->tot_len == 0xFFFF)) {
 4178              		.loc 1 1506 6
 4179 000a 3B68     		ldr	r3, [r7]
 4180 000c 002B     		cmp	r3, #0
 4181 000e 09D0     		beq	.L249
 4182              		.loc 1 1506 34 discriminator 1
 4183 0010 3B68     		ldr	r3, [r7]
 4184 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4185              		.loc 1 1506 24 discriminator 1
 4186 0014 002B     		cmp	r3, #0
 4187 0016 05D0     		beq	.L249
 4188              		.loc 1 1506 49 discriminator 2
 4189 0018 7B68     		ldr	r3, [r7, #4]
 4190 001a 1B89     		ldrh	r3, [r3, #8]
 4191              		.loc 1 1506 44 discriminator 2
 4192 001c 4FF6FF72 		movw	r2, #65535
 4193 0020 9342     		cmp	r3, r2
 4194 0022 02D1     		bne	.L250
 4195              	.L249:
1507:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 4196              		.loc 1 1507 12
 4197 0024 4FF6FF73 		movw	r3, #65535
 4198 0028 13E0     		b	.L251
 4199              	.L250:
1508:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1509:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   substr_len = strlen(substr);
 4200              		.loc 1 1509 16
 4201 002a 3868     		ldr	r0, [r7]
 4202 002c FFF7FEFF 		bl	strlen
 4203 0030 F860     		str	r0, [r7, #12]
1510:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   if (substr_len >= 0xFFFF) {
 4204              		.loc 1 1510 6
ARM GAS  /tmp/ccRRFgJP.s 			page 103


 4205 0032 FB68     		ldr	r3, [r7, #12]
 4206 0034 4FF6FE72 		movw	r2, #65534
 4207 0038 9342     		cmp	r3, r2
 4208 003a 02D9     		bls	.L252
1511:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****     return 0xFFFF;
 4209              		.loc 1 1511 12
 4210 003c 4FF6FF73 		movw	r3, #65535
 4211 0040 07E0     		b	.L251
 4212              	.L252:
1512:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   }
1513:Middlewares/Third_Party/LwIP/src/core/pbuf.c ****   return pbuf_memfind(p, substr, (u16_t)substr_len, 0);
 4213              		.loc 1 1513 10
 4214 0042 FB68     		ldr	r3, [r7, #12]
 4215 0044 9AB2     		uxth	r2, r3
 4216 0046 0023     		movs	r3, #0
 4217 0048 3968     		ldr	r1, [r7]
 4218 004a 7868     		ldr	r0, [r7, #4]
 4219 004c FFF7FEFF 		bl	pbuf_memfind
 4220 0050 0346     		mov	r3, r0
 4221              	.L251:
1514:Middlewares/Third_Party/LwIP/src/core/pbuf.c **** }
 4222              		.loc 1 1514 1
 4223 0052 1846     		mov	r0, r3
 4224 0054 1037     		adds	r7, r7, #16
 4225              	.LCFI186:
 4226              		.cfi_def_cfa_offset 8
 4227 0056 BD46     		mov	sp, r7
 4228              	.LCFI187:
 4229              		.cfi_def_cfa_register 13
 4230              		@ sp needed
 4231 0058 80BD     		pop	{r7, pc}
 4232              		.cfi_endproc
 4233              	.LFE173:
 4235              		.text
 4236              	.Letext0:
 4237              		.file 2 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/machine/_default_typ
 4238              		.file 3 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_stdint.h"
 4239              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 4240              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 4241              		.file 6 "/home/mego-ros2/microros_ws/firmware/toolchain/lib/gcc/arm-none-eabi/8.3.1/include/stddef
 4242              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 4243              		.file 8 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_types.h"
 4244              		.file 9 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/reent.h"
 4245              		.file 10 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/lock.h"
 4246              		.file 11 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/stdlib.h"
 4247              		.file 12 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 4248              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 4249              		.file 14 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/ctype.h"
 4250              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 4251              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 4252              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 4253              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 4254              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 4255              		.file 20 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 4256              		.file 21 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 4257              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 4258              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
ARM GAS  /tmp/ccRRFgJP.s 			page 104


 4259              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 4260              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 4261              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 4262              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 4263              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 4264              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 4265              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/tcp.h"
 4266              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
 4267              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
ARM GAS  /tmp/ccRRFgJP.s 			page 105


DEFINED SYMBOLS
                            *ABS*:0000000000000000 pbuf.c
                            *COM*:0000000000000001 pbuf_free_ooseq_pending
     /tmp/ccRRFgJP.s:19     .text.pbuf_free_ooseq:0000000000000000 $t
     /tmp/ccRRFgJP.s:26     .text.pbuf_free_ooseq:0000000000000000 pbuf_free_ooseq
     /tmp/ccRRFgJP.s:95     .text.pbuf_free_ooseq:0000000000000044 $d
     /tmp/ccRRFgJP.s:101    .text.pbuf_free_ooseq_callback:0000000000000000 $t
     /tmp/ccRRFgJP.s:107    .text.pbuf_free_ooseq_callback:0000000000000000 pbuf_free_ooseq_callback
     /tmp/ccRRFgJP.s:141    .text.pbuf_pool_is_empty:0000000000000000 $t
     /tmp/ccRRFgJP.s:147    .text.pbuf_pool_is_empty:0000000000000000 pbuf_pool_is_empty
     /tmp/ccRRFgJP.s:211    .text.pbuf_pool_is_empty:000000000000004c $d
     /tmp/ccRRFgJP.s:217    .text.pbuf_init_alloced_pbuf:0000000000000000 $t
     /tmp/ccRRFgJP.s:223    .text.pbuf_init_alloced_pbuf:0000000000000000 pbuf_init_alloced_pbuf
     /tmp/ccRRFgJP.s:300    .rodata:0000000000000000 $d
     /tmp/ccRRFgJP.s:320    .text.pbuf_alloc:0000000000000000 $t
     /tmp/ccRRFgJP.s:327    .text.pbuf_alloc:0000000000000000 pbuf_alloc
     /tmp/ccRRFgJP.s:649    .text.pbuf_alloc_reference:0000000000000000 pbuf_alloc_reference
     /tmp/ccRRFgJP.s:1724   .text.pbuf_free:0000000000000000 pbuf_free
     /tmp/ccRRFgJP.s:628    .text.pbuf_alloc:00000000000001cc $d
     /tmp/ccRRFgJP.s:642    .text.pbuf_alloc_reference:0000000000000000 $t
     /tmp/ccRRFgJP.s:725    .text.pbuf_alloc_reference:000000000000005c $d
     /tmp/ccRRFgJP.s:732    .text.pbuf_alloced_custom:0000000000000000 $t
     /tmp/ccRRFgJP.s:739    .text.pbuf_alloced_custom:0000000000000000 pbuf_alloced_custom
     /tmp/ccRRFgJP.s:838    .text.pbuf_realloc:0000000000000000 $t
     /tmp/ccRRFgJP.s:845    .text.pbuf_realloc:0000000000000000 pbuf_realloc
     /tmp/ccRRFgJP.s:1029   .text.pbuf_realloc:00000000000000fc $d
     /tmp/ccRRFgJP.s:1042   .text.pbuf_add_header_impl:0000000000000000 $t
     /tmp/ccRRFgJP.s:1048   .text.pbuf_add_header_impl:0000000000000000 pbuf_add_header_impl
     /tmp/ccRRFgJP.s:1209   .text.pbuf_add_header_impl:00000000000000c4 $d
     /tmp/ccRRFgJP.s:1216   .text.pbuf_add_header:0000000000000000 $t
     /tmp/ccRRFgJP.s:1223   .text.pbuf_add_header:0000000000000000 pbuf_add_header
     /tmp/ccRRFgJP.s:1262   .text.pbuf_add_header_force:0000000000000000 $t
     /tmp/ccRRFgJP.s:1269   .text.pbuf_add_header_force:0000000000000000 pbuf_add_header_force
     /tmp/ccRRFgJP.s:1312   .text.pbuf_remove_header:0000000000000000 $t
     /tmp/ccRRFgJP.s:1319   .text.pbuf_remove_header:0000000000000000 pbuf_remove_header
     /tmp/ccRRFgJP.s:1437   .text.pbuf_remove_header:0000000000000094 $d
     /tmp/ccRRFgJP.s:1445   .text.pbuf_header_impl:0000000000000000 $t
     /tmp/ccRRFgJP.s:1451   .text.pbuf_header_impl:0000000000000000 pbuf_header_impl
     /tmp/ccRRFgJP.s:1509   .text.pbuf_header:0000000000000000 $t
     /tmp/ccRRFgJP.s:1516   .text.pbuf_header:0000000000000000 pbuf_header
     /tmp/ccRRFgJP.s:1557   .text.pbuf_header_force:0000000000000000 $t
     /tmp/ccRRFgJP.s:1564   .text.pbuf_header_force:0000000000000000 pbuf_header_force
     /tmp/ccRRFgJP.s:1605   .text.pbuf_free_header:0000000000000000 $t
     /tmp/ccRRFgJP.s:1612   .text.pbuf_free_header:0000000000000000 pbuf_free_header
     /tmp/ccRRFgJP.s:1717   .text.pbuf_free:0000000000000000 $t
     /tmp/ccRRFgJP.s:1916   .text.pbuf_free:0000000000000104 $d
     /tmp/ccRRFgJP.s:1926   .text.pbuf_clen:0000000000000000 $t
     /tmp/ccRRFgJP.s:1933   .text.pbuf_clen:0000000000000000 pbuf_clen
     /tmp/ccRRFgJP.s:1994   .text.pbuf_ref:0000000000000000 $t
     /tmp/ccRRFgJP.s:2001   .text.pbuf_ref:0000000000000000 pbuf_ref
     /tmp/ccRRFgJP.s:2061   .text.pbuf_ref:0000000000000044 $d
     /tmp/ccRRFgJP.s:2079   .text.pbuf_cat:0000000000000000 $t
     /tmp/ccRRFgJP.s:2086   .text.pbuf_cat:0000000000000000 pbuf_cat
     /tmp/ccRRFgJP.s:2206   .text.pbuf_cat:0000000000000098 $d
     /tmp/ccRRFgJP.s:2215   .text.pbuf_chain:0000000000000000 $t
     /tmp/ccRRFgJP.s:2222   .text.pbuf_chain:0000000000000000 pbuf_chain
     /tmp/ccRRFgJP.s:2269   .text.pbuf_dechain:0000000000000000 $t
ARM GAS  /tmp/ccRRFgJP.s 			page 106


     /tmp/ccRRFgJP.s:2276   .text.pbuf_dechain:0000000000000000 pbuf_dechain
     /tmp/ccRRFgJP.s:2390   .text.pbuf_dechain:0000000000000094 $d
     /tmp/ccRRFgJP.s:2414   .text.pbuf_copy:0000000000000000 $t
     /tmp/ccRRFgJP.s:2421   .text.pbuf_copy:0000000000000000 pbuf_copy
     /tmp/ccRRFgJP.s:2679   .text.pbuf_copy:0000000000000188 $d
     /tmp/ccRRFgJP.s:2697   .text.pbuf_copy_partial:0000000000000000 $t
     /tmp/ccRRFgJP.s:2704   .text.pbuf_copy_partial:0000000000000000 pbuf_copy_partial
     /tmp/ccRRFgJP.s:2863   .text.pbuf_copy_partial:00000000000000d4 $d
     /tmp/ccRRFgJP.s:2878   .text.pbuf_get_contiguous:0000000000000000 $t
     /tmp/ccRRFgJP.s:2885   .text.pbuf_get_contiguous:0000000000000000 pbuf_get_contiguous
     /tmp/ccRRFgJP.s:3027   .text.pbuf_skip_const:0000000000000000 pbuf_skip_const
     /tmp/ccRRFgJP.s:3013   .text.pbuf_get_contiguous:00000000000000b4 $d
     /tmp/ccRRFgJP.s:3021   .text.pbuf_skip_const:0000000000000000 $t
     /tmp/ccRRFgJP.s:3110   .text.pbuf_skip:0000000000000000 $t
     /tmp/ccRRFgJP.s:3117   .text.pbuf_skip:0000000000000000 pbuf_skip
     /tmp/ccRRFgJP.s:3177   .text.pbuf_take:0000000000000000 $t
     /tmp/ccRRFgJP.s:3184   .text.pbuf_take:0000000000000000 pbuf_take
     /tmp/ccRRFgJP.s:3367   .text.pbuf_take:0000000000000108 $d
     /tmp/ccRRFgJP.s:3382   .text.pbuf_take_at:0000000000000000 $t
     /tmp/ccRRFgJP.s:3389   .text.pbuf_take_at:0000000000000000 pbuf_take_at
     /tmp/ccRRFgJP.s:3535   .text.pbuf_take_at:00000000000000c8 $d
     /tmp/ccRRFgJP.s:3542   .text.pbuf_coalesce:0000000000000000 $t
     /tmp/ccRRFgJP.s:3549   .text.pbuf_coalesce:0000000000000000 pbuf_coalesce
     /tmp/ccRRFgJP.s:3625   .text.pbuf_clone:0000000000000000 pbuf_clone
     /tmp/ccRRFgJP.s:3618   .text.pbuf_clone:0000000000000000 $t
     /tmp/ccRRFgJP.s:3696   .text.pbuf_clone:0000000000000058 $d
     /tmp/ccRRFgJP.s:3703   .text.pbuf_get_at:0000000000000000 $t
     /tmp/ccRRFgJP.s:3710   .text.pbuf_get_at:0000000000000000 pbuf_get_at
     /tmp/ccRRFgJP.s:3769   .text.pbuf_try_get_at:0000000000000000 pbuf_try_get_at
     /tmp/ccRRFgJP.s:3762   .text.pbuf_try_get_at:0000000000000000 $t
     /tmp/ccRRFgJP.s:3834   .text.pbuf_put_at:0000000000000000 $t
     /tmp/ccRRFgJP.s:3841   .text.pbuf_put_at:0000000000000000 pbuf_put_at
     /tmp/ccRRFgJP.s:3906   .text.pbuf_memcmp:0000000000000000 $t
     /tmp/ccRRFgJP.s:3913   .text.pbuf_memcmp:0000000000000000 pbuf_memcmp
     /tmp/ccRRFgJP.s:4050   .text.pbuf_memfind:0000000000000000 $t
     /tmp/ccRRFgJP.s:4057   .text.pbuf_memfind:0000000000000000 pbuf_memfind
     /tmp/ccRRFgJP.s:4152   .text.pbuf_strstr:0000000000000000 $t
     /tmp/ccRRFgJP.s:4159   .text.pbuf_strstr:0000000000000000 pbuf_strstr

UNDEFINED SYMBOLS
sys_arch_protect
sys_arch_unprotect
tcp_free_ooseq
tcp_active_pcbs
tcpip_try_callback
memp_malloc
printf
mem_malloc
mem_trim
memp_free
mem_free
memcpy
strlen
