ARM GAS  /tmp/cc4WdnkV.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ip4_frag.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.bss.reassdatagrams,"aw",%nobits
  18              		.align	2
  21              	reassdatagrams:
  22 0000 00000000 		.space	4
  23              		.section	.bss.ip_reass_pbufcount,"aw",%nobits
  24              		.align	1
  27              	ip_reass_pbufcount:
  28 0000 0000     		.space	2
  29              		.section	.text.ip_reass_tmr,"ax",%progbits
  30              		.align	1
  31              		.global	ip_reass_tmr
  32              		.arch armv7e-m
  33              		.syntax unified
  34              		.thumb
  35              		.thumb_func
  36              		.fpu fpv4-sp-d16
  38              	ip_reass_tmr:
  39              	.LFB133:
  40              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This is the IPv4 packet segmentation and reassembly implementation.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /*
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
ARM GAS  /tmp/cc4WdnkV.s 			page 2


  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Author: Jani Monoses <jani@iv.ro>
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *         Simon Goldschmidt
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * original reassembly code by Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/ip4_frag.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/inet_chksum.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/netif.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/stats.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/icmp.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include <string.h>
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASSEMBLY
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The IP reassembly code currently has the following limitations:
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - IP header options are not supported
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - fragments must not overlap (e.g. due to different routes),
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   currently, overlapping or duplicate fragments are thrown away
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   if IP_REASS_CHECK_OVERLAP=1 (the default)!
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @todo: work with IP header options
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Setting this to 0, you can turn off checking the fragments for overlapping
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * regions. The code gets a little smaller. Only use this if you know that
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * overlapping won't occur on your network! */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_CHECK_OVERLAP
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_CHECK_OVERLAP 1
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Set to 0 to prevent freeing the oldest datagram when the reassembly buffer is
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * full (IP_REASS_MAX_PBUFS pbufs are enqueued). The code gets a little smaller.
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Datagrams will be freed by timeout only. Especially useful when MEMP_NUM_REASSDATA
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * is set to 1, so one datagram can be reassembled at a time, only. */
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_FREE_OLDEST
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FREE_OLDEST 1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
ARM GAS  /tmp/cc4WdnkV.s 			page 3


  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FLAG_LASTFRAG 0x01
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_TELEGRAM_FINISHED  1
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_QUEUED        0
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_DROPPED       -1
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** This is a helper struct which holds the starting
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * offset and the ending offset of this fragment to
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * easily chain the fragments.
  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * It has the same packing requirements as the IP header, since it replaces
  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * the IP header in memory in incoming fragments (after copying it) to keep
  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * track of the various fragments. (-> If the IP header doesn't need packing,
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * this struct doesn't need packing, too.)
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/bpstruct.h"
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_BEGIN
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct ip_reass_helper {
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(struct pbuf *next_pbuf);
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t start);
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t end);
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** } PACK_STRUCT_STRUCT;
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_END
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/epstruct.h"
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_ADDRESSES_AND_ID_MATCH(iphdrA, iphdrB)  \
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   (ip4_addr_cmp(&(iphdrA)->src, &(iphdrB)->src) && \
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    ip4_addr_cmp(&(iphdrA)->dest, &(iphdrB)->dest) && \
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    IPH_ID(iphdrA) == IPH_ID(iphdrB)) ? 1 : 0
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* global variables */
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata *reassdatagrams;
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static u16_t ip_reass_pbufcount;
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* function prototypes */
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembly timer base function
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * for both NO_SYS == 0 and 1 (!).
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Should be called every 1000 msec (defined by IP_TMR_INTERVAL).
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** void
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_tmr(void)
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
  41              		.loc 1 129 1
  42              		.cfi_startproc
  43              		@ args = 0, pretend = 0, frame = 16
  44              		@ frame_needed = 1, uses_anonymous_args = 0
  45 0000 80B5     		push	{r7, lr}
  46              	.LCFI0:
  47              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc4WdnkV.s 			page 4


  48              		.cfi_offset 7, -8
  49              		.cfi_offset 14, -4
  50 0002 84B0     		sub	sp, sp, #16
  51              	.LCFI1:
  52              		.cfi_def_cfa_offset 24
  53 0004 00AF     		add	r7, sp, #0
  54              	.LCFI2:
  55              		.cfi_def_cfa_register 7
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *prev = NULL;
  56              		.loc 1 130 28
  57 0006 0023     		movs	r3, #0
  58 0008 BB60     		str	r3, [r7, #8]
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   r = reassdatagrams;
  59              		.loc 1 132 5
  60 000a 124B     		ldr	r3, .L5
  61 000c 1B68     		ldr	r3, [r3]
  62 000e FB60     		str	r3, [r7, #12]
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
  63              		.loc 1 133 9
  64 0010 18E0     		b	.L2
  65              	.L4:
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * clean up the incomplete fragment assembly */
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (r->timer > 0) {
  66              		.loc 1 136 10
  67 0012 FB68     		ldr	r3, [r7, #12]
  68 0014 DB7F     		ldrb	r3, [r3, #31]	@ zero_extendqisi2
  69              		.loc 1 136 8
  70 0016 002B     		cmp	r3, #0
  71 0018 0BD0     		beq	.L3
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
  72              		.loc 1 137 8
  73 001a FB68     		ldr	r3, [r7, #12]
  74 001c DB7F     		ldrb	r3, [r3, #31]	@ zero_extendqisi2
  75              		.loc 1 137 15
  76 001e 013B     		subs	r3, r3, #1
  77 0020 DAB2     		uxtb	r2, r3
  78 0022 FB68     		ldr	r3, [r7, #12]
  79 0024 DA77     		strb	r2, [r3, #31]
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n", (u16_t)r->timer));
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       prev = r;
  80              		.loc 1 139 12
  81 0026 FB68     		ldr	r3, [r7, #12]
  82 0028 BB60     		str	r3, [r7, #8]
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
  83              		.loc 1 140 9
  84 002a FB68     		ldr	r3, [r7, #12]
  85 002c 1B68     		ldr	r3, [r3]
  86 002e FB60     		str	r3, [r7, #12]
  87 0030 08E0     		b	.L2
  88              	.L3:
  89              	.LBB2:
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* reassembly timed out */
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct ip_reassdata *tmp;
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer timed out\n"));
ARM GAS  /tmp/cc4WdnkV.s 			page 5


 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = r;
  90              		.loc 1 145 11
  91 0032 FB68     		ldr	r3, [r7, #12]
  92 0034 7B60     		str	r3, [r7, #4]
 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* get the next pointer before freeing */
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
  93              		.loc 1 147 9
  94 0036 FB68     		ldr	r3, [r7, #12]
  95 0038 1B68     		ldr	r3, [r3]
  96 003a FB60     		str	r3, [r7, #12]
 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ip_reass_free_complete_datagram(tmp, prev);
  97              		.loc 1 149 7
  98 003c B968     		ldr	r1, [r7, #8]
  99 003e 7868     		ldr	r0, [r7, #4]
 100 0040 FFF7FEFF 		bl	ip_reass_free_complete_datagram
 101              	.L2:
 102              	.LBE2:
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 103              		.loc 1 133 9
 104 0044 FB68     		ldr	r3, [r7, #12]
 105 0046 002B     		cmp	r3, #0
 106 0048 E3D1     		bne	.L4
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 107              		.loc 1 152 1
 108 004a 00BF     		nop
 109 004c 1037     		adds	r7, r7, #16
 110              	.LCFI3:
 111              		.cfi_def_cfa_offset 8
 112 004e BD46     		mov	sp, r7
 113              	.LCFI4:
 114              		.cfi_def_cfa_register 13
 115              		@ sp needed
 116 0050 80BD     		pop	{r7, pc}
 117              	.L6:
 118 0052 00BF     		.align	2
 119              	.L5:
 120 0054 00000000 		.word	reassdatagrams
 121              		.cfi_endproc
 122              	.LFE133:
 124              		.section	.rodata
 125              		.align	2
 126              	.LC0:
 127 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag"
 127      6C657761 
 127      7265732F 
 127      54686972 
 127      645F5061 
 128 0033 2E6300   		.ascii	".c\000"
 129 0036 0000     		.align	2
 130              	.LC1:
 131 0038 70726576 		.ascii	"prev != ipr\000"
 131      20213D20 
 131      69707200 
 132              		.align	2
ARM GAS  /tmp/cc4WdnkV.s 			page 6


 133              	.LC2:
 134 0044 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 134      7274696F 
 134      6E202225 
 134      73222066 
 134      61696C65 
 135              		.align	2
 136              	.LC3:
 137 006c 70726576 		.ascii	"prev->next == ipr\000"
 137      2D3E6E65 
 137      7874203D 
 137      3D206970 
 137      7200
 138 007e 0000     		.align	2
 139              	.LC4:
 140 0080 70627566 		.ascii	"pbufs_freed + clen <= 0xffff\000"
 140      735F6672 
 140      65656420 
 140      2B20636C 
 140      656E203C 
 141 009d 000000   		.align	2
 142              	.LC5:
 143 00a0 69705F72 		.ascii	"ip_reass_pbufcount >= pbufs_freed\000"
 143      65617373 
 143      5F706275 
 143      66636F75 
 143      6E74203E 
 144              		.section	.text.ip_reass_free_complete_datagram,"ax",%progbits
 145              		.align	1
 146              		.syntax unified
 147              		.thumb
 148              		.thumb_func
 149              		.fpu fpv4-sp-d16
 151              	ip_reass_free_complete_datagram:
 152              	.LFB134:
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free a datagram (struct ip_reassdata) and all its pbufs.
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Updates the total count of enqueued pbufs (ip_reass_pbufcount),
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SNMP counters and sends an ICMP time exceeded packet.
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr datagram to free
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param prev the previous datagram in the linked list
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 153              		.loc 1 165 1
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 32
 156              		@ frame_needed = 1, uses_anonymous_args = 0
 157 0000 80B5     		push	{r7, lr}
 158              	.LCFI5:
 159              		.cfi_def_cfa_offset 8
 160              		.cfi_offset 7, -8
 161              		.cfi_offset 14, -4
ARM GAS  /tmp/cc4WdnkV.s 			page 7


 162 0002 88B0     		sub	sp, sp, #32
 163              	.LCFI6:
 164              		.cfi_def_cfa_offset 40
 165 0004 00AF     		add	r7, sp, #0
 166              	.LCFI7:
 167              		.cfi_def_cfa_register 7
 168 0006 7860     		str	r0, [r7, #4]
 169 0008 3960     		str	r1, [r7]
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
 170              		.loc 1 166 9
 171 000a 0023     		movs	r3, #0
 172 000c FB83     		strh	r3, [r7, #30]	@ movhi
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *p;
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("prev != ipr", prev != ipr);
 173              		.loc 1 171 3
 174 000e 3A68     		ldr	r2, [r7]
 175 0010 7B68     		ldr	r3, [r7, #4]
 176 0012 9A42     		cmp	r2, r3
 177 0014 05D1     		bne	.L8
 178              		.loc 1 171 3 is_stmt 0 discriminator 1
 179 0016 454B     		ldr	r3, .L17
 180 0018 AB22     		movs	r2, #171
 181 001a 4549     		ldr	r1, .L17+4
 182 001c 4548     		ldr	r0, .L17+8
 183 001e FFF7FEFF 		bl	printf
 184              	.L8:
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 185              		.loc 1 172 6 is_stmt 1
 186 0022 3B68     		ldr	r3, [r7]
 187 0024 002B     		cmp	r3, #0
 188 0026 0AD0     		beq	.L9
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 189              		.loc 1 173 5
 190 0028 3B68     		ldr	r3, [r7]
 191 002a 1B68     		ldr	r3, [r3]
 192 002c 7A68     		ldr	r2, [r7, #4]
 193 002e 9A42     		cmp	r2, r3
 194 0030 05D0     		beq	.L9
 195              		.loc 1 173 5 is_stmt 0 discriminator 1
 196 0032 3E4B     		ldr	r3, .L17
 197 0034 AD22     		movs	r2, #173
 198 0036 4049     		ldr	r1, .L17+12
 199 0038 3E48     		ldr	r0, .L17+8
 200 003a FFF7FEFF 		bl	printf
 201              	.L9:
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmfails);
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_ICMP
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper *)ipr->p->payload;
 202              		.loc 1 178 39 is_stmt 1
 203 003e 7B68     		ldr	r3, [r7, #4]
 204 0040 5B68     		ldr	r3, [r3, #4]
 205              		.loc 1 178 8
ARM GAS  /tmp/cc4WdnkV.s 			page 8


 206 0042 5B68     		ldr	r3, [r3, #4]
 207 0044 7B61     		str	r3, [r7, #20]
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 208              		.loc 1 179 11
 209 0046 7B69     		ldr	r3, [r7, #20]
 210 0048 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 211 004a 9BB2     		uxth	r3, r3
 212              		.loc 1 179 6
 213 004c 002B     		cmp	r3, #0
 214 004e 2AD1     		bne	.L10
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* First, de-queue the first pbuf from r->p. */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
 215              		.loc 1 182 7
 216 0050 7B68     		ldr	r3, [r7, #4]
 217 0052 5B68     		ldr	r3, [r3, #4]
 218 0054 BB61     		str	r3, [r7, #24]
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->p = iprh->next_pbuf;
 219              		.loc 1 183 18
 220 0056 7B69     		ldr	r3, [r7, #20]
 221 0058 1A68     		ldr	r2, [r3]	@ unaligned
 222              		.loc 1 183 12
 223 005a 7B68     		ldr	r3, [r7, #4]
 224 005c 5A60     		str	r2, [r3, #4]
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(p->payload, &ipr->iphdr, IP_HLEN);
 225              		.loc 1 185 5
 226 005e BB69     		ldr	r3, [r7, #24]
 227 0060 5868     		ldr	r0, [r3, #4]
 228 0062 7B68     		ldr	r3, [r7, #4]
 229 0064 0833     		adds	r3, r3, #8
 230 0066 1422     		movs	r2, #20
 231 0068 1946     		mov	r1, r3
 232 006a FFF7FEFF 		bl	memcpy
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     icmp_time_exceeded(p, ICMP_TE_FRAG);
 233              		.loc 1 186 5
 234 006e 0121     		movs	r1, #1
 235 0070 B869     		ldr	r0, [r7, #24]
 236 0072 FFF7FEFF 		bl	icmp_time_exceeded
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 237              		.loc 1 187 12
 238 0076 B869     		ldr	r0, [r7, #24]
 239 0078 FFF7FEFF 		bl	pbuf_clen
 240 007c 0346     		mov	r3, r0
 241 007e 7B82     		strh	r3, [r7, #18]	@ movhi
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 242              		.loc 1 188 5
 243 0080 FA8B     		ldrh	r2, [r7, #30]
 244 0082 7B8A     		ldrh	r3, [r7, #18]
 245 0084 1344     		add	r3, r3, r2
 246 0086 B3F5803F 		cmp	r3, #65536
 247 008a 05DB     		blt	.L11
 248              		.loc 1 188 5 is_stmt 0 discriminator 1
 249 008c 274B     		ldr	r3, .L17
 250 008e BC22     		movs	r2, #188
 251 0090 2A49     		ldr	r1, .L17+16
 252 0092 2848     		ldr	r0, .L17+8
ARM GAS  /tmp/cc4WdnkV.s 			page 9


 253 0094 FFF7FEFF 		bl	printf
 254              	.L11:
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed = (u16_t)(pbufs_freed + clen);
 255              		.loc 1 189 17 is_stmt 1
 256 0098 FA8B     		ldrh	r2, [r7, #30]	@ movhi
 257 009a 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 258 009c 1344     		add	r3, r3, r2
 259 009e FB83     		strh	r3, [r7, #30]	@ movhi
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(p);
 260              		.loc 1 190 5
 261 00a0 B869     		ldr	r0, [r7, #24]
 262 00a2 FFF7FEFF 		bl	pbuf_free
 263              	.L10:
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_ICMP */
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* First, free all received pbufs.  The individual pbufs need to be released
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      separately as they have not yet been chained */
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   p = ipr->p;
 264              		.loc 1 196 5
 265 00a6 7B68     		ldr	r3, [r7, #4]
 266 00a8 5B68     		ldr	r3, [r3, #4]
 267 00aa BB61     		str	r3, [r7, #24]
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 268              		.loc 1 197 9
 269 00ac 1FE0     		b	.L12
 270              	.L14:
 271              	.LBB3:
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh = (struct ip_reass_helper *)p->payload;
 272              		.loc 1 199 10
 273 00ae BB69     		ldr	r3, [r7, #24]
 274 00b0 5B68     		ldr	r3, [r3, #4]
 275 00b2 7B61     		str	r3, [r7, #20]
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 276              		.loc 1 200 10
 277 00b4 BB69     		ldr	r3, [r7, #24]
 278 00b6 FB60     		str	r3, [r7, #12]
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* get the next pointer before freeing */
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = iprh->next_pbuf;
 279              		.loc 1 202 7
 280 00b8 7B69     		ldr	r3, [r7, #20]
 281 00ba 1B68     		ldr	r3, [r3]	@ unaligned
 282 00bc BB61     		str	r3, [r7, #24]
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 283              		.loc 1 203 12
 284 00be F868     		ldr	r0, [r7, #12]
 285 00c0 FFF7FEFF 		bl	pbuf_clen
 286 00c4 0346     		mov	r3, r0
 287 00c6 7B82     		strh	r3, [r7, #18]	@ movhi
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 288              		.loc 1 204 5
 289 00c8 FA8B     		ldrh	r2, [r7, #30]
 290 00ca 7B8A     		ldrh	r3, [r7, #18]
 291 00cc 1344     		add	r3, r3, r2
 292 00ce B3F5803F 		cmp	r3, #65536
 293 00d2 05DB     		blt	.L13
ARM GAS  /tmp/cc4WdnkV.s 			page 10


 294              		.loc 1 204 5 is_stmt 0 discriminator 1
 295 00d4 154B     		ldr	r3, .L17
 296 00d6 CC22     		movs	r2, #204
 297 00d8 1849     		ldr	r1, .L17+16
 298 00da 1648     		ldr	r0, .L17+8
 299 00dc FFF7FEFF 		bl	printf
 300              	.L13:
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed = (u16_t)(pbufs_freed + clen);
 301              		.loc 1 205 17 is_stmt 1
 302 00e0 FA8B     		ldrh	r2, [r7, #30]	@ movhi
 303 00e2 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 304 00e4 1344     		add	r3, r3, r2
 305 00e6 FB83     		strh	r3, [r7, #30]	@ movhi
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
 306              		.loc 1 206 5
 307 00e8 F868     		ldr	r0, [r7, #12]
 308 00ea FFF7FEFF 		bl	pbuf_free
 309              	.L12:
 310              	.LBE3:
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 311              		.loc 1 197 9
 312 00ee BB69     		ldr	r3, [r7, #24]
 313 00f0 002B     		cmp	r3, #0
 314 00f2 DCD1     		bne	.L14
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Then, unchain the struct ip_reassdata from the list and free it. */
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_dequeue_datagram(ipr, prev);
 315              		.loc 1 209 3
 316 00f4 3968     		ldr	r1, [r7]
 317 00f6 7868     		ldr	r0, [r7, #4]
 318 00f8 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ip_reass_pbufcount >= pbufs_freed", ip_reass_pbufcount >= pbufs_freed);
 319              		.loc 1 210 3
 320 00fc 104B     		ldr	r3, .L17+20
 321 00fe 1B88     		ldrh	r3, [r3]
 322 0100 FA8B     		ldrh	r2, [r7, #30]
 323 0102 9A42     		cmp	r2, r3
 324 0104 05D9     		bls	.L15
 325              		.loc 1 210 3 is_stmt 0 discriminator 1
 326 0106 094B     		ldr	r3, .L17
 327 0108 D222     		movs	r2, #210
 328 010a 0E49     		ldr	r1, .L17+24
 329 010c 0948     		ldr	r0, .L17+8
 330 010e FFF7FEFF 		bl	printf
 331              	.L15:
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount = (u16_t)(ip_reass_pbufcount - pbufs_freed);
 332              		.loc 1 211 24 is_stmt 1
 333 0112 0B4B     		ldr	r3, .L17+20
 334 0114 1A88     		ldrh	r2, [r3]
 335 0116 FB8B     		ldrh	r3, [r7, #30]	@ movhi
 336 0118 D31A     		subs	r3, r2, r3
 337 011a 9AB2     		uxth	r2, r3
 338              		.loc 1 211 22
 339 011c 084B     		ldr	r3, .L17+20
 340 011e 1A80     		strh	r2, [r3]	@ movhi
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
ARM GAS  /tmp/cc4WdnkV.s 			page 11


 341              		.loc 1 213 10
 342 0120 FB8B     		ldrh	r3, [r7, #30]
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 343              		.loc 1 214 1
 344 0122 1846     		mov	r0, r3
 345 0124 2037     		adds	r7, r7, #32
 346              	.LCFI8:
 347              		.cfi_def_cfa_offset 8
 348 0126 BD46     		mov	sp, r7
 349              	.LCFI9:
 350              		.cfi_def_cfa_register 13
 351              		@ sp needed
 352 0128 80BD     		pop	{r7, pc}
 353              	.L18:
 354 012a 00BF     		.align	2
 355              	.L17:
 356 012c 00000000 		.word	.LC0
 357 0130 38000000 		.word	.LC1
 358 0134 44000000 		.word	.LC2
 359 0138 6C000000 		.word	.LC3
 360 013c 80000000 		.word	.LC4
 361 0140 00000000 		.word	ip_reass_pbufcount
 362 0144 A0000000 		.word	.LC5
 363              		.cfi_endproc
 364              	.LFE134:
 366              		.section	.text.ip_reass_remove_oldest_datagram,"ax",%progbits
 367              		.align	1
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 371              		.fpu fpv4-sp-d16
 373              	ip_reass_remove_oldest_datagram:
 374              	.LFB135:
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free the oldest datagram to make room for enqueueing new fragments.
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The datagram 'fraghdr' belongs to is not freed!
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr IP header of the current fragment
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param pbufs_needed number of pbufs needed to enqueue
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *        (used for freeing other datagrams if not enough space)
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_remove_oldest_datagram(struct ip_hdr *fraghdr, int pbufs_needed)
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 375              		.loc 1 228 1
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 40
 378              		@ frame_needed = 1, uses_anonymous_args = 0
 379 0000 80B5     		push	{r7, lr}
 380              	.LCFI10:
 381              		.cfi_def_cfa_offset 8
 382              		.cfi_offset 7, -8
 383              		.cfi_offset 14, -4
 384 0002 8AB0     		sub	sp, sp, #40
ARM GAS  /tmp/cc4WdnkV.s 			page 12


 385              	.LCFI11:
 386              		.cfi_def_cfa_offset 48
 387 0004 00AF     		add	r7, sp, #0
 388              	.LCFI12:
 389              		.cfi_def_cfa_register 7
 390 0006 7860     		str	r0, [r7, #4]
 391 0008 3960     		str	r1, [r7]
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    *       linked list behind reassdatagrams?
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    */
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *oldest, *prev, *oldest_prev;
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int pbufs_freed = 0, pbufs_freed_current;
 392              		.loc 1 233 7
 393 000a 0023     		movs	r3, #0
 394 000c 7B61     		str	r3, [r7, #20]
 395              	.L28:
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Free datagrams until being allowed to enqueue 'pbufs_needed' pbufs,
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * but don't free the datagram that 'fraghdr' belongs to! */
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   do {
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest = NULL;
 396              		.loc 1 239 12
 397 000e 0023     		movs	r3, #0
 398 0010 3B62     		str	r3, [r7, #32]
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 399              		.loc 1 240 10
 400 0012 0023     		movs	r3, #0
 401 0014 FB61     		str	r3, [r7, #28]
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 402              		.loc 1 241 17
 403 0016 0023     		movs	r3, #0
 404 0018 BB61     		str	r3, [r7, #24]
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 405              		.loc 1 242 21
 406 001a 0023     		movs	r3, #0
 407 001c 3B61     		str	r3, [r7, #16]
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 408              		.loc 1 243 7
 409 001e 284B     		ldr	r3, .L30
 410 0020 1B68     		ldr	r3, [r3]
 411 0022 7B62     		str	r3, [r7, #36]
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 412              		.loc 1 244 11
 413 0024 30E0     		b	.L20
 414              	.L25:
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 415              		.loc 1 245 12
 416 0026 7B6A     		ldr	r3, [r7, #36]
 417 0028 5A69     		ldr	r2, [r3, #20]
 418 002a 7B68     		ldr	r3, [r7, #4]
 419 002c DB68     		ldr	r3, [r3, #12]	@ unaligned
 420              		.loc 1 245 10
 421 002e 9A42     		cmp	r2, r3
 422 0030 0CD1     		bne	.L21
 423              		.loc 1 245 12 discriminator 1
 424 0032 7B6A     		ldr	r3, [r7, #36]
ARM GAS  /tmp/cc4WdnkV.s 			page 13


 425 0034 9A69     		ldr	r2, [r3, #24]
 426 0036 7B68     		ldr	r3, [r7, #4]
 427 0038 1B69     		ldr	r3, [r3, #16]	@ unaligned
 428 003a 9A42     		cmp	r2, r3
 429 003c 06D1     		bne	.L21
 430              		.loc 1 245 12 is_stmt 0 discriminator 2
 431 003e 7B6A     		ldr	r3, [r7, #36]
 432 0040 9A89     		ldrh	r2, [r3, #12]
 433 0042 7B68     		ldr	r3, [r7, #4]
 434 0044 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 435 0046 9BB2     		uxth	r3, r3
 436              		.loc 1 245 11 is_stmt 1 discriminator 2
 437 0048 9A42     		cmp	r2, r3
 438 004a 14D0     		beq	.L22
 439              	.L21:
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         other_datagrams++;
 440              		.loc 1 247 24
 441 004c 3B69     		ldr	r3, [r7, #16]
 442 004e 0133     		adds	r3, r3, #1
 443 0050 3B61     		str	r3, [r7, #16]
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
 444              		.loc 1 248 12
 445 0052 3B6A     		ldr	r3, [r7, #32]
 446 0054 002B     		cmp	r3, #0
 447 0056 04D1     		bne	.L23
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 448              		.loc 1 249 18
 449 0058 7B6A     		ldr	r3, [r7, #36]
 450 005a 3B62     		str	r3, [r7, #32]
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 451              		.loc 1 250 23
 452 005c FB69     		ldr	r3, [r7, #28]
 453 005e BB61     		str	r3, [r7, #24]
 454 0060 09E0     		b	.L22
 455              	.L23:
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         } else if (r->timer <= oldest->timer) {
 456              		.loc 1 251 21
 457 0062 7B6A     		ldr	r3, [r7, #36]
 458 0064 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 459              		.loc 1 251 38
 460 0066 3B6A     		ldr	r3, [r7, #32]
 461 0068 DB7F     		ldrb	r3, [r3, #31]	@ zero_extendqisi2
 462              		.loc 1 251 19
 463 006a 9A42     		cmp	r2, r3
 464 006c 03D8     		bhi	.L22
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 465              		.loc 1 253 18
 466 006e 7B6A     		ldr	r3, [r7, #36]
 467 0070 3B62     		str	r3, [r7, #32]
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 468              		.loc 1 254 23
 469 0072 FB69     		ldr	r3, [r7, #28]
 470 0074 BB61     		str	r3, [r7, #24]
 471              	.L22:
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
ARM GAS  /tmp/cc4WdnkV.s 			page 14


 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (r->next != NULL) {
 472              		.loc 1 257 12
 473 0076 7B6A     		ldr	r3, [r7, #36]
 474 0078 1B68     		ldr	r3, [r3]
 475              		.loc 1 257 10
 476 007a 002B     		cmp	r3, #0
 477 007c 01D0     		beq	.L24
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 478              		.loc 1 258 14
 479 007e 7B6A     		ldr	r3, [r7, #36]
 480 0080 FB61     		str	r3, [r7, #28]
 481              	.L24:
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 482              		.loc 1 260 9
 483 0082 7B6A     		ldr	r3, [r7, #36]
 484 0084 1B68     		ldr	r3, [r3]
 485 0086 7B62     		str	r3, [r7, #36]
 486              	.L20:
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 487              		.loc 1 244 11
 488 0088 7B6A     		ldr	r3, [r7, #36]
 489 008a 002B     		cmp	r3, #0
 490 008c CBD1     		bne	.L25
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (oldest != NULL) {
 491              		.loc 1 262 8
 492 008e 3B6A     		ldr	r3, [r7, #32]
 493 0090 002B     		cmp	r3, #0
 494 0092 08D0     		beq	.L26
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 495              		.loc 1 263 29
 496 0094 B969     		ldr	r1, [r7, #24]
 497 0096 386A     		ldr	r0, [r7, #32]
 498 0098 FFF7FEFF 		bl	ip_reass_free_complete_datagram
 499 009c F860     		str	r0, [r7, #12]
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 500              		.loc 1 264 19
 501 009e 7A69     		ldr	r2, [r7, #20]
 502 00a0 FB68     		ldr	r3, [r7, #12]
 503 00a2 1344     		add	r3, r3, r2
 504 00a4 7B61     		str	r3, [r7, #20]
 505              	.L26:
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } while ((pbufs_freed < pbufs_needed) && (other_datagrams > 1));
 506              		.loc 1 266 3
 507 00a6 7A69     		ldr	r2, [r7, #20]
 508 00a8 3B68     		ldr	r3, [r7]
 509 00aa 9A42     		cmp	r2, r3
 510 00ac 02DA     		bge	.L27
 511              		.loc 1 266 41 discriminator 1
 512 00ae 3B69     		ldr	r3, [r7, #16]
 513 00b0 012B     		cmp	r3, #1
 514 00b2 ACDC     		bgt	.L28
 515              	.L27:
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
ARM GAS  /tmp/cc4WdnkV.s 			page 15


 516              		.loc 1 267 10
 517 00b4 7B69     		ldr	r3, [r7, #20]
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 518              		.loc 1 268 1
 519 00b6 1846     		mov	r0, r3
 520 00b8 2837     		adds	r7, r7, #40
 521              	.LCFI13:
 522              		.cfi_def_cfa_offset 8
 523 00ba BD46     		mov	sp, r7
 524              	.LCFI14:
 525              		.cfi_def_cfa_register 13
 526              		@ sp needed
 527 00bc 80BD     		pop	{r7, pc}
 528              	.L31:
 529 00be 00BF     		.align	2
 530              	.L30:
 531 00c0 00000000 		.word	reassdatagrams
 532              		.cfi_endproc
 533              	.LFE135:
 535              		.section	.text.ip_reass_enqueue_new_datagram,"ax",%progbits
 536              		.align	1
 537              		.syntax unified
 538              		.thumb
 539              		.thumb_func
 540              		.fpu fpv4-sp-d16
 542              	ip_reass_enqueue_new_datagram:
 543              	.LFB136:
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Enqueues a new fragment into the fragment queue
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr points to the new fragments IP hdr
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param clen number of pbufs needed to enqueue (used for freeing other datagrams if not enough sp
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return A pointer to the queue location into which the fragment was enqueued
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata *
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_enqueue_new_datagram(struct ip_hdr *fraghdr, int clen)
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 544              		.loc 1 279 1
 545              		.cfi_startproc
 546              		@ args = 0, pretend = 0, frame = 16
 547              		@ frame_needed = 1, uses_anonymous_args = 0
 548 0000 80B5     		push	{r7, lr}
 549              	.LCFI15:
 550              		.cfi_def_cfa_offset 8
 551              		.cfi_offset 7, -8
 552              		.cfi_offset 14, -4
 553 0002 84B0     		sub	sp, sp, #16
 554              	.LCFI16:
 555              		.cfi_def_cfa_offset 24
 556 0004 00AF     		add	r7, sp, #0
 557              	.LCFI17:
 558              		.cfi_def_cfa_register 7
 559 0006 7860     		str	r0, [r7, #4]
 560 0008 3960     		str	r1, [r7]
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *ipr;
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if ! IP_REASS_FREE_OLDEST
ARM GAS  /tmp/cc4WdnkV.s 			page 16


 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_UNUSED_ARG(clen);
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* No matching previous fragment found, allocate a new reassdata struct */
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 561              		.loc 1 286 32
 562 000a 0420     		movs	r0, #4
 563 000c FFF7FEFF 		bl	memp_malloc
 564 0010 F860     		str	r0, [r7, #12]
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 565              		.loc 1 287 6
 566 0012 FB68     		ldr	r3, [r7, #12]
 567 0014 002B     		cmp	r3, #0
 568 0016 10D1     		bne	.L33
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ip_reass_remove_oldest_datagram(fraghdr, clen) >= clen) {
 569              		.loc 1 289 9
 570 0018 3968     		ldr	r1, [r7]
 571 001a 7868     		ldr	r0, [r7, #4]
 572 001c FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
 573 0020 0246     		mov	r2, r0
 574              		.loc 1 289 8
 575 0022 3B68     		ldr	r3, [r7]
 576 0024 9342     		cmp	r3, r2
 577 0026 03DC     		bgt	.L34
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 578              		.loc 1 290 36
 579 0028 0420     		movs	r0, #4
 580 002a FFF7FEFF 		bl	memp_malloc
 581 002e F860     		str	r0, [r7, #12]
 582              	.L34:
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL)
 583              		.loc 1 292 8
 584 0030 FB68     		ldr	r3, [r7, #12]
 585 0032 002B     		cmp	r3, #0
 586 0034 01D1     		bne	.L33
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("Failed to alloc reassdata struct\n"));
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       return NULL;
 587              		.loc 1 297 14
 588 0036 0023     		movs	r3, #0
 589 0038 16E0     		b	.L35
 590              	.L33:
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memset(ipr, 0, sizeof(struct ip_reassdata));
 591              		.loc 1 300 3
 592 003a 2022     		movs	r2, #32
 593 003c 0021     		movs	r1, #0
 594 003e F868     		ldr	r0, [r7, #12]
 595 0040 FFF7FEFF 		bl	memset
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->timer = IP_REASS_MAXAGE;
 596              		.loc 1 301 14
 597 0044 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cc4WdnkV.s 			page 17


 598 0046 0F22     		movs	r2, #15
 599 0048 DA77     		strb	r2, [r3, #31]
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* enqueue the new structure to the front of the list */
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->next = reassdatagrams;
 600              		.loc 1 304 13
 601 004a 094B     		ldr	r3, .L36
 602 004c 1A68     		ldr	r2, [r3]
 603 004e FB68     		ldr	r3, [r7, #12]
 604 0050 1A60     		str	r2, [r3]
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 605              		.loc 1 305 18
 606 0052 074A     		ldr	r2, .L36
 607 0054 FB68     		ldr	r3, [r7, #12]
 608 0056 1360     		str	r3, [r2]
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: no ip options supported? */
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   SMEMCPY(&(ipr->iphdr), fraghdr, IP_HLEN);
 609              		.loc 1 308 3
 610 0058 FB68     		ldr	r3, [r7, #12]
 611 005a 0833     		adds	r3, r3, #8
 612 005c 1422     		movs	r2, #20
 613 005e 7968     		ldr	r1, [r7, #4]
 614 0060 1846     		mov	r0, r3
 615 0062 FFF7FEFF 		bl	memcpy
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ipr;
 616              		.loc 1 309 10
 617 0066 FB68     		ldr	r3, [r7, #12]
 618              	.L35:
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 619              		.loc 1 310 1
 620 0068 1846     		mov	r0, r3
 621 006a 1037     		adds	r7, r7, #16
 622              	.LCFI18:
 623              		.cfi_def_cfa_offset 8
 624 006c BD46     		mov	sp, r7
 625              	.LCFI19:
 626              		.cfi_def_cfa_register 13
 627              		@ sp needed
 628 006e 80BD     		pop	{r7, pc}
 629              	.L37:
 630              		.align	2
 631              	.L36:
 632 0070 00000000 		.word	reassdatagrams
 633              		.cfi_endproc
 634              	.LFE136:
 636              		.section	.rodata
 637 00c2 0000     		.align	2
 638              	.LC6:
 639 00c4 73616E69 		.ascii	"sanity check linked list\000"
 639      74792063 
 639      6865636B 
 639      206C696E 
 639      6B656420 
 640              		.section	.text.ip_reass_dequeue_datagram,"ax",%progbits
 641              		.align	1
 642              		.syntax unified
ARM GAS  /tmp/cc4WdnkV.s 			page 18


 643              		.thumb
 644              		.thumb_func
 645              		.fpu fpv4-sp-d16
 647              	ip_reass_dequeue_datagram:
 648              	.LFB137:
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Dequeues a datagram from the datagram queue. Doesn't deallocate the pbufs.
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the queue entry to dequeue
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 649              		.loc 1 318 1
 650              		.cfi_startproc
 651              		@ args = 0, pretend = 0, frame = 8
 652              		@ frame_needed = 1, uses_anonymous_args = 0
 653 0000 80B5     		push	{r7, lr}
 654              	.LCFI20:
 655              		.cfi_def_cfa_offset 8
 656              		.cfi_offset 7, -8
 657              		.cfi_offset 14, -4
 658 0002 82B0     		sub	sp, sp, #8
 659              	.LCFI21:
 660              		.cfi_def_cfa_offset 16
 661 0004 00AF     		add	r7, sp, #0
 662              	.LCFI22:
 663              		.cfi_def_cfa_register 7
 664 0006 7860     		str	r0, [r7, #4]
 665 0008 3960     		str	r1, [r7]
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* dequeue the reass struct  */
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (reassdatagrams == ipr) {
 666              		.loc 1 320 22
 667 000a 104B     		ldr	r3, .L42
 668 000c 1B68     		ldr	r3, [r3]
 669              		.loc 1 320 6
 670 000e 7A68     		ldr	r2, [r7, #4]
 671 0010 9A42     		cmp	r2, r3
 672 0012 04D1     		bne	.L39
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it was the first in the list */
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     reassdatagrams = ipr->next;
 673              		.loc 1 322 25
 674 0014 7B68     		ldr	r3, [r7, #4]
 675 0016 1B68     		ldr	r3, [r3]
 676              		.loc 1 322 20
 677 0018 0C4A     		ldr	r2, .L42
 678 001a 1360     		str	r3, [r2]
 679 001c 0DE0     		b	.L40
 680              	.L39:
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it wasn't the first, so it must have a valid 'prev' */
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("sanity check linked list", prev != NULL);
 681              		.loc 1 325 5
 682 001e 3B68     		ldr	r3, [r7]
 683 0020 002B     		cmp	r3, #0
 684 0022 06D1     		bne	.L41
 685              		.loc 1 325 5 is_stmt 0 discriminator 1
ARM GAS  /tmp/cc4WdnkV.s 			page 19


 686 0024 0A4B     		ldr	r3, .L42+4
 687 0026 40F24512 		movw	r2, #325
 688 002a 0A49     		ldr	r1, .L42+8
 689 002c 0A48     		ldr	r0, .L42+12
 690 002e FFF7FEFF 		bl	printf
 691              	.L41:
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
 692              		.loc 1 326 21 is_stmt 1
 693 0032 7B68     		ldr	r3, [r7, #4]
 694 0034 1A68     		ldr	r2, [r3]
 695              		.loc 1 326 16
 696 0036 3B68     		ldr	r3, [r7]
 697 0038 1A60     		str	r2, [r3]
 698              	.L40:
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* now we can free the ip_reassdata struct */
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_REASSDATA, ipr);
 699              		.loc 1 330 3
 700 003a 7968     		ldr	r1, [r7, #4]
 701 003c 0420     		movs	r0, #4
 702 003e FFF7FEFF 		bl	memp_free
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 703              		.loc 1 331 1
 704 0042 00BF     		nop
 705 0044 0837     		adds	r7, r7, #8
 706              	.LCFI23:
 707              		.cfi_def_cfa_offset 8
 708 0046 BD46     		mov	sp, r7
 709              	.LCFI24:
 710              		.cfi_def_cfa_register 13
 711              		@ sp needed
 712 0048 80BD     		pop	{r7, pc}
 713              	.L43:
 714 004a 00BF     		.align	2
 715              	.L42:
 716 004c 00000000 		.word	reassdatagrams
 717 0050 00000000 		.word	.LC0
 718 0054 C4000000 		.word	.LC6
 719 0058 44000000 		.word	.LC2
 720              		.cfi_endproc
 721              	.LFE137:
 723              		.section	.rodata
 724 00dd 000000   		.align	2
 725              	.LC7:
 726 00e0 63686563 		.ascii	"check fragments don't overlap\000"
 726      6B206672 
 726      61676D65 
 726      6E747320 
 726      646F6E27 
 727 00fe 0000     		.align	2
 728              	.LC8:
 729 0100 6E6F2070 		.ascii	"no previous fragment, this must be the first fragme"
 729      72657669 
 729      6F757320 
 729      66726167 
 729      6D656E74 
ARM GAS  /tmp/cc4WdnkV.s 			page 20


 730 0133 6E742100 		.ascii	"nt!\000"
 731 0137 00       		.align	2
 732              	.LC9:
 733 0138 73616E69 		.ascii	"sanity check\000"
 733      74792063 
 733      6865636B 
 733      00
 734 0145 000000   		.align	2
 735              	.LC10:
 736 0148 76616C69 		.ascii	"validate_datagram:next_pbuf!=NULL\000"
 736      64617465 
 736      5F646174 
 736      61677261 
 736      6D3A6E65 
 737              		.section	.text.ip_reass_chain_frag_into_datagram_and_validate,"ax",%progbits
 738              		.align	1
 739              		.syntax unified
 740              		.thumb
 741              		.thumb_func
 742              		.fpu fpv4-sp-d16
 744              	ip_reass_chain_frag_into_datagram_and_validate:
 745              	.LFB138:
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chain a new pbuf into the pbuf list that composes the datagram.  The pbuf list
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * will grow over time as  new pbufs are rx.
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Also checks that the datagram passes basic continuity checks (if the last
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * fragment was received at least once).
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the reassembly state
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param new_p points to the pbuf for the current fragment
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param is_last is 1 if this pbuf has MF==0 (ipr->flags not updated yet)
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return see IP_REASS_VALIDATE_* defines
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_chain_frag_into_datagram_and_validate(struct ip_reassdata *ipr, struct pbuf *new_p, int is
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 746              		.loc 1 345 1
 747              		.cfi_startproc
 748              		@ args = 0, pretend = 0, frame = 48
 749              		@ frame_needed = 1, uses_anonymous_args = 0
 750 0000 80B5     		push	{r7, lr}
 751              	.LCFI25:
 752              		.cfi_def_cfa_offset 8
 753              		.cfi_offset 7, -8
 754              		.cfi_offset 14, -4
 755 0002 8CB0     		sub	sp, sp, #48
 756              	.LCFI26:
 757              		.cfi_def_cfa_offset 56
 758 0004 00AF     		add	r7, sp, #0
 759              	.LCFI27:
 760              		.cfi_def_cfa_register 7
 761 0006 F860     		str	r0, [r7, #12]
 762 0008 B960     		str	r1, [r7, #8]
 763 000a 7A60     		str	r2, [r7, #4]
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev = NULL;
 764              		.loc 1 346 45
 765 000c 0023     		movs	r3, #0
ARM GAS  /tmp/cc4WdnkV.s 			page 21


 766 000e BB62     		str	r3, [r7, #40]
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *q;
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len;
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u8_t hlen;
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid = 1;
 767              		.loc 1 351 7
 768 0010 0123     		movs	r3, #1
 769 0012 3B62     		str	r3, [r7, #32]
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Extract length and fragment offset from current fragment */
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr *)new_p->payload;
 770              		.loc 1 354 11
 771 0014 BB68     		ldr	r3, [r7, #8]
 772 0016 5B68     		ldr	r3, [r3, #4]
 773 0018 FB61     		str	r3, [r7, #28]
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr));
 774              		.loc 1 355 9
 775 001a FB69     		ldr	r3, [r7, #28]
 776 001c 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 777 001e 9BB2     		uxth	r3, r3
 778 0020 1846     		mov	r0, r3
 779 0022 FFF7FEFF 		bl	lwip_htons
 780 0026 0346     		mov	r3, r0
 781 0028 7B83     		strh	r3, [r7, #26]	@ movhi
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   hlen = IPH_HL_BYTES(fraghdr);
 782              		.loc 1 356 10
 783 002a FB69     		ldr	r3, [r7, #28]
 784 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 785 002e 03F00F03 		and	r3, r3, #15
 786 0032 DBB2     		uxtb	r3, r3
 787              		.loc 1 356 8
 788 0034 9B00     		lsls	r3, r3, #2
 789 0036 7B76     		strb	r3, [r7, #25]
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (hlen > len) {
 790              		.loc 1 357 12
 791 0038 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 792 003a 9BB2     		uxth	r3, r3
 793              		.loc 1 357 6
 794 003c 7A8B     		ldrh	r2, [r7, #26]
 795 003e 9A42     		cmp	r2, r3
 796 0040 02D2     		bcs	.L45
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* invalid datagram */
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return IP_REASS_VALIDATE_PBUF_DROPPED;
 797              		.loc 1 359 12
 798 0042 4FF0FF33 		mov	r3, #-1
 799 0046 35E1     		b	.L46
 800              	.L45:
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = (u16_t)(len - hlen);
 801              		.loc 1 361 9
 802 0048 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 803 004a 9BB2     		uxth	r3, r3
 804              		.loc 1 361 7
 805 004c 7A8B     		ldrh	r2, [r7, #26]	@ movhi
 806 004e D31A     		subs	r3, r2, r3
 807 0050 7B83     		strh	r3, [r7, #26]	@ movhi
ARM GAS  /tmp/cc4WdnkV.s 			page 22


 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = IPH_OFFSET_BYTES(fraghdr);
 808              		.loc 1 362 12
 809 0052 FB69     		ldr	r3, [r7, #28]
 810 0054 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 811 0056 9BB2     		uxth	r3, r3
 812 0058 1846     		mov	r0, r3
 813 005a FFF7FEFF 		bl	lwip_htons
 814 005e 0346     		mov	r3, r0
 815 0060 C3F30C03 		ubfx	r3, r3, #0, #13
 816 0064 9BB2     		uxth	r3, r3
 817              		.loc 1 362 10
 818 0066 DB00     		lsls	r3, r3, #3
 819 0068 FB82     		strh	r3, [r7, #22]	@ movhi
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* overwrite the fragment's ip header from the pbuf with our helper struct,
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * and setup the embedded helper structure. */
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* make sure the struct ip_reass_helper fits into the IP header */
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("sizeof(struct ip_reass_helper) <= IP_HLEN",
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper *)new_p->payload;
 820              		.loc 1 369 8
 821 006a BB68     		ldr	r3, [r7, #8]
 822 006c 5B68     		ldr	r3, [r3, #4]
 823 006e FB62     		str	r3, [r7, #44]
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
 824              		.loc 1 370 19
 825 0070 FB6A     		ldr	r3, [r7, #44]
 826 0072 0022     		movs	r2, #0
 827 0074 1A70     		strb	r2, [r3]
 828 0076 0022     		movs	r2, #0
 829 0078 5A70     		strb	r2, [r3, #1]
 830 007a 0022     		movs	r2, #0
 831 007c 9A70     		strb	r2, [r3, #2]
 832 007e 0022     		movs	r2, #0
 833 0080 DA70     		strb	r2, [r3, #3]
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 834              		.loc 1 371 15
 835 0082 FB6A     		ldr	r3, [r7, #44]
 836 0084 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 837 0086 9A80     		strh	r2, [r3, #4]	@ unaligned
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = (u16_t)(offset + len);
 838              		.loc 1 372 15
 839 0088 FA8A     		ldrh	r2, [r7, #22]	@ movhi
 840 008a 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 841 008c 1344     		add	r3, r3, r2
 842 008e 9AB2     		uxth	r2, r3
 843              		.loc 1 372 13
 844 0090 FB6A     		ldr	r3, [r7, #44]
 845 0092 DA80     		strh	r2, [r3, #6]	@ unaligned
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->end < offset) {
 846              		.loc 1 373 11
 847 0094 FB6A     		ldr	r3, [r7, #44]
 848 0096 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 849 0098 9BB2     		uxth	r3, r3
 850              		.loc 1 373 6
 851 009a FA8A     		ldrh	r2, [r7, #22]
 852 009c 9A42     		cmp	r2, r3
ARM GAS  /tmp/cc4WdnkV.s 			page 23


 853 009e 02D9     		bls	.L47
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* u16_t overflow, cannot handle this */
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return IP_REASS_VALIDATE_PBUF_DROPPED;
 854              		.loc 1 375 12
 855 00a0 4FF0FF33 		mov	r3, #-1
 856 00a4 06E1     		b	.L46
 857              	.L47:
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Iterate through until we either get to the end of the list (append),
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * or we find one with a larger offset (insert). */
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (q = ipr->p; q != NULL;) {
 858              		.loc 1 380 10
 859 00a6 FB68     		ldr	r3, [r7, #12]
 860 00a8 5B68     		ldr	r3, [r3, #4]
 861 00aa 7B62     		str	r3, [r7, #36]
 862              		.loc 1 380 3
 863 00ac 68E0     		b	.L48
 864              	.L60:
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper *)q->payload;
 865              		.loc 1 381 14
 866 00ae 7B6A     		ldr	r3, [r7, #36]
 867 00b0 5B68     		ldr	r3, [r3, #4]
 868 00b2 3B61     		str	r3, [r7, #16]
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 869              		.loc 1 382 13
 870 00b4 FB6A     		ldr	r3, [r7, #44]
 871 00b6 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 872 00b8 9AB2     		uxth	r2, r3
 873              		.loc 1 382 31
 874 00ba 3B69     		ldr	r3, [r7, #16]
 875 00bc 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 876 00be 9BB2     		uxth	r3, r3
 877              		.loc 1 382 8
 878 00c0 9A42     		cmp	r2, r3
 879 00c2 35D2     		bcs	.L49
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh->next_pbuf = q;
 880              		.loc 1 384 23
 881 00c4 FB6A     		ldr	r3, [r7, #44]
 882 00c6 7A6A     		ldr	r2, [r7, #36]
 883 00c8 1A60     		str	r2, [r3]	@ unaligned
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 884              		.loc 1 385 10
 885 00ca BB6A     		ldr	r3, [r7, #40]
 886 00cc 002B     		cmp	r3, #0
 887 00ce 20D0     		beq	.L50
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if ((iprh->start < iprh_prev->end) || (iprh->end > iprh_tmp->start)) {
 888              		.loc 1 388 18
 889 00d0 FB6A     		ldr	r3, [r7, #44]
 890 00d2 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 891 00d4 9AB2     		uxth	r2, r3
 892              		.loc 1 388 37
 893 00d6 BB6A     		ldr	r3, [r7, #40]
 894 00d8 DB88     		ldrh	r3, [r3, #6]	@ unaligned
ARM GAS  /tmp/cc4WdnkV.s 			page 24


 895 00da 9BB2     		uxth	r3, r3
 896              		.loc 1 388 12
 897 00dc 9A42     		cmp	r2, r3
 898 00de 07D3     		bcc	.L51
 899              		.loc 1 388 52 discriminator 1
 900 00e0 FB6A     		ldr	r3, [r7, #44]
 901 00e2 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 902 00e4 9AB2     		uxth	r2, r3
 903              		.loc 1 388 68 discriminator 1
 904 00e6 3B69     		ldr	r3, [r7, #16]
 905 00e8 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 906 00ea 9BB2     		uxth	r3, r3
 907              		.loc 1 388 44 discriminator 1
 908 00ec 9A42     		cmp	r2, r3
 909 00ee 02D9     		bls	.L52
 910              	.L51:
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           return IP_REASS_VALIDATE_PBUF_DROPPED;
 911              		.loc 1 390 18
 912 00f0 4FF0FF33 		mov	r3, #-1
 913 00f4 DEE0     		b	.L46
 914              	.L52:
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev->next_pbuf = new_p;
 915              		.loc 1 393 30
 916 00f6 BB6A     		ldr	r3, [r7, #40]
 917 00f8 BA68     		ldr	r2, [r7, #8]
 918 00fa 1A60     		str	r2, [r3]	@ unaligned
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 919              		.loc 1 394 22
 920 00fc BB6A     		ldr	r3, [r7, #40]
 921 00fe DB88     		ldrh	r3, [r3, #6]	@ unaligned
 922 0100 9AB2     		uxth	r2, r3
 923              		.loc 1 394 35
 924 0102 FB6A     		ldr	r3, [r7, #44]
 925 0104 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 926 0106 9BB2     		uxth	r3, r3
 927              		.loc 1 394 12
 928 0108 9A42     		cmp	r2, r3
 929 010a 3DD0     		beq	.L77
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 930              		.loc 1 397 17
 931 010c 0023     		movs	r3, #0
 932 010e 3B62     		str	r3, [r7, #32]
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh->end > iprh_tmp->start) {
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           return IP_REASS_VALIDATE_PBUF_DROPPED;
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* fragment with the lowest offset */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p = new_p;
ARM GAS  /tmp/cc4WdnkV.s 			page 25


 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 933              		.loc 1 409 7
 934 0110 3AE0     		b	.L77
 935              	.L50:
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 936              		.loc 1 401 17
 937 0112 FB6A     		ldr	r3, [r7, #44]
 938 0114 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 939 0116 9AB2     		uxth	r2, r3
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 940              		.loc 1 401 33
 941 0118 3B69     		ldr	r3, [r7, #16]
 942 011a 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 943 011c 9BB2     		uxth	r3, r3
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 944              		.loc 1 401 12
 945 011e 9A42     		cmp	r2, r3
 946 0120 02D9     		bls	.L55
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 947              		.loc 1 403 18
 948 0122 4FF0FF33 		mov	r3, #-1
 949 0126 C5E0     		b	.L46
 950              	.L55:
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 951              		.loc 1 407 16
 952 0128 FB68     		ldr	r3, [r7, #12]
 953 012a BA68     		ldr	r2, [r7, #8]
 954 012c 5A60     		str	r2, [r3, #4]
 955              		.loc 1 409 7
 956 012e 2BE0     		b	.L77
 957              	.L49:
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start == iprh_tmp->start) {
 958              		.loc 1 410 20
 959 0130 FB6A     		ldr	r3, [r7, #44]
 960 0132 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 961 0134 9AB2     		uxth	r2, r3
 962              		.loc 1 410 39
 963 0136 3B69     		ldr	r3, [r7, #16]
 964 0138 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 965 013a 9BB2     		uxth	r3, r3
 966              		.loc 1 410 15
 967 013c 9A42     		cmp	r2, r3
 968 013e 02D1     		bne	.L57
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       return IP_REASS_VALIDATE_PBUF_DROPPED;
 969              		.loc 1 412 14
 970 0140 4FF0FF33 		mov	r3, #-1
 971 0144 B6E0     		b	.L46
 972              	.L57:
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start < iprh_tmp->end) {
 973              		.loc 1 414 20
 974 0146 FB6A     		ldr	r3, [r7, #44]
 975 0148 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 976 014a 9AB2     		uxth	r2, r3
 977              		.loc 1 414 38
ARM GAS  /tmp/cc4WdnkV.s 			page 26


 978 014c 3B69     		ldr	r3, [r7, #16]
 979 014e DB88     		ldrh	r3, [r3, #6]	@ unaligned
 980 0150 9BB2     		uxth	r3, r3
 981              		.loc 1 414 15
 982 0152 9A42     		cmp	r2, r3
 983 0154 02D2     		bcs	.L58
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       return IP_REASS_VALIDATE_PBUF_DROPPED;
 984              		.loc 1 416 14
 985 0156 4FF0FF33 		mov	r3, #-1
 986 015a ABE0     		b	.L46
 987              	.L58:
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the fragments received so far have no holes. */
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 988              		.loc 1 420 10
 989 015c BB6A     		ldr	r3, [r7, #40]
 990 015e 002B     		cmp	r3, #0
 991 0160 09D0     		beq	.L59
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 992              		.loc 1 421 22
 993 0162 BB6A     		ldr	r3, [r7, #40]
 994 0164 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 995 0166 9AB2     		uxth	r2, r3
 996              		.loc 1 421 39
 997 0168 3B69     		ldr	r3, [r7, #16]
 998 016a 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 999 016c 9BB2     		uxth	r3, r3
 1000              		.loc 1 421 12
 1001 016e 9A42     		cmp	r2, r3
 1002 0170 01D0     		beq	.L59
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 1003              		.loc 1 424 17
 1004 0172 0023     		movs	r3, #0
 1005 0174 3B62     		str	r3, [r7, #32]
 1006              	.L59:
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     q = iprh_tmp->next_pbuf;
 1007              		.loc 1 428 7
 1008 0176 3B69     		ldr	r3, [r7, #16]
 1009 0178 1B68     		ldr	r3, [r3]	@ unaligned
 1010 017a 7B62     		str	r3, [r7, #36]
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 1011              		.loc 1 429 15
 1012 017c 3B69     		ldr	r3, [r7, #16]
 1013 017e BB62     		str	r3, [r7, #40]
 1014              	.L48:
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper *)q->payload;
 1015              		.loc 1 380 3 discriminator 1
 1016 0180 7B6A     		ldr	r3, [r7, #36]
 1017 0182 002B     		cmp	r3, #0
 1018 0184 93D1     		bne	.L60
ARM GAS  /tmp/cc4WdnkV.s 			page 27


 1019 0186 00E0     		b	.L56
 1020              	.L77:
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start == iprh_tmp->start) {
 1021              		.loc 1 409 7
 1022 0188 00BF     		nop
 1023              	.L56:
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If q is NULL, then we made it to the end of the list. Determine what to do now */
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (q == NULL) {
 1024              		.loc 1 433 6
 1025 018a 7B6A     		ldr	r3, [r7, #36]
 1026 018c 002B     		cmp	r3, #0
 1027 018e 2DD1     		bne	.L61
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
 1028              		.loc 1 434 8
 1029 0190 BB6A     		ldr	r3, [r7, #40]
 1030 0192 002B     		cmp	r3, #0
 1031 0194 1CD0     		beq	.L62
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * chain it to the last fragment */
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("check fragments don't overlap", iprh_prev->end <= iprh->start);
 1032              		.loc 1 438 7
 1033 0196 BB6A     		ldr	r3, [r7, #40]
 1034 0198 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1035 019a 9AB2     		uxth	r2, r3
 1036 019c FB6A     		ldr	r3, [r7, #44]
 1037 019e 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 1038 01a0 9BB2     		uxth	r3, r3
 1039 01a2 9A42     		cmp	r2, r3
 1040 01a4 06D9     		bls	.L63
 1041              		.loc 1 438 7 is_stmt 0 discriminator 1
 1042 01a6 454B     		ldr	r3, .L78
 1043 01a8 4FF4DB72 		mov	r2, #438
 1044 01ac 4449     		ldr	r1, .L78+4
 1045 01ae 4548     		ldr	r0, .L78+8
 1046 01b0 FFF7FEFF 		bl	printf
 1047              	.L63:
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh_prev->next_pbuf = new_p;
 1048              		.loc 1 440 28 is_stmt 1
 1049 01b4 BB6A     		ldr	r3, [r7, #40]
 1050 01b6 BA68     		ldr	r2, [r7, #8]
 1051 01b8 1A60     		str	r2, [r3]	@ unaligned
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 1052              		.loc 1 441 20
 1053 01ba BB6A     		ldr	r3, [r7, #40]
 1054 01bc DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1055 01be 9AB2     		uxth	r2, r3
 1056              		.loc 1 441 33
 1057 01c0 FB6A     		ldr	r3, [r7, #44]
 1058 01c2 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 1059 01c4 9BB2     		uxth	r3, r3
 1060              		.loc 1 441 10
 1061 01c6 9A42     		cmp	r2, r3
 1062 01c8 10D0     		beq	.L61
ARM GAS  /tmp/cc4WdnkV.s 			page 28


 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 1063              		.loc 1 442 15
 1064 01ca 0023     		movs	r3, #0
 1065 01cc 3B62     		str	r3, [r7, #32]
 1066 01ce 0DE0     		b	.L61
 1067              	.L62:
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("no previous fragment, this must be the first fragment!",
 1068              		.loc 1 446 7
 1069 01d0 FB68     		ldr	r3, [r7, #12]
 1070 01d2 5B68     		ldr	r3, [r3, #4]
 1071 01d4 002B     		cmp	r3, #0
 1072 01d6 06D0     		beq	.L65
 1073              		.loc 1 446 7 is_stmt 0 discriminator 1
 1074 01d8 384B     		ldr	r3, .L78
 1075 01da 40F2BF12 		movw	r2, #447
 1076 01de 3A49     		ldr	r1, .L78+12
 1077 01e0 3848     		ldr	r0, .L78+8
 1078 01e2 FFF7FEFF 		bl	printf
 1079              	.L65:
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                   ipr->p == NULL);
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is the first fragment we ever received for this ip datagram */
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr->p = new_p;
 1080              		.loc 1 450 14 is_stmt 1
 1081 01e6 FB68     		ldr	r3, [r7, #12]
 1082 01e8 BA68     		ldr	r2, [r7, #8]
 1083 01ea 5A60     		str	r2, [r3, #4]
 1084              	.L61:
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, the validation part begins: */
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we already received the last fragment */
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last || ((ipr->flags & IP_REASS_FLAG_LASTFRAG) != 0)) {
 1085              		.loc 1 456 6
 1086 01ec 7B68     		ldr	r3, [r7, #4]
 1087 01ee 002B     		cmp	r3, #0
 1088 01f0 05D1     		bne	.L66
 1089              		.loc 1 456 23 discriminator 1
 1090 01f2 FB68     		ldr	r3, [r7, #12]
 1091 01f4 9B7F     		ldrb	r3, [r3, #30]	@ zero_extendqisi2
 1092              		.loc 1 456 31 discriminator 1
 1093 01f6 03F00103 		and	r3, r3, #1
 1094              		.loc 1 456 15 discriminator 1
 1095 01fa 002B     		cmp	r3, #0
 1096 01fc 59D0     		beq	.L67
 1097              	.L66:
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (valid) {
 1098              		.loc 1 458 8
 1099 01fe 3B6A     		ldr	r3, [r7, #32]
 1100 0200 002B     		cmp	r3, #0
 1101 0202 4FD0     		beq	.L68
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
ARM GAS  /tmp/cc4WdnkV.s 			page 29


 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the queue starts with the first datagram */
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if ((ipr->p == NULL) || (((struct ip_reass_helper *)ipr->p->payload)->start != 0)) {
 1102              		.loc 1 461 15
 1103 0204 FB68     		ldr	r3, [r7, #12]
 1104 0206 5B68     		ldr	r3, [r3, #4]
 1105              		.loc 1 461 10
 1106 0208 002B     		cmp	r3, #0
 1107 020a 06D0     		beq	.L69
 1108              		.loc 1 461 62 discriminator 1
 1109 020c FB68     		ldr	r3, [r7, #12]
 1110 020e 5B68     		ldr	r3, [r3, #4]
 1111              		.loc 1 461 65 discriminator 1
 1112 0210 5B68     		ldr	r3, [r3, #4]
 1113              		.loc 1 461 75 discriminator 1
 1114 0212 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 1115 0214 9BB2     		uxth	r3, r3
 1116              		.loc 1 461 28 discriminator 1
 1117 0216 002B     		cmp	r3, #0
 1118 0218 02D0     		beq	.L70
 1119              	.L69:
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 1120              		.loc 1 462 15
 1121 021a 0023     		movs	r3, #0
 1122 021c 3B62     		str	r3, [r7, #32]
 1123 021e 41E0     		b	.L68
 1124              	.L70:
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* and check that there are no holes after this datagram */
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev = iprh;
 1125              		.loc 1 465 19
 1126 0220 FB6A     		ldr	r3, [r7, #44]
 1127 0222 BB62     		str	r3, [r7, #40]
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         q = iprh->next_pbuf;
 1128              		.loc 1 466 11
 1129 0224 FB6A     		ldr	r3, [r7, #44]
 1130 0226 1B68     		ldr	r3, [r3]	@ unaligned
 1131 0228 7B62     		str	r3, [r7, #36]
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
 1132              		.loc 1 467 15
 1133 022a 12E0     		b	.L71
 1134              	.L74:
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper *)q->payload;
 1135              		.loc 1 468 16
 1136 022c 7B6A     		ldr	r3, [r7, #36]
 1137 022e 5B68     		ldr	r3, [r3, #4]
 1138 0230 FB62     		str	r3, [r7, #44]
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 1139              		.loc 1 469 24
 1140 0232 BB6A     		ldr	r3, [r7, #40]
 1141 0234 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1142 0236 9AB2     		uxth	r2, r3
 1143              		.loc 1 469 37
 1144 0238 FB6A     		ldr	r3, [r7, #44]
 1145 023a 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 1146 023c 9BB2     		uxth	r3, r3
 1147              		.loc 1 469 14
 1148 023e 9A42     		cmp	r2, r3
ARM GAS  /tmp/cc4WdnkV.s 			page 30


 1149 0240 02D0     		beq	.L72
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 1150              		.loc 1 470 19
 1151 0242 0023     		movs	r3, #0
 1152 0244 3B62     		str	r3, [r7, #32]
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             break;
 1153              		.loc 1 471 13
 1154 0246 07E0     		b	.L73
 1155              	.L72:
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           }
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh_prev = iprh;
 1156              		.loc 1 473 21
 1157 0248 FB6A     		ldr	r3, [r7, #44]
 1158 024a BB62     		str	r3, [r7, #40]
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           q = iprh->next_pbuf;
 1159              		.loc 1 474 13
 1160 024c FB6A     		ldr	r3, [r7, #44]
 1161 024e 1B68     		ldr	r3, [r3]	@ unaligned
 1162 0250 7B62     		str	r3, [r7, #36]
 1163              	.L71:
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper *)q->payload;
 1164              		.loc 1 467 15
 1165 0252 7B6A     		ldr	r3, [r7, #36]
 1166 0254 002B     		cmp	r3, #0
 1167 0256 E9D1     		bne	.L74
 1168              	.L73:
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* if still valid, all fragments are received
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****          * (because to the MF==0 already arrived */
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (valid) {
 1169              		.loc 1 478 12
 1170 0258 3B6A     		ldr	r3, [r7, #32]
 1171 025a 002B     		cmp	r3, #0
 1172 025c 22D0     		beq	.L68
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
 1173              		.loc 1 479 11
 1174 025e FB68     		ldr	r3, [r7, #12]
 1175 0260 5B68     		ldr	r3, [r3, #4]
 1176 0262 002B     		cmp	r3, #0
 1177 0264 06D1     		bne	.L75
 1178              		.loc 1 479 11 is_stmt 0 discriminator 1
 1179 0266 154B     		ldr	r3, .L78
 1180 0268 40F2DF12 		movw	r2, #479
 1181 026c 1749     		ldr	r1, .L78+16
 1182 026e 1548     		ldr	r0, .L78+8
 1183 0270 FFF7FEFF 		bl	printf
 1184              	.L75:
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 1185              		.loc 1 480 11 is_stmt 1
 1186 0274 FB68     		ldr	r3, [r7, #12]
 1187 0276 5B68     		ldr	r3, [r3, #4]
 1188 0278 5B68     		ldr	r3, [r3, #4]
 1189 027a FA6A     		ldr	r2, [r7, #44]
 1190 027c 9A42     		cmp	r2, r3
 1191 027e 06D1     		bne	.L76
 1192              		.loc 1 480 11 is_stmt 0 discriminator 1
 1193 0280 0E4B     		ldr	r3, .L78
ARM GAS  /tmp/cc4WdnkV.s 			page 31


 1194 0282 40F2E112 		movw	r2, #481
 1195 0286 1149     		ldr	r1, .L78+16
 1196 0288 0E48     		ldr	r0, .L78+8
 1197 028a FFF7FEFF 		bl	printf
 1198              	.L76:
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                       ((struct ip_reass_helper *)ipr->p->payload) != iprh);
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("validate_datagram:next_pbuf!=NULL",
 1199              		.loc 1 482 11 is_stmt 1
 1200 028e FB6A     		ldr	r3, [r7, #44]
 1201 0290 1B68     		ldr	r3, [r3]	@ unaligned
 1202 0292 002B     		cmp	r3, #0
 1203 0294 06D0     		beq	.L68
 1204              		.loc 1 482 11 is_stmt 0 discriminator 1
 1205 0296 094B     		ldr	r3, .L78
 1206 0298 40F2E312 		movw	r2, #483
 1207 029c 0C49     		ldr	r1, .L78+20
 1208 029e 0948     		ldr	r0, .L78+8
 1209 02a0 FFF7FEFF 		bl	printf
 1210              	.L68:
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                       iprh->next_pbuf == NULL);
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* If valid is 0 here, there are some fragments missing in the middle
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * (since MF == 0 has already arrived). Such datagrams simply time out if
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * no more fragments are received... */
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return valid ? IP_REASS_VALIDATE_TELEGRAM_FINISHED : IP_REASS_VALIDATE_PBUF_QUEUED;
 1211              		.loc 1 490 56 is_stmt 1
 1212 02a4 3B6A     		ldr	r3, [r7, #32]
 1213 02a6 002B     		cmp	r3, #0
 1214 02a8 14BF     		ite	ne
 1215 02aa 0123     		movne	r3, #1
 1216 02ac 0023     		moveq	r3, #0
 1217 02ae DBB2     		uxtb	r3, r3
 1218 02b0 00E0     		b	.L46
 1219              	.L67:
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we come here, not all fragments were received, yet! */
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_QUEUED; /* not yet valid! */
 1220              		.loc 1 493 10
 1221 02b2 0023     		movs	r3, #0
 1222              	.L46:
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1223              		.loc 1 494 1
 1224 02b4 1846     		mov	r0, r3
 1225 02b6 3037     		adds	r7, r7, #48
 1226              	.LCFI28:
 1227              		.cfi_def_cfa_offset 8
 1228 02b8 BD46     		mov	sp, r7
 1229              	.LCFI29:
 1230              		.cfi_def_cfa_register 13
 1231              		@ sp needed
 1232 02ba 80BD     		pop	{r7, pc}
 1233              	.L79:
 1234              		.align	2
 1235              	.L78:
 1236 02bc 00000000 		.word	.LC0
ARM GAS  /tmp/cc4WdnkV.s 			page 32


 1237 02c0 E0000000 		.word	.LC7
 1238 02c4 44000000 		.word	.LC2
 1239 02c8 00010000 		.word	.LC8
 1240 02cc 38010000 		.word	.LC9
 1241 02d0 48010000 		.word	.LC10
 1242              		.cfi_endproc
 1243              	.LFE138:
 1245              		.section	.rodata
 1246 016a 0000     		.align	2
 1247              	.LC11:
 1248 016c 69705F72 		.ascii	"ip_reass_pbufcount >= clen\000"
 1248      65617373 
 1248      5F706275 
 1248      66636F75 
 1248      6E74203E 
 1249 0187 00       		.align	2
 1250              	.LC12:
 1251 0188 69707220 		.ascii	"ipr != NULL\000"
 1251      213D204E 
 1251      554C4C00 
 1252              		.align	2
 1253              	.LC13:
 1254 0194 6E6F7420 		.ascii	"not firstalthough just enqueued\000"
 1254      66697273 
 1254      74616C74 
 1254      686F7567 
 1254      68206A75 
 1255              		.section	.text.ip4_reass,"ax",%progbits
 1256              		.align	1
 1257              		.global	ip4_reass
 1258              		.syntax unified
 1259              		.thumb
 1260              		.thumb_func
 1261              		.fpu fpv4-sp-d16
 1263              	ip4_reass:
 1264              	.LFB139:
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembles incoming IP fragments into an IP datagram.
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p points to a pbuf chain of the fragment
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return NULL if reassembly is incomplete, ? otherwise
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct pbuf *
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_reass(struct pbuf *p)
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1265              		.loc 1 504 1
 1266              		.cfi_startproc
 1267              		@ args = 0, pretend = 0, frame = 56
 1268              		@ frame_needed = 1, uses_anonymous_args = 0
 1269 0000 80B5     		push	{r7, lr}
 1270              	.LCFI30:
 1271              		.cfi_def_cfa_offset 8
 1272              		.cfi_offset 7, -8
 1273              		.cfi_offset 14, -4
 1274 0002 8EB0     		sub	sp, sp, #56
 1275              	.LCFI31:
ARM GAS  /tmp/cc4WdnkV.s 			page 33


 1276              		.cfi_def_cfa_offset 64
 1277 0004 00AF     		add	r7, sp, #0
 1278              	.LCFI32:
 1279              		.cfi_def_cfa_register 7
 1280 0006 7860     		str	r0, [r7, #4]
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *ipr;
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len, clen;
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u8_t hlen;
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid;
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int is_last;
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.recv);
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmreqds);
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr *)p->payload;
 1281              		.loc 1 517 11
 1282 0008 7B68     		ldr	r3, [r7, #4]
 1283 000a 5B68     		ldr	r3, [r3, #4]
 1284 000c BB62     		str	r3, [r7, #40]
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (IPH_HL_BYTES(fraghdr) != IP_HLEN) {
 1285              		.loc 1 519 7
 1286 000e BB6A     		ldr	r3, [r7, #40]
 1287 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1288 0012 03F00F03 		and	r3, r3, #15
 1289 0016 DBB2     		uxtb	r3, r3
 1290 0018 9B00     		lsls	r3, r3, #2
 1291 001a DBB2     		uxtb	r3, r3
 1292              		.loc 1 519 6
 1293 001c 142B     		cmp	r3, #20
 1294 001e 40F06781 		bne	.L109
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: IP options currently not supported!\n"));
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.err);
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = IPH_OFFSET_BYTES(fraghdr);
 1295              		.loc 1 525 12
 1296 0022 BB6A     		ldr	r3, [r7, #40]
 1297 0024 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1298 0026 9BB2     		uxth	r3, r3
 1299 0028 1846     		mov	r0, r3
 1300 002a FFF7FEFF 		bl	lwip_htons
 1301 002e 0346     		mov	r3, r0
 1302 0030 C3F30C03 		ubfx	r3, r3, #0, #13
 1303 0034 9BB2     		uxth	r3, r3
 1304              		.loc 1 525 10
 1305 0036 DB00     		lsls	r3, r3, #3
 1306 0038 FB84     		strh	r3, [r7, #38]	@ movhi
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr));
 1307              		.loc 1 526 9
 1308 003a BB6A     		ldr	r3, [r7, #40]
 1309 003c 5B88     		ldrh	r3, [r3, #2]	@ unaligned
 1310 003e 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cc4WdnkV.s 			page 34


 1311 0040 1846     		mov	r0, r3
 1312 0042 FFF7FEFF 		bl	lwip_htons
 1313 0046 0346     		mov	r3, r0
 1314 0048 BB84     		strh	r3, [r7, #36]	@ movhi
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   hlen = IPH_HL_BYTES(fraghdr);
 1315              		.loc 1 527 10
 1316 004a BB6A     		ldr	r3, [r7, #40]
 1317 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1318 004e 03F00F03 		and	r3, r3, #15
 1319 0052 DBB2     		uxtb	r3, r3
 1320              		.loc 1 527 8
 1321 0054 9B00     		lsls	r3, r3, #2
 1322 0056 87F82330 		strb	r3, [r7, #35]
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (hlen > len) {
 1323              		.loc 1 528 12
 1324 005a 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1325 005e 9BB2     		uxth	r3, r3
 1326              		.loc 1 528 6
 1327 0060 BA8C     		ldrh	r2, [r7, #36]
 1328 0062 9A42     		cmp	r2, r3
 1329 0064 C0F04681 		bcc	.L110
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* invalid datagram */
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = (u16_t)(len - hlen);
 1330              		.loc 1 532 9
 1331 0068 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1332 006c 9BB2     		uxth	r3, r3
 1333              		.loc 1 532 7
 1334 006e BA8C     		ldrh	r2, [r7, #36]	@ movhi
 1335 0070 D31A     		subs	r3, r2, r3
 1336 0072 BB84     		strh	r3, [r7, #36]	@ movhi
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Check if we are allowed to enqueue more datagrams. */
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   clen = pbuf_clen(p);
 1337              		.loc 1 535 10
 1338 0074 7868     		ldr	r0, [r7, #4]
 1339 0076 FFF7FEFF 		bl	pbuf_clen
 1340 007a 0346     		mov	r3, r0
 1341 007c 3B84     		strh	r3, [r7, #32]	@ movhi
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 1342              		.loc 1 536 27
 1343 007e 9F4B     		ldr	r3, .L117
 1344 0080 1B88     		ldrh	r3, [r3]
 1345 0082 1A46     		mov	r2, r3
 1346 0084 3B8C     		ldrh	r3, [r7, #32]
 1347 0086 1344     		add	r3, r3, r2
 1348              		.loc 1 536 6
 1349 0088 0A2B     		cmp	r3, #10
 1350 008a 10DD     		ble	.L84
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!ip_reass_remove_oldest_datagram(fraghdr, clen) ||
 1351              		.loc 1 538 10
 1352 008c 3B8C     		ldrh	r3, [r7, #32]
 1353 008e 1946     		mov	r1, r3
 1354 0090 B86A     		ldr	r0, [r7, #40]
 1355 0092 FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
ARM GAS  /tmp/cc4WdnkV.s 			page 35


 1356 0096 0346     		mov	r3, r0
 1357              		.loc 1 538 8
 1358 0098 002B     		cmp	r3, #0
 1359 009a 00F02D81 		beq	.L111
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1360              		.loc 1 539 30 discriminator 1
 1361 009e 974B     		ldr	r3, .L117
 1362 00a0 1B88     		ldrh	r3, [r3]
 1363 00a2 1A46     		mov	r2, r3
 1364 00a4 3B8C     		ldrh	r3, [r7, #32]
 1365 00a6 1344     		add	r3, r3, r2
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1366              		.loc 1 538 57 discriminator 1
 1367 00a8 0A2B     		cmp	r3, #10
 1368 00aa 00F32581 		bgt	.L111
 1369              	.L84:
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* No datagram could be freed and still too many pbufs enqueued */
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: Overflow condition: pbufct=%d, clen=%d, MAX=%d\n",
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                                    ip_reass_pbufcount, clen, IP_REASS_MAX_PBUFS));
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* @todo: send ICMP time exceeded here? */
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* drop this pbuf */
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Look for the datagram the fragment belongs to in the current datagram queue,
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * remembering the previous in the queue for later dequeueing. */
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (ipr = reassdatagrams; ipr != NULL; ipr = ipr->next) {
 1370              		.loc 1 554 12
 1371 00ae 944B     		ldr	r3, .L117+4
 1372 00b0 1B68     		ldr	r3, [r3]
 1373 00b2 3B63     		str	r3, [r7, #48]
 1374              		.loc 1 554 3
 1375 00b4 15E0     		b	.L86
 1376              	.L89:
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        in the reassembly buffer. If so, we proceed with copying the
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        fragment into the buffer. */
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (IP_ADDRESSES_AND_ID_MATCH(&ipr->iphdr, fraghdr)) {
 1377              		.loc 1 558 9
 1378 00b6 3B6B     		ldr	r3, [r7, #48]
 1379 00b8 5A69     		ldr	r2, [r3, #20]
 1380 00ba BB6A     		ldr	r3, [r7, #40]
 1381 00bc DB68     		ldr	r3, [r3, #12]	@ unaligned
 1382              		.loc 1 558 8
 1383 00be 9A42     		cmp	r2, r3
 1384 00c0 0CD1     		bne	.L87
 1385              		.loc 1 558 9 discriminator 1
 1386 00c2 3B6B     		ldr	r3, [r7, #48]
 1387 00c4 9A69     		ldr	r2, [r3, #24]
 1388 00c6 BB6A     		ldr	r3, [r7, #40]
 1389 00c8 1B69     		ldr	r3, [r3, #16]	@ unaligned
 1390 00ca 9A42     		cmp	r2, r3
 1391 00cc 06D1     		bne	.L87
ARM GAS  /tmp/cc4WdnkV.s 			page 36


 1392              		.loc 1 558 9 is_stmt 0 discriminator 2
 1393 00ce 3B6B     		ldr	r3, [r7, #48]
 1394 00d0 9A89     		ldrh	r2, [r3, #12]
 1395 00d2 BB6A     		ldr	r3, [r7, #40]
 1396 00d4 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 1397 00d6 9BB2     		uxth	r3, r3
 1398 00d8 9A42     		cmp	r2, r3
 1399 00da 06D0     		beq	.L112
 1400              	.L87:
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1401              		.loc 1 554 47 is_stmt 1 discriminator 2
 1402 00dc 3B6B     		ldr	r3, [r7, #48]
 1403 00de 1B68     		ldr	r3, [r3]
 1404 00e0 3B63     		str	r3, [r7, #48]
 1405              	.L86:
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1406              		.loc 1 554 3 discriminator 1
 1407 00e2 3B6B     		ldr	r3, [r7, #48]
 1408 00e4 002B     		cmp	r3, #0
 1409 00e6 E6D1     		bne	.L89
 1410 00e8 00E0     		b	.L88
 1411              	.L112:
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                                    lwip_ntohs(IPH_ID(fraghdr))));
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.cachehit);
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 1412              		.loc 1 562 7
 1413 00ea 00BF     		nop
 1414              	.L88:
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 1415              		.loc 1 566 6
 1416 00ec 3B6B     		ldr	r3, [r7, #48]
 1417 00ee 002B     		cmp	r3, #0
 1418 00f0 09D1     		bne	.L90
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Enqueue a new datagram into the datagram queue */
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr = ip_reass_enqueue_new_datagram(fraghdr, clen);
 1419              		.loc 1 568 11
 1420 00f2 3B8C     		ldrh	r3, [r7, #32]
 1421 00f4 1946     		mov	r1, r3
 1422 00f6 B86A     		ldr	r0, [r7, #40]
 1423 00f8 FFF7FEFF 		bl	ip_reass_enqueue_new_datagram
 1424 00fc 3863     		str	r0, [r7, #48]
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL) {
 1425              		.loc 1 570 8
 1426 00fe 3B6B     		ldr	r3, [r7, #48]
 1427 0100 002B     		cmp	r3, #0
 1428 0102 1CD1     		bne	.L91
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 1429              		.loc 1 571 7
 1430 0104 09E1     		b	.L82
 1431              	.L90:
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
ARM GAS  /tmp/cc4WdnkV.s 			page 37


 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (((lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) == 0) &&
 1432              		.loc 1 574 11
 1433 0106 BB6A     		ldr	r3, [r7, #40]
 1434 0108 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1435 010a 9BB2     		uxth	r3, r3
 1436 010c 1846     		mov	r0, r3
 1437 010e FFF7FEFF 		bl	lwip_htons
 1438 0112 0346     		mov	r3, r0
 1439              		.loc 1 574 43
 1440 0114 C3F30C03 		ubfx	r3, r3, #0, #13
 1441              		.loc 1 574 8
 1442 0118 002B     		cmp	r3, #0
 1443 011a 10D1     		bne	.L91
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1444              		.loc 1 575 11 discriminator 1
 1445 011c 3B6B     		ldr	r3, [r7, #48]
 1446 011e DB89     		ldrh	r3, [r3, #14]
 1447 0120 1846     		mov	r0, r3
 1448 0122 FFF7FEFF 		bl	lwip_htons
 1449 0126 0346     		mov	r3, r0
 1450              		.loc 1 575 47 discriminator 1
 1451 0128 C3F30C03 		ubfx	r3, r3, #0, #13
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1452              		.loc 1 574 63 discriminator 1
 1453 012c 002B     		cmp	r3, #0
 1454 012e 06D0     		beq	.L91
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* ipr->iphdr is not the header from the first fragment, but fraghdr is
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * -> copy fraghdr into ipr->iphdr since we want to have the header
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * of the first fragment (for ICMP time exceeded and later, for copying
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * all options, if supported)*/
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       SMEMCPY(&ipr->iphdr, fraghdr, IP_HLEN);
 1455              		.loc 1 580 7
 1456 0130 3B6B     		ldr	r3, [r7, #48]
 1457 0132 0833     		adds	r3, r3, #8
 1458 0134 1422     		movs	r2, #20
 1459 0136 B96A     		ldr	r1, [r7, #40]
 1460 0138 1846     		mov	r0, r3
 1461 013a FFF7FEFF 		bl	memcpy
 1462              	.L91:
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, we have either created a new entry or pointing
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * to an existing one */
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* check for 'no more fragments', and update queue entry*/
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   is_last = (IPH_OFFSET(fraghdr) & PP_NTOHS(IP_MF)) == 0;
 1463              		.loc 1 588 14
 1464 013e BB6A     		ldr	r3, [r7, #40]
 1465 0140 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 1466 0142 9BB2     		uxth	r3, r3
 1467              		.loc 1 588 34
 1468 0144 03F02003 		and	r3, r3, #32
 1469              		.loc 1 588 53
 1470 0148 002B     		cmp	r3, #0
 1471 014a 0CBF     		ite	eq
 1472 014c 0123     		moveq	r3, #1
ARM GAS  /tmp/cc4WdnkV.s 			page 38


 1473 014e 0023     		movne	r3, #0
 1474 0150 DBB2     		uxtb	r3, r3
 1475              		.loc 1 588 11
 1476 0152 FB61     		str	r3, [r7, #28]
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1477              		.loc 1 589 6
 1478 0154 FB69     		ldr	r3, [r7, #28]
 1479 0156 002B     		cmp	r3, #0
 1480 0158 0ED0     		beq	.L92
 1481              	.LBB4:
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1482              		.loc 1 590 11
 1483 015a FA8C     		ldrh	r2, [r7, #38]	@ movhi
 1484 015c BB8C     		ldrh	r3, [r7, #36]	@ movhi
 1485 015e 1344     		add	r3, r3, r2
 1486 0160 7B83     		strh	r3, [r7, #26]	@ movhi
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 1487              		.loc 1 591 8
 1488 0162 7A8B     		ldrh	r2, [r7, #26]
 1489 0164 FB8C     		ldrh	r3, [r7, #38]
 1490 0166 9A42     		cmp	r2, r3
 1491 0168 C0F0A080 		bcc	.L113
 1492              		.loc 1 591 33 discriminator 1
 1493 016c 7B8B     		ldrh	r3, [r7, #26]
 1494 016e 4FF6EB72 		movw	r2, #65515
 1495 0172 9342     		cmp	r3, r2
 1496 0174 00F29A80 		bhi	.L113
 1497              	.L92:
 1498              	.LBE4:
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn_ipr;
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* find the right place to insert this pbuf */
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: trim pbufs if fragments are overlapping */
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   valid = ip_reass_chain_frag_into_datagram_and_validate(ipr, p, is_last);
 1499              		.loc 1 598 11
 1500 0178 FA69     		ldr	r2, [r7, #28]
 1501 017a 7968     		ldr	r1, [r7, #4]
 1502 017c 386B     		ldr	r0, [r7, #48]
 1503 017e FFF7FEFF 		bl	ip_reass_chain_frag_into_datagram_and_validate
 1504 0182 7861     		str	r0, [r7, #20]
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 1505              		.loc 1 599 6
 1506 0184 7B69     		ldr	r3, [r7, #20]
 1507 0186 B3F1FF3F 		cmp	r3, #-1
 1508 018a 00F09180 		beq	.L114
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn_ipr;
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* if we come here, the pbuf has been enqueued */
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Track the current number of pbufs current 'in-flight', in order to limit
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      the number of fragments that may be enqueued at any one time
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      (overflow checked by testing against IP_REASS_MAX_PBUFS) */
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount = (u16_t)(ip_reass_pbufcount + clen);
 1509              		.loc 1 607 24
 1510 018e 5B4B     		ldr	r3, .L117
ARM GAS  /tmp/cc4WdnkV.s 			page 39


 1511 0190 1A88     		ldrh	r2, [r3]
 1512 0192 3B8C     		ldrh	r3, [r7, #32]	@ movhi
 1513 0194 1344     		add	r3, r3, r2
 1514 0196 9AB2     		uxth	r2, r3
 1515              		.loc 1 607 22
 1516 0198 584B     		ldr	r3, .L117
 1517 019a 1A80     		strh	r2, [r3]	@ movhi
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1518              		.loc 1 608 6
 1519 019c FB69     		ldr	r3, [r7, #28]
 1520 019e 002B     		cmp	r3, #0
 1521 01a0 0DD0     		beq	.L96
 1522              	.LBB5:
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1523              		.loc 1 609 11
 1524 01a2 FA8C     		ldrh	r2, [r7, #38]	@ movhi
 1525 01a4 BB8C     		ldrh	r3, [r7, #36]	@ movhi
 1526 01a6 1344     		add	r3, r3, r2
 1527 01a8 7B82     		strh	r3, [r7, #18]	@ movhi
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 1528              		.loc 1 610 23
 1529 01aa 3B6B     		ldr	r3, [r7, #48]
 1530 01ac 7A8A     		ldrh	r2, [r7, #18]	@ movhi
 1531 01ae 9A83     		strh	r2, [r3, #28]	@ movhi
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 1532              		.loc 1 611 16
 1533 01b0 3B6B     		ldr	r3, [r7, #48]
 1534 01b2 9B7F     		ldrb	r3, [r3, #30]	@ zero_extendqisi2
 1535 01b4 43F00103 		orr	r3, r3, #1
 1536 01b8 DAB2     		uxtb	r2, r3
 1537 01ba 3B6B     		ldr	r3, [r7, #48]
 1538 01bc 9A77     		strb	r2, [r3, #30]
 1539              	.L96:
 1540              	.LBE5:
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 ("ip4_reass: last fragment seen, total len %"S16_F"\n",
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                  ipr->datagram_len));
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_TELEGRAM_FINISHED) {
 1541              		.loc 1 617 6
 1542 01be 7B69     		ldr	r3, [r7, #20]
 1543 01c0 012B     		cmp	r3, #1
 1544 01c2 71D1     		bne	.L97
 1545              	.LBB6:
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* the totally last fragment (flag more fragments = 0) was received at least
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * once AND all fragments are received */
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(ipr->datagram_len + IP_HLEN);
 1546              		.loc 1 621 37
 1547 01c4 3B6B     		ldr	r3, [r7, #48]
 1548 01c6 9B8B     		ldrh	r3, [r3, #28]
 1549              		.loc 1 621 11
 1550 01c8 1433     		adds	r3, r3, #20
 1551 01ca 3B82     		strh	r3, [r7, #16]	@ movhi
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* save the second pbuf before copying the header over the pointer */
ARM GAS  /tmp/cc4WdnkV.s 			page 40


 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = ((struct ip_reass_helper *)ipr->p->payload)->next_pbuf;
 1552              		.loc 1 624 39
 1553 01cc 3B6B     		ldr	r3, [r7, #48]
 1554 01ce 5B68     		ldr	r3, [r3, #4]
 1555              		.loc 1 624 42
 1556 01d0 5B68     		ldr	r3, [r3, #4]
 1557              		.loc 1 624 7
 1558 01d2 1B68     		ldr	r3, [r3]	@ unaligned
 1559 01d4 7B63     		str	r3, [r7, #52]
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* copy the original ip header back to the first pbuf */
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fraghdr = (struct ip_hdr *)(ipr->p->payload);
 1560              		.loc 1 627 36
 1561 01d6 3B6B     		ldr	r3, [r7, #48]
 1562 01d8 5B68     		ldr	r3, [r3, #4]
 1563              		.loc 1 627 13
 1564 01da 5B68     		ldr	r3, [r3, #4]
 1565 01dc BB62     		str	r3, [r7, #40]
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(fraghdr, &ipr->iphdr, IP_HLEN);
 1566              		.loc 1 628 5
 1567 01de 3B6B     		ldr	r3, [r7, #48]
 1568 01e0 0833     		adds	r3, r3, #8
 1569 01e2 1422     		movs	r2, #20
 1570 01e4 1946     		mov	r1, r3
 1571 01e6 B86A     		ldr	r0, [r7, #40]
 1572 01e8 FFF7FEFF 		bl	memcpy
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(datagram_len));
 1573              		.loc 1 629 5
 1574 01ec 3B8A     		ldrh	r3, [r7, #16]
 1575 01ee 1846     		mov	r0, r3
 1576 01f0 FFF7FEFF 		bl	lwip_htons
 1577 01f4 0346     		mov	r3, r0
 1578 01f6 1A46     		mov	r2, r3
 1579 01f8 BB6A     		ldr	r3, [r7, #40]
 1580 01fa 5A80     		strh	r2, [r3, #2]	@ unaligned
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(fraghdr, 0);
 1581              		.loc 1 630 5
 1582 01fc BB6A     		ldr	r3, [r7, #40]
 1583 01fe 0022     		movs	r2, #0
 1584 0200 9A71     		strb	r2, [r3, #6]
 1585 0202 0022     		movs	r2, #0
 1586 0204 DA71     		strb	r2, [r3, #7]
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(fraghdr, 0);
 1587              		.loc 1 631 5
 1588 0206 BB6A     		ldr	r3, [r7, #40]
 1589 0208 0022     		movs	r2, #0
 1590 020a 9A72     		strb	r2, [r3, #10]
 1591 020c 0022     		movs	r2, #0
 1592 020e DA72     		strb	r2, [r3, #11]
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* @todo: do we need to set/calculate the correct checksum? */
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(ip_current_input_netif(), NETIF_CHECKSUM_GEN_IP) {
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(fraghdr, inet_chksum(fraghdr, IP_HLEN));
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
ARM GAS  /tmp/cc4WdnkV.s 			page 41


 1593              		.loc 1 639 7
 1594 0210 3B6B     		ldr	r3, [r7, #48]
 1595 0212 5B68     		ldr	r3, [r3, #4]
 1596 0214 7B60     		str	r3, [r7, #4]
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* chain together the pbufs contained within the reass_data list. */
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 1597              		.loc 1 642 11
 1598 0216 0DE0     		b	.L98
 1599              	.L99:
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper *)r->payload;
 1600              		.loc 1 643 12
 1601 0218 7B6B     		ldr	r3, [r7, #52]
 1602 021a 5B68     		ldr	r3, [r3, #4]
 1603 021c FB60     		str	r3, [r7, #12]
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* hide the ip header for every succeeding fragment */
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_remove_header(r, IP_HLEN);
 1604              		.loc 1 646 7
 1605 021e 1421     		movs	r1, #20
 1606 0220 786B     		ldr	r0, [r7, #52]
 1607 0222 FFF7FEFF 		bl	pbuf_remove_header
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(p, r);
 1608              		.loc 1 647 7
 1609 0226 796B     		ldr	r1, [r7, #52]
 1610 0228 7868     		ldr	r0, [r7, #4]
 1611 022a FFF7FEFF 		bl	pbuf_cat
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = iprh->next_pbuf;
 1612              		.loc 1 648 9
 1613 022e FB68     		ldr	r3, [r7, #12]
 1614 0230 1B68     		ldr	r3, [r3]	@ unaligned
 1615 0232 7B63     		str	r3, [r7, #52]
 1616              	.L98:
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper *)r->payload;
 1617              		.loc 1 642 11
 1618 0234 7B6B     		ldr	r3, [r7, #52]
 1619 0236 002B     		cmp	r3, #0
 1620 0238 EED1     		bne	.L99
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* find the previous entry in the linked list */
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == reassdatagrams) {
 1621              		.loc 1 652 13
 1622 023a 314B     		ldr	r3, .L117+4
 1623 023c 1B68     		ldr	r3, [r3]
 1624              		.loc 1 652 8
 1625 023e 3A6B     		ldr	r2, [r7, #48]
 1626 0240 9A42     		cmp	r2, r3
 1627 0242 02D1     		bne	.L100
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 1628              		.loc 1 653 16
 1629 0244 0023     		movs	r3, #0
 1630 0246 FB62     		str	r3, [r7, #44]
 1631 0248 10E0     		b	.L101
 1632              	.L100:
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       for (ipr_prev = reassdatagrams; ipr_prev != NULL; ipr_prev = ipr_prev->next) {
ARM GAS  /tmp/cc4WdnkV.s 			page 42


 1633              		.loc 1 655 21
 1634 024a 2D4B     		ldr	r3, .L117+4
 1635 024c 1B68     		ldr	r3, [r3]
 1636 024e FB62     		str	r3, [r7, #44]
 1637              		.loc 1 655 7
 1638 0250 07E0     		b	.L102
 1639              	.L104:
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1640              		.loc 1 656 21
 1641 0252 FB6A     		ldr	r3, [r7, #44]
 1642 0254 1B68     		ldr	r3, [r3]
 1643              		.loc 1 656 12
 1644 0256 3A6B     		ldr	r2, [r7, #48]
 1645 0258 9A42     		cmp	r2, r3
 1646 025a 06D0     		beq	.L115
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1647              		.loc 1 655 66 discriminator 2
 1648 025c FB6A     		ldr	r3, [r7, #44]
 1649 025e 1B68     		ldr	r3, [r3]
 1650 0260 FB62     		str	r3, [r7, #44]
 1651              	.L102:
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1652              		.loc 1 655 7 discriminator 1
 1653 0262 FB6A     		ldr	r3, [r7, #44]
 1654 0264 002B     		cmp	r3, #0
 1655 0266 F4D1     		bne	.L104
 1656 0268 00E0     		b	.L101
 1657              	.L115:
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 1658              		.loc 1 657 11
 1659 026a 00BF     		nop
 1660              	.L101:
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* release the sources allocate for the fragment queue entry */
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_dequeue_datagram(ipr, ipr_prev);
 1661              		.loc 1 663 5
 1662 026c F96A     		ldr	r1, [r7, #44]
 1663 026e 386B     		ldr	r0, [r7, #48]
 1664 0270 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and adjust the number of pbufs currently queued for reassembly. */
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 1665              		.loc 1 666 12
 1666 0274 7868     		ldr	r0, [r7, #4]
 1667 0276 FFF7FEFF 		bl	pbuf_clen
 1668 027a 0346     		mov	r3, r0
 1669 027c 3B84     		strh	r3, [r7, #32]	@ movhi
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("ip_reass_pbufcount >= clen", ip_reass_pbufcount >= clen);
 1670              		.loc 1 667 5
 1671 027e 1F4B     		ldr	r3, .L117
 1672 0280 1B88     		ldrh	r3, [r3]
 1673 0282 3A8C     		ldrh	r2, [r7, #32]
 1674 0284 9A42     		cmp	r2, r3
 1675 0286 06D9     		bls	.L105
ARM GAS  /tmp/cc4WdnkV.s 			page 43


 1676              		.loc 1 667 5 is_stmt 0 discriminator 1
 1677 0288 1E4B     		ldr	r3, .L117+8
 1678 028a 40F29B22 		movw	r2, #667
 1679 028e 1E49     		ldr	r1, .L117+12
 1680 0290 1E48     		ldr	r0, .L117+16
 1681 0292 FFF7FEFF 		bl	printf
 1682              	.L105:
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_pbufcount = (u16_t)(ip_reass_pbufcount - clen);
 1683              		.loc 1 668 26 is_stmt 1
 1684 0296 194B     		ldr	r3, .L117
 1685 0298 1A88     		ldrh	r2, [r3]
 1686 029a 3B8C     		ldrh	r3, [r7, #32]	@ movhi
 1687 029c D31A     		subs	r3, r2, r3
 1688 029e 9AB2     		uxth	r2, r3
 1689              		.loc 1 668 24
 1690 02a0 164B     		ldr	r3, .L117
 1691 02a2 1A80     		strh	r2, [r3]	@ movhi
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     MIB2_STATS_INC(mib2.ipreasmoks);
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Return the pbuf chain */
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return p;
 1692              		.loc 1 673 12
 1693 02a4 7B68     		ldr	r3, [r7, #4]
 1694 02a6 3CE0     		b	.L106
 1695              	.L97:
 1696              	.LBE6:
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* the datagram is not (yet?) reassembled completely */
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_pbufcount: %d out\n", ip_reass_pbufcount));
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 1697              		.loc 1 677 10
 1698 02a8 0023     		movs	r3, #0
 1699 02aa 3AE0     		b	.L106
 1700              	.L113:
 1701              	.LBB7:
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1702              		.loc 1 593 7
 1703 02ac 00BF     		nop
 1704 02ae 00E0     		b	.L94
 1705              	.L114:
 1706              	.LBE7:
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1707              		.loc 1 600 5
 1708 02b0 00BF     		nop
 1709              	.L94:
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** nullreturn_ipr:
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ipr != NULL", ipr != NULL);
 1710              		.loc 1 680 3
 1711 02b2 3B6B     		ldr	r3, [r7, #48]
 1712 02b4 002B     		cmp	r3, #0
 1713 02b6 06D1     		bne	.L107
 1714              		.loc 1 680 3 is_stmt 0 discriminator 1
 1715 02b8 124B     		ldr	r3, .L117+8
 1716 02ba 4FF42A72 		mov	r2, #680
 1717 02be 1449     		ldr	r1, .L117+20
ARM GAS  /tmp/cc4WdnkV.s 			page 44


 1718 02c0 1248     		ldr	r0, .L117+16
 1719 02c2 FFF7FEFF 		bl	printf
 1720              	.L107:
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr->p == NULL) {
 1721              		.loc 1 681 10 is_stmt 1
 1722 02c6 3B6B     		ldr	r3, [r7, #48]
 1723 02c8 5B68     		ldr	r3, [r3, #4]
 1724              		.loc 1 681 6
 1725 02ca 002B     		cmp	r3, #0
 1726 02cc 24D1     		bne	.L116
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* dropped pbuf after creating a new datagram entry: remove the entry, too */
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("not firstalthough just enqueued", ipr == reassdatagrams);
 1727              		.loc 1 683 5
 1728 02ce 0C4B     		ldr	r3, .L117+4
 1729 02d0 1B68     		ldr	r3, [r3]
 1730 02d2 3A6B     		ldr	r2, [r7, #48]
 1731 02d4 9A42     		cmp	r2, r3
 1732 02d6 06D0     		beq	.L108
 1733              		.loc 1 683 5 is_stmt 0 discriminator 1
 1734 02d8 0A4B     		ldr	r3, .L117+8
 1735 02da 40F2AB22 		movw	r2, #683
 1736 02de 0D49     		ldr	r1, .L117+24
 1737 02e0 0A48     		ldr	r0, .L117+16
 1738 02e2 FFF7FEFF 		bl	printf
 1739              	.L108:
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_dequeue_datagram(ipr, NULL);
 1740              		.loc 1 684 5 is_stmt 1
 1741 02e6 0021     		movs	r1, #0
 1742 02e8 386B     		ldr	r0, [r7, #48]
 1743 02ea FFF7FEFF 		bl	ip_reass_dequeue_datagram
 1744 02ee 14E0     		b	.L82
 1745              	.L109:
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1746              		.loc 1 522 5
 1747 02f0 00BF     		nop
 1748 02f2 12E0     		b	.L82
 1749              	.L110:
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1750              		.loc 1 530 5
 1751 02f4 00BF     		nop
 1752 02f6 10E0     		b	.L82
 1753              	.L111:
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1754              		.loc 1 548 7
 1755 02f8 00BF     		nop
 1756 02fa 0EE0     		b	.L82
 1757              	.L118:
 1758              		.align	2
 1759              	.L117:
 1760 02fc 00000000 		.word	ip_reass_pbufcount
 1761 0300 00000000 		.word	reassdatagrams
 1762 0304 00000000 		.word	.LC0
 1763 0308 6C010000 		.word	.LC11
 1764 030c 44000000 		.word	.LC2
 1765 0310 88010000 		.word	.LC12
 1766 0314 94010000 		.word	.LC13
 1767              	.L116:
ARM GAS  /tmp/cc4WdnkV.s 			page 45


 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** nullreturn:
 1768              		.loc 1 687 1
 1769 0318 00BF     		nop
 1770              	.L82:
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: nullreturn\n"));
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.drop);
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(p);
 1771              		.loc 1 690 3
 1772 031a 7868     		ldr	r0, [r7, #4]
 1773 031c FFF7FEFF 		bl	pbuf_free
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 1774              		.loc 1 691 10
 1775 0320 0023     		movs	r3, #0
 1776              	.L106:
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1777              		.loc 1 692 1
 1778 0322 1846     		mov	r0, r3
 1779 0324 3837     		adds	r7, r7, #56
 1780              	.LCFI33:
 1781              		.cfi_def_cfa_offset 8
 1782 0326 BD46     		mov	sp, r7
 1783              	.LCFI34:
 1784              		.cfi_def_cfa_register 13
 1785              		@ sp needed
 1786 0328 80BD     		pop	{r7, pc}
 1787              		.cfi_endproc
 1788              	.LFE139:
 1790 032a 00BF     		.section	.text.ip_frag_alloc_pbuf_custom_ref,"ax",%progbits
 1791              		.align	1
 1792              		.syntax unified
 1793              		.thumb
 1794              		.thumb_func
 1795              		.fpu fpv4-sp-d16
 1797              	ip_frag_alloc_pbuf_custom_ref:
 1798              	.LFB140:
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASSEMBLY */
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_FRAG
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Allocate a new struct pbuf_custom_ref */
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct pbuf_custom_ref *
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_alloc_pbuf_custom_ref(void)
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1799              		.loc 1 700 1
 1800              		.cfi_startproc
 1801              		@ args = 0, pretend = 0, frame = 0
 1802              		@ frame_needed = 1, uses_anonymous_args = 0
 1803 0000 80B5     		push	{r7, lr}
 1804              	.LCFI35:
 1805              		.cfi_def_cfa_offset 8
 1806              		.cfi_offset 7, -8
 1807              		.cfi_offset 14, -4
 1808 0002 00AF     		add	r7, sp, #0
 1809              	.LCFI36:
 1810              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc4WdnkV.s 			page 46


 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return (struct pbuf_custom_ref *)memp_malloc(MEMP_FRAG_PBUF);
 1811              		.loc 1 701 36
 1812 0004 0520     		movs	r0, #5
 1813 0006 FFF7FEFF 		bl	memp_malloc
 1814 000a 0346     		mov	r3, r0
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1815              		.loc 1 702 1
 1816 000c 1846     		mov	r0, r3
 1817 000e 80BD     		pop	{r7, pc}
 1818              		.cfi_endproc
 1819              	.LFE140:
 1821              		.section	.rodata
 1822              		.align	2
 1823              	.LC14:
 1824 01b4 7020213D 		.ascii	"p != NULL\000"
 1824      204E554C 
 1824      4C00
 1825              		.section	.text.ip_frag_free_pbuf_custom_ref,"ax",%progbits
 1826              		.align	1
 1827              		.syntax unified
 1828              		.thumb
 1829              		.thumb_func
 1830              		.fpu fpv4-sp-d16
 1832              	ip_frag_free_pbuf_custom_ref:
 1833              	.LFB141:
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free a struct pbuf_custom_ref */
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_free_pbuf_custom_ref(struct pbuf_custom_ref *p)
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1834              		.loc 1 707 1
 1835              		.cfi_startproc
 1836              		@ args = 0, pretend = 0, frame = 8
 1837              		@ frame_needed = 1, uses_anonymous_args = 0
 1838 0000 80B5     		push	{r7, lr}
 1839              	.LCFI37:
 1840              		.cfi_def_cfa_offset 8
 1841              		.cfi_offset 7, -8
 1842              		.cfi_offset 14, -4
 1843 0002 82B0     		sub	sp, sp, #8
 1844              	.LCFI38:
 1845              		.cfi_def_cfa_offset 16
 1846 0004 00AF     		add	r7, sp, #0
 1847              	.LCFI39:
 1848              		.cfi_def_cfa_register 7
 1849 0006 7860     		str	r0, [r7, #4]
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 1850              		.loc 1 708 3
 1851 0008 7B68     		ldr	r3, [r7, #4]
 1852 000a 002B     		cmp	r3, #0
 1853 000c 06D1     		bne	.L122
 1854              		.loc 1 708 3 is_stmt 0 discriminator 1
 1855 000e 074B     		ldr	r3, .L123
 1856 0010 4FF43172 		mov	r2, #708
 1857 0014 0649     		ldr	r1, .L123+4
 1858 0016 0748     		ldr	r0, .L123+8
 1859 0018 FFF7FEFF 		bl	printf
ARM GAS  /tmp/cc4WdnkV.s 			page 47


 1860              	.L122:
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_FRAG_PBUF, p);
 1861              		.loc 1 709 3 is_stmt 1
 1862 001c 7968     		ldr	r1, [r7, #4]
 1863 001e 0520     		movs	r0, #5
 1864 0020 FFF7FEFF 		bl	memp_free
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1865              		.loc 1 710 1
 1866 0024 00BF     		nop
 1867 0026 0837     		adds	r7, r7, #8
 1868              	.LCFI40:
 1869              		.cfi_def_cfa_offset 8
 1870 0028 BD46     		mov	sp, r7
 1871              	.LCFI41:
 1872              		.cfi_def_cfa_register 13
 1873              		@ sp needed
 1874 002a 80BD     		pop	{r7, pc}
 1875              	.L124:
 1876              		.align	2
 1877              	.L123:
 1878 002c 00000000 		.word	.LC0
 1879 0030 B4010000 		.word	.LC14
 1880 0034 44000000 		.word	.LC2
 1881              		.cfi_endproc
 1882              	.LFE141:
 1884              		.section	.rodata
 1885 01be 0000     		.align	2
 1886              	.LC15:
 1887 01c0 70637220 		.ascii	"pcr != NULL\000"
 1887      213D204E 
 1887      554C4C00 
 1888              		.align	2
 1889              	.LC16:
 1890 01cc 70637220 		.ascii	"pcr == p\000"
 1890      3D3D2070 
 1890      00
 1891              		.section	.text.ipfrag_free_pbuf_custom,"ax",%progbits
 1892              		.align	1
 1893              		.syntax unified
 1894              		.thumb
 1895              		.thumb_func
 1896              		.fpu fpv4-sp-d16
 1898              	ipfrag_free_pbuf_custom:
 1899              	.LFB142:
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free-callback function to free a 'struct pbuf_custom_ref', called by
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * pbuf_free. */
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ipfrag_free_pbuf_custom(struct pbuf *p)
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1900              		.loc 1 716 1
 1901              		.cfi_startproc
 1902              		@ args = 0, pretend = 0, frame = 16
 1903              		@ frame_needed = 1, uses_anonymous_args = 0
 1904 0000 80B5     		push	{r7, lr}
 1905              	.LCFI42:
 1906              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc4WdnkV.s 			page 48


 1907              		.cfi_offset 7, -8
 1908              		.cfi_offset 14, -4
 1909 0002 84B0     		sub	sp, sp, #16
 1910              	.LCFI43:
 1911              		.cfi_def_cfa_offset 24
 1912 0004 00AF     		add	r7, sp, #0
 1913              	.LCFI44:
 1914              		.cfi_def_cfa_register 7
 1915 0006 7860     		str	r0, [r7, #4]
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf_custom_ref *pcr = (struct pbuf_custom_ref *)p;
 1916              		.loc 1 717 27
 1917 0008 7B68     		ldr	r3, [r7, #4]
 1918 000a FB60     		str	r3, [r7, #12]
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr != NULL", pcr != NULL);
 1919              		.loc 1 718 3
 1920 000c FB68     		ldr	r3, [r7, #12]
 1921 000e 002B     		cmp	r3, #0
 1922 0010 06D1     		bne	.L126
 1923              		.loc 1 718 3 is_stmt 0 discriminator 1
 1924 0012 114B     		ldr	r3, .L129
 1925 0014 40F2CE22 		movw	r2, #718
 1926 0018 1049     		ldr	r1, .L129+4
 1927 001a 1148     		ldr	r0, .L129+8
 1928 001c FFF7FEFF 		bl	printf
 1929              	.L126:
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void *)pcr == (void *)p);
 1930              		.loc 1 719 3 is_stmt 1
 1931 0020 FA68     		ldr	r2, [r7, #12]
 1932 0022 7B68     		ldr	r3, [r7, #4]
 1933 0024 9A42     		cmp	r2, r3
 1934 0026 06D0     		beq	.L127
 1935              		.loc 1 719 3 is_stmt 0 discriminator 1
 1936 0028 0B4B     		ldr	r3, .L129
 1937 002a 40F2CF22 		movw	r2, #719
 1938 002e 0D49     		ldr	r1, .L129+12
 1939 0030 0B48     		ldr	r0, .L129+8
 1940 0032 FFF7FEFF 		bl	printf
 1941              	.L127:
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (pcr->original != NULL) {
 1942              		.loc 1 720 10 is_stmt 1
 1943 0036 FB68     		ldr	r3, [r7, #12]
 1944 0038 5B69     		ldr	r3, [r3, #20]
 1945              		.loc 1 720 6
 1946 003a 002B     		cmp	r3, #0
 1947 003c 04D0     		beq	.L128
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcr->original);
 1948              		.loc 1 721 5
 1949 003e FB68     		ldr	r3, [r7, #12]
 1950 0040 5B69     		ldr	r3, [r3, #20]
 1951 0042 1846     		mov	r0, r3
 1952 0044 FFF7FEFF 		bl	pbuf_free
 1953              	.L128:
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_frag_free_pbuf_custom_ref(pcr);
 1954              		.loc 1 723 3
 1955 0048 F868     		ldr	r0, [r7, #12]
 1956 004a FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
ARM GAS  /tmp/cc4WdnkV.s 			page 49


 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1957              		.loc 1 724 1
 1958 004e 00BF     		nop
 1959 0050 1037     		adds	r7, r7, #16
 1960              	.LCFI45:
 1961              		.cfi_def_cfa_offset 8
 1962 0052 BD46     		mov	sp, r7
 1963              	.LCFI46:
 1964              		.cfi_def_cfa_register 13
 1965              		@ sp needed
 1966 0054 80BD     		pop	{r7, pc}
 1967              	.L130:
 1968 0056 00BF     		.align	2
 1969              	.L129:
 1970 0058 00000000 		.word	.LC0
 1971 005c C0010000 		.word	.LC15
 1972 0060 44000000 		.word	.LC2
 1973 0064 CC010000 		.word	.LC16
 1974              		.cfi_endproc
 1975              	.LFE142:
 1977              		.section	.rodata
 1978 01d5 000000   		.align	2
 1979              	.LC17:
 1980 01d8 6970345F 		.ascii	"ip4_frag(): pbuf too short\000"
 1980      66726167 
 1980      28293A20 
 1980      70627566 
 1980      20746F6F 
 1981 01f3 00       		.align	2
 1982              	.LC18:
 1983 01f4 74686973 		.ascii	"this needs a pbuf in one piece!\000"
 1983      206E6565 
 1983      64732061 
 1983      20706275 
 1983      6620696E 
 1984              		.align	2
 1985              	.LC19:
 1986 0214 702D3E6C 		.ascii	"p->len >= poff\000"
 1986      656E203E 
 1986      3D20706F 
 1986      666600
 1987              		.section	.text.ip4_frag,"ax",%progbits
 1988              		.align	1
 1989              		.global	ip4_frag
 1990              		.syntax unified
 1991              		.thumb
 1992              		.thumb_func
 1993              		.fpu fpv4-sp-d16
 1995              	ip4_frag:
 1996              	.LFB143:
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* !LWIP_NETIF_TX_SINGLE_PBUF */
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Fragment an IP datagram if too large for the netif.
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chop the datagram in MTU sized chunks and send them in order
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * by pointing PBUF_REFs into p.
ARM GAS  /tmp/cc4WdnkV.s 			page 50


 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p ip packet to send
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param netif the netif on which to send
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param dest destination ip address to which to send
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return ERR_OK if sent successfully, err_t otherwise
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** err_t
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_frag(struct pbuf *p, struct netif *netif, const ip4_addr_t *dest)
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1997              		.loc 1 741 1
 1998              		.cfi_startproc
 1999              		@ args = 0, pretend = 0, frame = 72
 2000              		@ frame_needed = 1, uses_anonymous_args = 0
 2001 0000 80B5     		push	{r7, lr}
 2002              	.LCFI47:
 2003              		.cfi_def_cfa_offset 8
 2004              		.cfi_offset 7, -8
 2005              		.cfi_offset 14, -4
 2006 0002 94B0     		sub	sp, sp, #80
 2007              	.LCFI48:
 2008              		.cfi_def_cfa_offset 88
 2009 0004 02AF     		add	r7, sp, #8
 2010              	.LCFI49:
 2011              		.cfi_def_cfa 7, 80
 2012 0006 F860     		str	r0, [r7, #12]
 2013 0008 B960     		str	r1, [r7, #8]
 2014 000a 7A60     		str	r2, [r7, #4]
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *rambuf;
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *newpbuf;
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t newpbuflen = 0;
 2015              		.loc 1 745 9
 2016 000c 0023     		movs	r3, #0
 2017 000e A7F84630 		strh	r3, [r7, #70]	@ movhi
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left_to_copy;
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *original_iphdr;
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *iphdr;
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   const u16_t nfb = (u16_t)((netif->mtu - IP_HLEN) / 8);
 2018              		.loc 1 750 35
 2019 0012 BB68     		ldr	r3, [r7, #8]
 2020 0014 1B8D     		ldrh	r3, [r3, #40]
 2021              		.loc 1 750 41
 2022 0016 143B     		subs	r3, r3, #20
 2023              		.loc 1 750 52
 2024 0018 002B     		cmp	r3, #0
 2025 001a 00DA     		bge	.L132
 2026 001c 0733     		adds	r3, r3, #7
 2027              	.L132:
 2028 001e DB10     		asrs	r3, r3, #3
 2029              		.loc 1 750 15
 2030 0020 7B87     		strh	r3, [r7, #58]	@ movhi
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left, fragsize;
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t ofo;
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int last;
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t poff = IP_HLEN;
ARM GAS  /tmp/cc4WdnkV.s 			page 51


 2031              		.loc 1 754 9
 2032 0022 1423     		movs	r3, #20
 2033 0024 FB87     		strh	r3, [r7, #62]	@ movhi
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t tmp;
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int mf_set;
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   original_iphdr = (struct ip_hdr *)p->payload;
 2034              		.loc 1 758 18
 2035 0026 FB68     		ldr	r3, [r7, #12]
 2036 0028 5B68     		ldr	r3, [r3, #4]
 2037 002a 7B63     		str	r3, [r7, #52]
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iphdr = original_iphdr;
 2038              		.loc 1 759 9
 2039 002c 7B6B     		ldr	r3, [r7, #52]
 2040 002e 3B63     		str	r3, [r7, #48]
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (IPH_HL_BYTES(iphdr) != IP_HLEN) {
 2041              		.loc 1 760 7
 2042 0030 3B6B     		ldr	r3, [r7, #48]
 2043 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2044 0034 03F00F03 		and	r3, r3, #15
 2045 0038 DBB2     		uxtb	r3, r3
 2046 003a 9B00     		lsls	r3, r3, #2
 2047 003c DBB2     		uxtb	r3, r3
 2048              		.loc 1 760 6
 2049 003e 142B     		cmp	r3, #20
 2050 0040 02D0     		beq	.L133
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* ip4_frag() does not support IP options */
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return ERR_VAL;
 2051              		.loc 1 762 12
 2052 0042 6FF00503 		mvn	r3, #5
 2053 0046 10E1     		b	.L134
 2054              	.L133:
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ERROR("ip4_frag(): pbuf too short", p->len >= IP_HLEN, return ERR_VAL);
 2055              		.loc 1 764 3
 2056 0048 FB68     		ldr	r3, [r7, #12]
 2057 004a 5B89     		ldrh	r3, [r3, #10]
 2058 004c 132B     		cmp	r3, #19
 2059 004e 09D8     		bhi	.L135
 2060              		.loc 1 764 3 is_stmt 0 discriminator 1
 2061 0050 884B     		ldr	r3, .L150
 2062 0052 4FF43F72 		mov	r2, #764
 2063 0056 8849     		ldr	r1, .L150+4
 2064 0058 8848     		ldr	r0, .L150+8
 2065 005a FFF7FEFF 		bl	printf
 2066 005e 6FF00503 		mvn	r3, #5
 2067 0062 02E1     		b	.L134
 2068              	.L135:
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Save original offset */
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   tmp = lwip_ntohs(IPH_OFFSET(iphdr));
 2069              		.loc 1 767 9 is_stmt 1
 2070 0064 3B6B     		ldr	r3, [r7, #48]
 2071 0066 DB88     		ldrh	r3, [r3, #6]	@ unaligned
 2072 0068 9BB2     		uxth	r3, r3
 2073 006a 1846     		mov	r0, r3
 2074 006c FFF7FEFF 		bl	lwip_htons
ARM GAS  /tmp/cc4WdnkV.s 			page 52


 2075 0070 0346     		mov	r3, r0
 2076 0072 BB87     		strh	r3, [r7, #60]	@ movhi
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ofo = tmp & IP_OFFMASK;
 2077              		.loc 1 768 7
 2078 0074 BB8F     		ldrh	r3, [r7, #60]	@ movhi
 2079 0076 C3F30C03 		ubfx	r3, r3, #0, #13
 2080 007a A7F84030 		strh	r3, [r7, #64]	@ movhi
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* already fragmented? if so, the last fragment we create must have MF, too */
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   mf_set = tmp & IP_MF;
 2081              		.loc 1 770 16
 2082 007e BB8F     		ldrh	r3, [r7, #60]
 2083              		.loc 1 770 10
 2084 0080 03F40053 		and	r3, r3, #8192
 2085 0084 FB62     		str	r3, [r7, #44]
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   left = (u16_t)(p->tot_len - IP_HLEN);
 2086              		.loc 1 772 19
 2087 0086 FB68     		ldr	r3, [r7, #12]
 2088 0088 1B89     		ldrh	r3, [r3, #8]
 2089              		.loc 1 772 8
 2090 008a 143B     		subs	r3, r3, #20
 2091 008c A7F84230 		strh	r3, [r7, #66]	@ movhi
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (left) {
 2092              		.loc 1 774 9
 2093 0090 E1E0     		b	.L136
 2094              	.L148:
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Fill this fragment */
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fragsize = LWIP_MIN(left, (u16_t)(nfb * 8));
 2095              		.loc 1 776 16
 2096 0092 7B8F     		ldrh	r3, [r7, #58]	@ movhi
 2097 0094 DB00     		lsls	r3, r3, #3
 2098 0096 9BB2     		uxth	r3, r3
 2099              		.loc 1 776 14
 2100 0098 B7F84220 		ldrh	r2, [r7, #66]
 2101 009c 9342     		cmp	r3, r2
 2102 009e 28BF     		it	cs
 2103 00a0 1346     		movcs	r3, r2
 2104 00a2 7B85     		strh	r3, [r7, #42]	@ movhi
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_IP, fragsize, PBUF_RAM);
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (rambuf->len == rambuf->tot_len) && (rambuf->next == NULL));
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff += pbuf_copy_partial(p, rambuf->payload, fragsize, poff);
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* make room for the IP header */
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (pbuf_add_header(rambuf, IP_HLEN)) {
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_free(rambuf);
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* fill in the IP header */
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr *)rambuf->payload;
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
ARM GAS  /tmp/cc4WdnkV.s 			page 53


 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* When not using a static buffer, create a chain of pbufs.
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The first will be a PBUF_RAM holding the link and IP header.
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The rest will be PBUF_REFs mirroring the pbuf chain to be fragged,
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * but limited to the size of an mtu.
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_LINK, IP_HLEN, PBUF_RAM);
 2105              		.loc 1 800 14
 2106 00a4 4FF42072 		mov	r2, #640
 2107 00a8 1421     		movs	r1, #20
 2108 00aa 0E20     		movs	r0, #14
 2109 00ac FFF7FEFF 		bl	pbuf_alloc
 2110 00b0 7862     		str	r0, [r7, #36]
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 2111              		.loc 1 801 8
 2112 00b2 7B6A     		ldr	r3, [r7, #36]
 2113 00b4 002B     		cmp	r3, #0
 2114 00b6 00F0D580 		beq	.L149
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 2115              		.loc 1 804 5
 2116 00ba 7B6A     		ldr	r3, [r7, #36]
 2117 00bc 5B89     		ldrh	r3, [r3, #10]
 2118 00be 132B     		cmp	r3, #19
 2119 00c0 06D8     		bhi	.L139
 2120              		.loc 1 804 5 is_stmt 0 discriminator 1
 2121 00c2 6C4B     		ldr	r3, .L150
 2122 00c4 40F22532 		movw	r2, #805
 2123 00c8 6D49     		ldr	r1, .L150+12
 2124 00ca 6C48     		ldr	r0, .L150+8
 2125 00cc FFF7FEFF 		bl	printf
 2126              	.L139:
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (rambuf->len >= (IP_HLEN)));
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 2127              		.loc 1 806 5 is_stmt 1
 2128 00d0 7B6A     		ldr	r3, [r7, #36]
 2129 00d2 5B68     		ldr	r3, [r3, #4]
 2130 00d4 1422     		movs	r2, #20
 2131 00d6 796B     		ldr	r1, [r7, #52]
 2132 00d8 1846     		mov	r0, r3
 2133 00da FFF7FEFF 		bl	memcpy
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr *)rambuf->payload;
 2134              		.loc 1 807 11
 2135 00de 7B6A     		ldr	r3, [r7, #36]
 2136 00e0 5B68     		ldr	r3, [r3, #4]
 2137 00e2 3B63     		str	r3, [r7, #48]
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left_to_copy = fragsize;
 2138              		.loc 1 809 18
 2139 00e4 7B8D     		ldrh	r3, [r7, #42]	@ movhi
 2140 00e6 A7F84430 		strh	r3, [r7, #68]	@ movhi
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (left_to_copy) {
 2141              		.loc 1 810 11
 2142 00ea 64E0     		b	.L140
 2143              	.L145:
 2144              	.LBB8:
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
ARM GAS  /tmp/cc4WdnkV.s 			page 54


 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       u16_t plen = (u16_t)(p->len - poff);
 2145              		.loc 1 812 29
 2146 00ec FB68     		ldr	r3, [r7, #12]
 2147 00ee 5A89     		ldrh	r2, [r3, #10]
 2148              		.loc 1 812 13
 2149 00f0 FB8F     		ldrh	r3, [r7, #62]	@ movhi
 2150 00f2 D31A     		subs	r3, r2, r3
 2151 00f4 7B84     		strh	r3, [r7, #34]	@ movhi
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("p->len >= poff", p->len >= poff);
 2152              		.loc 1 813 7
 2153 00f6 FB68     		ldr	r3, [r7, #12]
 2154 00f8 5B89     		ldrh	r3, [r3, #10]
 2155 00fa FA8F     		ldrh	r2, [r7, #62]
 2156 00fc 9A42     		cmp	r2, r3
 2157 00fe 06D9     		bls	.L141
 2158              		.loc 1 813 7 is_stmt 0 discriminator 1
 2159 0100 5C4B     		ldr	r3, .L150
 2160 0102 40F22D32 		movw	r2, #813
 2161 0106 5F49     		ldr	r1, .L150+16
 2162 0108 5C48     		ldr	r0, .L150+8
 2163 010a FFF7FEFF 		bl	printf
 2164              	.L141:
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 2165              		.loc 1 814 18 is_stmt 1
 2166 010e 7A8C     		ldrh	r2, [r7, #34]
 2167 0110 B7F84430 		ldrh	r3, [r7, #68]
 2168 0114 9342     		cmp	r3, r2
 2169 0116 28BF     		it	cs
 2170 0118 1346     		movcs	r3, r2
 2171 011a A7F84630 		strh	r3, [r7, #70]	@ movhi
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!newpbuflen) {
 2172              		.loc 1 816 10
 2173 011e B7F84630 		ldrh	r3, [r7, #70]
 2174 0122 002B     		cmp	r3, #0
 2175 0124 05D1     		bne	.L142
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 2176              		.loc 1 817 14
 2177 0126 0023     		movs	r3, #0
 2178 0128 FB87     		strh	r3, [r7, #62]	@ movhi
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 2179              		.loc 1 818 11
 2180 012a FB68     		ldr	r3, [r7, #12]
 2181 012c 1B68     		ldr	r3, [r3]
 2182 012e FB60     		str	r3, [r7, #12]
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 2183              		.loc 1 819 9
 2184 0130 41E0     		b	.L140
 2185              	.L142:
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr = ip_frag_alloc_pbuf_custom_ref();
 2186              		.loc 1 821 13
 2187 0132 FFF7FEFF 		bl	ip_frag_alloc_pbuf_custom_ref
 2188 0136 F861     		str	r0, [r7, #28]
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (pcr == NULL) {
 2189              		.loc 1 822 10
 2190 0138 FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/cc4WdnkV.s 			page 55


 2191 013a 002B     		cmp	r3, #0
 2192 013c 03D1     		bne	.L143
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 2193              		.loc 1 823 9
 2194 013e 786A     		ldr	r0, [r7, #36]
 2195 0140 FFF7FEFF 		bl	pbuf_free
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 2196              		.loc 1 824 9
 2197 0144 8FE0     		b	.L138
 2198              	.L143:
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Mirror this pbuf, although we might not need all of it. */
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuf = pbuf_alloced_custom(PBUF_RAW, newpbuflen, PBUF_REF, &pcr->pc,
 2199              		.loc 1 827 17
 2200 0146 F869     		ldr	r0, [r7, #28]
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                                     (u8_t *)p->payload + poff, newpbuflen);
 2201              		.loc 1 828 46
 2202 0148 FB68     		ldr	r3, [r7, #12]
 2203 014a 5A68     		ldr	r2, [r3, #4]
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                                     (u8_t *)p->payload + poff, newpbuflen);
 2204              		.loc 1 827 17
 2205 014c FB8F     		ldrh	r3, [r7, #62]
 2206 014e 1344     		add	r3, r3, r2
 2207 0150 B7F84610 		ldrh	r1, [r7, #70]
 2208 0154 B7F84620 		ldrh	r2, [r7, #70]
 2209 0158 0192     		str	r2, [sp, #4]
 2210 015a 0093     		str	r3, [sp]
 2211 015c 0346     		mov	r3, r0
 2212 015e 4122     		movs	r2, #65
 2213 0160 0020     		movs	r0, #0
 2214 0162 FFF7FEFF 		bl	pbuf_alloced_custom
 2215 0166 B861     		str	r0, [r7, #24]
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (newpbuf == NULL) {
 2216              		.loc 1 829 10
 2217 0168 BB69     		ldr	r3, [r7, #24]
 2218 016a 002B     		cmp	r3, #0
 2219 016c 06D1     		bne	.L144
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ip_frag_free_pbuf_custom_ref(pcr);
 2220              		.loc 1 830 9
 2221 016e F869     		ldr	r0, [r7, #28]
 2222 0170 FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 2223              		.loc 1 831 9
 2224 0174 786A     		ldr	r0, [r7, #36]
 2225 0176 FFF7FEFF 		bl	pbuf_free
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 2226              		.loc 1 832 9
 2227 017a 74E0     		b	.L138
 2228              	.L144:
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_ref(p);
 2229              		.loc 1 834 7
 2230 017c F868     		ldr	r0, [r7, #12]
 2231 017e FFF7FEFF 		bl	pbuf_ref
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->original = p;
 2232              		.loc 1 835 21
 2233 0182 FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/cc4WdnkV.s 			page 56


 2234 0184 FA68     		ldr	r2, [r7, #12]
 2235 0186 5A61     		str	r2, [r3, #20]
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->pc.custom_free_function = ipfrag_free_pbuf_custom;
 2236              		.loc 1 836 36
 2237 0188 FB69     		ldr	r3, [r7, #28]
 2238 018a 3F4A     		ldr	r2, .L150+20
 2239 018c 1A61     		str	r2, [r3, #16]
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Add it to end of rambuf's chain, but using pbuf_cat, not pbuf_chain
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * so that it is removed when pbuf_dechain is later called on rambuf.
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        */
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(rambuf, newpbuf);
 2240              		.loc 1 841 7
 2241 018e B969     		ldr	r1, [r7, #24]
 2242 0190 786A     		ldr	r0, [r7, #36]
 2243 0192 FFF7FEFF 		bl	pbuf_cat
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       left_to_copy = (u16_t)(left_to_copy - newpbuflen);
 2244              		.loc 1 842 20
 2245 0196 B7F84420 		ldrh	r2, [r7, #68]	@ movhi
 2246 019a B7F84630 		ldrh	r3, [r7, #70]	@ movhi
 2247 019e D31A     		subs	r3, r2, r3
 2248 01a0 A7F84430 		strh	r3, [r7, #68]	@ movhi
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (left_to_copy) {
 2249              		.loc 1 843 10
 2250 01a4 B7F84430 		ldrh	r3, [r7, #68]
 2251 01a8 002B     		cmp	r3, #0
 2252 01aa 04D0     		beq	.L140
 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 2253              		.loc 1 844 14
 2254 01ac 0023     		movs	r3, #0
 2255 01ae FB87     		strh	r3, [r7, #62]	@ movhi
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 2256              		.loc 1 845 11
 2257 01b0 FB68     		ldr	r3, [r7, #12]
 2258 01b2 1B68     		ldr	r3, [r3]
 2259 01b4 FB60     		str	r3, [r7, #12]
 2260              	.L140:
 2261              	.LBE8:
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 2262              		.loc 1 810 11
 2263 01b6 B7F84430 		ldrh	r3, [r7, #68]
 2264 01ba 002B     		cmp	r3, #0
 2265 01bc 96D1     		bne	.L145
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff = (u16_t)(poff + newpbuflen);
 2266              		.loc 1 848 10
 2267 01be FA8F     		ldrh	r2, [r7, #62]	@ movhi
 2268 01c0 B7F84630 		ldrh	r3, [r7, #70]	@ movhi
 2269 01c4 1344     		add	r3, r3, r2
 2270 01c6 FB87     		strh	r3, [r7, #62]	@ movhi
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Correct header */
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     last = (left <= netif->mtu - IP_HLEN);
 2271              		.loc 1 852 26
 2272 01c8 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cc4WdnkV.s 			page 57


 2273 01ca 1B8D     		ldrh	r3, [r3, #40]
 2274              		.loc 1 852 18
 2275 01cc A3F11302 		sub	r2, r3, #19
 2276 01d0 B7F84230 		ldrh	r3, [r7, #66]
 2277 01d4 9A42     		cmp	r2, r3
 2278 01d6 CCBF     		ite	gt
 2279 01d8 0123     		movgt	r3, #1
 2280 01da 0023     		movle	r3, #0
 2281 01dc DBB2     		uxtb	r3, r3
 2282              		.loc 1 852 10
 2283 01de 7B61     		str	r3, [r7, #20]
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Set new offset and MF flag */
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     tmp = (IP_OFFMASK & (ofo));
 2284              		.loc 1 855 9
 2285 01e0 B7F84030 		ldrh	r3, [r7, #64]	@ movhi
 2286 01e4 C3F30C03 		ubfx	r3, r3, #0, #13
 2287 01e8 BB87     		strh	r3, [r7, #60]	@ movhi
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last || mf_set) {
 2288              		.loc 1 856 8
 2289 01ea 7B69     		ldr	r3, [r7, #20]
 2290 01ec 002B     		cmp	r3, #0
 2291 01ee 02D0     		beq	.L146
 2292              		.loc 1 856 15 discriminator 1
 2293 01f0 FB6A     		ldr	r3, [r7, #44]
 2294 01f2 002B     		cmp	r3, #0
 2295 01f4 03D0     		beq	.L147
 2296              	.L146:
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the last fragment has MF set if the input frame had it */
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 2297              		.loc 1 858 11
 2298 01f6 BB8F     		ldrh	r3, [r7, #60]	@ movhi
 2299 01f8 43F40053 		orr	r3, r3, #8192
 2300 01fc BB87     		strh	r3, [r7, #60]	@ movhi
 2301              	.L147:
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(iphdr, lwip_htons(tmp));
 2302              		.loc 1 860 5
 2303 01fe BB8F     		ldrh	r3, [r7, #60]
 2304 0200 1846     		mov	r0, r3
 2305 0202 FFF7FEFF 		bl	lwip_htons
 2306 0206 0346     		mov	r3, r0
 2307 0208 1A46     		mov	r2, r3
 2308 020a 3B6B     		ldr	r3, [r7, #48]
 2309 020c DA80     		strh	r2, [r3, #6]	@ unaligned
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons((u16_t)(fragsize + IP_HLEN)));
 2310              		.loc 1 861 5
 2311 020e 7B8D     		ldrh	r3, [r7, #42]	@ movhi
 2312 0210 1433     		adds	r3, r3, #20
 2313 0212 9BB2     		uxth	r3, r3
 2314 0214 1846     		mov	r0, r3
 2315 0216 FFF7FEFF 		bl	lwip_htons
 2316 021a 0346     		mov	r3, r0
 2317 021c 1A46     		mov	r2, r3
 2318 021e 3B6B     		ldr	r3, [r7, #48]
 2319 0220 5A80     		strh	r2, [r3, #2]	@ unaligned
 862:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(iphdr, 0);
ARM GAS  /tmp/cc4WdnkV.s 			page 58


 2320              		.loc 1 862 5
 2321 0222 3B6B     		ldr	r3, [r7, #48]
 2322 0224 0022     		movs	r2, #0
 2323 0226 9A72     		strb	r2, [r3, #10]
 2324 0228 0022     		movs	r2, #0
 2325 022a DA72     		strb	r2, [r3, #11]
 863:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 865:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, IP_HLEN));
 866:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 867:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 868:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 869:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* No need for separate header pbuf - we allowed room for it in rambuf
 870:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * when allocated.
 871:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 872:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     netif->output(netif, rambuf, dest);
 2326              		.loc 1 872 10
 2327 022c BB68     		ldr	r3, [r7, #8]
 2328 022e 5B69     		ldr	r3, [r3, #20]
 2329              		.loc 1 872 5
 2330 0230 7A68     		ldr	r2, [r7, #4]
 2331 0232 796A     		ldr	r1, [r7, #36]
 2332 0234 B868     		ldr	r0, [r7, #8]
 2333 0236 9847     		blx	r3
 2334              	.LVL0:
 873:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Unfortunately we can't reuse rambuf - the hardware may still be
 876:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * using the buffer. Instead we free it (and the ensuing chain) and
 877:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * recreate it next time round the loop. If we're lucky the hardware
 878:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * will have already sent the packet, the free will really free, and
 879:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * there will be zero memory penalty.
 880:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 881:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 882:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(rambuf);
 2335              		.loc 1 882 5
 2336 0238 786A     		ldr	r0, [r7, #36]
 2337 023a FFF7FEFF 		bl	pbuf_free
 883:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left = (u16_t)(left - fragsize);
 2338              		.loc 1 883 10
 2339 023e B7F84220 		ldrh	r2, [r7, #66]	@ movhi
 2340 0242 7B8D     		ldrh	r3, [r7, #42]	@ movhi
 2341 0244 D31A     		subs	r3, r2, r3
 2342 0246 A7F84230 		strh	r3, [r7, #66]	@ movhi
 884:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo = (u16_t)(ofo + nfb);
 2343              		.loc 1 884 9
 2344 024a B7F84020 		ldrh	r2, [r7, #64]	@ movhi
 2345 024e 7B8F     		ldrh	r3, [r7, #58]	@ movhi
 2346 0250 1344     		add	r3, r3, r2
 2347 0252 A7F84030 		strh	r3, [r7, #64]	@ movhi
 2348              	.L136:
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Fill this fragment */
 2349              		.loc 1 774 9
 2350 0256 B7F84230 		ldrh	r3, [r7, #66]
 2351 025a 002B     		cmp	r3, #0
 2352 025c 7FF419AF 		bne	.L148
 885:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
ARM GAS  /tmp/cc4WdnkV.s 			page 59


 886:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragoks);
 887:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_OK;
 2353              		.loc 1 887 10
 2354 0260 0023     		movs	r3, #0
 2355 0262 02E0     		b	.L134
 2356              	.L149:
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 2357              		.loc 1 802 7
 2358 0264 00BF     		nop
 2359              	.L138:
 888:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** memerr:
 889:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragfails);
 890:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_MEM;
 2360              		.loc 1 890 10
 2361 0266 4FF0FF33 		mov	r3, #-1
 2362              	.L134:
 891:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 2363              		.loc 1 891 1
 2364 026a 1846     		mov	r0, r3
 2365 026c 4837     		adds	r7, r7, #72
 2366              	.LCFI50:
 2367              		.cfi_def_cfa_offset 8
 2368 026e BD46     		mov	sp, r7
 2369              	.LCFI51:
 2370              		.cfi_def_cfa_register 13
 2371              		@ sp needed
 2372 0270 80BD     		pop	{r7, pc}
 2373              	.L151:
 2374 0272 00BF     		.align	2
 2375              	.L150:
 2376 0274 00000000 		.word	.LC0
 2377 0278 D8010000 		.word	.LC17
 2378 027c 44000000 		.word	.LC2
 2379 0280 F4010000 		.word	.LC18
 2380 0284 14020000 		.word	.LC19
 2381 0288 00000000 		.word	ipfrag_free_pbuf_custom
 2382              		.cfi_endproc
 2383              	.LFE143:
 2385              		.text
 2386              	.Letext0:
 2387              		.file 2 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/machine/_default_typ
 2388              		.file 3 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_stdint.h"
 2389              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 2390              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 2391              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 2392              		.file 7 "/home/mego-ros2/microros_ws/firmware/toolchain/lib/gcc/arm-none-eabi/8.3.1/include/stddef
 2393              		.file 8 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/_types.h"
 2394              		.file 9 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/reent.h"
 2395              		.file 10 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/sys/lock.h"
 2396              		.file 11 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/stdlib.h"
 2397              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 2398              		.file 13 "/home/mego-ros2/microros_ws/firmware/toolchain/arm-none-eabi/include/ctype.h"
 2399              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 2400              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 2401              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 2402              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 2403              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
ARM GAS  /tmp/cc4WdnkV.s 			page 60


 2404              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 2405              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 2406              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 2407              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 2408              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
 2409              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
ARM GAS  /tmp/cc4WdnkV.s 			page 61


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ip4_frag.c
     /tmp/cc4WdnkV.s:18     .bss.reassdatagrams:0000000000000000 $d
     /tmp/cc4WdnkV.s:21     .bss.reassdatagrams:0000000000000000 reassdatagrams
     /tmp/cc4WdnkV.s:24     .bss.ip_reass_pbufcount:0000000000000000 $d
     /tmp/cc4WdnkV.s:27     .bss.ip_reass_pbufcount:0000000000000000 ip_reass_pbufcount
     /tmp/cc4WdnkV.s:30     .text.ip_reass_tmr:0000000000000000 $t
     /tmp/cc4WdnkV.s:38     .text.ip_reass_tmr:0000000000000000 ip_reass_tmr
     /tmp/cc4WdnkV.s:151    .text.ip_reass_free_complete_datagram:0000000000000000 ip_reass_free_complete_datagram
     /tmp/cc4WdnkV.s:120    .text.ip_reass_tmr:0000000000000054 $d
     /tmp/cc4WdnkV.s:125    .rodata:0000000000000000 $d
     /tmp/cc4WdnkV.s:145    .text.ip_reass_free_complete_datagram:0000000000000000 $t
     /tmp/cc4WdnkV.s:647    .text.ip_reass_dequeue_datagram:0000000000000000 ip_reass_dequeue_datagram
     /tmp/cc4WdnkV.s:356    .text.ip_reass_free_complete_datagram:000000000000012c $d
     /tmp/cc4WdnkV.s:367    .text.ip_reass_remove_oldest_datagram:0000000000000000 $t
     /tmp/cc4WdnkV.s:373    .text.ip_reass_remove_oldest_datagram:0000000000000000 ip_reass_remove_oldest_datagram
     /tmp/cc4WdnkV.s:531    .text.ip_reass_remove_oldest_datagram:00000000000000c0 $d
     /tmp/cc4WdnkV.s:536    .text.ip_reass_enqueue_new_datagram:0000000000000000 $t
     /tmp/cc4WdnkV.s:542    .text.ip_reass_enqueue_new_datagram:0000000000000000 ip_reass_enqueue_new_datagram
     /tmp/cc4WdnkV.s:632    .text.ip_reass_enqueue_new_datagram:0000000000000070 $d
     /tmp/cc4WdnkV.s:641    .text.ip_reass_dequeue_datagram:0000000000000000 $t
     /tmp/cc4WdnkV.s:716    .text.ip_reass_dequeue_datagram:000000000000004c $d
     /tmp/cc4WdnkV.s:738    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 $t
     /tmp/cc4WdnkV.s:744    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 ip_reass_chain_frag_into_datagram_and_validate
     /tmp/cc4WdnkV.s:1236   .text.ip_reass_chain_frag_into_datagram_and_validate:00000000000002bc $d
     /tmp/cc4WdnkV.s:1256   .text.ip4_reass:0000000000000000 $t
     /tmp/cc4WdnkV.s:1263   .text.ip4_reass:0000000000000000 ip4_reass
     /tmp/cc4WdnkV.s:1760   .text.ip4_reass:00000000000002fc $d
     /tmp/cc4WdnkV.s:1769   .text.ip4_reass:0000000000000318 $t
     /tmp/cc4WdnkV.s:1791   .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 $t
     /tmp/cc4WdnkV.s:1797   .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 ip_frag_alloc_pbuf_custom_ref
     /tmp/cc4WdnkV.s:1826   .text.ip_frag_free_pbuf_custom_ref:0000000000000000 $t
     /tmp/cc4WdnkV.s:1832   .text.ip_frag_free_pbuf_custom_ref:0000000000000000 ip_frag_free_pbuf_custom_ref
     /tmp/cc4WdnkV.s:1878   .text.ip_frag_free_pbuf_custom_ref:000000000000002c $d
     /tmp/cc4WdnkV.s:1892   .text.ipfrag_free_pbuf_custom:0000000000000000 $t
     /tmp/cc4WdnkV.s:1898   .text.ipfrag_free_pbuf_custom:0000000000000000 ipfrag_free_pbuf_custom
     /tmp/cc4WdnkV.s:1970   .text.ipfrag_free_pbuf_custom:0000000000000058 $d
     /tmp/cc4WdnkV.s:1988   .text.ip4_frag:0000000000000000 $t
     /tmp/cc4WdnkV.s:1995   .text.ip4_frag:0000000000000000 ip4_frag
     /tmp/cc4WdnkV.s:2376   .text.ip4_frag:0000000000000274 $d

UNDEFINED SYMBOLS
printf
memcpy
icmp_time_exceeded
pbuf_clen
pbuf_free
memp_malloc
memset
memp_free
lwip_htons
pbuf_remove_header
pbuf_cat
pbuf_alloc
pbuf_alloced_custom
pbuf_ref
